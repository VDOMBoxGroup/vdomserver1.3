<?xml version="1.0" encoding="utf-8"?>
<Type>
	<Information>
		<Name>htmlcontainer</Name>
		<DisplayName>#Lang(001)</DisplayName>
		<Description>#Lang(002)</Description>
		<ClassName>VDOM_htmlcontainer</ClassName>
		<ID>2330fe83-8cd6-4ed5-907d-11874e7ebcf4</ID>
		<Icon>#Res(135aaf50-6055-4db3-8c14-7d9ac93dd30f)</Icon>
		<EditorIcon>#Res(67a38932-aa05-4c6c-9b20-0398c6a53333)</EditorIcon>
		<StructureIcon>#Res(e33a6604-253c-4723-a7ac-123532bc1a5f)</StructureIcon>
		<Moveable>0</Moveable>
		<Resizable>0</Resizable>
		<Container>3</Container>
		<RenderType>HTML</RenderType>
		<HTTPContentType>text/html</HTTPContentType>
		<Category>Standard</Category>
		<Dynamic>1</Dynamic>
		<Version>2</Version>
		<InterfaceType>1</InterfaceType>
		<OptimizationPriority>1</OptimizationPriority>
		<Containers/>
		<Languages>en_US, ru_RU, fr_FR</Languages>
	</Information>
	<Attributes>
		<Attribute>
			<Name>testClasses</Name>
			<DisplayName>#Lang(009)</DisplayName>
			<DefaultValue />
			<RegularExpressionValidation>.*</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(001)</ErrorValidationMessage>
			<Visible>0</Visible>
			<Help>#Lang(009)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>MultiLine(10000)</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>testFunc</Name>
			<DisplayName>#Lang(010)</DisplayName>
			<DefaultValue />
			<RegularExpressionValidation>.*</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(001)</ErrorValidationMessage>
			<Visible>0</Visible>
			<Help>#Lang(010)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>MultiLine(10000)</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>hierarchy</Name>
			<DisplayName>#Lang(101)</DisplayName>
			<DefaultValue>0</DefaultValue>
			<RegularExpressionValidation>^\d+$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(201)</ErrorValidationMessage>
			<Visible>0</Visible>
			<Help>#Lang(301)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(2)</CodeInterface>
			<Colorgroup>1</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>visible</Name>
			<DisplayName>#Lang(102)</DisplayName>
			<DefaultValue>1</DefaultValue>
			<RegularExpressionValidation>^[01]$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(202)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(302)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>DropDown((#Lang(401)|0)|(#Lang(402)|1))</CodeInterface>
			<Colorgroup>1</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>zindex</Name>
			<DisplayName>#Lang(103)</DisplayName>
			<DefaultValue>0</DefaultValue>
			<RegularExpressionValidation>^\d{1,2}$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(203)</ErrorValidationMessage>
			<Visible>0</Visible>
			<Help>#Lang(303)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(2)</CodeInterface>
			<Colorgroup>1</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>title</Name>
			<DisplayName>#Lang(104)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>^.*$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(204)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(304)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(500)</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>description</Name>
			<DisplayName>#Lang(105)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>^.*$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(205)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(305)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>MultiLine(100)</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>position</Name>
			<DisplayName>#Lang(116)</DisplayName>
			<DefaultValue>left</DefaultValue>
			<RegularExpressionValidation>^(left|center)$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(216)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(316)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>DropDown((#Lang(407)|left)|(#Lang(408)|center))</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>style</Name>
			<DisplayName>#Lang(112)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>.+</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(212)</ErrorValidationMessage>
			<Visible>0</Visible>
			<Help>#Lang(312)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(100)</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>textcolor</Name>
			<DisplayName>#Lang(106)</DisplayName>
			<DefaultValue>000000</DefaultValue>
			<RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(206)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(306)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>Color()</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>linkcolor</Name>
			<DisplayName>#Lang(107)</DisplayName>
			<DefaultValue>000000</DefaultValue>
			<RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(207)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(307)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>Color()</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>activelinkcolor</Name>
			<DisplayName>#Lang(108)</DisplayName>
			<DefaultValue>000000</DefaultValue>
			<RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(208)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(308)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>Color()</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>visitedlinkcolor</Name>
			<DisplayName>#Lang(109)</DisplayName>
			<DefaultValue>000000</DefaultValue>
			<RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(209)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(309)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>Color()</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>bgcolor</Name>
			<DisplayName>#Lang(110)</DisplayName>
			<DefaultValue>FFFFFF</DefaultValue>
			<RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(210)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(310)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>Color()</CodeInterface>
			<Colorgroup>3</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>image</Name>
			<DisplayName>#Lang(111)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>^.*$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(211)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(311)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>File()</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>bgrepeat</Name>
			<DisplayName>#Lang(113)</DisplayName>
			<DefaultValue>repeat</DefaultValue>
			<RegularExpressionValidation>^.+$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(213)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(313)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>DropDown((#Lang(403)|repeat)|(#Lang(404)|no-repeat)|(#Lang(405)|repeat-x)|(#Lang(406)|repeat-y))</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>securitycode</Name>
			<DisplayName>#Lang(114)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>^.*$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(214)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(314)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(100)</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>deniedlink</Name>
			<DisplayName>#Lang(115)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>^.*$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(215)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(315)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>PageLink()</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>metadescription</Name>
			<DisplayName>#Lang(117)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>^.*$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(217)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(317)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>MultiLine(10000)</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>metakeywords</Name>
			<DisplayName>#Lang(118)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>.*</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(218)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(318)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>MultiLine(10000)</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>css</Name>
			<DisplayName>#Lang(119)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>.*</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(219)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(319)</Help>
			<InterfaceType>3</InterfaceType>
			<CodeInterface>MultiLine(10000)</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>cssclass</Name>
			<DisplayName>#Lang(122)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>^.*$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(218)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(322)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>TextField(1000)</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>noscript</Name>
			<DisplayName>#Lang(120)</DisplayName>
			<DefaultValue/>
			<RegularExpressionValidation>.*</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(205)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(320)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>MultiLine(1000)</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
		<Attribute>
			<Name>jqui</Name>
			<DisplayName>#Lang(121)</DisplayName>
			<DefaultValue>1</DefaultValue>
			<RegularExpressionValidation>^[01]$</RegularExpressionValidation>
			<ErrorValidationMessage>#Lang(206)</ErrorValidationMessage>
			<Visible>1</Visible>
			<Help>#Lang(321)</Help>
			<InterfaceType>0</InterfaceType>
			<CodeInterface>DropDown((#Lang(410)|1)|(#Lang(411)|0))</CodeInterface>
			<Colorgroup>2</Colorgroup>
		</Attribute>
	</Attributes>
	<Languages>
		<Language Code="en_US">
			<Sentence ID="001">HTML Container</Sentence>
			<Sentence ID="002">HTML Container</Sentence>
			<Sentence ID="009">testClasses</Sentence>
			<Sentence ID="010">testFunc</Sentence>
			<Sentence ID="101">Hierarchy</Sentence>
			<Sentence ID="102">Visibility</Sentence>
			<Sentence ID="103">Z-index</Sentence>
			<Sentence ID="104">Title</Sentence>
			<Sentence ID="105">Description</Sentence>
			<Sentence ID="106">Text color</Sentence>
			<Sentence ID="107">Link color</Sentence>
			<Sentence ID="108">Active link color</Sentence>
			<Sentence ID="109">Visited link color</Sentence>
			<Sentence ID="110">Background color</Sentence>
			<Sentence ID="111">Background image</Sentence>
			<Sentence ID="112">Style</Sentence>
			<Sentence ID="113">Background repeat</Sentence>
			<Sentence ID="114">Security code</Sentence>
			<Sentence ID="115">Denied link</Sentence>
			<Sentence ID="116">Positioning</Sentence>
			<Sentence ID="117">Meta description</Sentence>
			<Sentence ID="118">Meta keywords</Sentence>
			<Sentence ID="119">CSS</Sentence>
			<Sentence ID="120">NoScript</Sentence>
			<Sentence ID="121">jQuery.UI</Sentence>
			<Sentence ID="122">Class</Sentence>
			<Sentence ID="201">Incorrect value</Sentence>
			<Sentence ID="202">Incorrect value, must be string</Sentence>
			<Sentence ID="203">Incorrect value, must be positive integer</Sentence>
			<Sentence ID="204">Incorrect value, must be positive integer</Sentence>
			<Sentence ID="205">Incorrect value, must be string</Sentence>
			<Sentence ID="206">Incorrect value</Sentence>
			<Sentence ID="207">Incorrect value</Sentence>
			<Sentence ID="208">Incorrect value</Sentence>
			<Sentence ID="209">Incorrect value</Sentence>
			<Sentence ID="210">Incorrect value</Sentence>
			<Sentence ID="211">Incorrect value</Sentence>
			<Sentence ID="212">Incorrect value</Sentence>
			<Sentence ID="213">Incorrect value</Sentence>
			<Sentence ID="214">Incorrect value</Sentence>
			<Sentence ID="215">Incorrect value</Sentence>
			<Sentence ID="216">Incorrect value</Sentence>
			<Sentence ID="217">Incorrect value</Sentence>
			<Sentence ID="218">Incorrect value</Sentence>
			<Sentence ID="219">Incorrect value</Sentence>
			<Sentence ID="301">Show or not object</Sentence>
			<Sentence ID="302">Title of the container</Sentence>
			<Sentence ID="303">Distance from the top edge of the parent object in pixels</Sentence>
			<Sentence ID="304">Distance from the left edge of the parent object in pixels</Sentence>
			<Sentence ID="305">Description of the container</Sentence>
			<Sentence ID="306">Text color</Sentence>
			<Sentence ID="307">Link color</Sentence>
			<Sentence ID="308">Active link color</Sentence>
			<Sentence ID="309">Visited link color</Sentence>
			<Sentence ID="310">Background color</Sentence>
			<Sentence ID="311">Background image</Sentence>
			<Sentence ID="312">Style</Sentence>
			<Sentence ID="313">Background repeat</Sentence>
			<Sentence ID="314">Security code</Sentence>
			<Sentence ID="315">Denied link</Sentence>
			<Sentence ID="316">Positioning</Sentence>
			<Sentence ID="317">Meta description of the page</Sentence>
			<Sentence ID="318">Meta keywords of the page</Sentence>
			<Sentence ID="319">Style sheet of the page</Sentence>
			<Sentence ID="320">NoScript alert</Sentence>
			<Sentence ID="321">Use jQuery.UI</Sentence>
			<Sentence ID="322">CSS class for body</Sentence>
			<Sentence ID="401">Invisible</Sentence>
			<Sentence ID="402">Visible</Sentence>
			<Sentence ID="403">Repeat</Sentence>
			<Sentence ID="404">No-repeat</Sentence>
			<Sentence ID="405">Repeat-X</Sentence>
			<Sentence ID="406">Repeat-Y</Sentence>
			<Sentence ID="407">Left</Sentence>
			<Sentence ID="408">Center</Sentence>
			<Sentence ID="409">Right</Sentence>
			<Sentence ID="410">Yes</Sentence>
			<Sentence ID="411">No</Sentence>
		</Language>
		<Language Code="ru_RU">
			<Sentence ID="001">HTML Контейнер</Sentence>
			<Sentence ID="002">Контейнер</Sentence>
			<Sentence ID="101">Отображение</Sentence>
			<Sentence ID="102">Z-Индекс</Sentence>
			<Sentence ID="103">Верх</Sentence>
			<Sentence ID="104">Заголовок</Sentence>
			<Sentence ID="105">Описание</Sentence>
			<Sentence ID="106">Цвет текста</Sentence>
			<Sentence ID="107">Цвет ссылки</Sentence>
			<Sentence ID="108">Цвет активной ссылки</Sentence>
			<Sentence ID="109">Цвет посещенной ссылки</Sentence>
			<Sentence ID="110">Цвет фона</Sentence>
			<Sentence ID="111">Фоновая картинка</Sentence>
			<Sentence ID="112">Стиль</Sentence>
			<Sentence ID="113">Повторение фоновой картинки</Sentence>
			<Sentence ID="114">Код безопасности</Sentence>
			<Sentence ID="115">Ссылка при отказе</Sentence>
			<Sentence ID="116">Позиционирование</Sentence>
			<Sentence ID="117">Описание</Sentence>
			<Sentence ID="118">Ключевые слова</Sentence>
			<Sentence ID="119">CSS</Sentence>
			<Sentence ID="201">Неправильное значение</Sentence>
			<Sentence ID="202">Неправильное значение, должна быть строка</Sentence>
			<Sentence ID="203">Неправильное значение, должно быть целое положительное число</Sentence>
			<Sentence ID="204">Неправильное значение, должна быть строка</Sentence>
			<Sentence ID="205">Неправильное значение, должна быть строка</Sentence>
			<Sentence ID="206">Неправильное значение</Sentence>
			<Sentence ID="207">Неправильное значение</Sentence>
			<Sentence ID="208">Неправильное значение</Sentence>
			<Sentence ID="209">Неправильное значение</Sentence>
			<Sentence ID="210">Неправильное значение</Sentence>
			<Sentence ID="211">Неправильное значение</Sentence>
			<Sentence ID="212">Неправильное значение</Sentence>
			<Sentence ID="213">Неправильное значение</Sentence>
			<Sentence ID="214">Неправильное значение</Sentence>
			<Sentence ID="215">Неправильное значение</Sentence>
			<Sentence ID="216">Неправильное значение</Sentence>
			<Sentence ID="217">Неправильное значение</Sentence>
			<Sentence ID="218">Неправильное значение</Sentence>
			<Sentence ID="219">Неправильное значение</Sentence>
			<Sentence ID="301">Отображается объект или нет</Sentence>
			<Sentence ID="302">Заголовок контейнера</Sentence>
			<Sentence ID="303">Расстояние от верхней границы родительского контейнера до объекта в пикселях</Sentence>
			<Sentence ID="304">Заголовок контейнера</Sentence>
			<Sentence ID="305">Описание контейнера</Sentence>
			<Sentence ID="306">Цвет текста</Sentence>
			<Sentence ID="307">Цвет ссылки</Sentence>
			<Sentence ID="308">Цвет активной ссылки</Sentence>
			<Sentence ID="309">Цвет посещенной ссылки</Sentence>
			<Sentence ID="310">Цвет фона</Sentence>
			<Sentence ID="311">Фоновая картинка</Sentence>
			<Sentence ID="312">Стиль</Sentence>
			<Sentence ID="313">Способ повторения фоновой картинки</Sentence>
			<Sentence ID="314">Код безопасности</Sentence>
			<Sentence ID="315">Ссылка при отказе</Sentence>
			<Sentence ID="316">Позиционирование</Sentence>
			<Sentence ID="317">Описание документа для поисковых систем</Sentence>
			<Sentence ID="318">Ключевые слова документа для поисковых систем</Sentence>
			<Sentence ID="319">Таблицы стилей для страницы</Sentence>
			<Sentence ID="401">Не отображается</Sentence>
			<Sentence ID="402">Отображается</Sentence>
			<Sentence ID="403">Повторять</Sentence>
			<Sentence ID="404">Не повторять</Sentence>
			<Sentence ID="405">Повторять по X</Sentence>
			<Sentence ID="406">Повторять по Y</Sentence>
		</Language>
		<Language Code="fr_FR">
			<Sentence ID="001">Conteneur HTML</Sentence>
			<Sentence ID="002">Conteneur HTML</Sentence>
			<Sentence ID="101">Hiérarchie</Sentence>
			<Sentence ID="102">Visibilité</Sentence>
			<Sentence ID="103">Z-index</Sentence>
			<Sentence ID="104">Titre</Sentence>
			<Sentence ID="105">Description</Sentence>
			<Sentence ID="106">Couleur Texte</Sentence>
			<Sentence ID="107">Couleur liens</Sentence>
			<Sentence ID="108">Couleur Liens Actif</Sentence>
			<Sentence ID="109">Couleur Liens Visités</Sentence>
			<Sentence ID="110">Couleur de fond</Sentence>
			<Sentence ID="111">Image de fond</Sentence>
			<Sentence ID="112">Style</Sentence>
			<Sentence ID="113">Répéter l'image de fond</Sentence>
			<Sentence ID="114">Code de securité</Sentence>
			<Sentence ID="115">Lien refusé </Sentence>
			<Sentence ID="116">Position</Sentence>
			<Sentence ID="117">Meta description</Sentence>
			<Sentence ID="118">Meta keywords</Sentence>
			<Sentence ID="201">Incorrect value</Sentence>
			<Sentence ID="202">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
			<Sentence ID="203">Valeur Incorrecte, doit être positive</Sentence>
			<Sentence ID="204">Valeur Incorrecte, doit être positive</Sentence>
			<Sentence ID="205">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
			<Sentence ID="206">Valeur Incorrecte</Sentence>
			<Sentence ID="207">Valeur Incorrecte</Sentence>
			<Sentence ID="208">Valeur Incorrecte</Sentence>
			<Sentence ID="209">Valeur Incorrecte</Sentence>
			<Sentence ID="210">Valeur Incorrecte</Sentence>
			<Sentence ID="211">Valeur Incorrecte</Sentence>
			<Sentence ID="212">Valeur Incorrecte</Sentence>
			<Sentence ID="213">Valeur Incorrecte</Sentence>
			<Sentence ID="214">Valeur Incorrecte</Sentence>
			<Sentence ID="215">Valeur Incorrecte</Sentence>
			<Sentence ID="216">Valeur Incorrecte</Sentence>
			<Sentence ID="217">Valeur Incorrecte</Sentence>
			<Sentence ID="218">Valeur Incorrecte</Sentence>
			<Sentence ID="301">Afficher ou cacher l'objet</Sentence>
			<Sentence ID="302">Titre du conteneur</Sentence>
			<Sentence ID="303">Distance depuis le bord haut de l'objet parent en pixels</Sentence>
			<Sentence ID="304">Distance depuis le bord gauche de l'objet parent en pixels</Sentence>
			<Sentence ID="305">Description du container</Sentence>
			<Sentence ID="306">Couleur par défaut du texte de la page</Sentence>
			<Sentence ID="307">Couleur par défaut des liens de la page</Sentence>
			<Sentence ID="308">Couleur par défaut des liens Actifs de la page</Sentence>
			<Sentence ID="309">Couleur par défaut des liens Visité de la page</Sentence>
			<Sentence ID="310">Couleur d'arrière plan de la page</Sentence>
			<Sentence ID="311">Image d'arrière plan de la page</Sentence>
			<Sentence ID="312">Style</Sentence>
			<Sentence ID="313">Répéter ou non l'image d'arrière plan sous forme de mosaïque</Sentence>
			<Sentence ID="314">Code de Securité</Sentence>
			<Sentence ID="315">Lien refusé</Sentence>
			<Sentence ID="316">Position du container à l'intèrieur de la fenetre du navigateur</Sentence>
			<Sentence ID="317">Meta description de la page</Sentence>
			<Sentence ID="318">Meta keywords de la page</Sentence>
			<Sentence ID="401">Invisible</Sentence>
			<Sentence ID="402">Visible</Sentence>
			<Sentence ID="403">Répéter</Sentence>
			<Sentence ID="404">Ne pas répéter</Sentence>
			<Sentence ID="405">Répéter-horizontal</Sentence>
			<Sentence ID="406">Répéter-vertical</Sentence>
			<Sentence ID="407">Gauche</Sentence>
			<Sentence ID="408">Centrer</Sentence>
			<Sentence ID="409">Droite</Sentence>
		</Language>
	</Languages>
	<Resources>
		<Resource ID="135aaf50-6055-4db3-8c14-7d9ac93dd30f" Name="Icon" Type="png">
			<![CDATA[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]]>
		</Resource>
		<Resource ID="67a38932-aa05-4c6c-9b20-0398c6a53333" Name="Icon" Type="jpg">
			<![CDATA[/9j/4AAQSkZJRgABAgEASABIAAD/7QUaUGhvdG9zaG9wIDMuMAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQNAAAAAAAEAAAAeDhCSU0D8wAAAAAACAAAAAAAAAAAOEJJTQQKAAAAAAABAAA4QklNJxAAAAAAAAoAAQAAAAAAAAACOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBBQAAAAAAAQAAAADOEJJTQQMAAAAAAOKAAAAAQAAABgAAAAYAAAASAAABsAAAANuABgAAf/Y/+AAEEpGSUYAAQIBAEgASAAA/+4ADkFkb2JlAGSAAAAAAf/bAIQADAgICAkIDAkJDBELCgsRFQ8MDA8VGBMTFRMTGBEMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAENCwsNDg0QDg4QFA4ODhQUDg4ODhQRDAwMDAwREQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgAGAAYAwEiAAIRAQMRAf/dAAQAAv/EAT8AAAEFAQEBAQEBAAAAAAAAAAMAAQIEBQYHCAkKCwEAAQUBAQEBAQEAAAAAAAAAAQACAwQFBgcICQoLEAABBAEDAgQCBQcGCAUDDDMBAAIRAwQhEjEFQVFhEyJxgTIGFJGhsUIjJBVSwWIzNHKC0UMHJZJT8OHxY3M1FqKygyZEk1RkRcKjdDYX0lXiZfKzhMPTdePzRieUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9jdHV2d3h5ent8fX5/cRAAICAQIEBAMEBQYHBwYFNQEAAhEDITESBEFRYXEiEwUygZEUobFCI8FS0fAzJGLhcoKSQ1MVY3M08SUGFqKygwcmNcLSRJNUoxdkRVU2dGXi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]]>
		</Resource>
		<Resource ID="e33a6604-253c-4723-a7ac-123532bc1a5f" Name="Icon" Type="png">
			<![CDATA[iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgFQTFRF8vLy+/v7m5uby8vK2dnZ/f398fLyo6Ojvb283t7d7+/v3d3c1iYA0NHQ2djY3NzbqRYAh5inyMjJiKS/q6urx8bF1dXVwsPBAGjHcH9ufKV84kIdhISEAGMBc01QjT841SsChj0x4+TjB2jFlBQA2traLV8t3N3du7u7NCM7sJmVV7ovrBwEFFQK5OTkPKspZKncI22wMX4x297gplZIuLi4jlRM9Pb0j797xSYBA2G57OzsUrYpzMvMKcHZPZQhysnKAG8AZZJ2lMqUndCdfGRfH6PFm7Wb4+PjD18I/fv7tbW0bnE8UyYx7fXq6m5OYYlg5+bmNGI0UBoe+PLx0tTWzs7NElVX39/exsbGsbGxx7Ctx8fGysrK5eXk7kwlqJeTpicPwsLCra2t6ToQPHk8oqKhsc6t8/Pz4d3cOFk3LG26Am/R9/f3i4uLsFFAG1AT0dnTozch9PT019fWX5JfX6ZRjqWzaCIH5OTj6OjohKPDFWGx/P381CYEW53Ml6aWKGhKo6OisLCw0dHQoSIKnBoDfqF+09PSVaxCyDgas7Kxy8LBFIfAnFBBAIQAG6LYKIoo393c2NjXwkQpth8Ap6eoGW5BwcHB4N/f/Pz8nJycuTES4pmGyMfHsrex3VIyElWYubm5yMjIJpcY6urp6tLNtx0A09TV8PDv////biqk6gAAAKt0Uk5T//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8Atyo9bAAAAPBJREFUeNpiWAUGcczMlRAWA5gIK2Fcxd9SDBPw5lgkkhSlx940mREksDQmjb15BosMU55pBgcXUKDDdhrL4lixZCaN2Q6RnEABVYbAFWyrWFf5pQt5rIwACkwKWbVMq8drlcUSl1XWIBVz/ePruvLlfbT1+53N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]]>
		</Resource>
		<Resource ID="1b055baa-6376-4582-b527-1ee364c19e88" Name="vdom_classes" Type="js">
			<![CDATA[LyogdmRvbV9jbGFzc2VzIC8gbG1kOiAyMDExLTAxLTA4ICovCgovLyBkcmFnCnZhciBkcmFnX2N1cnJlbnRfb2JqID0gbnVsbDsKdmFyIGRyYWdfY3VycmVudF9ldmVudCA9IG51bGw7CnZhciBkcmFnX21vdXNlX2Rvd24gPSBmYWxzZTsKdmFyIGRyYWdfbGFzdE1vdXNlWCA9IDA7CnZhciBkcmFnX2xhc3RNb3VzZVkgPSAwOwp2YXIgZHJhZ19tYXhNb3VzZVggPSAwOwp2YXIgZHJhZ19tYXhNb3VzZVkgPSAwOwp2YXIgZHJhZ19taW5Nb3VzZVggPSAwOwp2YXIgZHJhZ19taW5Nb3VzZVkgPSAwOwoKLy8gYm9yZGVyCnZhciBib3JkZXJfbGFzdCA9ICcnOwp2YXIgY29ybmVyX2xhc3QgPSAnJzsKCnZhciBoaWdoZXN0WmluZGV4ID0gMDsKCi8qKgogKiBERUNMQVJFIEZVTkNUSU9OUwogKi8KCkFycmF5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkKewogIHJlc3VsdCA9ICIiOwogIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICByZXN1bHQgKz0gdGhpc1tpXSArIiwgIjsKICB9CiAgaWYgKHJlc3VsdCAhPT0gIiIpIHsKICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCAtMik7CiAgfSByZXR1cm4gcmVzdWx0Owp9OwoKLyoqCiAqIENyZWF0ZXMgSUZyYW1lIGZvciByZWNlaXZpbmcgZGF0YQogKi8KZnVuY3Rpb24gZ2V0SUZyYW1lKCkKewogIGRvYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZnJfbG9hZGVyJyk7CiAgaWYgKCFkb2MpIHsKICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGRpdi5pbm5lckhUTUwgPSAnPGlmcmFtZSBzdHlsZT0iZGlzcGxheTpub25lIiBzcmM9ImFib3V0OmJsYW5rIiBpZD0iaWZyX2xvYWRlciIgbmFtZT0iaWZyX2xvYWRlciIgb25sb2FkPSJzZW5kQ29tcGxldGUoXCdpZnJfbG9hZGVyXCcpIj48L2lmcmFtZT4nOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwogICAgZG9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lmcl9sb2FkZXInKTsKICB9CiAgcmV0dXJuIGRvYzsKfQoKZnVuY3Rpb24gZ2V0Rm9ybShkYXRhKQp7CiAgZG9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fc2VuZGVyJyk7CiAgaWYgKCFkb2MpIHsKICAgIHZhciBmcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIik7CiAgICBmcm0uaWQgPSAnZm9ybV9zZW5kZXInOwogICAgZnJtLm5hbWUgPSAnZm9ybV9zZW5kZXInOwogICAgZnJtLm1ldGhvZCA9ICJwb3N0IjsKICAgIGZybS5lbmN0eXBlID0gIm11bHRpcGFydC9mb3JtLWRhdGEiOwpmcm0udGFyZ2V0ID0gJ2lmcl9sb2FkZXInOyAvLyEhIQogICAgZnJtLmFjdGlvbiA9IFNFUlZFUl9VUkw7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZybSk7CiAgICBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9zZW5kZXInKTsKICAgIGRhdGFGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgZGF0YUZpZWxkLmlubmVySFRNTCA9ICc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJkYXRhZmllbGQiIHZhbHVlPSInK2RhdGErJyI+JzsKICAgIGRvYy5hcHBlbmRDaGlsZChkYXRhRmllbGQpOwogIH0KICByZXR1cm4gZG9jOwp9CgovKioKICogcmV0dXJucyBhIHJlZmVyZW5jZSB0byByZWNlaXZlZCBkb2N1bWVudAogKi8KZnVuY3Rpb24gZ2V0SUZyYW1lWE1MKGlmcmFtZSkKewogIC8vdmFyIGRvYyA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OwogIHZhciBkb2MgPSBpZnJhbWUuY29udGVudERvY3VtZW50OwogIGlmICghZG9jICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7IGRvYyA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OyB9CiAgaWYgKCFkb2MpIHsgZG9jPXdpbmRvdy5mcmFtZXNbaWZyYW1lLmlkXS5kb2N1bWVudDsgfQogIGlmICghZG9jKSB7IHJldHVybiBudWxsOyB9CiAgaWYgKGRvYy5sb2NhdGlvbiA9PSAiYWJvdXQ6YmxhbmsiKSB7IHJldHVybiBudWxsOyB9CiAgaWYgKGRvYy5YTUxEb2N1bWVudCkgeyBkb2MgPSBkb2MuWE1MRG9jdW1lbnQ7IH0KICByZXR1cm4gZG9jOwp9CgovKioKICogc2VuZCBmb3JtIHdpdGggZGF0YQogKiBAZGF0YSAtIGEgc3RyaW5nIHRvIHNlbmQKICogQGZ1bmMgLSBjYWxsIGJhY2sgZnVuY3Rpb24sIGNhbGxlZCB3aGVuIGFuc3dlciByZWNlaXZlZAogKi8KZnVuY3Rpb24gc2VuZEZvcm0oZGF0YSwgZnVuYykKewogIGlmICghZG9jdW1lbnQuY3JlYXRlRWxlbWVudCkgeyByZXR1cm47IH0gLy8gbm90IHN1cHBvcnRlZAogIHZhciBmcmFtZSA9IGdldElGcmFtZSgpOwogIHZhciBmb3JtID0gZ2V0Rm9ybShkYXRhKTsKICBpZiAodHlwZW9mKGZvcm0pPT0ic3RyaW5nIikgeyBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9ybSk7IH0KICBmcmFtZS5vblNlbmRDb21wbGV0ZSA9IGZ1bmN0aW9uKCkgeyBmdW5jKGdldElGcmFtZVhNTChmcmFtZSkpOyB9OwovLyAgZm9ybS5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsIGZyYW1lLmlkKTsKICBmb3JtLnN1Ym1pdCgpOwogIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZm9ybSk7Cn0KCi8qKgogKiBmdW5jdGlvbiBsaW5rZWQgdG8gb25sb2FkIGV2ZW4gb2YgSUZyYW1lCiAqLwpmdW5jdGlvbiBzZW5kQ29tcGxldGUoaWQpCnsKICB2YXIgaWZyYW1lPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICBpZiAoaWZyYW1lLm9uU2VuZENvbXBsZXRlICYmIHR5cGVvZihpZnJhbWUub25TZW5kQ29tcGxldGUpID09ICdmdW5jdGlvbicpIHsgaWZyYW1lLm9uU2VuZENvbXBsZXRlKCk7IH0KfQoKLyoqCiAqIGJpbmRzIGEgZnVuY3Rpb24gdG8gY29udGV4dCBvYmplY3QKICogdXNlZCBmb3Igc2VuZGluZyBhIERPTSBlbGVtZW50IGFzIGEgY29udGV4dCB0byBldmVudCBmdW5jdGlvbgogKi8KZnVuY3Rpb24gYmluZChvYmosIGZ1bmMpCnsKICByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZ1bmMuYXBwbHkob2JqLCBhcmd1bWVudHMpOyB9Owp9CgovKioKICogQWxlcnRzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QgKGZvciBkZWJ1ZykKICovCmZ1bmN0aW9uIHNob3dfcHJvcHMob2JqLCBjb3VudCkKewogIGlmIChvYmogPT09IG51bGwpIHsKICAgIGFsZXJ0KCdzaG93X3Byb3BzOiB0aGUgb2JqZWN0IGlzIG51bGwnKTsKICAgIHJldHVybjsKICB9IGVsc2UgewogICAgdmFyIGksIHJlc3VsdCA9ICIiLCBjbnQgPSAxLCBudW0gPSAxOwogICAgY291bnQgPSBjb3VudCB8fCAtMTsKICAgIGZvciAoaSBpbiBvYmopIHsKICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkgewogICAgICAgIHJlc3VsdCArPSBudW0gKyAiLiAiICsgaSArICIgPSAiICsgb2JqW2ldICsgIlxuIjsKICAgICAgICBjbnQrKzsKICAgICAgICBudW0rKzsKICAgICAgICBpZiAoY250ID09IGNvdW50KSB7CiAgICAgICAgICBhbGVydChyZXN1bHQpOwogICAgICAgICAgY250ID0gMTsKICAgICAgICAgIHJlc3VsdCA9ICIiOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgaWYgKHJlc3VsdCAhPSAiIikgeyBhbGVydChyZXN1bHQpOyB9CiAgfQp9CgovKioKICogdmRvbVJlZ2lzdGVyRXZlbnRMaXN0ZW5lcgogKiBhdHRhY2hlcyBhbiBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiB0byBET00gb2JqZWN0CiAqIEB2ZG9tICAgICAgICAgICAgcmVmZXJlbmNlIHRvIGEgVkRPTSBvYmplY3QKICogQGVUeXBlICAgICAgICAgICBzdHJpbmcsIHJlcHJlc2VudGluZyBhbiBldmVudChvbmxvYWQsIG9ubW91c2Vkb3duLCBldGMpCiAqIEBlTGlzdGVuZXIgICAgICAgZnVuY3Rpb24gdG8gYmUgYXR0YWNoZWQKICogQHVzZUNhcHR1cmUgICAgICBldmVudHMgbXVzdCBiZSBjYXB0dXJlZCBhdCBkZXNjZW5kaW5nIHBoYXNlCiAqLwpmdW5jdGlvbiB2ZG9tUmVnaXN0ZXJFdmVudExpc3RlbmVyKHZkb20sIGVUeXBlLCBlTGlzdGVuZXIsIHVzZUNhcHR1cmUpCnsKICBvYmogPSB2ZG9tLmRvbUNvbnQ7CiAgZVR5cGUgPSBlVHlwZS50b0xvd2VyQ2FzZSgpOwoKICBpZiAoIC9vcGVyYS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpICkgewogICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoZVR5cGUsIGJpbmQodmRvbSwgZUxpc3RlbmVyKSwgZmFsc2UpOwogIH0gZWxzZSBpZiAob2JqLmF0dGFjaEV2ZW50KSB7IC8vaWUKICAgIG9iai5hdHRhY2hFdmVudCgnb24nK2VUeXBlLCBiaW5kKHZkb20sIGVMaXN0ZW5lcikpOwogIH0gZWxzZSBpZiAob2JqLmFkZEV2ZW50TGlzdGVuZXIpIHsgLy90cnVlIGJyb3dzZXJzCiAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcihlVHlwZSwgYmluZCh2ZG9tLCBlTGlzdGVuZXIpLCB1c2VDYXB0dXJlKTsKICB9CgovLyAgalF1ZXJ5KG9iaikuYmluZCggZVR5cGUsIGJpbmQodmRvbSwgZUxpc3RlbmVyKSApOwp9CgovKioKICogREVDTEFSRSBDTEFTU0VTCiAqLwoKLyoqCiAqIFZET01fRXZlbnRMaW5rIGRlY2xhcmF0aW9uCiAqLwpmdW5jdGlvbiBWRE9NX0V2ZW50TGluayhldnRTcmMsIGFjdFRndCkKewogIHRoaXMuZXZlbnRTcmMgPSBldnRTcmM7CiAgdGhpcy5hY3Rpb25UZ3QgPSBhY3RUZ3Q7Cn0KCi8qKgogKiBWRE9NX0V2ZW50RGlzcGF0Y2hlciBkZWNsYXJhdGlvbgogKi8KZnVuY3Rpb24gVkRPTV9FdmVudERpc3BhdGNoZXIoKQp7Ci8vICB0aGlzLmV2ZW50QXJyYXkgPSBuZXcgQXJyYXkoKTsKICB0aGlzLmV2ZW50QXJyYXkgPSBbXTsKfQoKVkRPTV9FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmFkZERpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbihldmVudFNyYywgYWN0aW9uVGd0KQp7CiAgLy9ldmVudFNyYyBtdXN0IGJlIGluICI6IiBub3RhdGlvbiBsaWtlIG9iamVjdG5hbWU6ZXZlbnRuYW1lIC0gKGkuZSB2ZG9tb2JqMTptb3VzZXVwKQogIC8vYWN0aW9uVGd0IG11c3QgYmUgaW4gIjoiIG5vdGF0aW9uIGFsc28KICBmb3IgKHZhciBpPTA7aTx0aGlzLmV2ZW50QXJyYXkubGVuZ3RoO2krKykgewogICAgaWYgKHRoaXMuZXZlbnRBcnJheVtpXS5ldmVudFNyYyA9PSBldmVudFNyYyAmJiB0aGlzLmV2ZW50QXJyYXlbaV0uYWN0aW9uVGd0ID09IGFjdGlvblRndCkgewogICAgICByZXR1cm47CiAgICB9CiAgfQogIHZhciBldnRMaW5rID0gbmV3IFZET01fRXZlbnRMaW5rKGV2ZW50U3JjLCBhY3Rpb25UZ3QpOwogIHRoaXMuZXZlbnRBcnJheS5wdXNoKGV2dExpbmspOwp9OwoKLy9QdXRzIGFsbCB0aGUgYWN0aW9ucywgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBldmVudFNyYyBpbnRvIGFjdExpc3QgYXJyYXkKVkRPTV9FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmdldEFjdGlvbkxpc3QgPSBmdW5jdGlvbihlU3JjKQp7CiAgdmFyIGFjdExpc3QgPSBbXTsKICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZXZlbnRBcnJheS5sZW5ndGg7IGkrKykgewogICAgaWYgKHRoaXMuZXZlbnRBcnJheVtpXS5ldmVudFNyYyA9PSBlU3JjKSB7CiAgICAgIGFjdExpc3QucHVzaCh0aGlzLmV2ZW50QXJyYXlbaV0uYWN0aW9uVGd0KTsKICAgIH0KICB9CiAgcmV0dXJuIGFjdExpc3Q7Cn07CgovKioKICogVkRPTV9FdmVudEVuZ2luZSBkZWNsYXJhdGlvbgogKi8KZnVuY3Rpb24gVkRPTV9FdmVudEVuZ2luZShBRGlzcGF0Y2hlciwgQVF1ZXVlKQp7CiAgdGhpcy5ldmVudERpc3BhdGNoZXIgPSBBRGlzcGF0Y2hlcjsKICB0aGlzLkFjdGl2ZSA9IGZhbHNlOwogIHRoaXMuRXZ0UXVldWUgPSBBUXVldWU7Cn0KClZET01fRXZlbnRFbmdpbmUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKQp7CiAgdGhpcy5BY3RpdmUgPSB0cnVlOwp9OwoKVkRPTV9FdmVudEVuZ2luZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkKewogIHRoaXMuQWN0aXZlID0gZmFsc2U7Cn07CgpWRE9NX0V2ZW50RW5naW5lLnByb3RvdHlwZS5zZW5kVG9TZXJ2ZXIgPSBmdW5jdGlvbihldm50KQp7CiAgLy9ldm50IC0gVkRPTV9ldmVudCBvYmplY3QKICBpZiAoIXRoaXMuQWN0aXZlKSB7IHJldHVybiBmYWxzZTsgfQogIGlmICghdGhpcy5FdnRRdWV1ZSkgeyByZXR1cm4gZmFsc2U7IH0KICB0aGlzLkV2dFF1ZXVlLmFkZEV2ZW50KGV2bnQpOwp9OwoKVkRPTV9FdmVudEVuZ2luZS5wcm90b3R5cGUucGFyc2VQYXJhbXMgPSBmdW5jdGlvbih2ZG9tRXZlbnQsIHBhcmFtU3RyLCBwYXJhbUFycmF5KQp7CiAgaWYgKHBhcmFtU3RyID09ICIiKSB7IHJldHVybjsgfQogIGlmIChwYXJhbVN0ciA9PSAiKCkiKSB7IHJldHVybjsgfQogIHBhcmFtU3RyID0gcGFyYW1TdHIucmVwbGFjZSgvXlwoL2csICIiKTsKICBwYXJhbVN0ciA9IHBhcmFtU3RyLnJlcGxhY2UoL1wpJC9nLCAiIik7CiAgdGVtcEFycmF5ID0gcGFyYW1TdHIuc3BsaXQoJywnKTsKICBmb3IgKGk9MDtpPHRlbXBBcnJheS5sZW5ndGg7aSsrKSB7CiAgICBjdXJfcGFyYW0gPSB0ZW1wQXJyYXlbaV07CiAgICBjdXJfcGFyYW0gPSBjdXJfcGFyYW0ucmVwbGFjZSgvXlxzK3xccyskL2csICIiKTsvL3RyaW0gc3BhY2VzCiAgICBldnRfcGFyYW0gPSBmdW5jdGlvbiAocGFyYW1fbmFtZSkgewogICAgICBpZiAocGFyYW1fbmFtZSA9PSAiZXZ0X25hbWUiKSB7CiAgICAgICAgcmV0dXJuIHZkb21FdmVudC5uYW1lOwogICAgICB9IGVsc2UgaWYgKHBhcmFtX25hbWUgPT0gImV2dF9zcmMiKSB7CiAgICAgICAgcmV0dXJuIHZkb21FdmVudC5zcmNPYmo7CiAgICAgIH0gZWxzZSBpZiAocGFyYW1fbmFtZSA9PSAiZXZ0X3JlZiIpIHsKICAgICAgICByZXR1cm4gdmRvbUV2ZW50OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB2ZG9tRXZlbnQucGFyYW1CeU5hbWUocGFyYW1fbmFtZSk7CiAgICAgIH0KICAgIH07CgkJaWYgKGN1cl9wYXJhbSAhPSAnKCknKSB7CiAgICAgIHBhcmFtQXJyYXkucHVzaChldmFsKGN1cl9wYXJhbSkpOwogICAgfQogIH0KfTsKClZET01fRXZlbnRFbmdpbmUucHJvdG90eXBlLnByb2Nlc3NFdmVudCA9IGZ1bmN0aW9uKGV2bnQpCnsKICAvL2V2bnQgaGFzIHR5cGUgb2YgVkRPTV9FdmVudAogIGlmICghdGhpcy5BY3RpdmUpIHsgcmV0dXJuIGZhbHNlOyB9Ci8vICB2YXIgYWN0TGlzdCA9IG5ldyBBcnJheSgpOwogIHZhciBhY3RMaXN0ID0gdGhpcy5ldmVudERpc3BhdGNoZXIuZ2V0QWN0aW9uTGlzdChldm50LmdldEV2ZW50U3RyKCkpOwogIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0TGlzdC5sZW5ndGg7IGkrKykgewogICAgYWN0X3N0ciA9IGFjdExpc3RbaV07CiAgICBkcmFnX2N1cnJlbnRfZXZlbnQgPSBldm50OwogICAgc3dpdGNoIChhY3Rfc3RyKSB7CiAgICAgIGNhc2UgInNlcnZlciI6CiAgICAgICAgdGhpcy5zZW5kVG9TZXJ2ZXIoZXZudCk7CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhpcy5leGVjdXRlQWN0aW9uKGFjdF9zdHIsIGV2bnQpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KfTsKCi8qKgogKiBWRE9NX1BhcmFtIGRlY2xhcmF0aW9uCiAqLwpmdW5jdGlvbiBWRE9NX1BhcmFtKG5hbWUsIHZhbHVlKQp7CiAgdGhpcy5OYW1lID0gbmFtZTsKICB0aGlzLlZhbHVlID0gdmFsdWU7Cn0KCi8qKgogKiBWRE9NX0V2ZW50IGRlY2xhcmF0aW9uCiAqLwpmdW5jdGlvbiBWRE9NX0V2ZW50KCkKewogIHRoaXMuc3JjT2JqID0gIiI7ICAgICAgICAgICAgICAgLy9GaWVsZCBjb250YWlucyBhIHJlZmVyZW5jZSB0byBET00gb2JqZWN0IChub3QgaWQpCiAgdGhpcy5uYW1lID0gIiI7ICAgICAgICAgICAgICAgICAvL0ZpZWxkIGNvbnRhaW5zIGEgc3RyaW5nIC0gbmFtZSBvZiBldmVudAovLyAgdGhpcy5wYXJhbWV0ZXJzID0gbmV3IEFycmF5KCk7ICAvL09idmlvdXNseSB0aGlzIGlzIGFycmF5IG9mIHBhcmFtZXRlcnMKICB0aGlzLnBhcmFtZXRlcnMgPSBbXTsKfQoKVkRPTV9FdmVudC5wcm90b3R5cGUuYWRkUGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpCnsKICB2YXIgcGFyYW0gPSBuZXcgVkRPTV9QYXJhbShuYW1lLCB2YWx1ZSk7CiAgdGhpcy5wYXJhbWV0ZXJzLnB1c2gocGFyYW0pOwp9OwoKLyoqCiAqIHJldHVybiBhIG5hbWUgb2YgZXZlbnQgaW4gIjoiIG5vdGF0aW9uCiAqIGV2ZW50IGRpc3BhdGNoZXIgc2hvdWxkIHN0b3JlIGV2ZW50cyBpbiB0aGlzIG5vdGF0aW9uCiAqLwpWRE9NX0V2ZW50LnByb3RvdHlwZS5nZXRFdmVudFN0ciA9IGZ1bmN0aW9uKCkKewogIHZhciBhID0gdGhpcy5zcmNPYmouaWQgKyAnOicgKyB0aGlzLm5hbWU7CiAgcmV0dXJuIGE7Cn07CgpWRE9NX0V2ZW50LnByb3RvdHlwZS5wYXJhbUJ5TmFtZSA9IGZ1bmN0aW9uIChBTmFtZSkKewogIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKXsKICAgIGlmICh0aGlzLnBhcmFtZXRlcnNbaV0uTmFtZSA9PSBBTmFtZSkgewogICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzW2ldLlZhbHVlOwogICAgfQogIH0KICByZXR1cm4gbnVsbDsKfTsKCi8qKgogKiBnZW5lcmF0ZSBzaW5nbGUgZXZlbnQKICovCmZ1bmN0aW9uIGV4ZWNFdmVudEN1c3RvbShldnROYW1lLCBzcmNwLCBwYXJhbXMsIHRhcmdldCkKewogIGlmIChzcmNwLmRvbUNvbnQpIHsKICAgIHNyYyA9IHNyY3AuZG9tQ29udDsKICB9IGVsc2UgewogICAgc3JjID0gc3JjcDsKICB9CiAgdmFyIG5ldiA9IG5ldyBWRE9NX0V2ZW50KCk7CiAgbmV2LnNyY09iaiA9IHNyYzsKICBuZXYubmFtZSA9IGV2dE5hbWU7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgIG5ldi5hZGRQYXJhbWV0ZXIocGFyYW1zW2ldLk5hbWUsIHBhcmFtc1tpXS5WYWx1ZSk7CiAgfQogIGlmICh0YXJnZXQuZXZlbnRFbmdpbmUpIHsKICAgIHRhcmdldC5ldmVudEVuZ2luZS5wcm9jZXNzRXZlbnQobmV2KTsKICB9Cn0KCmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JFdmVudChtc2cpCnsKCXZhciBwcm0gPSB7IG1zZzogbXNnIH07CglleGVjRXZlbnRDdXN0b20oJ2Vycm9yZXZlbnRlbmdpbmUnLCB0aGlzLCBwcm0sIHRoaXMpOwp9CgpWRE9NX0V2ZW50RW5naW5lLnByb3RvdHlwZS5leGVjdXRlQWN0aW9uID0gZnVuY3Rpb24oYWN0X3N0ciwgZXZudCkKewoJLyphY3Rfc3RyID0gYWN0aW9uIHN0cmluZyBpbiAiOiIgbm90YXRpb24gZnJvbSBkaXNwYXRjaGVyLCBsaWtlIG9iamVjdDphY3Rpb24ocGFyYW1zKQoJZXZudCAtIFZET01fZXZlbnQgb2JqZWN0Ki8KCWlmICghdGhpcy5BY3RpdmUpIHsgcmV0dXJuIGZhbHNlOyB9Cgl2YXIgcmUgPSAvXihcdyspXDooXHcrKVwoKC4qKVwpJC9nOwogIHJlLmxhc3RJbmRleCA9IDA7Cgl2YXIgbSA9IHJlLmV4ZWMoYWN0X3N0cik7CglpZiAobSAhPT0gbnVsbCkgewoJCXZkb21PYmogPSAodHlwZW9mIG1bMV0gPT09ICd1bmRlZmluZWQnKSA/IG51bGwgOiBldmFsKG1bMV0pOwoJCWlmICh2ZG9tT2JqID09PSBudWxsIHx8IHR5cGVvZiB2ZG9tT2JqID09PSAndW5kZWZpbmVkJykgewoJCQlnZW5lcmF0ZUVycm9yRXZlbnQoIk9iamVjdCAnIittWzFdKyInIGRvZXMgbm90IGV4aXN0ICEiKTsKCQkJcmV0dXJuOwoJCX0KCQlhY3ROYW1lID0gbVsyXTsKCQkvKnZhciBwYXJhbXMgPSBuZXcgQXJyYXkoKTsqLwoJCXZhciBwYXJhbXMgPSBbXTsKCQl0aGlzLnBhcnNlUGFyYW1zKGV2bnQsIG1bM10sIHBhcmFtcyk7CgkJLypleGVjdXRpbmcgYWN0aW9uIHdpdGggcGFyc2VkIHBhcmFtcyovCgkJdmRvbU9ialthY3ROYW1lXS5hcHBseSh2ZG9tT2JqLCBwYXJhbXMpOwoJfSBlbHNlIHsKCQlnZW5lcmF0ZUVycm9yRXZlbnQoIkludmFsaWQgYWN0aW9uIG5hbWU6ICIrYWN0X3N0cik7CgkJcmV0dXJuOwoJfQp9OwoKCi8qKgogKiBWRE9NX09iamVjdCBkZWNsYXJhdGlvbgogKi8KZnVuY3Rpb24gVkRPTV9PYmplY3QoY29udElkLCBldmVudEVuZ2luZSkKewogIHZhciBkb21FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udElkKTsgLypTZWFyY2hpbmcgZm9yIERPTSBlbGVtbnQgYnkgaWQqLwogIGlmIChkb21FbGVtZW50ICE9PSBudWxsKSB7CiAgICB0aGlzLmRvbUNvbnQgPSBkb21FbGVtZW50OwogICAgdGhpcy5ldmVudEVuZ2luZSA9IGV2ZW50RW5naW5lOwogICAgdGhpcy5uYW1lID0gY29udElkOwogICAgLyp0aGlzLmV2dEFzc29jaWF0aW9uID0gbmV3IEFycmF5KCk7Ki8KICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24gPSBbXTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ubW91c2Vtb3ZlICAgPSB7ZXZ0bmFtZTonbW91c2Vtb3ZlJywgZXZ0ZnVuYzp0aGlzLm1vdXNlbW92ZSwgZXZ0dHlwOidtb3VzZW1vdmUnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ubW91c2Vkb3duICAgPSB7ZXZ0bmFtZTonbW91c2Vkb3duJywgZXZ0ZnVuYzp0aGlzLm1vdXNlZG93biwgZXZ0dHlwOidtb3VzZWRvd24nfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ubW91c2V1cCAgICAgPSB7ZXZ0bmFtZTonbW91c2V1cCcsIGV2dGZ1bmM6dGhpcy5tb3VzZXVwLCBldnR0eXA6J21vdXNldXAnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ubW91c2VvdmVyICAgPSB7ZXZ0bmFtZTonbW91c2VvdmVyJywgZXZ0ZnVuYzp0aGlzLm1vdXNlb3ZlciwgZXZ0dHlwOidtb3VzZW92ZXInfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ubW91c2VvdXQgICAgPSB7ZXZ0bmFtZTonbW91c2VvdXQnLCBldnRmdW5jOnRoaXMubW91c2VvdXQsIGV2dHR5cDonbW91c2VvdXQnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24uY2xpY2sgICAgICAgPSB7ZXZ0bmFtZTonY2xpY2snLCBldnRmdW5jOnRoaXMuY2xpY2ssIGV2dHR5cDonY2xpY2snfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24uZGJsY2xpY2sgICAgPSB7ZXZ0bmFtZTonZGJsY2xpY2snLCBldnRmdW5jOnRoaXMuZGJsY2xpY2ssIGV2dHR5cDonZGJsY2xpY2snfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ua2V5ZG93biAgICAgPSB7ZXZ0bmFtZTona2V5ZG93bicsIGV2dGZ1bmM6dGhpcy5rZXlkb3duLCBldnR0eXA6J2tleWRvd24nfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ua2V5dXAgICAgICAgPSB7ZXZ0bmFtZTona2V5dXAnLCBldnRmdW5jOnRoaXMua2V5dXAsIGV2dHR5cDona2V5dXAnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ua2V5cHJlc3MgICAgPSB7ZXZ0bmFtZTona2V5cHJlc3MnLCBldnRmdW5jOnRoaXMua2V5cHJlc3MsIGV2dHR5cDona2V5cHJlc3MnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24uY3RybGNsaWNrICAgPSB7ZXZ0bmFtZTonY3RybGNsaWNrJywgZXZ0ZnVuYzp0aGlzLmN0cmxjbGljaywgZXZ0dHlwOidjbGljayd9OwogICAgdGhpcy5ldnRBc3NvY2lhdGlvbi5ib3JkZXIgICAgICA9IHtldnRuYW1lOidib3JkZXInLCBldnRmdW5jOnRoaXMuYm9yZGVyLCBldnR0eXA6J21vdXNlbW92ZSd9OwogICAgdGhpcy5ldnRBc3NvY2lhdGlvbi5jb3JuZXIgICAgICA9IHtldnRuYW1lOidjb3JuZXInLCBldnRmdW5jOnRoaXMuYm9yZGVyLCBldnR0eXA6J21vdXNlbW92ZSd9OwogICAgdGhpcy5ldnRBc3NvY2lhdGlvbi5kcmFnc3RhcnQgICA9IHtldnRuYW1lOidkcmFnc3RhcnQnLCBldnRmdW5jOnRoaXMubW91c2Vtb3ZlLCBldnR0eXA6J21vdXNlbW92ZSd9OwogICAgdGhpcy5ldnRBc3NvY2lhdGlvbi5kcmFnc3RvcCAgICA9IHtldnRuYW1lOidkcmFnc3RvcCcsIGV2dGZ1bmM6dGhpcy5tb3VzZXVwLCBldnR0eXA6J21vdXNldXAnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24uY2hhbmdlICAgICAgPSB7ZXZ0bmFtZTonY2hhbmdlJywgZXZ0ZnVuYzp0aGlzLmNoYW5nZSwgZXZ0dHlwOidjaGFuZ2UnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24uY2hhbmdlY29sb3IgPSB7ZXZ0bmFtZTonY2hhbmdlJywgZXZ0ZnVuYzp0aGlzLmNoYW5nZSwgZXZ0dHlwOidjaGFuZ2UnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24uc2VsZWN0ICAgICAgPSB7ZXZ0bmFtZTonc2VsZWN0JywgZXZ0ZnVuYzp0aGlzLmNoYW5nZSwgZXZ0dHlwOidjaGFuZ2UnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24udW5zZWxlY3QgICAgPSB7ZXZ0bmFtZTondW5zZWxlY3QnLCBldnRmdW5jOnRoaXMuY2hhbmdlLCBldnR0eXA6J2NoYW5nZSd9OwogICAgdGhpcy5ldnRBc3NvY2lhdGlvbi52YWx1ZWNoYW5nZSA9IHtldnRuYW1lOid2YWx1ZWNoYW5nZScsIGV2dGZ1bmM6dGhpcy5jaGFuZ2UsIGV2dHR5cDonY2hhbmdlJ307CiAgICB0aGlzLmV2dEFzc29jaWF0aW9uLnRpbWVjaGFuZ2UgID0ge2V2dG5hbWU6J3RpbWVjaGFuZ2UnLCBldnRmdW5jOnRoaXMudGltZWNoYW5nZSwgZXZ0dHlwOidjaGFuZ2UnfTsKICAgIHRoaXMuZXZ0QXNzb2NpYXRpb24ubG9hZCAgICAgICAgPSB7ZXZ0bmFtZTonbG9hZCcsIGV2dGZ1bmM6dGhpcy50aW1lY2hhbmdlLCBldnR0eXA6J2NoYW5nZSd9OwogIH0KfQoKLyoqCiAqIGV4ZWNFdmVudCBmdW5jdGlvbiBwcm90b3R5cGUKICovClZET01fT2JqZWN0LnByb3RvdHlwZS5leGVjRXZlbnQgPSBmdW5jdGlvbihlKQp7CiAgaWYgKHRoaXMuZXZlbnRFbmdpbmUgIT09IG51bGwpIHsKICAgIHRoaXMuZXZlbnRFbmdpbmUucHJvY2Vzc0V2ZW50KGUsIHRoaXMpOwogIH0gZWxzZSB7CiAgICB3aW5kb3cuc3RhdHVzID0gJ0VSUk9SWycrdGhpcy5uYW1lKycuJytlLm5hbWUrJ106IGV2ZW50RW5naW5lIC0gYmFkIG9iamVjdCByZWZlcmVuY2UnOwogIH0KfTsKCmZ1bmN0aW9uIGRlZlBvc2l0aW9uKGV2ZW50KQp7CiAgdmFyIHggPSAwLCB5ID0gMDsKICBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQgIT09IG51bGwpIHsgLy8gaWUgJiBPcGVyYQogICAgeCA9IHdpbmRvdy5ldmVudC5jbGllbnRYICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOiBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpOwogICAgeSA9IHdpbmRvdy5ldmVudC5jbGllbnRZICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDogZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApOwogIH0gZWxzZSBpZiAoIWRvY3VtZW50LmF0dGFjaEV2ZW50ICYmIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsgLy8gR2Vja28KICAgIHggPSBldmVudC5jbGllbnRYICsgd2luZG93LnNjcm9sbFg7CiAgICB5ID0gZXZlbnQuY2xpZW50WSArIHdpbmRvdy5zY3JvbGxZOwogIH0gZWxzZSB7CiAgfQogIHJldHVybiB7eDp4LCB5Onl9Owp9CgovL01vdXNlIG1vdmUgZXZlbnQgcHJvdG90eXBlClZET01fT2JqZWN0LnByb3RvdHlwZS50aW1lY2hhbmdlID0gZnVuY3Rpb24oZXZudCkKewovLyAgdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwogIHZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwogIHZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7CiAgdmRvbUV2ZW50Lm5hbWUgPSAndGltZWNoYW5nZSc7CiAgdmFyIHQgPSBuZXcgRGF0ZSgpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3RpbWUnLCB0KTsKICB0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwp9OwoKLy9Nb3VzZSBtb3ZlIGV2ZW50IHByb3RvdHlwZQpWRE9NX09iamVjdC5wcm90b3R5cGUubW91c2Vtb3ZlID0gZnVuY3Rpb24oZXZudCkKewogIHZhciBldnQgPSBldm50IHx8IHdpbmRvdy5ldmVudDsKICB2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKICB2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwogIHZkb21FdmVudC5uYW1lID0gJ21vdXNlbW92ZSc7CiAgICB2YXIgeCA9IGV2dC5sYXllclggPyBldnQubGF5ZXJYIDogZXZ0Lm9mZnNldFg7CiAgICB2YXIgeSA9IGV2dC5sYXllclkgPyBldnQubGF5ZXJZIDogZXZ0Lm9mZnNldFk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneCcsIHgpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCB5KTsKICB0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwoKICAvLyBkcmFnCiAgaWYgKGRyYWdfY3VycmVudF9vYmogIT09IG51bGwgJiYgZHJhZ19tb3VzZV9kb3duID09PSB0cnVlKSB7CiAgICBkcmFnX2N1cnJlbnRfZXZlbnQgPSBldnQ7CiAgfQp9OwoKLy8gTW91c2UgZG93biBldmVudCBwcm90b3R5cGUKVkRPTV9PYmplY3QucHJvdG90eXBlLm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2bnQpCnsKICB2YXIgZXZ0ID0gZXZudCB8fCB3aW5kb3cuZXZlbnQ7CiAgICB2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKICB2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwogIHZkb21FdmVudC5uYW1lID0gJ21vdXNlZG93bic7CiAgICB2YXIgeCA9IGV2dC5sYXllclggPyBldnQubGF5ZXJYIDogZXZ0Lm9mZnNldFg7CiAgICB2YXIgeSA9IGV2dC5sYXllclkgPyBldnQubGF5ZXJZIDogZXZ0Lm9mZnNldFk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneCcsIHgpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCB5KTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdidXR0b24nLCBldnQuYnV0dG9uKTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdhbHRLZXknLCBldnQuYWx0S2V5KTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdjdHJsS2V5JywgZXZ0LmN0cmxLZXkpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3NoaWZ0S2V5JywgZXZ0LnNoaWZ0S2V5KTsKICB0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwoKICAgIGRyYWdfY3VycmVudF9ldmVudCA9IGV2dDsKfTsKCi8vIE1vdXNlIHVwIGV2ZW50IHByb3RvdHlwZQpWRE9NX09iamVjdC5wcm90b3R5cGUubW91c2V1cCA9IGZ1bmN0aW9uKGV2bnQpCnsKICB2YXIgZXZ0ID0gZXZudCB8fCB3aW5kb3cuZXZlbnQ7CiAgdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7CiAgdmRvbUV2ZW50LnNyY09iaiA9IHRoaXMuZG9tQ29udDsKICB2ZG9tRXZlbnQubmFtZSA9ICdtb3VzZXVwJzsKICAgIHZhciB4ID0gZXZ0LmxheWVyWCA/IGV2dC5sYXllclggOiBldnQub2Zmc2V0WDsKICAgIHZhciB5ID0gZXZ0LmxheWVyWSA/IGV2dC5sYXllclkgOiBldnQub2Zmc2V0WTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd4JywgeCk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneScsIHkpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2J1dHRvbicsIGV2dC5idXR0b24pOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2FsdEtleScsIGV2dC5hbHRLZXkpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2N0cmxLZXknLCBldnQuY3RybEtleSk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignc2hpZnRLZXknLCBldnQuc2hpZnRLZXkpOwogIHRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CgogICAgZHJhZ19tb3VzZV9kb3duID0gZmFsc2U7Cn07CgovLyBNb3VzZSBvdmVyIGV2ZW50IHByb3RvdHlwZQpWRE9NX09iamVjdC5wcm90b3R5cGUubW91c2VvdmVyID0gZnVuY3Rpb24oZXZudCkKewogIHZhciBldnQgPSBldm50IHx8IHdpbmRvdy5ldmVudDsKICB2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKICB2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwogIHZkb21FdmVudC5uYW1lID0gJ21vdXNlb3Zlcic7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneCcsIGV2dC5sYXllclggPyBldnQubGF5ZXJYIDogZXZ0Lm9mZnNldFgpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCBldnQubGF5ZXJZID8gZXZ0LmxheWVyWSA6IGV2dC5vZmZzZXRZKTsKICB0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwp9OwoKLy8gTW91c2Ugb3V0IGV2ZW50IHByb3RvdHlwZQpWRE9NX09iamVjdC5wcm90b3R5cGUubW91c2VvdXQgPSBmdW5jdGlvbihldm50KQp7CiAgdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwogIHZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwogIHZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7CiAgdmRvbUV2ZW50Lm5hbWUgPSAnbW91c2VvdXQnOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCBldnQubGF5ZXJYID8gZXZ0LmxheWVyWCA6IGV2dC5vZmZzZXRYKTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd5JywgZXZ0LmxheWVyWSA/IGV2dC5sYXllclkgOiBldnQub2Zmc2V0WSk7CiAgdGhpcy5leGVjRXZlbnQodmRvbUV2ZW50KTsKfTsKCi8vIENsaWNrIGV2ZW50IHByb3RvdHlwZQpWRE9NX09iamVjdC5wcm90b3R5cGUuY2xpY2sgPSBmdW5jdGlvbihldm50KQp7CiAgdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwogIHZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwogIHZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7CiAgdmRvbUV2ZW50Lm5hbWUgPSAnY2xpY2snOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCBldnQubGF5ZXJYID8gZXZ0LmxheWVyWCA6IGV2dC5vZmZzZXRYKTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd5JywgZXZ0LmxheWVyWSA/IGV2dC5sYXllclkgOiBldnQub2Zmc2V0WSk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignYnV0dG9uJywgZXZ0LmJ1dHRvbik7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignYWx0S2V5JywgZXZ0LmFsdEtleSk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignY3RybEtleScsIGV2dC5jdHJsS2V5KTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdzaGlmdEtleScsIGV2dC5zaGlmdEtleSk7CiAgdGhpcy5leGVjRXZlbnQodmRvbUV2ZW50KTsKfTsKCi8vIERvdWJsZSBjbGljayBldmVudCBwcm90b3R5cGUKVkRPTV9PYmplY3QucHJvdG90eXBlLmRibGNsaWNrID0gZnVuY3Rpb24oZXZudCkKewogIHZhciBldnQgPSBldm50IHx8IHdpbmRvdy5ldmVudDsKICB2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKICB2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwogIHZkb21FdmVudC5uYW1lID0gJ2RibGNsaWNrJzsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd4JywgZXZ0LmxheWVyWCA/IGV2dC5sYXllclggOiBldnQub2Zmc2V0WCk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneScsIGV2dC5sYXllclkgPyBldnQubGF5ZXJZIDogZXZ0Lm9mZnNldFkpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2J1dHRvbicsIGV2dC5idXR0b24pOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2FsdEtleScsIGV2dC5hbHRLZXkpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2N0cmxLZXknLCBldnQuY3RybEtleSk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignc2hpZnRLZXknLCBldnQuc2hpZnRLZXkpOwogIHRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7Cn07CgovLyBrZXkgZG93biBldmVudCBwcm90b3R5cGUKVkRPTV9PYmplY3QucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbihldm50KQp7CiAgdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwogIHZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwogIHZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7CiAgdmRvbUV2ZW50Lm5hbWUgPSAna2V5ZG93bic7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigna2V5Q29kZScsIGV2dC5rZXlDb2RlKTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdhbHRLZXknLCBldnQuYWx0S2V5KTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdjdHJsS2V5JywgZXZ0LmN0cmxLZXkpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3NoaWZ0S2V5JywgZXZ0LnNoaWZ0S2V5KTsKICB0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwp9OwoKLy8ga2V5IHVwIGV2ZW50IHByb3RvdHlwZQpWRE9NX09iamVjdC5wcm90b3R5cGUua2V5dXAgPSBmdW5jdGlvbihldm50KQp7CiAgdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwogIHZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwogIHZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7CiAgdmRvbUV2ZW50Lm5hbWUgPSAna2V5dXAnOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2tleUNvZGUnLCBldnQua2V5Q29kZSk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignYWx0S2V5JywgZXZ0LmFsdEtleSk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignY3RybEtleScsIGV2dC5jdHJsS2V5KTsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdzaGlmdEtleScsIGV2dC5zaGlmdEtleSk7CiAgdGhpcy5leGVjRXZlbnQodmRvbUV2ZW50KTsKfTsKCi8vIGtleSBwcmVzcyBldmVudCBwcm90b3R5cGUKVkRPTV9PYmplY3QucHJvdG90eXBlLmtleXByZXNzID0gZnVuY3Rpb24oZXZudCkKewogIHZhciBldnQgPSBldm50IHx8IHdpbmRvdy5ldmVudDsKICB2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKICB2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwogIHZkb21FdmVudC5uYW1lID0gJ2tleXByZXNzJzsKICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdrZXlDb2RlJywgZXZ0LmtleUNvZGUpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2FsdEtleScsIGV2dC5hbHRLZXkpOwogIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2N0cmxLZXknLCBldnQuY3RybEtleSk7CiAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignc2hpZnRLZXknLCBldnQuc2hpZnRLZXkpOwogIHRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7Cn07CgovLyBjaGFuZ2UgKGlucHV0LCBzZWxlY3QsIHRleHRhcmVhKSBldmVudCBwcm90b3R5cGUKVkRPTV9PYmplY3QucHJvdG90eXBlLmNoYW5nZSA9IGZ1bmN0aW9uKGV2bnQpCnsKLy8gIHZhciBldnQgPSBldm50IHx8IHdpbmRvdy5ldmVudDsKICB2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKICB2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwovLyAgdmRvbUV2ZW50Lm5hbWUgPSAnY2hhbmdlJzsKLy8gIHRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CiAgaWYgKHRoaXMuZG9tQ29udC5maXJzdENoaWxkICYmIHRoaXMuZG9tQ29udC5maXJzdENoaWxkLnR5cGUgPT0gJ2NoZWNrYm94JykgewovLyAgICB2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKLy8gICAgdmRvbUV2ZW50LnNyY09iaiA9IHRoaXMuZG9tQ29udDsKICAgIHZkb21FdmVudC5uYW1lID0gdGhpcy5kb21Db250LmZpcnN0Q2hpbGQuY2hlY2tlZCA/ICdzZWxlY3QnIDogJ3Vuc2VsZWN0JzsKICAgIHRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CiAgfSBlbHNlCiAgaWYgKHRoaXMuZG9tQ29udC50YWdOYW1lID09ICdTRUxFQ1QnKSB7Ci8vICAgIHZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwovLyAgICB2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwogICAgdmRvbUV2ZW50Lm5hbWUgPSAndmFsdWVjaGFuZ2UnOwogICAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignaXRlbScsICcnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8hIQogICAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignaXRlbVZhbHVlJywgdGhpcy5kb21Db250LnZhbHVlKTsKICAgIHRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CiAgfSBlbHNlIHsKLy8gICAgdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7Ci8vICAgIHZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7CiAgICB2ZG9tRXZlbnQubmFtZSA9ICd2YWx1ZWNoYW5nZSc7CiAgICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdpdGVtVmFsdWUnLCB0aGlzLmRvbUNvbnQudmFsdWUpOwogICAgdGhpcy5leGVjRXZlbnQodmRvbUV2ZW50KTsKICB9Cn07CgovL0NVU1RPTSBFVkVOVFMKCi8vY29udHJvbCtjbGljayBldmVudApWRE9NX09iamVjdC5wcm90b3R5cGUuY3RybGNsaWNrID0gZnVuY3Rpb24oZXZudCkKewogIHZhciBldnQgPSBldm50IHx8IHdpbmRvdy5ldmVudDsKICBpZiAoZXZ0LmN0cmxLZXkgPT0gMSkgewogICAgdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7CiAgICB2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwogICAgdmRvbUV2ZW50Lm5hbWUgPSAnY3RybGNsaWNrJzsKICAgIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCBldnQubGF5ZXJYID8gZXZ0LmxheWVyWCA6IGV2dC5vZmZzZXRYKTsKICAgIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCBldnQubGF5ZXJZID8gZXZ0LmxheWVyWSA6IGV2dC5vZmZzZXRZKTsKICAgIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2tleUNvZGUnLCBldnQua2V5Q29kZSk7CiAgICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdhbHRLZXknLCBldnQuYWx0S2V5KTsKICAgIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2N0cmxLZXknLCBldnQuY3RybEtleSk7CiAgICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdzaGlmdEtleScsIGV2dC5zaGlmdEtleSk7CiAgICB0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwogIH0KfTsKCi8vYm9yZGVyIGV2ZW50ClZET01fT2JqZWN0LnByb3RvdHlwZS5ib3JkZXIgPSBmdW5jdGlvbihldm50KQp7CiAgdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwogIHZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwogIHZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7CiAgdmFyIHggPSBldnQubGF5ZXJYID8gZXZ0LmxheWVyWCA6IGV2dC5vZmZzZXRYOwogIHZhciB5ID0gZXZ0LmxheWVyWSA/IGV2dC5sYXllclkgOiBldnQub2Zmc2V0WTsKICB2YXIgcmlnaHQgID0gKHggPD0gdGhpcy5kb21Db250LmNsaWVudFdpZHRoKSAmJiAoeCA+IHRoaXMuZG9tQ29udC5jbGllbnRXaWR0aCAtIDQpOwogIHZhciBsZWZ0ICAgPSAoeCA+PSAwKSAmJiAoeCA8IDQpOwogIHZhciB0b3AgICAgPSAoeSA+PSAwKSAmJiAoeSA8IDQpOwogIHZhciBib3R0b20gPSAoeSA8PSB0aGlzLmRvbUNvbnQuY2xpZW50SGVpZ2h0KSAmJiAoeSA+IHRoaXMuZG9tQ29udC5jbGllbnRIZWlnaHQgLSA0KTsKICBpZiAodG9wIHx8IGJvdHRvbSB8fCBsZWZ0IHx8IHJpZ2h0KSB7CiAgICB2YXIgY29ybmVyMSA9IGxlZnQgJiYgdG9wOwogICAgdmFyIGNvcm5lcjIgPSByaWdodCAmJiB0b3A7CiAgICB2YXIgY29ybmVyMyA9IHJpZ2h0ICYmIGJvdHRvbTsKICAgIHZhciBjb3JuZXI0ID0gbGVmdCAmJiBib3R0b207CiAgICBpZiAoY29ybmVyMSB8fCBjb3JuZXIyIHx8IGNvcm5lcjMgfHwgY29ybmVyNCkgewogICAgICBwb3MgPSBjb3JuZXIxID8gMSA6IChjb3JuZXIyID8gMiA6IChjb3JuZXIzID8gMyA6IChjb3JuZXI0ID8gNCA6IDApKSk7CiAgICAgIGlmIChwb3MgPiAwKSB7CiAgICAgICAgaWYgKGNvcm5lcl9sYXN0ICE9IHBvcykgewogICAgICAgICAgY29ybmVyX2xhc3QgPSBwb3M7CiAgICAgICAgICB2ZG9tRXZlbnQubmFtZSA9ICdjb3JuZXInOwogICAgICAgICAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigncG9zJywgcG9zKTsKICAgICAgICAgIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCB4KTsKICAgICAgICAgIHZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCB5KTsKICAgICAgICAgIHRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBwb3MgPSByaWdodCA/ICdyaWdodCcgOiAobGVmdCA/ICdsZWZ0JyA6ICh0b3AgPyAndG9wJyA6IChib3R0b20gPyAnYm90dG9tJyA6ICcnKSkpOwogICAgICBpZiAocG9zICE9ICcnICYmIGJvcmRlcl9sYXN0ICE9IHBvcykgewogICAgICAgIGJvcmRlcl9sYXN0ID0gcG9zOwogICAgICAgIHZkb21FdmVudC5uYW1lID0gJ2JvcmRlcic7CiAgICAgICAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigncG9zJywgcG9zKTsKICAgICAgICB2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd4JywgeCk7CiAgICAgICAgdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneScsIHkpOwogICAgICAgIHRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CiAgICAgIH0KICAgIH0KICB9Cn07CgpWRE9NX09iamVjdC5wcm90b3R5cGUucmlzZUV2ZW50ID0gZnVuY3Rpb24oZU5hbWUsIGVQYXJhbXMsIGVFbmdpbmUpCnsKICB2YXIgbmV3RXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwogIG5ld0V2ZW50LnNyY09iaiA9IHRoaXMuZG9tQ29udDsKICBuZXdFdmVudC5uYW1lID0gZU5hbWU7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlUGFyYW1zLmxlbmd0aDsgaSsrKSB7CiAgICBuZXdFdmVudC5hZGRQYXJhbWV0ZXIoZVBhcmFtc1tpXS5OYW1lLCBlUGFyYW1zW2ldLlZhbHVlKTsKICB9CiAgZUVuZ2luZS5wcm9jZXNzRXZlbnQobmV3RXZlbnQpOwp9OwoKLyoqCiAqIHJlZ2lzdGVyRXZlbnRzIHByb2NlZHVyZSBwcm90b3R5cGUKICovClZET01fT2JqZWN0LnByb3RvdHlwZS5yZWdpc3RlckV2ZW50cyA9IGZ1bmN0aW9uKGV2ZW50cykKewogIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZXZ0bmFtZSA9IGV2ZW50c1tpXTsKICAgIGlmICh0eXBlb2YgdGhpcy5ldnRBc3NvY2lhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmV2dEFzc29jaWF0aW9uW2V2dG5hbWVdICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHZhciBldnRPYmogPSB0aGlzLmV2dEFzc29jaWF0aW9uW2V2dG5hbWVdOwogICAgICAgIGlmICh0eXBlb2YoZXZ0T2JqKSA9PSAib2JqZWN0IikgewogICAgICAgICAgdmRvbVJlZ2lzdGVyRXZlbnRMaXN0ZW5lcih0aGlzLCBldnRPYmouZXZ0dHlwLCBldnRPYmouZXZ0ZnVuYywgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9OwoKLy9mdW5jdGlvbiB2ZG9tUmVnaXN0ZXJFdmVudExpc3RlbmVyKHZkb21PYmplY3QsIGV2ZW50VHlwZSwgZXZlbnRMaXN0ZW5lciwgdXNlQ2FwdHVyZSkKY3VzdG9tUmVnaXN0ZXJFdmVudHMgPSBmdW5jdGlvbihwYSxvYixldixhYykKewogIHZhciBvPWZhbHNlLG9zPSdPYmpfJytwYSsnX0Rpc3BhdGNoZXInOwogIGV2YWwoImlmICh0eXBlb2YgIitvcysiICE9ICd1bmRlZmluZWQnKSBvPXRydWU7Iik7CiAgaWYgKG8pIHsKICAgIGV2YWwoJ29zLmFkZERpc3BhdGNoRXZlbnQoIm9fJytvYisnOicrZXYrJyIsInNlcnZlciIpOycpOwogIH0KLyoKQ29udGFpbmVyX2FhMWJjMmY1X2FkZjNfNGI1ZF84Njc4X2ZlYjEzMDk4MGY0M19EaXNwYXRjaGVyPW5ldyBWRE9NX0V2ZW50RGlzcGF0Y2hlcigpOwpDb250YWluZXJfYWExYmMyZjVfYWRmM180YjVkXzg2NzhfZmViMTMwOTgwZjQzX0Rpc3BhdGNoZXIuYWRkRGlzcGF0Y2hFdmVudCgib19lNjJmZjkwMl81YjFiXzRlZTJfOTI4Nl8zYTgzOTdlYzY2NmI6Y2xpY2siLCAic2VydmVyIikKKi8KfTsKCgovKioKICogVkRPTV9FdmVudFF1ZXVlIGRlY2xhcmF0aW9uCiAqLwoKZnVuY3Rpb24gVkRPTV9FdmVudFF1ZXVlKCkKewovLyAgdGhpcy5ldmVudFF1ZXVlID0gbmV3IEFycmF5KCk7CiAgdGhpcy5ldmVudFF1ZXVlID0gW107CiAgdGhpcy5zZW5kQXZhaWxhYmxlID0gdHJ1ZTsgLy8gU2hvd3MgaWYgdGhlIHF1ZXVlIGlzIHJlYWR5IHRvIHNlbmQgZXZlbnRzCn0KClZET01fRXZlbnRRdWV1ZS5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24oKQp7CiAgaWYgKHRoaXMuZXZlbnRRdWV1ZS5sZW5ndGggPT09IDApIHsgcmV0dXJuICIiOyB9CiAgICB2YXIgcmVzdWx0U3RyID0gIjxFVkVOVFM+PEFQUExJQ0FUSU9OIElEPSciK0FQUExJQ0FUSU9OX0lEKyInLz48U0VTU0lPTiBJRD0nIitTRVNTSU9OX0lEKyInLz4iOwogIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmVudFF1ZXVlLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZXZudCA9IHRoaXMuZXZlbnRRdWV1ZVtpXTsKICAgIHZhciBzdHIgPSAiPEVWRU5UIG9ialNyY0lEPSciK2V2bnQuc3JjT2JqLmlkKyInIG5hbWU9JyIrZXZudC5uYW1lKyInPiI7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGV2bnQucGFyYW1ldGVycy5sZW5ndGg7IGorKykgewogICAgICB2YXIgcGFyYW0gPSBldm50LnBhcmFtZXRlcnNbal07CiAgICAgIHN0ciArPSAiPFBBUkFNRVRFUiBuYW1lPSciK3BhcmFtLk5hbWUrIic+PCFbQ0RBVEFbIitwYXJhbS5WYWx1ZSsiXV0+PC9QQVJBTUVURVI+IjsKICAgIH0KICAgIHN0cis9IjwvRVZFTlQ+IjsKICAgIHJlc3VsdFN0ciArPSBzdHI7CiAgfQogIHJlc3VsdFN0ciArPSAiPC9FVkVOVFM+IjsKICB0aGlzLmV2ZW50UXVldWUubGVuZ3RoID0gMDsgLy9jbGVhbiB0aGUgcXVldWU7CiAgcmV0dXJuIHJlc3VsdFN0cjsKfTsKClZET01fRXZlbnRRdWV1ZS5wcm90b3R5cGUuc2VuZFJlcXVlc3QgPSBmdW5jdGlvbihyZXFfc3RyKQp7CiAgLy9zZW5kaW5nIG9mIHRoZSBzZXJpYWxpemVkIHF1ZXVlIHRvIHRoZSBzZXJ2ZXIKICBpZiAocmVxX3N0ciAhPSAiIikgewogICAgdGhpcy5zZW5kQXZhaWxhYmxlID0gZmFsc2U7CiAgICBzZW5kRm9ybShyZXFfc3RyLCBiaW5kKHRoaXMsIHRoaXMucmVjZWl2ZUFuc3dlcikpOwogIH0KfTsKCgpmdW5jdGlvbiBhdHRhY2hTY3JpcHQoaW5uZXIpCnsKICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogIHMudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOwogIHMuaW5uZXJIVE1MID0gaW5uZXI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZChzKTsKfQoKLyoqCiAqIGV4ZWN1dGUgc2luZ2xlIGFjdGlvbiBkaXJlY3RseQogKi8KZnVuY3Rpb24gZXhlY0FjdGlvbkRpcmVjdChhY3ROYW1lLCBwYXJhbXMsIHRhcmdldCkKewogIHZhciBmID0gIk9ial8iK3RhcmdldCsiLiIrYWN0TmFtZTsKICB2YXIgbiA9IGZhbHNlOwogIGV2YWwoIm4gPSAiK2YrIiA/IHRydWUgOiBmYWxzZTsiKTsKICBpZiAobikgewogICAgdmFyIHAgPSAocGFyYW1zIGluc3RhbmNlb2YgQXJyYXkpID8gcGFyYW1zLmpvaW4oIiwiKSA6IHBhcmFtczsKICAgIGV2YWwoZisiKCIrcCsiKTsiKTsKICB9Cn0KClZET01fRXZlbnRRdWV1ZS5wcm90b3R5cGUucmVjZWl2ZUFuc3dlciA9IGZ1bmN0aW9uKGRvYykKewogIGlmICghZG9jKSB7IHJldHVybjsgfQoKICB2YXIgc2lvID0gZG9jLmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnU0VTU0lPTklTT1ZFUicpOwogIGlmIChzaW8ubGVuZ3RoID4gMCkgewogICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgcmV0dXJuOwogIH0KCiAgLy9wcm9jZXNzaW5nIHRoZSBzZXJ2ZXIgYW5zd2VyCiAgdmFyIG9iakxpc3QgPSBkb2MuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdPQkpFQ1QnKTsKCiAgdmFyIGkgPSAwOwoKICBmb3IgKGkgPSAwOyBpIDwgb2JqTGlzdC5sZW5ndGg7IGkrKykgewogICAgb2JqSXRlbSA9IG9iakxpc3RbaV07CiAgLy8gICAgICAgIHogPSBvYmpJdGVtLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKCdJRCcpLm5vZGVWYWx1ZTsKICAgIGlmIChvYmpJdGVtLnRleHQpIHsKICAgICAgb2JqVmFsdWUgPSBvYmpJdGVtLnRleHQ7CiAgICB9IGVsc2UgewogICAgICBvYmpWYWx1ZSA9IG9iakl0ZW0udGV4dENvbnRlbnQ7CiAgICB9CgovLyAgICB2YXIgb2JqSURhID0gL2lkPVtcIlwnXT8oW15cJ15cIl0rKS9pLmV4ZWMob2JqVmFsdWUpOwovLyAgICB2YXIgb2JqSUQgPSBvYmpJRGFbMV0gPyBvYmpJRGFbMV0gOiAnJzsKCiAgICB2YXIgb2EgPSBqUXVlcnkob2JqTGlzdFtpXSk7CiAgICBvYmpJRCA9IG9hLmF0dHIoJ0lEJyk7CiAgICBvYmpUeXBlID0gb2EuYXR0cignVFlQRScpOwogICAgb2JqUGFyZW50ID0gb2EuYXR0cignUEFSRU5UJyk7CiAgICBvYmpDb250YWluZXIgPSBvYS5hdHRyKCdDT05UQUlORVInKTsKCiAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvXycrb2JqSUQpOwogICAgaWYgKGVsZW0pIHsKCi8vICAgICAgZWxlbS5pbm5lckhUTUwgPSBvYmpWYWx1ZTsgLy8gd3JvbmcsIGltaG8gLSB0YWcgbXVzdCBiZSByZXBsYWNlZCAvTGVvCgogICAgICAvLyBvdGhlciB3YXksIGJ1dCB0aGlzIGtpbGxzIGV2ZW50cyBsaW5rcyBmb3Igb2JqZWN0CiAgICAgIHBhcGEgPSBlbGVtLnBhcmVudE5vZGU7CiAgICAgIGlmIChwYXBhKSB7CiAgICAgICAgLy9wYXBhLnJlbW92ZUNoaWxkKGVsZW0pOwogICAgICAgIGpRdWVyeShlbGVtKS5yZW1vdmUoKTsKLy8gICAgICAgICAgICAgICAgdmFyIG5ld0VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKLy8gICAgICAgICAgICAgICAgbmV3RWxlbS5pbm5lckhUTUwgPSBvYmpWYWx1ZTsKLy8gICAgICAgICAgICAgICAgcGFwYS5hcHBlbmRDaGlsZChuZXdFbGVtKTsKCi8vICAgICAgICB2YXIgcyA9IG5ldyBBcnJheSgpOwogICAgICAgIHZhciBzID0gW107CiAgICAgICAgalF1ZXJ5KCdzY3JpcHQnLG9ialZhbHVlKS5lYWNoKGZ1bmN0aW9uKCl7CiAgICAgICAgICBzLnB1c2goalF1ZXJ5KHRoaXMpLmh0bWwoKSk7CiAgICAgICAgfSk7CiAgICAgICAgalF1ZXJ5KCdzY3JpcHQnLG9ialZhbHVlKS5yZW1vdmUoKTsKLyogcmVjcmVhdGUgdmRvbSBvYmoKT2JqZWN0XzJlMWJiNjVjXzVhZjNfNGRhN19hZTg1XzA5MWM4NDU4Mjg0ZT1uZXcgVkRPTV9UeXBlXzkxYTEyMjgxX2M5YThfNDMwYV84YTJkXzkzOTAzYjRhMjY0Zigib18yZTFiYjY1Y181YWYzXzRkYTdfYWU4NV8wOTFjODQ1ODI4NGUiLCBDb250YWluZXJfZjJmYTQyNDBfZTdkZF80YmZiX2ExODNfMTk3OTUzYWY2Y2RiX0V2ZW50RW5naW5lKTsKKi8KLyoKICAgICAgICBpZiAob2JqUGFyZW50ICE9ICcnKSB7CiAgICAgICAgICAgIGlmIChvYmpDb250YWluZXIgPT0gJzEnKSB7CiAgICAgICAgICAgICAgICBldmFsKCdPYmplY3RfJytvYmpJRCsnPW5ldyBWRE9NX1R5cGVfJytvYmpUeXBlKycoIm9fJytvYmpJRCsnIixDb250YWluZXJfJytvYmpQYXJlbnQrJ19FdmVudEVuZ2luZSk7Jyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBldmFsKCdPYmplY3RfJytvYmpJRCsnPW5ldyBWRE9NX1R5cGVfJytvYmpUeXBlKycoIm9fJytvYmpJRCsnIixDb250YWluZXJfJytvYmpQYXJlbnQrJ19FdmVudEVuZ2luZSk7Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiovCiAgICAgICAgalF1ZXJ5KHBhcGEpLmFwcGVuZChvYmpWYWx1ZSk7CgovLyAgICAgICAgaWYgKHMubGVuZ3RoPjApIHsKLy8gICAgICAgICAgICBqUXVlcnkuZWFjaChzLGZ1bmN0aW9uKCl7Ci8vICAgICAgICAgICAgICAgIGF0dGFjaFNjcmlwdCh0aGlzKTsKLy8gICAgICAgICAgICB9KTsKLy8gICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gdG9kbzogdHJ5IHVwZGF0ZSBwYXJhbWV0ZXJzIGZvciBvYmplY3RzCiAgICB9CiAgfQoKICAvL3Byb2Nlc3NpbmcgRVhFQ1VURSBmcm9tIHNlcnZlciBhbnN3ZXIKICB2YXIgYSwgYW5hbWUsIGFwYXJzLCBhZGVzdDsKICB2YXIgb2JqTGlzdDIgPSBqUXVlcnkoJ0VYRUNVVEUnLCBkb2MpOwogIGZvciAoaSA9IDA7IGkgPCBvYmpMaXN0Mi5sZW5ndGg7IGkrKykgewogICAgYSA9IGpRdWVyeShvYmpMaXN0MltpXSk7CiAgICBhbmFtZSA9IGEuYXR0cignQUNUX05BTUUnKTsKICAgIGFkZXN0ID0gYS5hdHRyKCdEU1RfSUQnKTsKICAgIGFwYXJzID0gYS5hdHRyKCdQQVJBTScpOwogICAgZXhlY0FjdGlvbkRpcmVjdChhbmFtZSwgYXBhcnMsIGFkZXN0KTsKICB9CgogIC8vcHJvY2Vzc2luZyBMSVNURU5FUiBmcm9tIHNlcnZlciBhbnN3ZXIKICAvKgogIDxMSVNURU5FUgogICAgQ09OVEFJTkVSICAgPSAiYWExYmMyZjVfYWRmM180YjVkXzg2NzhfZmViMTMwOTgwZjQzIgogICAgU1JDX0lEICAgICAgPSAiNGE0NDUwYzlfMTJlYl80OGIyXzhlYTJfZjQwODUyNWRlMjA5IgogICAgRVZFTlRfTkFNRSAgPSAiY2xpY2siCiAgICBEU1RfSUQgICAgICA9ICI3MDg1YmQyNl9lNjUzXzQ5MGJfOTA4Zl82MTIwOGMyNjBhODYiCiAgICBBQ1RfTkFNRSAgICA9ICJjbGllbnRfYWN0aW9uX2Z1bmN0aW9uX25hbWUiCiAgICBQQVJBTVMgICAgICA9ICIxLHRydWUsJ3N0cmluZ3N0cmluZyciCiAgLz4qLwogIHZhciBvYmpMaXN0MyA9IGpRdWVyeSgnTElTVEVORVInLCBkb2MpOwogIGZvciAoaSA9IDA7IGkgPCBvYmpMaXN0My5sZW5ndGg7IGkrKykgewogICAgYSA9IGpRdWVyeShvYmpMaXN0M1tpXSk7CiAgICBhY250ID0gYS5hdHRyKCdDT05UQUlORVInKTsKICAgIGFzcmMgPSBhLmF0dHIoJ1NSQ19JRCcpOwogICAgYWV2dCA9IGEuYXR0cignRVZFTlRfTkFNRScpOwogICAgYWRzdCA9IGEuYXR0cignRFNUX0lEJyk7CiAgICBhYWN0ID0gYS5hdHRyKCdBQ1RfTkFNRScpfHwnJzsKICAgIGFwYXIgPSBhLmF0dHIoJ1BBUkFNUycpOwogICAgc2UgPSAoYWFjdD09J3NlcnZlcicpID8gdHJ1ZSA6IGZhbHNlOwoKICAgIHZhciBvPWZhbHNlLCBvcz0nQ29udGFpbmVyXycrYWNudCsnX0Rpc3BhdGNoZXInOwogICAgZXZhbCgiaWYgKHR5cGVvZiAiK29zKyIgIT0gJ3VuZGVmaW5lZCcpIG89dHJ1ZTsiKTsKICAgIGlmIChvKSB7CiAgICAgIGFjdCA9IHNlID8gJ3NlcnZlcicgOiAnT2JqXycrYWRzdCsnOicrYWFjdCsnKCcrYXBhcisnKSc7CiAgICAgIGV2YWwob3MrJy5hZGREaXNwYXRjaEV2ZW50KCJvXycrYXNyYysnOicrYWV2dCsnIiwiJythY3QrJyIpOycpOwogICAgfQoKLy9Db250YWluZXJfZjJmYTQyNDBfZTdkZF80YmZiX2ExODNfMTk3OTUzYWY2Y2RiX0Rpc3BhdGNoZXIuYWRkRGlzcGF0Y2hFdmVudCgib185NTE4MjY4MV9jMTY1XzQzZjZfYTM2Y182ODkyZjFjODBjZDI6Y2xpY2siLCAiT2JqZWN0X2IwMDhhOGU2XzY0YTFfNDBkMl85YThlXzk3NDFmNjVjYzc5ODpzZXRIVE1MKCdjb3Vjb3UnKSIpOwoKLy9WRE9NX0V2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYWRkRGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50U3JjLCBhY3Rpb25UZ3QpIHsKLy9ldmVudFNyYyBtdXN0IGJlIGluICI6IiBub3RhdGlvbiBsaWtlIG9iamVjdG5hbWU6ZXZlbnRuYW1lIC0gKGkuZSB2ZG9tb2JqMTptb3VzZXVwKQovL2FjdGlvblRndCBtdXN0IGJlIGluICI6IiBub3RhdGlvbiBhbHNvCgogIH0KCiAgLy9lbmQgb2YgcHJvY2Vzc2luZyB0aGUgc2VydmVyIGFuc3dlciwgdHJ5aW5nIHRvIHNlbmQgYSBxdWV1ZQogIHRoaXMuc2VuZEF2YWlsYWJsZSA9IHRydWU7CiAgdGhpcy5jaGVja0ZvclNlbmRpbmcoKTsKfTsKClZET01fRXZlbnRRdWV1ZS5wcm90b3R5cGUuYWRkRXZlbnQgPSBmdW5jdGlvbih2ZSkKewogIHRoaXMuZXZlbnRRdWV1ZS5wdXNoKHZlKTsKICB0aGlzLmNoZWNrRm9yU2VuZGluZygpOwp9OwoKVkRPTV9FdmVudFF1ZXVlLnByb3RvdHlwZS5jaGVja0ZvclNlbmRpbmcgPSBmdW5jdGlvbigpCnsKICBpZiAodGhpcy5zZW5kQXZhaWxhYmxlICYmIHRoaXMuZXZlbnRRdWV1ZS5sZW5ndGggPiAwKSB7CiAgICB2YXIgcmVxX3N0ciA9IHRoaXMuc2VyaWFsaXplKCk7CiAgICB0aGlzLnNlbmRSZXF1ZXN0KHJlcV9zdHIpOwogIH0KfTsKCi8qKgogKiBEUkFHL0RST1AKICovCgovKioKICogd2UgcmVzcGVjdCBldmVyeSBpbmRpdmlkdWFsLCB3ZSB1bmRlcnN0YW5kIHRoZWlyIHRyYWl0cy4uCiAqLwpmdW5jdGlvbiBkcmFnRml4RV8oZSkKewogIGlmICh0eXBlb2YgZSA9PSAndW5kZWZpbmVkJykgeyBlID0gd2luZG93LmV2ZW50OyB9CiAgaWYgKHR5cGVvZiBlLmxheWVyWCA9PSAndW5kZWZpbmVkJykgeyBlLmxheWVyWCA9IGUub2Zmc2V0WDsgfQogIGlmICh0eXBlb2YgZS5sYXllclkgPT0gJ3VuZGVmaW5lZCcpIHsgZS5sYXllclkgPSBlLm9mZnNldFk7IH0KICByZXR1cm4gZTsKfQoKZnVuY3Rpb24gZHJhZ1N0YXJ0XygpCnsKICB2YXIgZSA9IGRyYWdfY3VycmVudF9ldmVudDsKICBlID0gZHJhZ0ZpeEVfKGUpOwoKICB2YXIgeSA9IHBhcnNlSW50KGRyYWdfY3VycmVudF9vYmouc3R5bGUudG9wLCAxMCk7CiAgdmFyIHggPSBwYXJzZUludChkcmFnX2N1cnJlbnRfb2JqLnN0eWxlLmxlZnQsIDEwKTsKICBkcmFnX2N1cnJlbnRfb2JqLnN0eWxlLnpJbmRleCA9ICsraGlnaGVzdFppbmRleDsKCiAgZHJhZ19sYXN0TW91c2VYID0gZGVmUG9zaXRpb24oZSkueDsKICBkcmFnX2xhc3RNb3VzZVkgPSBkZWZQb3NpdGlvbihlKS55OwoKICBkcmFnX21heE1vdXNlWCA9IGUuY2xpZW50WCArIHg7CiAgZHJhZ19tYXhNb3VzZVkgPSBlLmNsaWVudFggKyB4OwogIGRyYWdfbWluTW91c2VYID0gZS5jbGllbnRZICsgeTsKICBkcmFnX21pbk1vdXNlWSA9IGUuY2xpZW50WSArIHk7CgogIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gZHJhZ0RyYWdfKGUpCnsKICBlID0gZHJhZ0ZpeEVfKGUpOwoKICB2YXIgZXkgPSBkZWZQb3NpdGlvbihlKS55OwogIHZhciBleCA9IGRlZlBvc2l0aW9uKGUpLng7CgogIHZhciB5ID0gcGFyc2VJbnQoZHJhZ19jdXJyZW50X29iai5zdHlsZS50b3AsIDEwKTsKICB2YXIgeCA9IHBhcnNlSW50KGRyYWdfY3VycmVudF9vYmouc3R5bGUubGVmdCwgMTApOwoKICB2YXIgbnggPSB4IC0gKGV4IC0gZHJhZ19sYXN0TW91c2VYKSAqICgtMSk7CiAgdmFyIG55ID0geSAtIChleSAtIGRyYWdfbGFzdE1vdXNlWSkgKiAoLTEpOwoKICBkcmFnX2N1cnJlbnRfb2JqLnN0eWxlLnRvcCA9IG55ICsgInB4IjsKICBkcmFnX2N1cnJlbnRfb2JqLnN0eWxlLmxlZnQgPSBueCArICJweCI7CiAgZHJhZ19sYXN0TW91c2VYID0gZXg7CiAgZHJhZ19sYXN0TW91c2VZID0gZXk7CgogIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gZHJhZ1N0b3BfKCkKewogIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDsKICBkb2N1bWVudC5vbm1vdXNldXAgICA9IG51bGw7CiAgZHJhZ19jdXJyZW50X29iaiA9IG51bGw7CiAgZHJhZ19tb3VzZV9kb3duID0gZmFsc2U7CiAgZHJhZ19sYXN0TW91c2VYID0gZHJhZ19sYXN0TW91c2VZID0gMDsKfQoKZnVuY3Rpb24gZHJhZ0luaXRfKG8sIGV2dCkKewogIGRyYWdfY3VycmVudF9vYmogPSBvOwogIHZhciBvUm9vdCA9IGRvY3VtZW50Oy8vLmdldEVsZW1lbnRCeUlkKCJjb250YWluZXIiKTsKICBvLnJvb3QgPSBvUm9vdCAhPT0gbnVsbCA/IG9Sb290IDogbzsKCi8vICAgIG8ucm9vdC5vbkRyYWdTdGFydCA9IG5ldyBGdW5jdGlvbigpOwovLyAgICBvLnJvb3Qub25EcmFnU3RvcCA9IG5ldyBGdW5jdGlvbigpOwovLyAgICBvLnJvb3Qub25EcmFnICAgPSBuZXcgRnVuY3Rpb24oKTsKCiAgZHJhZ1N0YXJ0XygpOwoKICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGRyYWdEcmFnXzsKICBkb2N1bWVudC5vbm1vdXNldXAgPSBkcmFnU3RvcF87Cn0KCi8qKgogKiBmaW5kIGRpdiB3aXRoIG1heCB6SW5kZXguCiAqIHRoaXMgaW5mbyBuZWVkZWQgaW4gZHJhZyduJ2Ryb3AKICovCnZhciBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpOwpmb3IgKHZhciBpeiA9IDA7IGl6IDwgYS5sZW5ndGg7IGl6KyspIHsKCWlmIChhW2l6XS5zdHlsZS56SW5kZXgpIHsKCQlpZiAoYVtpel0uc3R5bGUuekluZGV4ID4gaGlnaGVzdFppbmRleCkgewoJCQloaWdoZXN0WmluZGV4ID0gYVtpel0uc3R5bGUuekluZGV4OwoJCX0KCX0KfQoKZnVuY3Rpb24gc3Vic3RyKGZfc3RyaW5nLCBmX3N0YXJ0LCBmX2xlbmd0aCkKewoJaWYgKGZfc3RhcnQgPCAwKSB7IGZfc3RhcnQgKz0gZl9zdHJpbmcubGVuZ3RoOyB9CgoJaWYgKGZfbGVuZ3RoID09PSAndW5kZWZpbmVkJykgeyBmX2xlbmd0aCA9IGZfc3RyaW5nLmxlbmd0aDsKCX0gZWxzZSBpZiAoZl9sZW5ndGggPCAwKSB7IGZfbGVuZ3RoICs9IGZfc3RyaW5nLmxlbmd0aDsKCX0gZWxzZSB7IGZfbGVuZ3RoICs9IGZfc3RhcnQ7IH0KCglpZiAoZl9sZW5ndGggPCBmX3N0YXJ0KSB7IGZfbGVuZ3RoID0gZl9zdGFydDsgfQoKCXJldHVybiBmX3N0cmluZy5zdWJzdHJpbmcoZl9zdGFydCwgZl9sZW5ndGgpOwp9CgovKioKICogY2FsbCBiaW5kZWQgZXZlbnQKICovCmZ1bmN0aW9uIGV4ZWNFdmVudEJpbmRlZChzcmNJRCwgZXZ0TmFtZSwgcGFyYW1zKQp7Cgl2YXIgbyA9IGV2YWwoIk9ial8iK3NyY0lEKyIgfHwgbnVsbDsiKTsKLy8JdmFyIGVlID0gZXZhbCgiT2JqXyIrc3JjSUQrIi5ldmVudEVuZ2luZSB8fCBudWxsOyIpOwoJaWYgKG8vKiAmJiBlZSovKSB7CgoJCWZvciAodmFyIGkgPSAwOyBpIDwgby5ldmVudEVuZ2luZS5ldmVudERpc3BhdGNoZXIuZXZlbnRBcnJheS5sZW5ndGg7IGkrKykgewoJCQlpZiAoby5ldmVudEVuZ2luZS5ldmVudERpc3BhdGNoZXIuZXZlbnRBcnJheVtpXS5ldmVudFNyYyA9PSAib18iK3NyY0lEKyI6IitldnROYW1lKSB7CgkJCQl2YXIgZXYgPSBuZXcgVkRPTV9FdmVudCgpOwoJCQkJZXYuc3JjT2JqID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9fIitzcmNJRCk7CgkJCQlldi5uYW1lID0gZXZ0TmFtZTsKCQkJCWlmIChwYXJhbXMgIT09ICd1bmRlZmluZWQnKSB7CgkJCQkJZm9yICh2YXIgayBpbiBwYXJhbXMpIHsKCQkJCQkJaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShrKSkgewoJCQkJCQkJZXYuYWRkUGFyYW1ldGVyKGssIHBhcmFtc1trXSk7CgkJCQkJCX0KCQkJCQl9Ci8vCQkJCWZvciAodmFyIGk9MDtpPHBhcmFtcy5sZW5ndGg7aSsrKSB7Ci8vCQkJCQlldi5hZGRQYXJhbWV0ZXIocGFyYW1zW2ldLk5hbWUsIHBhcmFtc1tpXS5WYWx1ZSk7Ci8vCQkJCX0KCQkJCX0KCQkJCW8uZXZlbnRFbmdpbmUucHJvY2Vzc0V2ZW50KGV2KTsKCQkJfQoJCX0KCgl9IGVsc2UgewoJfQp9CgpmdW5jdGlvbiBleHBsb2RlKGRlbGltaXRlciwgc3RyaW5nKQp7Cgl2YXIgZW1wdHlBcnJheSA9IHsgMDogJycgfTsKCWlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIgfHwgdHlwZW9mIGFyZ3VtZW50c1swXSA9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgYXJndW1lbnRzWzFdID09ICd1bmRlZmluZWQnKSB7IHJldHVybiBudWxsOyB9CglpZiAoZGVsaW1pdGVyID09PSAnJyB8fCBkZWxpbWl0ZXIgPT09IGZhbHNlIHx8IGRlbGltaXRlciA9PT0gbnVsbCkgeyByZXR1cm4gZmFsc2U7IH0KCWlmICh0eXBlb2YgZGVsaW1pdGVyID09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGRlbGltaXRlciA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygc3RyaW5nID09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHN0cmluZyA9PSAnb2JqZWN0JykgeyByZXR1cm4gZW1wdHlBcnJheTsgfQoJaWYgKGRlbGltaXRlciA9PT0gdHJ1ZSkgeyBkZWxpbWl0ZXIgPSAnMSc7IH0KCXJldHVybiBzdHJpbmcudG9TdHJpbmcoKS5zcGxpdChkZWxpbWl0ZXIudG9TdHJpbmcoKSk7Cn0KCg==]]>
		</Resource>
		<Resource ID="113513d0-ebae-42c4-9bdf-44ebf7828910" Name="jquery_etc" Type="js">
			<![CDATA[LyogM3JkLnAubGlicyxsbWQ6MjAxMC0xMS0xNyAqLwoKLyoganF1ZXJ5LTEuNC40ICovCihmdW5jdGlvbihFLEIpe2Z1bmN0aW9uIGthKGEsYixkKXtpZihkPT09QiYmYS5ub2RlVHlwZT09PTEpe2Q9YS5nZXRBdHRyaWJ1dGUoImRhdGEtIitiKTtpZih0eXBlb2YgZD09PSJzdHJpbmciKXt0cnl7ZD1kPT09InRydWUiP3RydWU6ZD09PSJmYWxzZSI/ZmFsc2U6ZD09PSJudWxsIj9udWxsOiFjLmlzTmFOKGQpP3BhcnNlRmxvYXQoZCk6SmEudGVzdChkKT9jLnBhcnNlSlNPTihkKTpkfWNhdGNoKGUpe31jLmRhdGEoYSxiLGQpfWVsc2UgZD1CfXJldHVybiBkfWZ1bmN0aW9uIFUoKXtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gY2EoKXtyZXR1cm4gdHJ1ZX1mdW5jdGlvbiBsYShhLGIsZCl7ZFswXS50eXBlPWE7cmV0dXJuIGMuZXZlbnQuaGFuZGxlLmFwcGx5KGIsZCl9ZnVuY3Rpb24gS2EoYSl7dmFyIGIsZCxlLGYsaCxsLGssbyx4LHIsQSxDPVtdO2Y9W107aD1jLmRhdGEodGhpcyx0aGlzLm5vZGVUeXBlPyJldmVudHMiOiJfX2V2ZW50c19fIik7aWYodHlwZW9mIGg9PT0iZnVuY3Rpb24iKWg9CmguZXZlbnRzO2lmKCEoYS5saXZlRmlyZWQ9PT10aGlzfHwhaHx8IWgubGl2ZXx8YS5idXR0b24mJmEudHlwZT09PSJjbGljayIpKXtpZihhLm5hbWVzcGFjZSlBPVJlZ0V4cCgiKF58XFwuKSIrYS5uYW1lc3BhY2Uuc3BsaXQoIi4iKS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKTthLmxpdmVGaXJlZD10aGlzO3ZhciBKPWgubGl2ZS5zbGljZSgwKTtmb3Ioaz0wO2s8Si5sZW5ndGg7aysrKXtoPUpba107aC5vcmlnVHlwZS5yZXBsYWNlKFgsIiIpPT09YS50eXBlP2YucHVzaChoLnNlbGVjdG9yKTpKLnNwbGljZShrLS0sMSl9Zj1jKGEudGFyZ2V0KS5jbG9zZXN0KGYsYS5jdXJyZW50VGFyZ2V0KTtvPTA7Zm9yKHg9Zi5sZW5ndGg7bzx4O28rKyl7cj1mW29dO2ZvcihrPTA7azxKLmxlbmd0aDtrKyspe2g9SltrXTtpZihyLnNlbGVjdG9yPT09aC5zZWxlY3RvciYmKCFBfHxBLnRlc3QoaC5uYW1lc3BhY2UpKSl7bD1yLmVsZW07ZT1udWxsO2lmKGgucHJlVHlwZT09PSJtb3VzZWVudGVyInx8CmgucHJlVHlwZT09PSJtb3VzZWxlYXZlIil7YS50eXBlPWgucHJlVHlwZTtlPWMoYS5yZWxhdGVkVGFyZ2V0KS5jbG9zZXN0KGguc2VsZWN0b3IpWzBdfWlmKCFlfHxlIT09bClDLnB1c2goe2VsZW06bCxoYW5kbGVPYmo6aCxsZXZlbDpyLmxldmVsfSl9fX1vPTA7Zm9yKHg9Qy5sZW5ndGg7bzx4O28rKyl7Zj1DW29dO2lmKGQmJmYubGV2ZWw+ZClicmVhazthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtO2EuZGF0YT1mLmhhbmRsZU9iai5kYXRhO2EuaGFuZGxlT2JqPWYuaGFuZGxlT2JqO0E9Zi5oYW5kbGVPYmoub3JpZ0hhbmRsZXIuYXBwbHkoZi5lbGVtLGFyZ3VtZW50cyk7aWYoQT09PWZhbHNlfHxhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2Q9Zi5sZXZlbDtpZihBPT09ZmFsc2UpYj1mYWxzZTtpZihhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpYnJlYWt9fXJldHVybiBifX1mdW5jdGlvbiBZKGEsYil7cmV0dXJuKGEmJmEhPT0iKiI/YSsiLiI6IiIpK2IucmVwbGFjZShMYSwKImAiKS5yZXBsYWNlKE1hLCImIil9ZnVuY3Rpb24gbWEoYSxiLGQpe2lmKGMuaXNGdW5jdGlvbihiKSlyZXR1cm4gYy5ncmVwKGEsZnVuY3Rpb24oZixoKXtyZXR1cm4hIWIuY2FsbChmLGgsZik9PT1kfSk7ZWxzZSBpZihiLm5vZGVUeXBlKXJldHVybiBjLmdyZXAoYSxmdW5jdGlvbihmKXtyZXR1cm4gZj09PWI9PT1kfSk7ZWxzZSBpZih0eXBlb2YgYj09PSJzdHJpbmciKXt2YXIgZT1jLmdyZXAoYSxmdW5jdGlvbihmKXtyZXR1cm4gZi5ub2RlVHlwZT09PTF9KTtpZihOYS50ZXN0KGIpKXJldHVybiBjLmZpbHRlcihiLGUsIWQpO2Vsc2UgYj1jLmZpbHRlcihiLGUpfXJldHVybiBjLmdyZXAoYSxmdW5jdGlvbihmKXtyZXR1cm4gYy5pbkFycmF5KGYsYik+PTA9PT1kfSl9ZnVuY3Rpb24gbmEoYSxiKXt2YXIgZD0wO2IuZWFjaChmdW5jdGlvbigpe2lmKHRoaXMubm9kZU5hbWU9PT0oYVtkXSYmYVtkXS5ub2RlTmFtZSkpe3ZhciBlPWMuZGF0YShhW2QrK10pLGY9Yy5kYXRhKHRoaXMsCmUpO2lmKGU9ZSYmZS5ldmVudHMpe2RlbGV0ZSBmLmhhbmRsZTtmLmV2ZW50cz17fTtmb3IodmFyIGggaW4gZSlmb3IodmFyIGwgaW4gZVtoXSljLmV2ZW50LmFkZCh0aGlzLGgsZVtoXVtsXSxlW2hdW2xdLmRhdGEpfX19KX1mdW5jdGlvbiBPYShhLGIpe2Iuc3JjP2MuYWpheCh7dXJsOmIuc3JjLGFzeW5jOmZhbHNlLGRhdGFUeXBlOiJzY3JpcHQifSk6Yy5nbG9iYWxFdmFsKGIudGV4dHx8Yi50ZXh0Q29udGVudHx8Yi5pbm5lckhUTUx8fCIiKTtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiBvYShhLGIsZCl7dmFyIGU9Yj09PSJ3aWR0aCI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodDtpZihkPT09ImJvcmRlciIpcmV0dXJuIGU7Yy5lYWNoKGI9PT0id2lkdGgiP1BhOlFhLGZ1bmN0aW9uKCl7ZHx8KGUtPXBhcnNlRmxvYXQoYy5jc3MoYSwicGFkZGluZyIrdGhpcykpfHwwKTtpZihkPT09Im1hcmdpbiIpZSs9cGFyc2VGbG9hdChjLmNzcyhhLAoibWFyZ2luIit0aGlzKSl8fDA7ZWxzZSBlLT1wYXJzZUZsb2F0KGMuY3NzKGEsImJvcmRlciIrdGhpcysiV2lkdGgiKSl8fDB9KTtyZXR1cm4gZX1mdW5jdGlvbiBkYShhLGIsZCxlKXtpZihjLmlzQXJyYXkoYikmJmIubGVuZ3RoKWMuZWFjaChiLGZ1bmN0aW9uKGYsaCl7ZHx8UmEudGVzdChhKT9lKGEsaCk6ZGEoYSsiWyIrKHR5cGVvZiBoPT09Im9iamVjdCJ8fGMuaXNBcnJheShoKT9mOiIiKSsiXSIsaCxkLGUpfSk7ZWxzZSBpZighZCYmYiE9bnVsbCYmdHlwZW9mIGI9PT0ib2JqZWN0IiljLmlzRW1wdHlPYmplY3QoYik/ZShhLCIiKTpjLmVhY2goYixmdW5jdGlvbihmLGgpe2RhKGErIlsiK2YrIl0iLGgsZCxlKX0pO2Vsc2UgZShhLGIpfWZ1bmN0aW9uIFMoYSxiKXt2YXIgZD17fTtjLmVhY2gocGEuY29uY2F0LmFwcGx5KFtdLHBhLnNsaWNlKDAsYikpLGZ1bmN0aW9uKCl7ZFt0aGlzXT1hfSk7cmV0dXJuIGR9ZnVuY3Rpb24gcWEoYSl7aWYoIWVhW2FdKXt2YXIgYj1jKCI8IisKYSsiPiIpLmFwcGVuZFRvKCJib2R5IiksZD1iLmNzcygiZGlzcGxheSIpO2IucmVtb3ZlKCk7aWYoZD09PSJub25lInx8ZD09PSIiKWQ9ImJsb2NrIjtlYVthXT1kfXJldHVybiBlYVthXX1mdW5jdGlvbiBmYShhKXtyZXR1cm4gYy5pc1dpbmRvdyhhKT9hOmEubm9kZVR5cGU9PT05P2EuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93OmZhbHNlfXZhciB0PUUuZG9jdW1lbnQsYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtpZighYi5pc1JlYWR5KXt0cnl7dC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChqKXtzZXRUaW1lb3V0KGEsMSk7cmV0dXJufWIucmVhZHkoKX19dmFyIGI9ZnVuY3Rpb24oaixzKXtyZXR1cm4gbmV3IGIuZm4uaW5pdChqLHMpfSxkPUUualF1ZXJ5LGU9RS4kLGYsaD0vXig/OltePF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0rKSQpLyxsPS9cUy8saz0vXlxzKy8sbz0vXHMrJC8seD0vXFcvLHI9L1xkLyxBPS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPik/JC8sCkM9L15bXF0sOnt9XHNdKiQvLEo9L1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyx3PS8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZyxJPS8oPzpefDp8LCkoPzpccypcWykrL2csTD0vKHdlYmtpdClbIFwvXShbXHcuXSspLyxnPS8ob3BlcmEpKD86Lip2ZXJzaW9uKT9bIFwvXShbXHcuXSspLyxpPS8obXNpZSkgKFtcdy5dKykvLG49Lyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKSk/LyxtPW5hdmlnYXRvci51c2VyQWdlbnQscD1mYWxzZSxxPVtdLHUseT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLEY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxNPUFycmF5LnByb3RvdHlwZS5wdXNoLE49QXJyYXkucHJvdG90eXBlLnNsaWNlLE89U3RyaW5nLnByb3RvdHlwZS50cmltLEQ9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsUj17fTtiLmZuPWIucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGosCnMpe3ZhciB2LHosSDtpZighailyZXR1cm4gdGhpcztpZihqLm5vZGVUeXBlKXt0aGlzLmNvbnRleHQ9dGhpc1swXT1qO3RoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYoaj09PSJib2R5IiYmIXMmJnQuYm9keSl7dGhpcy5jb250ZXh0PXQ7dGhpc1swXT10LmJvZHk7dGhpcy5zZWxlY3Rvcj0iYm9keSI7dGhpcy5sZW5ndGg9MTtyZXR1cm4gdGhpc31pZih0eXBlb2Ygaj09PSJzdHJpbmciKWlmKCh2PWguZXhlYyhqKSkmJih2WzFdfHwhcykpaWYodlsxXSl7SD1zP3Mub3duZXJEb2N1bWVudHx8czp0O2lmKHo9QS5leGVjKGopKWlmKGIuaXNQbGFpbk9iamVjdChzKSl7aj1bdC5jcmVhdGVFbGVtZW50KHpbMV0pXTtiLmZuLmF0dHIuY2FsbChqLHMsdHJ1ZSl9ZWxzZSBqPVtILmNyZWF0ZUVsZW1lbnQoelsxXSldO2Vsc2V7ej1iLmJ1aWxkRnJhZ21lbnQoW3ZbMV1dLFtIXSk7aj0oei5jYWNoZWFibGU/ei5mcmFnbWVudC5jbG9uZU5vZGUodHJ1ZSk6ei5mcmFnbWVudCkuY2hpbGROb2Rlc31yZXR1cm4gYi5tZXJnZSh0aGlzLApqKX1lbHNle2lmKCh6PXQuZ2V0RWxlbWVudEJ5SWQodlsyXSkpJiZ6LnBhcmVudE5vZGUpe2lmKHouaWQhPT12WzJdKXJldHVybiBmLmZpbmQoaik7dGhpcy5sZW5ndGg9MTt0aGlzWzBdPXp9dGhpcy5jb250ZXh0PXQ7dGhpcy5zZWxlY3Rvcj1qO3JldHVybiB0aGlzfWVsc2UgaWYoIXMmJiF4LnRlc3Qoaikpe3RoaXMuc2VsZWN0b3I9ajt0aGlzLmNvbnRleHQ9dDtqPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaik7cmV0dXJuIGIubWVyZ2UodGhpcyxqKX1lbHNlIHJldHVybiFzfHxzLmpxdWVyeT8oc3x8ZikuZmluZChqKTpiKHMpLmZpbmQoaik7ZWxzZSBpZihiLmlzRnVuY3Rpb24oaikpcmV0dXJuIGYucmVhZHkoaik7aWYoai5zZWxlY3RvciE9PUIpe3RoaXMuc2VsZWN0b3I9ai5zZWxlY3Rvcjt0aGlzLmNvbnRleHQ9ai5jb250ZXh0fXJldHVybiBiLm1ha2VBcnJheShqLHRoaXMpfSxzZWxlY3RvcjoiIixqcXVlcnk6IjEuNC40IixsZW5ndGg6MCxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSwKdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBOLmNhbGwodGhpcywwKX0sZ2V0OmZ1bmN0aW9uKGope3JldHVybiBqPT1udWxsP3RoaXMudG9BcnJheSgpOmo8MD90aGlzLnNsaWNlKGopWzBdOnRoaXNbal19LHB1c2hTdGFjazpmdW5jdGlvbihqLHMsdil7dmFyIHo9YigpO2IuaXNBcnJheShqKT9NLmFwcGx5KHosaik6Yi5tZXJnZSh6LGopO3oucHJldk9iamVjdD10aGlzO3ouY29udGV4dD10aGlzLmNvbnRleHQ7aWYocz09PSJmaW5kIil6LnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrKHRoaXMuc2VsZWN0b3I/IiAiOiIiKSt2O2Vsc2UgaWYocyl6LnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrIi4iK3MrIigiK3YrIikiO3JldHVybiB6fSxlYWNoOmZ1bmN0aW9uKGoscyl7cmV0dXJuIGIuZWFjaCh0aGlzLGoscyl9LHJlYWR5OmZ1bmN0aW9uKGope2IuYmluZFJlYWR5KCk7aWYoYi5pc1JlYWR5KWouY2FsbCh0LGIpO2Vsc2UgcSYmcS5wdXNoKGopO3JldHVybiB0aGlzfSxlcTpmdW5jdGlvbihqKXtyZXR1cm4gaj09PQotMT90aGlzLnNsaWNlKGopOnRoaXMuc2xpY2UoaiwraisxKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soTi5hcHBseSh0aGlzLGFyZ3VtZW50cyksInNsaWNlIixOLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfSxtYXA6ZnVuY3Rpb24oail7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGIubWFwKHRoaXMsZnVuY3Rpb24ocyx2KXtyZXR1cm4gai5jYWxsKHMsdixzKX0pKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8YihudWxsKX0scHVzaDpNLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfTtiLmZuLmluaXQucHJvdG90eXBlPWIuZm47Yi5leHRlbmQ9Yi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgaixzLHYseixILEc9YXJndW1lbnRzWzBdfHx7fSxLPTEsUT1hcmd1bWVudHMubGVuZ3RoLGdhPWZhbHNlOwppZih0eXBlb2YgRz09PSJib29sZWFuIil7Z2E9RztHPWFyZ3VtZW50c1sxXXx8e307Sz0yfWlmKHR5cGVvZiBHIT09Im9iamVjdCImJiFiLmlzRnVuY3Rpb24oRykpRz17fTtpZihRPT09Syl7Rz10aGlzOy0tS31mb3IoO0s8UTtLKyspaWYoKGo9YXJndW1lbnRzW0tdKSE9bnVsbClmb3IocyBpbiBqKXt2PUdbc107ej1qW3NdO2lmKEchPT16KWlmKGdhJiZ6JiYoYi5pc1BsYWluT2JqZWN0KHopfHwoSD1iLmlzQXJyYXkoeikpKSl7aWYoSCl7SD1mYWxzZTt2PXYmJmIuaXNBcnJheSh2KT92OltdfWVsc2Ugdj12JiZiLmlzUGxhaW5PYmplY3Qodik/djp7fTtHW3NdPWIuZXh0ZW5kKGdhLHYseil9ZWxzZSBpZih6IT09QilHW3NdPXp9cmV0dXJuIEd9O2IuZXh0ZW5kKHtub0NvbmZsaWN0OmZ1bmN0aW9uKGope0UuJD1lO2lmKGopRS5qUXVlcnk9ZDtyZXR1cm4gYn0saXNSZWFkeTpmYWxzZSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihqKXtqPT09dHJ1ZSYmYi5yZWFkeVdhaXQtLTsKaWYoIWIucmVhZHlXYWl0fHxqIT09dHJ1ZSYmIWIuaXNSZWFkeSl7aWYoIXQuYm9keSlyZXR1cm4gc2V0VGltZW91dChiLnJlYWR5LDEpO2IuaXNSZWFkeT10cnVlO2lmKCEoaiE9PXRydWUmJi0tYi5yZWFkeVdhaXQ+MCkpaWYocSl7dmFyIHM9MCx2PXE7Zm9yKHE9bnVsbDtqPXZbcysrXTspai5jYWxsKHQsYik7Yi5mbi50cmlnZ2VyJiZiKHQpLnRyaWdnZXIoInJlYWR5IikudW5iaW5kKCJyZWFkeSIpfX19LGJpbmRSZWFkeTpmdW5jdGlvbigpe2lmKCFwKXtwPXRydWU7aWYodC5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIilyZXR1cm4gc2V0VGltZW91dChiLnJlYWR5LDEpO2lmKHQuYWRkRXZlbnRMaXN0ZW5lcil7dC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix1LGZhbHNlKTtFLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGIucmVhZHksZmFsc2UpfWVsc2UgaWYodC5hdHRhY2hFdmVudCl7dC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIix1KTtFLmF0dGFjaEV2ZW50KCJvbmxvYWQiLApiLnJlYWR5KTt2YXIgaj1mYWxzZTt0cnl7aj1FLmZyYW1lRWxlbWVudD09bnVsbH1jYXRjaChzKXt9dC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJmomJmEoKX19fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGope3JldHVybiBiLnR5cGUoaik9PT0iZnVuY3Rpb24ifSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGope3JldHVybiBiLnR5cGUoaik9PT0iYXJyYXkifSxpc1dpbmRvdzpmdW5jdGlvbihqKXtyZXR1cm4gaiYmdHlwZW9mIGo9PT0ib2JqZWN0IiYmInNldEludGVydmFsImluIGp9LGlzTmFOOmZ1bmN0aW9uKGope3JldHVybiBqPT1udWxsfHwhci50ZXN0KGopfHxpc05hTihqKX0sdHlwZTpmdW5jdGlvbihqKXtyZXR1cm4gaj09bnVsbD9TdHJpbmcoaik6Ult5LmNhbGwoaildfHwib2JqZWN0In0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihqKXtpZighanx8Yi50eXBlKGopIT09Im9iamVjdCJ8fGoubm9kZVR5cGV8fGIuaXNXaW5kb3coaikpcmV0dXJuIGZhbHNlO2lmKGouY29uc3RydWN0b3ImJgohRi5jYWxsKGosImNvbnN0cnVjdG9yIikmJiFGLmNhbGwoai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKSlyZXR1cm4gZmFsc2U7Zm9yKHZhciBzIGluIGopO3JldHVybiBzPT09Qnx8Ri5jYWxsKGoscyl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oail7Zm9yKHZhciBzIGluIGopcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlfSxlcnJvcjpmdW5jdGlvbihqKXt0aHJvdyBqO30scGFyc2VKU09OOmZ1bmN0aW9uKGope2lmKHR5cGVvZiBqIT09InN0cmluZyJ8fCFqKXJldHVybiBudWxsO2o9Yi50cmltKGopO2lmKEMudGVzdChqLnJlcGxhY2UoSiwiQCIpLnJlcGxhY2UodywiXSIpLnJlcGxhY2UoSSwiIikpKXJldHVybiBFLkpTT04mJkUuSlNPTi5wYXJzZT9FLkpTT04ucGFyc2Uoaik6KG5ldyBGdW5jdGlvbigicmV0dXJuICIraikpKCk7ZWxzZSBiLmVycm9yKCJJbnZhbGlkIEpTT046ICIrail9LG5vb3A6ZnVuY3Rpb24oKXt9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oail7aWYoaiYmCmwudGVzdChqKSl7dmFyIHM9dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHx0LmRvY3VtZW50RWxlbWVudCx2PXQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7di50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO2lmKGIuc3VwcG9ydC5zY3JpcHRFdmFsKXYuYXBwZW5kQ2hpbGQodC5jcmVhdGVUZXh0Tm9kZShqKSk7ZWxzZSB2LnRleHQ9ajtzLmluc2VydEJlZm9yZSh2LHMuZmlyc3RDaGlsZCk7cy5yZW1vdmVDaGlsZCh2KX19LG5vZGVOYW1lOmZ1bmN0aW9uKGoscyl7cmV0dXJuIGoubm9kZU5hbWUmJmoubm9kZU5hbWUudG9VcHBlckNhc2UoKT09PXMudG9VcHBlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihqLHMsdil7dmFyIHosSD0wLEc9ai5sZW5ndGgsSz1HPT09Qnx8Yi5pc0Z1bmN0aW9uKGopO2lmKHYpaWYoSylmb3IoeiBpbiBqKXtpZihzLmFwcGx5KGpbel0sdik9PT1mYWxzZSlicmVha31lbHNlIGZvcig7SDxHOyl7aWYocy5hcHBseShqW0grK10sdik9PT1mYWxzZSlicmVha31lbHNlIGlmKEspZm9yKHogaW4gail7aWYocy5jYWxsKGpbel0sCnosalt6XSk9PT1mYWxzZSlicmVha31lbHNlIGZvcih2PWpbMF07SDxHJiZzLmNhbGwodixILHYpIT09ZmFsc2U7dj1qWysrSF0pO3JldHVybiBqfSx0cmltOk8/ZnVuY3Rpb24oail7cmV0dXJuIGo9PW51bGw/IiI6Ty5jYWxsKGopfTpmdW5jdGlvbihqKXtyZXR1cm4gaj09bnVsbD8iIjpqLnRvU3RyaW5nKCkucmVwbGFjZShrLCIiKS5yZXBsYWNlKG8sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oaixzKXt2YXIgdj1zfHxbXTtpZihqIT1udWxsKXt2YXIgej1iLnR5cGUoaik7ai5sZW5ndGg9PW51bGx8fHo9PT0ic3RyaW5nInx8ej09PSJmdW5jdGlvbiJ8fHo9PT0icmVnZXhwInx8Yi5pc1dpbmRvdyhqKT9NLmNhbGwodixqKTpiLm1lcmdlKHYsail9cmV0dXJuIHZ9LGluQXJyYXk6ZnVuY3Rpb24oaixzKXtpZihzLmluZGV4T2YpcmV0dXJuIHMuaW5kZXhPZihqKTtmb3IodmFyIHY9MCx6PXMubGVuZ3RoO3Y8ejt2KyspaWYoc1t2XT09PWopcmV0dXJuIHY7cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGosCnMpe3ZhciB2PWoubGVuZ3RoLHo9MDtpZih0eXBlb2Ygcy5sZW5ndGg9PT0ibnVtYmVyIilmb3IodmFyIEg9cy5sZW5ndGg7ejxIO3orKylqW3YrK109c1t6XTtlbHNlIGZvcig7c1t6XSE9PUI7KWpbdisrXT1zW3orK107ai5sZW5ndGg9djtyZXR1cm4gan0sZ3JlcDpmdW5jdGlvbihqLHMsdil7dmFyIHo9W10sSDt2PSEhdjtmb3IodmFyIEc9MCxLPWoubGVuZ3RoO0c8SztHKyspe0g9ISFzKGpbR10sRyk7diE9PUgmJnoucHVzaChqW0ddKX1yZXR1cm4gen0sbWFwOmZ1bmN0aW9uKGoscyx2KXtmb3IodmFyIHo9W10sSCxHPTAsSz1qLmxlbmd0aDtHPEs7RysrKXtIPXMoaltHXSxHLHYpO2lmKEghPW51bGwpelt6Lmxlbmd0aF09SH1yZXR1cm4gei5jb25jYXQuYXBwbHkoW10seil9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihqLHMsdil7aWYoYXJndW1lbnRzLmxlbmd0aD09PTIpaWYodHlwZW9mIHM9PT0ic3RyaW5nIil7dj1qO2o9dltzXTtzPUJ9ZWxzZSBpZihzJiYhYi5pc0Z1bmN0aW9uKHMpKXt2PQpzO3M9Qn1pZighcyYmailzPWZ1bmN0aW9uKCl7cmV0dXJuIGouYXBwbHkodnx8dGhpcyxhcmd1bWVudHMpfTtpZihqKXMuZ3VpZD1qLmd1aWQ9ai5ndWlkfHxzLmd1aWR8fGIuZ3VpZCsrO3JldHVybiBzfSxhY2Nlc3M6ZnVuY3Rpb24oaixzLHYseixILEcpe3ZhciBLPWoubGVuZ3RoO2lmKHR5cGVvZiBzPT09Im9iamVjdCIpe2Zvcih2YXIgUSBpbiBzKWIuYWNjZXNzKGosUSxzW1FdLHosSCx2KTtyZXR1cm4gan1pZih2IT09Qil7ej0hRyYmeiYmYi5pc0Z1bmN0aW9uKHYpO2ZvcihRPTA7UTxLO1ErKylIKGpbUV0scyx6P3YuY2FsbChqW1FdLFEsSChqW1FdLHMpKTp2LEcpO3JldHVybiBqfXJldHVybiBLP0goalswXSxzKTpCfSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdWFNYXRjaDpmdW5jdGlvbihqKXtqPWoudG9Mb3dlckNhc2UoKTtqPUwuZXhlYyhqKXx8Zy5leGVjKGopfHxpLmV4ZWMoail8fGouaW5kZXhPZigiY29tcGF0aWJsZSIpPDAmJm4uZXhlYyhqKXx8CltdO3JldHVybnticm93c2VyOmpbMV18fCIiLHZlcnNpb246alsyXXx8IjAifX0sYnJvd3Nlcjp7fX0pO2IuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCIuc3BsaXQoIiAiKSxmdW5jdGlvbihqLHMpe1JbIltvYmplY3QgIitzKyJdIl09cy50b0xvd2VyQ2FzZSgpfSk7bT1iLnVhTWF0Y2gobSk7aWYobS5icm93c2VyKXtiLmJyb3dzZXJbbS5icm93c2VyXT10cnVlO2IuYnJvd3Nlci52ZXJzaW9uPW0udmVyc2lvbn1pZihiLmJyb3dzZXIud2Via2l0KWIuYnJvd3Nlci5zYWZhcmk9dHJ1ZTtpZihEKWIuaW5BcnJheT1mdW5jdGlvbihqLHMpe3JldHVybiBELmNhbGwocyxqKX07aWYoIS9ccy8udGVzdCgiXHUwMGEwIikpe2s9L15bXHNceEEwXSsvO289L1tcc1x4QTBdKyQvfWY9Yih0KTtpZih0LmFkZEV2ZW50TGlzdGVuZXIpdT1mdW5jdGlvbigpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsdSwKZmFsc2UpO2IucmVhZHkoKX07ZWxzZSBpZih0LmF0dGFjaEV2ZW50KXU9ZnVuY3Rpb24oKXtpZih0LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXt0LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLHUpO2IucmVhZHkoKX19O3JldHVybiBFLmpRdWVyeT1FLiQ9Yn0oKTsoZnVuY3Rpb24oKXtjLnN1cHBvcnQ9e307dmFyIGE9dC5kb2N1bWVudEVsZW1lbnQsYj10LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGQ9dC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPSJzY3JpcHQiK2Mubm93KCk7ZC5zdHlsZS5kaXNwbGF5PSJub25lIjtkLmlubmVySFRNTD0iICAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJyBzdHlsZT0nY29sb3I6cmVkO2Zsb2F0OmxlZnQ7b3BhY2l0eTouNTU7Jz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiI7dmFyIGY9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGg9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdLGw9dC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSwKaz1sLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2lmKCEoIWZ8fCFmLmxlbmd0aHx8IWgpKXtjLnN1cHBvcnQ9e2xlYWRpbmdXaGl0ZXNwYWNlOmQuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTMsdGJvZHk6IWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoLGh0bWxTZXJpYWxpemU6ISFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIikubGVuZ3RoLHN0eWxlOi9yZWQvLnRlc3QoaC5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLGhyZWZOb3JtYWxpemVkOmguZ2V0QXR0cmlidXRlKCJocmVmIik9PT0iL2EiLG9wYWNpdHk6L14wLjU1JC8udGVzdChoLnN0eWxlLm9wYWNpdHkpLGNzc0Zsb2F0OiEhaC5zdHlsZS5jc3NGbG9hdCxjaGVja09uOmQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF0udmFsdWU9PT0ib24iLG9wdFNlbGVjdGVkOmsuc2VsZWN0ZWQsZGVsZXRlRXhwYW5kbzp0cnVlLG9wdERpc2FibGVkOmZhbHNlLGNoZWNrQ2xvbmU6ZmFsc2UsCnNjcmlwdEV2YWw6ZmFsc2Usbm9DbG9uZUV2ZW50OnRydWUsYm94TW9kZWw6bnVsbCxpbmxpbmVCbG9ja05lZWRzTGF5b3V0OmZhbHNlLHNocmlua1dyYXBCbG9ja3M6ZmFsc2UscmVsaWFibGVIaWRkZW5PZmZzZXRzOnRydWV9O2wuZGlzYWJsZWQ9dHJ1ZTtjLnN1cHBvcnQub3B0RGlzYWJsZWQ9IWsuZGlzYWJsZWQ7Yi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO3RyeXtiLmFwcGVuZENoaWxkKHQuY3JlYXRlVGV4dE5vZGUoIndpbmRvdy4iK2UrIj0xOyIpKX1jYXRjaChvKXt9YS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpO2lmKEVbZV0pe2Muc3VwcG9ydC5zY3JpcHRFdmFsPXRydWU7ZGVsZXRlIEVbZV19dHJ5e2RlbGV0ZSBiLnRlc3R9Y2F0Y2goeCl7Yy5zdXBwb3J0LmRlbGV0ZUV4cGFuZG89ZmFsc2V9YS5yZW1vdmVDaGlsZChiKTtpZihkLmF0dGFjaEV2ZW50JiZkLmZpcmVFdmVudCl7ZC5hdHRhY2hFdmVudCgib25jbGljayIsZnVuY3Rpb24gcigpe2Muc3VwcG9ydC5ub0Nsb25lRXZlbnQ9CmZhbHNlO2QuZGV0YWNoRXZlbnQoIm9uY2xpY2siLHIpfSk7ZC5jbG9uZU5vZGUodHJ1ZSkuZmlyZUV2ZW50KCJvbmNsaWNrIil9ZD10LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2QuaW5uZXJIVE1MPSI8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9J3JhZGlvdGVzdCcgY2hlY2tlZD0nY2hlY2tlZCcvPiI7YT10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmFwcGVuZENoaWxkKGQuZmlyc3RDaGlsZCk7Yy5zdXBwb3J0LmNoZWNrQ2xvbmU9YS5jbG9uZU5vZGUodHJ1ZSkuY2xvbmVOb2RlKHRydWUpLmxhc3RDaGlsZC5jaGVja2VkO2MoZnVuY3Rpb24oKXt2YXIgcj10LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Iuc3R5bGUud2lkdGg9ci5zdHlsZS5wYWRkaW5nTGVmdD0iMXB4Ijt0LmJvZHkuYXBwZW5kQ2hpbGQocik7Yy5ib3hNb2RlbD1jLnN1cHBvcnQuYm94TW9kZWw9ci5vZmZzZXRXaWR0aD09PTI7aWYoInpvb20iaW4gci5zdHlsZSl7ci5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO3Iuc3R5bGUuem9vbT0KMTtjLnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dD1yLm9mZnNldFdpZHRoPT09MjtyLnN0eWxlLmRpc3BsYXk9IiI7ci5pbm5lckhUTUw9IjxkaXYgc3R5bGU9J3dpZHRoOjRweDsnPjwvZGl2PiI7Yy5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3M9ci5vZmZzZXRXaWR0aCE9PTJ9ci5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjA7ZGlzcGxheTpub25lJz48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+Ijt2YXIgQT1yLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpO2Muc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9QVswXS5vZmZzZXRIZWlnaHQ9PT0wO0FbMF0uc3R5bGUuZGlzcGxheT0iIjtBWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2Muc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9Yy5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmQVswXS5vZmZzZXRIZWlnaHQ9PT0wO3IuaW5uZXJIVE1MPSIiO3QuYm9keS5yZW1vdmVDaGlsZChyKS5zdHlsZS5kaXNwbGF5PQoibm9uZSJ9KTthPWZ1bmN0aW9uKHIpe3ZhciBBPXQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cj0ib24iK3I7dmFyIEM9ciBpbiBBO2lmKCFDKXtBLnNldEF0dHJpYnV0ZShyLCJyZXR1cm47Iik7Qz10eXBlb2YgQVtyXT09PSJmdW5jdGlvbiJ9cmV0dXJuIEN9O2Muc3VwcG9ydC5zdWJtaXRCdWJibGVzPWEoInN1Ym1pdCIpO2Muc3VwcG9ydC5jaGFuZ2VCdWJibGVzPWEoImNoYW5nZSIpO2E9Yj1kPWY9aD1udWxsfX0pKCk7dmFyIHJhPXt9LEphPS9eKD86XHsuKlx9fFxbLipcXSkkLztjLmV4dGVuZCh7Y2FjaGU6e30sdXVpZDowLGV4cGFuZG86ImpRdWVyeSIrYy5ub3coKSxub0RhdGE6e2VtYmVkOnRydWUsb2JqZWN0OiJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAiLGFwcGxldDp0cnVlfSxkYXRhOmZ1bmN0aW9uKGEsYixkKXtpZihjLmFjY2VwdERhdGEoYSkpe2E9YT09RT9yYTphO3ZhciBlPWEubm9kZVR5cGUsZj1lP2FbYy5leHBhbmRvXTpudWxsLGg9CmMuY2FjaGU7aWYoIShlJiYhZiYmdHlwZW9mIGI9PT0ic3RyaW5nIiYmZD09PUIpKXtpZihlKWZ8fChhW2MuZXhwYW5kb109Zj0rK2MudXVpZCk7ZWxzZSBoPWE7aWYodHlwZW9mIGI9PT0ib2JqZWN0IilpZihlKWhbZl09Yy5leHRlbmQoaFtmXSxiKTtlbHNlIGMuZXh0ZW5kKGgsYik7ZWxzZSBpZihlJiYhaFtmXSloW2ZdPXt9O2E9ZT9oW2ZdOmg7aWYoZCE9PUIpYVtiXT1kO3JldHVybiB0eXBlb2YgYj09PSJzdHJpbmciP2FbYl06YX19fSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7aWYoYy5hY2NlcHREYXRhKGEpKXthPWE9PUU/cmE6YTt2YXIgZD1hLm5vZGVUeXBlLGU9ZD9hW2MuZXhwYW5kb106YSxmPWMuY2FjaGUsaD1kP2ZbZV06ZTtpZihiKXtpZihoKXtkZWxldGUgaFtiXTtkJiZjLmlzRW1wdHlPYmplY3QoaCkmJmMucmVtb3ZlRGF0YShhKX19ZWxzZSBpZihkJiZjLnN1cHBvcnQuZGVsZXRlRXhwYW5kbylkZWxldGUgYVtjLmV4cGFuZG9dO2Vsc2UgaWYoYS5yZW1vdmVBdHRyaWJ1dGUpYS5yZW1vdmVBdHRyaWJ1dGUoYy5leHBhbmRvKTsKZWxzZSBpZihkKWRlbGV0ZSBmW2VdO2Vsc2UgZm9yKHZhciBsIGluIGEpZGVsZXRlIGFbbF19fSxhY2NlcHREYXRhOmZ1bmN0aW9uKGEpe2lmKGEubm9kZU5hbWUpe3ZhciBiPWMubm9EYXRhW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYilyZXR1cm4hKGI9PT10cnVlfHxhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpIT09Yil9cmV0dXJuIHRydWV9fSk7Yy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgZD1udWxsO2lmKHR5cGVvZiBhPT09InVuZGVmaW5lZCIpe2lmKHRoaXMubGVuZ3RoKXt2YXIgZT10aGlzWzBdLmF0dHJpYnV0ZXMsZjtkPWMuZGF0YSh0aGlzWzBdKTtmb3IodmFyIGg9MCxsPWUubGVuZ3RoO2g8bDtoKyspe2Y9ZVtoXS5uYW1lO2lmKGYuaW5kZXhPZigiZGF0YS0iKT09PTApe2Y9Zi5zdWJzdHIoNSk7a2EodGhpc1swXSxmLGRbZl0pfX19cmV0dXJuIGR9ZWxzZSBpZih0eXBlb2YgYT09PSJvYmplY3QiKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjLmRhdGEodGhpcywKYSl9KTt2YXIgaz1hLnNwbGl0KCIuIik7a1sxXT1rWzFdPyIuIitrWzFdOiIiO2lmKGI9PT1CKXtkPXRoaXMudHJpZ2dlckhhbmRsZXIoImdldERhdGEiK2tbMV0rIiEiLFtrWzBdXSk7aWYoZD09PUImJnRoaXMubGVuZ3RoKXtkPWMuZGF0YSh0aGlzWzBdLGEpO2Q9a2EodGhpc1swXSxhLGQpfXJldHVybiBkPT09QiYma1sxXT90aGlzLmRhdGEoa1swXSk6ZH1lbHNlIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbz1jKHRoaXMpLHg9W2tbMF0sYl07by50cmlnZ2VySGFuZGxlcigic2V0RGF0YSIra1sxXSsiISIseCk7Yy5kYXRhKHRoaXMsYSxiKTtvLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitrWzFdKyIhIix4KX0pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pO2MuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsZCl7aWYoYSl7Yj0oYnx8ImZ4IikrInF1ZXVlIjt2YXIgZT0KYy5kYXRhKGEsYik7aWYoIWQpcmV0dXJuIGV8fFtdO2lmKCFlfHxjLmlzQXJyYXkoZCkpZT1jLmRhdGEoYSxiLGMubWFrZUFycmF5KGQpKTtlbHNlIGUucHVzaChkKTtyZXR1cm4gZX19LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fCJmeCI7dmFyIGQ9Yy5xdWV1ZShhLGIpLGU9ZC5zaGlmdCgpO2lmKGU9PT0iaW5wcm9ncmVzcyIpZT1kLnNoaWZ0KCk7aWYoZSl7Yj09PSJmeCImJmQudW5zaGlmdCgiaW5wcm9ncmVzcyIpO2UuY2FsbChhLGZ1bmN0aW9uKCl7Yy5kZXF1ZXVlKGEsYil9KX19fSk7Yy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGEhPT0ic3RyaW5nIil7Yj1hO2E9ImZ4In1pZihiPT09QilyZXR1cm4gYy5xdWV1ZSh0aGlzWzBdLGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1jLnF1ZXVlKHRoaXMsYSxiKTthPT09ImZ4IiYmZFswXSE9PSJpbnByb2dyZXNzIiYmYy5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yy5kZXF1ZXVlKHRoaXMsCmEpfSl9LGRlbGF5OmZ1bmN0aW9uKGEsYil7YT1jLmZ4P2MuZnguc3BlZWRzW2FdfHxhOmE7Yj1ifHwiZngiO3JldHVybiB0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oKXt2YXIgZD10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmRlcXVldWUoZCxiKX0sYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX19KTt2YXIgc2E9L1tcblx0XS9nLGhhPS9ccysvLFNhPS9cci9nLFRhPS9eKD86aHJlZnxzcmN8c3R5bGUpJC8sVWE9L14oPzpidXR0b258aW5wdXQpJC9pLFZhPS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLFdhPS9eYSg/OnJlYSk/JC9pLHRhPS9eKD86cmFkaW98Y2hlY2tib3gpJC9pO2MucHJvcHM9eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUiLHJlYWRvbmx5OiJyZWFkT25seSIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIscm93c3Bhbjoicm93U3BhbiIsCmNvbHNwYW46ImNvbFNwYW4iLHRhYmluZGV4OiJ0YWJJbmRleCIsdXNlbWFwOiJ1c2VNYXAiLGZyYW1lYm9yZGVyOiJmcmFtZUJvcmRlciJ9O2MuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGMuYWNjZXNzKHRoaXMsYSxiLHRydWUsYy5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yy5hdHRyKHRoaXMsYSwiIik7dGhpcy5ub2RlVHlwZT09PTEmJnRoaXMucmVtb3ZlQXR0cmlidXRlKGEpfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGEpe2lmKGMuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHgpe3ZhciByPWModGhpcyk7ci5hZGRDbGFzcyhhLmNhbGwodGhpcyx4LHIuYXR0cigiY2xhc3MiKSkpfSk7aWYoYSYmdHlwZW9mIGE9PT0ic3RyaW5nIilmb3IodmFyIGI9KGF8fCIiKS5zcGxpdChoYSksZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9dGhpc1tkXTtpZihmLm5vZGVUeXBlPT09CjEpaWYoZi5jbGFzc05hbWUpe2Zvcih2YXIgaD0iICIrZi5jbGFzc05hbWUrIiAiLGw9Zi5jbGFzc05hbWUsaz0wLG89Yi5sZW5ndGg7azxvO2srKylpZihoLmluZGV4T2YoIiAiK2Jba10rIiAiKTwwKWwrPSIgIitiW2tdO2YuY2xhc3NOYW1lPWMudHJpbShsKX1lbHNlIGYuY2xhc3NOYW1lPWF9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe2lmKGMuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG8pe3ZhciB4PWModGhpcyk7eC5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxvLHguYXR0cigiY2xhc3MiKSkpfSk7aWYoYSYmdHlwZW9mIGE9PT0ic3RyaW5nInx8YT09PUIpZm9yKHZhciBiPShhfHwiIikuc3BsaXQoaGEpLGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspe3ZhciBmPXRoaXNbZF07aWYoZi5ub2RlVHlwZT09PTEmJmYuY2xhc3NOYW1lKWlmKGEpe2Zvcih2YXIgaD0oIiAiK2YuY2xhc3NOYW1lKyIgIikucmVwbGFjZShzYSwiICIpLApsPTAsaz1iLmxlbmd0aDtsPGs7bCsrKWg9aC5yZXBsYWNlKCIgIitiW2xdKyIgIiwiICIpO2YuY2xhc3NOYW1lPWMudHJpbShoKX1lbHNlIGYuY2xhc3NOYW1lPSIifXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBkPXR5cGVvZiBhLGU9dHlwZW9mIGI9PT0iYm9vbGVhbiI7aWYoYy5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZil7dmFyIGg9Yyh0aGlzKTtoLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGYsaC5hdHRyKCJjbGFzcyIpLGIpLGIpfSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2lmKGQ9PT0ic3RyaW5nIilmb3IodmFyIGYsaD0wLGw9Yyh0aGlzKSxrPWIsbz1hLnNwbGl0KGhhKTtmPW9baCsrXTspe2s9ZT9rOiFsLmhhc0NsYXNzKGYpO2xbaz8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKGYpfWVsc2UgaWYoZD09PSJ1bmRlZmluZWQifHxkPT09ImJvb2xlYW4iKXt0aGlzLmNsYXNzTmFtZSYmYy5kYXRhKHRoaXMsCiJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSk7dGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT1mYWxzZT8iIjpjLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIn19KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7YT0iICIrYSsiICI7Zm9yKHZhciBiPTAsZD10aGlzLmxlbmd0aDtiPGQ7YisrKWlmKCgiICIrdGhpc1tiXS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHNhLCIgIikuaW5kZXhPZihhKT4tMSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZmFsc2V9LHZhbDpmdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aCl7dmFyIGI9dGhpc1swXTtpZihiKXtpZihjLm5vZGVOYW1lKGIsIm9wdGlvbiIpKXt2YXIgZD1iLmF0dHJpYnV0ZXMudmFsdWU7cmV0dXJuIWR8fGQuc3BlY2lmaWVkP2IudmFsdWU6Yi50ZXh0fWlmKGMubm9kZU5hbWUoYiwic2VsZWN0Iikpe3ZhciBlPWIuc2VsZWN0ZWRJbmRleDtkPVtdO3ZhciBmPWIub3B0aW9ucztiPWIudHlwZT09PSJzZWxlY3Qtb25lIjsKaWYoZTwwKXJldHVybiBudWxsO3ZhciBoPWI/ZTowO2ZvcihlPWI/ZSsxOmYubGVuZ3RoO2g8ZTtoKyspe3ZhciBsPWZbaF07aWYobC5zZWxlY3RlZCYmKGMuc3VwcG9ydC5vcHREaXNhYmxlZD8hbC5kaXNhYmxlZDpsLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIWwucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWMubm9kZU5hbWUobC5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7YT1jKGwpLnZhbCgpO2lmKGIpcmV0dXJuIGE7ZC5wdXNoKGEpfX1yZXR1cm4gZH1pZih0YS50ZXN0KGIudHlwZSkmJiFjLnN1cHBvcnQuY2hlY2tPbilyZXR1cm4gYi5nZXRBdHRyaWJ1dGUoInZhbHVlIik9PT1udWxsPyJvbiI6Yi52YWx1ZTtyZXR1cm4oYi52YWx1ZXx8IiIpLnJlcGxhY2UoU2EsIiIpfXJldHVybiBCfXZhciBrPWMuaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG8pe3ZhciB4PWModGhpcykscj1hO2lmKHRoaXMubm9kZVR5cGU9PT0xKXtpZihrKXI9CmEuY2FsbCh0aGlzLG8seC52YWwoKSk7aWYocj09bnVsbClyPSIiO2Vsc2UgaWYodHlwZW9mIHI9PT0ibnVtYmVyIilyKz0iIjtlbHNlIGlmKGMuaXNBcnJheShyKSlyPWMubWFwKHIsZnVuY3Rpb24oQyl7cmV0dXJuIEM9PW51bGw/IiI6QysiIn0pO2lmKGMuaXNBcnJheShyKSYmdGEudGVzdCh0aGlzLnR5cGUpKXRoaXMuY2hlY2tlZD1jLmluQXJyYXkoeC52YWwoKSxyKT49MDtlbHNlIGlmKGMubm9kZU5hbWUodGhpcywic2VsZWN0Iikpe3ZhciBBPWMubWFrZUFycmF5KHIpO2MoIm9wdGlvbiIsdGhpcykuZWFjaChmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9Yy5pbkFycmF5KGModGhpcykudmFsKCksQSk+PTB9KTtpZighQS5sZW5ndGgpdGhpcy5zZWxlY3RlZEluZGV4PS0xfWVsc2UgdGhpcy52YWx1ZT1yfX0pfX0pO2MuZXh0ZW5kKHthdHRyRm46e3ZhbDp0cnVlLGNzczp0cnVlLGh0bWw6dHJ1ZSx0ZXh0OnRydWUsZGF0YTp0cnVlLHdpZHRoOnRydWUsaGVpZ2h0OnRydWUsb2Zmc2V0OnRydWV9LAphdHRyOmZ1bmN0aW9uKGEsYixkLGUpe2lmKCFhfHxhLm5vZGVUeXBlPT09M3x8YS5ub2RlVHlwZT09PTgpcmV0dXJuIEI7aWYoZSYmYiBpbiBjLmF0dHJGbilyZXR1cm4gYyhhKVtiXShkKTtlPWEubm9kZVR5cGUhPT0xfHwhYy5pc1hNTERvYyhhKTt2YXIgZj1kIT09QjtiPWUmJmMucHJvcHNbYl18fGI7dmFyIGg9VGEudGVzdChiKTtpZigoYiBpbiBhfHxhW2JdIT09QikmJmUmJiFoKXtpZihmKXtiPT09InR5cGUiJiZVYS50ZXN0KGEubm9kZU5hbWUpJiZhLnBhcmVudE5vZGUmJmMuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpO2lmKGQ9PT1udWxsKWEubm9kZVR5cGU9PT0xJiZhLnJlbW92ZUF0dHJpYnV0ZShiKTtlbHNlIGFbYl09ZH1pZihjLm5vZGVOYW1lKGEsImZvcm0iKSYmYS5nZXRBdHRyaWJ1dGVOb2RlKGIpKXJldHVybiBhLmdldEF0dHJpYnV0ZU5vZGUoYikubm9kZVZhbHVlO2lmKGI9PT0idGFiSW5kZXgiKXJldHVybihiPWEuZ2V0QXR0cmlidXRlTm9kZSgidGFiSW5kZXgiKSkmJgpiLnNwZWNpZmllZD9iLnZhbHVlOlZhLnRlc3QoYS5ub2RlTmFtZSl8fFdhLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOkI7cmV0dXJuIGFbYl19aWYoIWMuc3VwcG9ydC5zdHlsZSYmZSYmYj09PSJzdHlsZSIpe2lmKGYpYS5zdHlsZS5jc3NUZXh0PSIiK2Q7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dH1mJiZhLnNldEF0dHJpYnV0ZShiLCIiK2QpO2lmKCFhLmF0dHJpYnV0ZXNbYl0mJmEuaGFzQXR0cmlidXRlJiYhYS5oYXNBdHRyaWJ1dGUoYikpcmV0dXJuIEI7YT0hYy5zdXBwb3J0LmhyZWZOb3JtYWxpemVkJiZlJiZoP2EuZ2V0QXR0cmlidXRlKGIsMik6YS5nZXRBdHRyaWJ1dGUoYik7cmV0dXJuIGE9PT1udWxsP0I6YX19KTt2YXIgWD0vXC4oLiopJC8saWE9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLExhPS9cLi9nLE1hPS8gL2csWGE9L1teXHdccy58YF0vZyxZYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKFhhLCJcXCQmIil9LHVhPXtmb2N1c2luOjAsZm9jdXNvdXQ6MH07CmMuZXZlbnQ9e2FkZDpmdW5jdGlvbihhLGIsZCxlKXtpZighKGEubm9kZVR5cGU9PT0zfHxhLm5vZGVUeXBlPT09OCkpe2lmKGMuaXNXaW5kb3coYSkmJmEhPT1FJiYhYS5mcmFtZUVsZW1lbnQpYT1FO2lmKGQ9PT1mYWxzZSlkPVU7ZWxzZSBpZighZClyZXR1cm47dmFyIGYsaDtpZihkLmhhbmRsZXIpe2Y9ZDtkPWYuaGFuZGxlcn1pZighZC5ndWlkKWQuZ3VpZD1jLmd1aWQrKztpZihoPWMuZGF0YShhKSl7dmFyIGw9YS5ub2RlVHlwZT8iZXZlbnRzIjoiX19ldmVudHNfXyIsaz1oW2xdLG89aC5oYW5kbGU7aWYodHlwZW9mIGs9PT0iZnVuY3Rpb24iKXtvPWsuaGFuZGxlO2s9ay5ldmVudHN9ZWxzZSBpZighayl7YS5ub2RlVHlwZXx8KGhbbF09aD1mdW5jdGlvbigpe30pO2guZXZlbnRzPWs9e319aWYoIW8paC5oYW5kbGU9bz1mdW5jdGlvbigpe3JldHVybiB0eXBlb2YgYyE9PSJ1bmRlZmluZWQiJiYhYy5ldmVudC50cmlnZ2VyZWQ/Yy5ldmVudC5oYW5kbGUuYXBwbHkoby5lbGVtLAphcmd1bWVudHMpOkJ9O28uZWxlbT1hO2I9Yi5zcGxpdCgiICIpO2Zvcih2YXIgeD0wLHI7bD1iW3grK107KXtoPWY/Yy5leHRlbmQoe30sZik6e2hhbmRsZXI6ZCxkYXRhOmV9O2lmKGwuaW5kZXhPZigiLiIpPi0xKXtyPWwuc3BsaXQoIi4iKTtsPXIuc2hpZnQoKTtoLm5hbWVzcGFjZT1yLnNsaWNlKDApLnNvcnQoKS5qb2luKCIuIil9ZWxzZXtyPVtdO2gubmFtZXNwYWNlPSIifWgudHlwZT1sO2lmKCFoLmd1aWQpaC5ndWlkPWQuZ3VpZDt2YXIgQT1rW2xdLEM9Yy5ldmVudC5zcGVjaWFsW2xdfHx7fTtpZighQSl7QT1rW2xdPVtdO2lmKCFDLnNldHVwfHxDLnNldHVwLmNhbGwoYSxlLHIsbyk9PT1mYWxzZSlpZihhLmFkZEV2ZW50TGlzdGVuZXIpYS5hZGRFdmVudExpc3RlbmVyKGwsbyxmYWxzZSk7ZWxzZSBhLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KCJvbiIrbCxvKX1pZihDLmFkZCl7Qy5hZGQuY2FsbChhLGgpO2lmKCFoLmhhbmRsZXIuZ3VpZCloLmhhbmRsZXIuZ3VpZD0KZC5ndWlkfUEucHVzaChoKTtjLmV2ZW50Lmdsb2JhbFtsXT10cnVlfWE9bnVsbH19fSxnbG9iYWw6e30scmVtb3ZlOmZ1bmN0aW9uKGEsYixkLGUpe2lmKCEoYS5ub2RlVHlwZT09PTN8fGEubm9kZVR5cGU9PT04KSl7aWYoZD09PWZhbHNlKWQ9VTt2YXIgZixoLGw9MCxrLG8seCxyLEEsQyxKPWEubm9kZVR5cGU/ImV2ZW50cyI6Il9fZXZlbnRzX18iLHc9Yy5kYXRhKGEpLEk9dyYmd1tKXTtpZih3JiZJKXtpZih0eXBlb2YgST09PSJmdW5jdGlvbiIpe3c9STtJPUkuZXZlbnRzfWlmKGImJmIudHlwZSl7ZD1iLmhhbmRsZXI7Yj1iLnR5cGV9aWYoIWJ8fHR5cGVvZiBiPT09InN0cmluZyImJmIuY2hhckF0KDApPT09Ii4iKXtiPWJ8fCIiO2ZvcihmIGluIEkpYy5ldmVudC5yZW1vdmUoYSxmK2IpfWVsc2V7Zm9yKGI9Yi5zcGxpdCgiICIpO2Y9YltsKytdOyl7cj1mO2s9Zi5pbmRleE9mKCIuIik8MDtvPVtdO2lmKCFrKXtvPWYuc3BsaXQoIi4iKTtmPW8uc2hpZnQoKTt4PVJlZ0V4cCgiKF58XFwuKSIrCmMubWFwKG8uc2xpY2UoMCkuc29ydCgpLFlhKS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKX1pZihBPUlbZl0paWYoZCl7cj1jLmV2ZW50LnNwZWNpYWxbZl18fHt9O2ZvcihoPWV8fDA7aDxBLmxlbmd0aDtoKyspe0M9QVtoXTtpZihkLmd1aWQ9PT1DLmd1aWQpe2lmKGt8fHgudGVzdChDLm5hbWVzcGFjZSkpe2U9PW51bGwmJkEuc3BsaWNlKGgtLSwxKTtyLnJlbW92ZSYmci5yZW1vdmUuY2FsbChhLEMpfWlmKGUhPW51bGwpYnJlYWt9fWlmKEEubGVuZ3RoPT09MHx8ZSE9bnVsbCYmQS5sZW5ndGg9PT0xKXtpZighci50ZWFyZG93bnx8ci50ZWFyZG93bi5jYWxsKGEsbyk9PT1mYWxzZSljLnJlbW92ZUV2ZW50KGEsZix3LmhhbmRsZSk7ZGVsZXRlIElbZl19fWVsc2UgZm9yKGg9MDtoPEEubGVuZ3RoO2grKyl7Qz1BW2hdO2lmKGt8fHgudGVzdChDLm5hbWVzcGFjZSkpe2MuZXZlbnQucmVtb3ZlKGEscixDLmhhbmRsZXIsaCk7QS5zcGxpY2UoaC0tLDEpfX19aWYoYy5pc0VtcHR5T2JqZWN0KEkpKXtpZihiPQp3LmhhbmRsZSliLmVsZW09bnVsbDtkZWxldGUgdy5ldmVudHM7ZGVsZXRlIHcuaGFuZGxlO2lmKHR5cGVvZiB3PT09ImZ1bmN0aW9uIiljLnJlbW92ZURhdGEoYSxKKTtlbHNlIGMuaXNFbXB0eU9iamVjdCh3KSYmYy5yZW1vdmVEYXRhKGEpfX19fX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1hLnR5cGV8fGE7aWYoIWUpe2E9dHlwZW9mIGE9PT0ib2JqZWN0Ij9hW2MuZXhwYW5kb10/YTpjLmV4dGVuZChjLkV2ZW50KGYpLGEpOmMuRXZlbnQoZik7aWYoZi5pbmRleE9mKCIhIik+PTApe2EudHlwZT1mPWYuc2xpY2UoMCwtMSk7YS5leGNsdXNpdmU9dHJ1ZX1pZighZCl7YS5zdG9wUHJvcGFnYXRpb24oKTtjLmV2ZW50Lmdsb2JhbFtmXSYmYy5lYWNoKGMuY2FjaGUsZnVuY3Rpb24oKXt0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHNbZl0mJmMuZXZlbnQudHJpZ2dlcihhLGIsdGhpcy5oYW5kbGUuZWxlbSl9KX1pZighZHx8ZC5ub2RlVHlwZT09PTN8fGQubm9kZVR5cGU9PT0KOClyZXR1cm4gQjthLnJlc3VsdD1CO2EudGFyZ2V0PWQ7Yj1jLm1ha2VBcnJheShiKTtiLnVuc2hpZnQoYSl9YS5jdXJyZW50VGFyZ2V0PWQ7KGU9ZC5ub2RlVHlwZT9jLmRhdGEoZCwiaGFuZGxlIik6KGMuZGF0YShkLCJfX2V2ZW50c19fIil8fHt9KS5oYW5kbGUpJiZlLmFwcGx5KGQsYik7ZT1kLnBhcmVudE5vZGV8fGQub3duZXJEb2N1bWVudDt0cnl7aWYoIShkJiZkLm5vZGVOYW1lJiZjLm5vRGF0YVtkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSlpZihkWyJvbiIrZl0mJmRbIm9uIitmXS5hcHBseShkLGIpPT09ZmFsc2Upe2EucmVzdWx0PWZhbHNlO2EucHJldmVudERlZmF1bHQoKX19Y2F0Y2goaCl7fWlmKCFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmUpYy5ldmVudC50cmlnZ2VyKGEsYixlLHRydWUpO2Vsc2UgaWYoIWEuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBsO2U9YS50YXJnZXQ7dmFyIGs9Zi5yZXBsYWNlKFgsIiIpLG89Yy5ub2RlTmFtZShlLCJhIikmJms9PT0KImNsaWNrIix4PWMuZXZlbnQuc3BlY2lhbFtrXXx8e307aWYoKCF4Ll9kZWZhdWx0fHx4Ll9kZWZhdWx0LmNhbGwoZCxhKT09PWZhbHNlKSYmIW8mJiEoZSYmZS5ub2RlTmFtZSYmYy5ub0RhdGFbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpe3RyeXtpZihlW2tdKXtpZihsPWVbIm9uIitrXSllWyJvbiIra109bnVsbDtjLmV2ZW50LnRyaWdnZXJlZD10cnVlO2Vba10oKX19Y2F0Y2gocil7fWlmKGwpZVsib24iK2tdPWw7Yy5ldmVudC50cmlnZ2VyZWQ9ZmFsc2V9fX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiLGQsZSxmO2Q9W107dmFyIGg9Yy5tYWtlQXJyYXkoYXJndW1lbnRzKTthPWhbMF09Yy5ldmVudC5maXgoYXx8RS5ldmVudCk7YS5jdXJyZW50VGFyZ2V0PXRoaXM7Yj1hLnR5cGUuaW5kZXhPZigiLiIpPDAmJiFhLmV4Y2x1c2l2ZTtpZighYil7ZT1hLnR5cGUuc3BsaXQoIi4iKTthLnR5cGU9ZS5zaGlmdCgpO2Q9ZS5zbGljZSgwKS5zb3J0KCk7ZT1SZWdFeHAoIihefFxcLikiKwpkLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpfWEubmFtZXNwYWNlPWEubmFtZXNwYWNlfHxkLmpvaW4oIi4iKTtmPWMuZGF0YSh0aGlzLHRoaXMubm9kZVR5cGU/ImV2ZW50cyI6Il9fZXZlbnRzX18iKTtpZih0eXBlb2YgZj09PSJmdW5jdGlvbiIpZj1mLmV2ZW50cztkPShmfHx7fSlbYS50eXBlXTtpZihmJiZkKXtkPWQuc2xpY2UoMCk7Zj0wO2Zvcih2YXIgbD1kLmxlbmd0aDtmPGw7ZisrKXt2YXIgaz1kW2ZdO2lmKGJ8fGUudGVzdChrLm5hbWVzcGFjZSkpe2EuaGFuZGxlcj1rLmhhbmRsZXI7YS5kYXRhPWsuZGF0YTthLmhhbmRsZU9iaj1rO2s9ay5oYW5kbGVyLmFwcGx5KHRoaXMsaCk7aWYoayE9PUIpe2EucmVzdWx0PWs7aWYoaz09PWZhbHNlKXthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX19aWYoYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrfX19cmV0dXJuIGEucmVzdWx0fSxwcm9wczoiYWx0S2V5IGF0dHJDaGFuZ2UgYXR0ck5hbWUgYnViYmxlcyBidXR0b24gY2FuY2VsYWJsZSBjaGFyQ29kZSBjbGllbnRYIGNsaWVudFkgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRhdGEgZGV0YWlsIGV2ZW50UGhhc2UgZnJvbUVsZW1lbnQgaGFuZGxlciBrZXlDb2RlIGxheWVyWCBsYXllclkgbWV0YUtleSBuZXdWYWx1ZSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgcHJldlZhbHVlIHJlbGF0ZWROb2RlIHJlbGF0ZWRUYXJnZXQgc2NyZWVuWCBzY3JlZW5ZIHNoaWZ0S2V5IHNyY0VsZW1lbnQgdGFyZ2V0IHRvRWxlbWVudCB2aWV3IHdoZWVsRGVsdGEgd2hpY2giLnNwbGl0KCIgIiksCmZpeDpmdW5jdGlvbihhKXtpZihhW2MuZXhwYW5kb10pcmV0dXJuIGE7dmFyIGI9YTthPWMuRXZlbnQoYik7Zm9yKHZhciBkPXRoaXMucHJvcHMubGVuZ3RoLGU7ZDspe2U9dGhpcy5wcm9wc1stLWRdO2FbZV09YltlXX1pZighYS50YXJnZXQpYS50YXJnZXQ9YS5zcmNFbGVtZW50fHx0O2lmKGEudGFyZ2V0Lm5vZGVUeXBlPT09MylhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlO2lmKCFhLnJlbGF0ZWRUYXJnZXQmJmEuZnJvbUVsZW1lbnQpYS5yZWxhdGVkVGFyZ2V0PWEuZnJvbUVsZW1lbnQ9PT1hLnRhcmdldD9hLnRvRWxlbWVudDphLmZyb21FbGVtZW50O2lmKGEucGFnZVg9PW51bGwmJmEuY2xpZW50WCE9bnVsbCl7Yj10LmRvY3VtZW50RWxlbWVudDtkPXQuYm9keTthLnBhZ2VYPWEuY2xpZW50WCsoYiYmYi5zY3JvbGxMZWZ0fHxkJiZkLnNjcm9sbExlZnR8fDApLShiJiZiLmNsaWVudExlZnR8fGQmJmQuY2xpZW50TGVmdHx8MCk7YS5wYWdlWT1hLmNsaWVudFkrKGImJmIuc2Nyb2xsVG9wfHwKZCYmZC5zY3JvbGxUb3B8fDApLShiJiZiLmNsaWVudFRvcHx8ZCYmZC5jbGllbnRUb3B8fDApfWlmKGEud2hpY2g9PW51bGwmJihhLmNoYXJDb2RlIT1udWxsfHxhLmtleUNvZGUhPW51bGwpKWEud2hpY2g9YS5jaGFyQ29kZSE9bnVsbD9hLmNoYXJDb2RlOmEua2V5Q29kZTtpZighYS5tZXRhS2V5JiZhLmN0cmxLZXkpYS5tZXRhS2V5PWEuY3RybEtleTtpZighYS53aGljaCYmYS5idXR0b24hPT1CKWEud2hpY2g9YS5idXR0b24mMT8xOmEuYnV0dG9uJjI/MzphLmJ1dHRvbiY0PzI6MDtyZXR1cm4gYX0sZ3VpZDoxRTgscHJveHk6Yy5wcm94eSxzcGVjaWFsOntyZWFkeTp7c2V0dXA6Yy5iaW5kUmVhZHksdGVhcmRvd246Yy5ub29wfSxsaXZlOnthZGQ6ZnVuY3Rpb24oYSl7Yy5ldmVudC5hZGQodGhpcyxZKGEub3JpZ1R5cGUsYS5zZWxlY3RvciksYy5leHRlbmQoe30sYSx7aGFuZGxlcjpLYSxndWlkOmEuaGFuZGxlci5ndWlkfSkpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Yy5ldmVudC5yZW1vdmUodGhpcywKWShhLm9yaWdUeXBlLGEuc2VsZWN0b3IpLGEpfX0sYmVmb3JldW5sb2FkOntzZXR1cDpmdW5jdGlvbihhLGIsZCl7aWYoYy5pc1dpbmRvdyh0aGlzKSl0aGlzLm9uYmVmb3JldW5sb2FkPWR9LHRlYXJkb3duOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5vbmJlZm9yZXVubG9hZD09PWIpdGhpcy5vbmJlZm9yZXVubG9hZD1udWxsfX19fTtjLnJlbW92ZUV2ZW50PXQucmVtb3ZlRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihhLGIsZCl7YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixkLGZhbHNlKX06ZnVuY3Rpb24oYSxiLGQpe2EuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoIm9uIitiLGQpfTtjLkV2ZW50PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLnByZXZlbnREZWZhdWx0KXJldHVybiBuZXcgYy5FdmVudChhKTtpZihhJiZhLnR5cGUpe3RoaXMub3JpZ2luYWxFdmVudD1hO3RoaXMudHlwZT1hLnR5cGV9ZWxzZSB0aGlzLnR5cGU9YTt0aGlzLnRpbWVTdGFtcD0KYy5ub3coKTt0aGlzW2MuZXhwYW5kb109dHJ1ZX07Yy5FdmVudC5wcm90b3R5cGU9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9Y2E7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O2lmKGEpaWYoYS5wcmV2ZW50RGVmYXVsdClhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBhLnJldHVyblZhbHVlPWZhbHNlfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWNhO3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDtpZihhKXthLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKTthLmNhbmNlbEJ1YmJsZT10cnVlfX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1jYTt0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6VSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpVLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlV9Owp2YXIgdmE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZWxhdGVkVGFyZ2V0O3RyeXtmb3IoO2ImJmIhPT10aGlzOyliPWIucGFyZW50Tm9kZTtpZihiIT09dGhpcyl7YS50eXBlPWEuZGF0YTtjLmV2ZW50LmhhbmRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWNhdGNoKGQpe319LHdhPWZ1bmN0aW9uKGEpe2EudHlwZT1hLmRhdGE7Yy5ldmVudC5oYW5kbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtjLmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSxmdW5jdGlvbihhLGIpe2MuZXZlbnQuc3BlY2lhbFthXT17c2V0dXA6ZnVuY3Rpb24oZCl7Yy5ldmVudC5hZGQodGhpcyxiLGQmJmQuc2VsZWN0b3I/d2E6dmEsYSl9LHRlYXJkb3duOmZ1bmN0aW9uKGQpe2MuZXZlbnQucmVtb3ZlKHRoaXMsYixkJiZkLnNlbGVjdG9yP3dhOnZhKX19fSk7aWYoIWMuc3VwcG9ydC5zdWJtaXRCdWJibGVzKWMuZXZlbnQuc3BlY2lhbC5zdWJtaXQ9e3NldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09CiJmb3JtIil7Yy5ldmVudC5hZGQodGhpcywiY2xpY2suc3BlY2lhbFN1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsZD1iLnR5cGU7aWYoKGQ9PT0ic3VibWl0Inx8ZD09PSJpbWFnZSIpJiZjKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgpe2EubGl2ZUZpcmVkPUI7cmV0dXJuIGxhKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX19KTtjLmV2ZW50LmFkZCh0aGlzLCJrZXlwcmVzcy5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxkPWIudHlwZTtpZigoZD09PSJ0ZXh0Inx8ZD09PSJwYXNzd29yZCIpJiZjKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgmJmEua2V5Q29kZT09PTEzKXthLmxpdmVGaXJlZD1CO3JldHVybiBsYSgic3VibWl0Iix0aGlzLGFyZ3VtZW50cyl9fSl9ZWxzZSByZXR1cm4gZmFsc2V9LHRlYXJkb3duOmZ1bmN0aW9uKCl7Yy5ldmVudC5yZW1vdmUodGhpcywiLnNwZWNpYWxTdWJtaXQiKX19O2lmKCFjLnN1cHBvcnQuY2hhbmdlQnViYmxlcyl7dmFyIFYsCnhhPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZSxkPWEudmFsdWU7aWYoYj09PSJyYWRpbyJ8fGI9PT0iY2hlY2tib3giKWQ9YS5jaGVja2VkO2Vsc2UgaWYoYj09PSJzZWxlY3QtbXVsdGlwbGUiKWQ9YS5zZWxlY3RlZEluZGV4Pi0xP2MubWFwKGEub3B0aW9ucyxmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWxlY3RlZH0pLmpvaW4oIi0iKToiIjtlbHNlIGlmKGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJzZWxlY3QiKWQ9YS5zZWxlY3RlZEluZGV4O3JldHVybiBkfSxaPWZ1bmN0aW9uKGEsYil7dmFyIGQ9YS50YXJnZXQsZSxmO2lmKCEoIWlhLnRlc3QoZC5ub2RlTmFtZSl8fGQucmVhZE9ubHkpKXtlPWMuZGF0YShkLCJfY2hhbmdlX2RhdGEiKTtmPXhhKGQpO2lmKGEudHlwZSE9PSJmb2N1c291dCJ8fGQudHlwZSE9PSJyYWRpbyIpYy5kYXRhKGQsIl9jaGFuZ2VfZGF0YSIsZik7aWYoIShlPT09Qnx8Zj09PWUpKWlmKGUhPW51bGx8fGYpe2EudHlwZT0iY2hhbmdlIjthLmxpdmVGaXJlZD0KQjtyZXR1cm4gYy5ldmVudC50cmlnZ2VyKGEsYixkKX19fTtjLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtmaWx0ZXJzOntmb2N1c291dDpaLGJlZm9yZWRlYWN0aXZhdGU6WixjbGljazpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxkPWIudHlwZTtpZihkPT09InJhZGlvInx8ZD09PSJjaGVja2JveCJ8fGIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJzZWxlY3QiKXJldHVybiBaLmNhbGwodGhpcyxhKX0sa2V5ZG93bjpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxkPWIudHlwZTtpZihhLmtleUNvZGU9PT0xMyYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09InRleHRhcmVhInx8YS5rZXlDb2RlPT09MzImJihkPT09ImNoZWNrYm94Inx8ZD09PSJyYWRpbyIpfHxkPT09InNlbGVjdC1tdWx0aXBsZSIpcmV0dXJuIFouY2FsbCh0aGlzLGEpfSxiZWZvcmVhY3RpdmF0ZTpmdW5jdGlvbihhKXthPWEudGFyZ2V0O2MuZGF0YShhLCJfY2hhbmdlX2RhdGEiLHhhKGEpKX19LHNldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy50eXBlPT09CiJmaWxlIilyZXR1cm4gZmFsc2U7Zm9yKHZhciBhIGluIFYpYy5ldmVudC5hZGQodGhpcyxhKyIuc3BlY2lhbENoYW5nZSIsVlthXSk7cmV0dXJuIGlhLnRlc3QodGhpcy5ub2RlTmFtZSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7Yy5ldmVudC5yZW1vdmUodGhpcywiLnNwZWNpYWxDaGFuZ2UiKTtyZXR1cm4gaWEudGVzdCh0aGlzLm5vZGVOYW1lKX19O1Y9Yy5ldmVudC5zcGVjaWFsLmNoYW5nZS5maWx0ZXJzO1YuZm9jdXM9Vi5iZWZvcmVhY3RpdmF0ZX10LmFkZEV2ZW50TGlzdGVuZXImJmMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGUpe2U9Yy5ldmVudC5maXgoZSk7ZS50eXBlPWI7cmV0dXJuIGMuZXZlbnQudHJpZ2dlcihlLG51bGwsZS50YXJnZXQpfWMuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt1YVtiXSsrPT09MCYmdC5hZGRFdmVudExpc3RlbmVyKGEsZCx0cnVlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLXVhW2JdPT09CjAmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGQsdHJ1ZSl9fX0pO2MuZWFjaChbImJpbmQiLCJvbmUiXSxmdW5jdGlvbihhLGIpe2MuZm5bYl09ZnVuY3Rpb24oZCxlLGYpe2lmKHR5cGVvZiBkPT09Im9iamVjdCIpe2Zvcih2YXIgaCBpbiBkKXRoaXNbYl0oaCxlLGRbaF0sZik7cmV0dXJuIHRoaXN9aWYoYy5pc0Z1bmN0aW9uKGUpfHxlPT09ZmFsc2Upe2Y9ZTtlPUJ9dmFyIGw9Yj09PSJvbmUiP2MucHJveHkoZixmdW5jdGlvbihvKXtjKHRoaXMpLnVuYmluZChvLGwpO3JldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pOmY7aWYoZD09PSJ1bmxvYWQiJiZiIT09Im9uZSIpdGhpcy5vbmUoZCxlLGYpO2Vsc2V7aD0wO2Zvcih2YXIgaz10aGlzLmxlbmd0aDtoPGs7aCsrKWMuZXZlbnQuYWRkKHRoaXNbaF0sZCxsLGUpfXJldHVybiB0aGlzfX0pO2MuZm4uZXh0ZW5kKHt1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYT09PSJvYmplY3QiJiYhYS5wcmV2ZW50RGVmYXVsdClmb3IodmFyIGQgaW4gYSl0aGlzLnVuYmluZChkLAphW2RdKTtlbHNle2Q9MDtmb3IodmFyIGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyljLmV2ZW50LnJlbW92ZSh0aGlzW2RdLGEsYil9cmV0dXJuIHRoaXN9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixkLGUpe3JldHVybiB0aGlzLmxpdmUoYixkLGUsYSl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MD90aGlzLnVuYmluZCgibGl2ZSIpOnRoaXMuZGllKGIsbnVsbCxkLGEpfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2MuZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzWzBdKXt2YXIgZD1jLkV2ZW50KGEpO2QucHJldmVudERlZmF1bHQoKTtkLnN0b3BQcm9wYWdhdGlvbigpO2MuZXZlbnQudHJpZ2dlcihkLGIsdGhpc1swXSk7cmV0dXJuIGQucmVzdWx0fX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hcmd1bWVudHMsZD0KMTtkPGIubGVuZ3RoOyljLnByb3h5KGEsYltkKytdKTtyZXR1cm4gdGhpcy5jbGljayhjLnByb3h5KGEsZnVuY3Rpb24oZSl7dmFyIGY9KGMuZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQpfHwwKSVkO2MuZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQsZisxKTtlLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGJbZl0uYXBwbHkodGhpcyxhcmd1bWVudHMpfHxmYWxzZX0pKX0saG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIHlhPXtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQiLG1vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifTtjLmVhY2goWyJsaXZlIiwiZGllIl0sZnVuY3Rpb24oYSxiKXtjLmZuW2JdPWZ1bmN0aW9uKGQsZSxmLGgpe3ZhciBsLGs9MCxvLHgscj1ofHx0aGlzLnNlbGVjdG9yO2g9aD90aGlzOmModGhpcy5jb250ZXh0KTtpZih0eXBlb2YgZD09PQoib2JqZWN0IiYmIWQucHJldmVudERlZmF1bHQpe2ZvcihsIGluIGQpaFtiXShsLGUsZFtsXSxyKTtyZXR1cm4gdGhpc31pZihjLmlzRnVuY3Rpb24oZSkpe2Y9ZTtlPUJ9Zm9yKGQ9KGR8fCIiKS5zcGxpdCgiICIpOyhsPWRbaysrXSkhPW51bGw7KXtvPVguZXhlYyhsKTt4PSIiO2lmKG8pe3g9b1swXTtsPWwucmVwbGFjZShYLCIiKX1pZihsPT09ImhvdmVyIilkLnB1c2goIm1vdXNlZW50ZXIiK3gsIm1vdXNlbGVhdmUiK3gpO2Vsc2V7bz1sO2lmKGw9PT0iZm9jdXMifHxsPT09ImJsdXIiKXtkLnB1c2goeWFbbF0reCk7bCs9eH1lbHNlIGw9KHlhW2xdfHxsKSt4O2lmKGI9PT0ibGl2ZSIpe3g9MDtmb3IodmFyIEE9aC5sZW5ndGg7eDxBO3grKyljLmV2ZW50LmFkZChoW3hdLCJsaXZlLiIrWShsLHIpLHtkYXRhOmUsc2VsZWN0b3I6cixoYW5kbGVyOmYsb3JpZ1R5cGU6bCxvcmlnSGFuZGxlcjpmLHByZVR5cGU6b30pfWVsc2UgaC51bmJpbmQoImxpdmUuIitZKGwsciksZil9fXJldHVybiB0aGlzfX0pOwpjLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtjLmZuW2JdPWZ1bmN0aW9uKGQsZSl7aWYoZT09bnVsbCl7ZT1kO2Q9bnVsbH1yZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMuYmluZChiLGQsZSk6dGhpcy50cmlnZ2VyKGIpfTtpZihjLmF0dHJGbiljLmF0dHJGbltiXT10cnVlfSk7RS5hdHRhY2hFdmVudCYmIUUuYWRkRXZlbnRMaXN0ZW5lciYmYyhFKS5iaW5kKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGMuY2FjaGUpaWYoYy5jYWNoZVthXS5oYW5kbGUpdHJ5e2MuZXZlbnQucmVtb3ZlKGMuY2FjaGVbYV0uaGFuZGxlLmVsZW0pfWNhdGNoKGIpe319KTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShnLGksbixtLHAscSl7cD0wO2Zvcih2YXIgdT1tLmxlbmd0aDtwPHU7cCsrKXt2YXIgeT1tW3BdO2lmKHkpe3ZhciBGPWZhbHNlO2Zvcih5PXlbZ107eTspe2lmKHkuc2l6Y2FjaGU9PT1uKXtGPW1beS5zaXpzZXRdO2JyZWFrfWlmKHkubm9kZVR5cGU9PT0xJiYhcSl7eS5zaXpjYWNoZT1uO3kuc2l6c2V0PXB9aWYoeS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09aSl7Rj15O2JyZWFrfXk9eVtnXX1tW3BdPUZ9fX1mdW5jdGlvbiBiKGcsaSxuLG0scCxxKXtwPTA7Zm9yKHZhciB1PW0ubGVuZ3RoO3A8dTtwKyspe3ZhciB5PW1bcF07aWYoeSl7dmFyIEY9ZmFsc2U7Zm9yKHk9eVtnXTt5Oyl7aWYoeS5zaXpjYWNoZT09PW4pe0Y9bVt5LnNpenNldF07YnJlYWt9aWYoeS5ub2RlVHlwZT09PTEpe2lmKCFxKXt5LnNpemNhY2hlPW47eS5zaXpzZXQ9cH1pZih0eXBlb2YgaSE9PSJzdHJpbmciKXtpZih5PT09aSl7Rj10cnVlO2JyZWFrfX1lbHNlIGlmKGsuZmlsdGVyKGksClt5XSkubGVuZ3RoPjApe0Y9eTticmVha319eT15W2ddfW1bcF09Rn19fXZhciBkPS8oKD86XCgoPzpcKFteKCldK1wpfFteKCldKykrXCl8XFsoPzpcW1teXFtcXV0qXF18WyciXVteJyJdKlsnIl18W15cW1xdJyJdKykrXF18XFwufFteID4rfiwoXFtcXF0rKSt8Wz4rfl0pKFxzKixccyopPygoPzoufFxyfFxuKSopL2csZT0wLGY9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxoPWZhbHNlLGw9dHJ1ZTtbMCwwXS5zb3J0KGZ1bmN0aW9uKCl7bD1mYWxzZTtyZXR1cm4gMH0pO3ZhciBrPWZ1bmN0aW9uKGcsaSxuLG0pe249bnx8W107dmFyIHA9aT1pfHx0O2lmKGkubm9kZVR5cGUhPT0xJiZpLm5vZGVUeXBlIT09OSlyZXR1cm5bXTtpZighZ3x8dHlwZW9mIGchPT0ic3RyaW5nIilyZXR1cm4gbjt2YXIgcSx1LHksRixNLE49dHJ1ZSxPPWsuaXNYTUwoaSksRD1bXSxSPWc7ZG97ZC5leGVjKCIiKTtpZihxPWQuZXhlYyhSKSl7Uj1xWzNdO0QucHVzaChxWzFdKTtpZihxWzJdKXtGPXFbM107CmJyZWFrfX19d2hpbGUocSk7aWYoRC5sZW5ndGg+MSYmeC5leGVjKGcpKWlmKEQubGVuZ3RoPT09MiYmby5yZWxhdGl2ZVtEWzBdXSl1PUwoRFswXStEWzFdLGkpO2Vsc2UgZm9yKHU9by5yZWxhdGl2ZVtEWzBdXT9baV06ayhELnNoaWZ0KCksaSk7RC5sZW5ndGg7KXtnPUQuc2hpZnQoKTtpZihvLnJlbGF0aXZlW2ddKWcrPUQuc2hpZnQoKTt1PUwoZyx1KX1lbHNle2lmKCFtJiZELmxlbmd0aD4xJiZpLm5vZGVUeXBlPT09OSYmIU8mJm8ubWF0Y2guSUQudGVzdChEWzBdKSYmIW8ubWF0Y2guSUQudGVzdChEW0QubGVuZ3RoLTFdKSl7cT1rLmZpbmQoRC5zaGlmdCgpLGksTyk7aT1xLmV4cHI/ay5maWx0ZXIocS5leHByLHEuc2V0KVswXTpxLnNldFswXX1pZihpKXtxPW0/e2V4cHI6RC5wb3AoKSxzZXQ6QyhtKX06ay5maW5kKEQucG9wKCksRC5sZW5ndGg9PT0xJiYoRFswXT09PSJ+Inx8RFswXT09PSIrIikmJmkucGFyZW50Tm9kZT9pLnBhcmVudE5vZGU6aSxPKTt1PXEuZXhwcj9rLmZpbHRlcihxLmV4cHIsCnEuc2V0KTpxLnNldDtpZihELmxlbmd0aD4wKXk9Qyh1KTtlbHNlIE49ZmFsc2U7Zm9yKDtELmxlbmd0aDspe3E9TT1ELnBvcCgpO2lmKG8ucmVsYXRpdmVbTV0pcT1ELnBvcCgpO2Vsc2UgTT0iIjtpZihxPT1udWxsKXE9aTtvLnJlbGF0aXZlW01dKHkscSxPKX19ZWxzZSB5PVtdfXl8fCh5PXUpO3l8fGsuZXJyb3IoTXx8Zyk7aWYoZi5jYWxsKHkpPT09IltvYmplY3QgQXJyYXldIilpZihOKWlmKGkmJmkubm9kZVR5cGU9PT0xKWZvcihnPTA7eVtnXSE9bnVsbDtnKyspe2lmKHlbZ10mJih5W2ddPT09dHJ1ZXx8eVtnXS5ub2RlVHlwZT09PTEmJmsuY29udGFpbnMoaSx5W2ddKSkpbi5wdXNoKHVbZ10pfWVsc2UgZm9yKGc9MDt5W2ddIT1udWxsO2crKyl5W2ddJiZ5W2ddLm5vZGVUeXBlPT09MSYmbi5wdXNoKHVbZ10pO2Vsc2Ugbi5wdXNoLmFwcGx5KG4seSk7ZWxzZSBDKHksbik7aWYoRil7ayhGLHAsbixtKTtrLnVuaXF1ZVNvcnQobil9cmV0dXJuIG59O2sudW5pcXVlU29ydD1mdW5jdGlvbihnKXtpZih3KXtoPQpsO2cuc29ydCh3KTtpZihoKWZvcih2YXIgaT0xO2k8Zy5sZW5ndGg7aSsrKWdbaV09PT1nW2ktMV0mJmcuc3BsaWNlKGktLSwxKX1yZXR1cm4gZ307ay5tYXRjaGVzPWZ1bmN0aW9uKGcsaSl7cmV0dXJuIGsoZyxudWxsLG51bGwsaSl9O2subWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGcsaSl7cmV0dXJuIGsoaSxudWxsLG51bGwsW2ddKS5sZW5ndGg+MH07ay5maW5kPWZ1bmN0aW9uKGcsaSxuKXt2YXIgbTtpZighZylyZXR1cm5bXTtmb3IodmFyIHA9MCxxPW8ub3JkZXIubGVuZ3RoO3A8cTtwKyspe3ZhciB1LHk9by5vcmRlcltwXTtpZih1PW8ubGVmdE1hdGNoW3ldLmV4ZWMoZykpe3ZhciBGPXVbMV07dS5zcGxpY2UoMSwxKTtpZihGLnN1YnN0cihGLmxlbmd0aC0xKSE9PSJcXCIpe3VbMV09KHVbMV18fCIiKS5yZXBsYWNlKC9cXC9nLCIiKTttPW8uZmluZFt5XSh1LGksbik7aWYobSE9bnVsbCl7Zz1nLnJlcGxhY2Uoby5tYXRjaFt5XSwiIik7YnJlYWt9fX19bXx8KG09aS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTsKcmV0dXJue3NldDptLGV4cHI6Z319O2suZmlsdGVyPWZ1bmN0aW9uKGcsaSxuLG0pe2Zvcih2YXIgcCxxLHU9Zyx5PVtdLEY9aSxNPWkmJmlbMF0mJmsuaXNYTUwoaVswXSk7ZyYmaS5sZW5ndGg7KXtmb3IodmFyIE4gaW4gby5maWx0ZXIpaWYoKHA9by5sZWZ0TWF0Y2hbTl0uZXhlYyhnKSkhPW51bGwmJnBbMl0pe3ZhciBPLEQsUj1vLmZpbHRlcltOXTtEPXBbMV07cT1mYWxzZTtwLnNwbGljZSgxLDEpO2lmKEQuc3Vic3RyKEQubGVuZ3RoLTEpIT09IlxcIil7aWYoRj09PXkpeT1bXTtpZihvLnByZUZpbHRlcltOXSlpZihwPW8ucHJlRmlsdGVyW05dKHAsRixuLHksbSxNKSl7aWYocD09PXRydWUpY29udGludWV9ZWxzZSBxPU89dHJ1ZTtpZihwKWZvcih2YXIgaj0wOyhEPUZbal0pIT1udWxsO2orKylpZihEKXtPPVIoRCxwLGosRik7dmFyIHM9bV4hIU87aWYobiYmTyE9bnVsbClpZihzKXE9dHJ1ZTtlbHNlIEZbal09ZmFsc2U7ZWxzZSBpZihzKXt5LnB1c2goRCk7cT10cnVlfX1pZihPIT09CkIpe258fChGPXkpO2c9Zy5yZXBsYWNlKG8ubWF0Y2hbTl0sIiIpO2lmKCFxKXJldHVybltdO2JyZWFrfX19aWYoZz09PXUpaWYocT09bnVsbClrLmVycm9yKGcpO2Vsc2UgYnJlYWs7dT1nfXJldHVybiBGfTtrLmVycm9yPWZ1bmN0aW9uKGcpe3Rocm93IlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZzt9O3ZhciBvPWsuc2VsZWN0b3JzPXtvcmRlcjpbIklEIiwiTkFNRSIsIlRBRyJdLG1hdGNoOntJRDovIygoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKS8sQ0xBU1M6L1wuKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxOQU1FOi9cW25hbWU9WyciXSooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKylbJyJdKlxdLyxBVFRSOi9cW1xzKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVxzKig/OihcUz89KVxzKihbJyJdKikoLio/KVwzfClccypcXS8sVEFHOi9eKCg/Oltcd1x1MDBjMC1cdUZGRkZcKlwtXXxcXC4pKykvLENISUxEOi86KG9ubHl8bnRofGxhc3R8Zmlyc3QpLWNoaWxkKD86XCgoZXZlbnxvZGR8W1xkbitcLV0qKVwpKT8vLApQT1M6LzoobnRofGVxfGd0fGx0fGZpcnN0fGxhc3R8ZXZlbnxvZGQpKD86XCgoXGQqKVwpKT8oPz1bXlwtXXwkKS8sUFNFVURPOi86KCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspKD86XCgoWyciXT8pKCg/OlwoW15cKV0rXCl8W15cKFwpXSopKylcMlwpKT8vfSxsZWZ0TWF0Y2g6e30sYXR0ck1hcDp7ImNsYXNzIjoiY2xhc3NOYW1lIiwiZm9yIjoiaHRtbEZvciJ9LGF0dHJIYW5kbGU6e2hyZWY6ZnVuY3Rpb24oZyl7cmV0dXJuIGcuZ2V0QXR0cmlidXRlKCJocmVmIil9fSxyZWxhdGl2ZTp7IisiOmZ1bmN0aW9uKGcsaSl7dmFyIG49dHlwZW9mIGk9PT0ic3RyaW5nIixtPW4mJiEvXFcvLnRlc3QoaSk7bj1uJiYhbTtpZihtKWk9aS50b0xvd2VyQ2FzZSgpO209MDtmb3IodmFyIHA9Zy5sZW5ndGgscTttPHA7bSsrKWlmKHE9Z1ttXSl7Zm9yKDsocT1xLnByZXZpb3VzU2libGluZykmJnEubm9kZVR5cGUhPT0xOyk7Z1ttXT1ufHxxJiZxLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0KaT9xfHxmYWxzZTpxPT09aX1uJiZrLmZpbHRlcihpLGcsdHJ1ZSl9LCI+IjpmdW5jdGlvbihnLGkpe3ZhciBuLG09dHlwZW9mIGk9PT0ic3RyaW5nIixwPTAscT1nLmxlbmd0aDtpZihtJiYhL1xXLy50ZXN0KGkpKWZvcihpPWkudG9Mb3dlckNhc2UoKTtwPHE7cCsrKXtpZihuPWdbcF0pe249bi5wYXJlbnROb2RlO2dbcF09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09aT9uOmZhbHNlfX1lbHNle2Zvcig7cDxxO3ArKylpZihuPWdbcF0pZ1twXT1tP24ucGFyZW50Tm9kZTpuLnBhcmVudE5vZGU9PT1pO20mJmsuZmlsdGVyKGksZyx0cnVlKX19LCIiOmZ1bmN0aW9uKGcsaSxuKXt2YXIgbSxwPWUrKyxxPWI7aWYodHlwZW9mIGk9PT0ic3RyaW5nIiYmIS9cVy8udGVzdChpKSl7bT1pPWkudG9Mb3dlckNhc2UoKTtxPWF9cSgicGFyZW50Tm9kZSIsaSxwLGcsbSxuKX0sIn4iOmZ1bmN0aW9uKGcsaSxuKXt2YXIgbSxwPWUrKyxxPWI7aWYodHlwZW9mIGk9PT0ic3RyaW5nIiYmIS9cVy8udGVzdChpKSl7bT0KaT1pLnRvTG93ZXJDYXNlKCk7cT1hfXEoInByZXZpb3VzU2libGluZyIsaSxwLGcsbSxuKX19LGZpbmQ6e0lEOmZ1bmN0aW9uKGcsaSxuKXtpZih0eXBlb2YgaS5nZXRFbGVtZW50QnlJZCE9PSJ1bmRlZmluZWQiJiYhbilyZXR1cm4oZz1pLmdldEVsZW1lbnRCeUlkKGdbMV0pKSYmZy5wYXJlbnROb2RlP1tnXTpbXX0sTkFNRTpmdW5jdGlvbihnLGkpe2lmKHR5cGVvZiBpLmdldEVsZW1lbnRzQnlOYW1lIT09InVuZGVmaW5lZCIpe2Zvcih2YXIgbj1bXSxtPWkuZ2V0RWxlbWVudHNCeU5hbWUoZ1sxXSkscD0wLHE9bS5sZW5ndGg7cDxxO3ArKyltW3BdLmdldEF0dHJpYnV0ZSgibmFtZSIpPT09Z1sxXSYmbi5wdXNoKG1bcF0pO3JldHVybiBuLmxlbmd0aD09PTA/bnVsbDpufX0sVEFHOmZ1bmN0aW9uKGcsaSl7cmV0dXJuIGkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZ1sxXSl9fSxwcmVGaWx0ZXI6e0NMQVNTOmZ1bmN0aW9uKGcsaSxuLG0scCxxKXtnPSIgIitnWzFdLnJlcGxhY2UoL1xcL2csCiIiKSsiICI7aWYocSlyZXR1cm4gZztxPTA7Zm9yKHZhciB1Oyh1PWlbcV0pIT1udWxsO3ErKylpZih1KWlmKHBeKHUuY2xhc3NOYW1lJiYoIiAiK3UuY2xhc3NOYW1lKyIgIikucmVwbGFjZSgvW1x0XG5dL2csIiAiKS5pbmRleE9mKGcpPj0wKSlufHxtLnB1c2godSk7ZWxzZSBpZihuKWlbcV09ZmFsc2U7cmV0dXJuIGZhbHNlfSxJRDpmdW5jdGlvbihnKXtyZXR1cm4gZ1sxXS5yZXBsYWNlKC9cXC9nLCIiKX0sVEFHOmZ1bmN0aW9uKGcpe3JldHVybiBnWzFdLnRvTG93ZXJDYXNlKCl9LENISUxEOmZ1bmN0aW9uKGcpe2lmKGdbMV09PT0ibnRoIil7dmFyIGk9LygtPykoXGQqKW4oKD86XCt8LSk/XGQqKS8uZXhlYyhnWzJdPT09ImV2ZW4iJiYiMm4ifHxnWzJdPT09Im9kZCImJiIybisxInx8IS9cRC8udGVzdChnWzJdKSYmIjBuKyIrZ1syXXx8Z1syXSk7Z1syXT1pWzFdKyhpWzJdfHwxKS0wO2dbM109aVszXS0wfWdbMF09ZSsrO3JldHVybiBnfSxBVFRSOmZ1bmN0aW9uKGcsaSxuLAptLHAscSl7aT1nWzFdLnJlcGxhY2UoL1xcL2csIiIpO2lmKCFxJiZvLmF0dHJNYXBbaV0pZ1sxXT1vLmF0dHJNYXBbaV07aWYoZ1syXT09PSJ+PSIpZ1s0XT0iICIrZ1s0XSsiICI7cmV0dXJuIGd9LFBTRVVETzpmdW5jdGlvbihnLGksbixtLHApe2lmKGdbMV09PT0ibm90IilpZigoZC5leGVjKGdbM10pfHwiIikubGVuZ3RoPjF8fC9eXHcvLnRlc3QoZ1szXSkpZ1szXT1rKGdbM10sbnVsbCxudWxsLGkpO2Vsc2V7Zz1rLmZpbHRlcihnWzNdLGksbix0cnVlXnApO258fG0ucHVzaC5hcHBseShtLGcpO3JldHVybiBmYWxzZX1lbHNlIGlmKG8ubWF0Y2guUE9TLnRlc3QoZ1swXSl8fG8ubWF0Y2guQ0hJTEQudGVzdChnWzBdKSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZ30sUE9TOmZ1bmN0aW9uKGcpe2cudW5zaGlmdCh0cnVlKTtyZXR1cm4gZ319LGZpbHRlcnM6e2VuYWJsZWQ6ZnVuY3Rpb24oZyl7cmV0dXJuIGcuZGlzYWJsZWQ9PT1mYWxzZSYmZy50eXBlIT09ImhpZGRlbiJ9LGRpc2FibGVkOmZ1bmN0aW9uKGcpe3JldHVybiBnLmRpc2FibGVkPT09CnRydWV9LGNoZWNrZWQ6ZnVuY3Rpb24oZyl7cmV0dXJuIGcuY2hlY2tlZD09PXRydWV9LHNlbGVjdGVkOmZ1bmN0aW9uKGcpe3JldHVybiBnLnNlbGVjdGVkPT09dHJ1ZX0scGFyZW50OmZ1bmN0aW9uKGcpe3JldHVybiEhZy5maXJzdENoaWxkfSxlbXB0eTpmdW5jdGlvbihnKXtyZXR1cm4hZy5maXJzdENoaWxkfSxoYXM6ZnVuY3Rpb24oZyxpLG4pe3JldHVybiEhayhuWzNdLGcpLmxlbmd0aH0saGVhZGVyOmZ1bmN0aW9uKGcpe3JldHVybi9oXGQvaS50ZXN0KGcubm9kZU5hbWUpfSx0ZXh0OmZ1bmN0aW9uKGcpe3JldHVybiJ0ZXh0Ij09PWcudHlwZX0scmFkaW86ZnVuY3Rpb24oZyl7cmV0dXJuInJhZGlvIj09PWcudHlwZX0sY2hlY2tib3g6ZnVuY3Rpb24oZyl7cmV0dXJuImNoZWNrYm94Ij09PWcudHlwZX0sZmlsZTpmdW5jdGlvbihnKXtyZXR1cm4iZmlsZSI9PT1nLnR5cGV9LHBhc3N3b3JkOmZ1bmN0aW9uKGcpe3JldHVybiJwYXNzd29yZCI9PT1nLnR5cGV9LHN1Ym1pdDpmdW5jdGlvbihnKXtyZXR1cm4ic3VibWl0Ij09PQpnLnR5cGV9LGltYWdlOmZ1bmN0aW9uKGcpe3JldHVybiJpbWFnZSI9PT1nLnR5cGV9LHJlc2V0OmZ1bmN0aW9uKGcpe3JldHVybiJyZXNldCI9PT1nLnR5cGV9LGJ1dHRvbjpmdW5jdGlvbihnKXtyZXR1cm4iYnV0dG9uIj09PWcudHlwZXx8Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImJ1dHRvbiJ9LGlucHV0OmZ1bmN0aW9uKGcpe3JldHVybi9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2kudGVzdChnLm5vZGVOYW1lKX19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKGcsaSl7cmV0dXJuIGk9PT0wfSxsYXN0OmZ1bmN0aW9uKGcsaSxuLG0pe3JldHVybiBpPT09bS5sZW5ndGgtMX0sZXZlbjpmdW5jdGlvbihnLGkpe3JldHVybiBpJTI9PT0wfSxvZGQ6ZnVuY3Rpb24oZyxpKXtyZXR1cm4gaSUyPT09MX0sbHQ6ZnVuY3Rpb24oZyxpLG4pe3JldHVybiBpPG5bM10tMH0sZ3Q6ZnVuY3Rpb24oZyxpLG4pe3JldHVybiBpPm5bM10tMH0sbnRoOmZ1bmN0aW9uKGcsaSxuKXtyZXR1cm4gblszXS0KMD09PWl9LGVxOmZ1bmN0aW9uKGcsaSxuKXtyZXR1cm4gblszXS0wPT09aX19LGZpbHRlcjp7UFNFVURPOmZ1bmN0aW9uKGcsaSxuLG0pe3ZhciBwPWlbMV0scT1vLmZpbHRlcnNbcF07aWYocSlyZXR1cm4gcShnLG4saSxtKTtlbHNlIGlmKHA9PT0iY29udGFpbnMiKXJldHVybihnLnRleHRDb250ZW50fHxnLmlubmVyVGV4dHx8ay5nZXRUZXh0KFtnXSl8fCIiKS5pbmRleE9mKGlbM10pPj0wO2Vsc2UgaWYocD09PSJub3QiKXtpPWlbM107bj0wO2ZvcihtPWkubGVuZ3RoO248bTtuKyspaWYoaVtuXT09PWcpcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlfWVsc2Ugay5lcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitwKX0sQ0hJTEQ6ZnVuY3Rpb24oZyxpKXt2YXIgbj1pWzFdLG09Zztzd2l0Y2gobil7Y2FzZSAib25seSI6Y2FzZSAiZmlyc3QiOmZvcig7bT1tLnByZXZpb3VzU2libGluZzspaWYobS5ub2RlVHlwZT09PTEpcmV0dXJuIGZhbHNlO2lmKG49PT0KImZpcnN0IilyZXR1cm4gdHJ1ZTttPWc7Y2FzZSAibGFzdCI6Zm9yKDttPW0ubmV4dFNpYmxpbmc7KWlmKG0ubm9kZVR5cGU9PT0xKXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZTtjYXNlICJudGgiOm49aVsyXTt2YXIgcD1pWzNdO2lmKG49PT0xJiZwPT09MClyZXR1cm4gdHJ1ZTt2YXIgcT1pWzBdLHU9Zy5wYXJlbnROb2RlO2lmKHUmJih1LnNpemNhY2hlIT09cXx8IWcubm9kZUluZGV4KSl7dmFyIHk9MDtmb3IobT11LmZpcnN0Q2hpbGQ7bTttPW0ubmV4dFNpYmxpbmcpaWYobS5ub2RlVHlwZT09PTEpbS5ub2RlSW5kZXg9Kyt5O3Uuc2l6Y2FjaGU9cX1tPWcubm9kZUluZGV4LXA7cmV0dXJuIG49PT0wP209PT0wOm0lbj09PTAmJm0vbj49MH19LElEOmZ1bmN0aW9uKGcsaSl7cmV0dXJuIGcubm9kZVR5cGU9PT0xJiZnLmdldEF0dHJpYnV0ZSgiaWQiKT09PWl9LFRBRzpmdW5jdGlvbihnLGkpe3JldHVybiBpPT09IioiJiZnLm5vZGVUeXBlPT09MXx8Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Cml9LENMQVNTOmZ1bmN0aW9uKGcsaSl7cmV0dXJuKCIgIisoZy5jbGFzc05hbWV8fGcuZ2V0QXR0cmlidXRlKCJjbGFzcyIpKSsiICIpLmluZGV4T2YoaSk+LTF9LEFUVFI6ZnVuY3Rpb24oZyxpKXt2YXIgbj1pWzFdO249by5hdHRySGFuZGxlW25dP28uYXR0ckhhbmRsZVtuXShnKTpnW25dIT1udWxsP2dbbl06Zy5nZXRBdHRyaWJ1dGUobik7dmFyIG09bisiIixwPWlbMl0scT1pWzRdO3JldHVybiBuPT1udWxsP3A9PT0iIT0iOnA9PT0iPSI/bT09PXE6cD09PSIqPSI/bS5pbmRleE9mKHEpPj0wOnA9PT0ifj0iPygiICIrbSsiICIpLmluZGV4T2YocSk+PTA6IXE/bSYmbiE9PWZhbHNlOnA9PT0iIT0iP20hPT1xOnA9PT0iXj0iP20uaW5kZXhPZihxKT09PTA6cD09PSIkPSI/bS5zdWJzdHIobS5sZW5ndGgtcS5sZW5ndGgpPT09cTpwPT09Inw9Ij9tPT09cXx8bS5zdWJzdHIoMCxxLmxlbmd0aCsxKT09PXErIi0iOmZhbHNlfSxQT1M6ZnVuY3Rpb24oZyxpLG4sbSl7dmFyIHA9by5zZXRGaWx0ZXJzW2lbMl1dOwppZihwKXJldHVybiBwKGcsbixpLG0pfX19LHg9by5tYXRjaC5QT1Mscj1mdW5jdGlvbihnLGkpe3JldHVybiJcXCIrKGktMCsxKX0sQTtmb3IoQSBpbiBvLm1hdGNoKXtvLm1hdGNoW0FdPVJlZ0V4cChvLm1hdGNoW0FdLnNvdXJjZSsvKD8hW15cW10qXF0pKD8hW15cKF0qXCkpLy5zb3VyY2UpO28ubGVmdE1hdGNoW0FdPVJlZ0V4cCgvKF4oPzoufFxyfFxuKSo/KS8uc291cmNlK28ubWF0Y2hbQV0uc291cmNlLnJlcGxhY2UoL1xcKFxkKykvZyxyKSl9dmFyIEM9ZnVuY3Rpb24oZyxpKXtnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGcsMCk7aWYoaSl7aS5wdXNoLmFwcGx5KGksZyk7cmV0dXJuIGl9cmV0dXJuIGd9O3RyeXtBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLDApfWNhdGNoKEope0M9ZnVuY3Rpb24oZyxpKXt2YXIgbj0wLG09aXx8W107aWYoZi5jYWxsKGcpPT09IltvYmplY3QgQXJyYXldIilBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShtLApnKTtlbHNlIGlmKHR5cGVvZiBnLmxlbmd0aD09PSJudW1iZXIiKWZvcih2YXIgcD1nLmxlbmd0aDtuPHA7bisrKW0ucHVzaChnW25dKTtlbHNlIGZvcig7Z1tuXTtuKyspbS5wdXNoKGdbbl0pO3JldHVybiBtfX12YXIgdyxJO2lmKHQuZG9jdW1lbnRFbGVtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXc9ZnVuY3Rpb24oZyxpKXtpZihnPT09aSl7aD10cnVlO3JldHVybiAwfWlmKCFnLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9ufHwhaS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbilyZXR1cm4gZy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj8tMToxO3JldHVybiBnLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpJjQ/LTE6MX07ZWxzZXt3PWZ1bmN0aW9uKGcsaSl7dmFyIG4sbSxwPVtdLHE9W107bj1nLnBhcmVudE5vZGU7bT1pLnBhcmVudE5vZGU7dmFyIHU9bjtpZihnPT09aSl7aD10cnVlO3JldHVybiAwfWVsc2UgaWYobj09PW0pcmV0dXJuIEkoZyxpKTtlbHNlIGlmKG4pe2lmKCFtKXJldHVybiAxfWVsc2UgcmV0dXJuLTE7CmZvcig7dTspe3AudW5zaGlmdCh1KTt1PXUucGFyZW50Tm9kZX1mb3IodT1tO3U7KXtxLnVuc2hpZnQodSk7dT11LnBhcmVudE5vZGV9bj1wLmxlbmd0aDttPXEubGVuZ3RoO2Zvcih1PTA7dTxuJiZ1PG07dSsrKWlmKHBbdV0hPT1xW3VdKXJldHVybiBJKHBbdV0scVt1XSk7cmV0dXJuIHU9PT1uP0koZyxxW3VdLC0xKTpJKHBbdV0saSwxKX07ST1mdW5jdGlvbihnLGksbil7aWYoZz09PWkpcmV0dXJuIG47Zm9yKGc9Zy5uZXh0U2libGluZztnOyl7aWYoZz09PWkpcmV0dXJuLTE7Zz1nLm5leHRTaWJsaW5nfXJldHVybiAxfX1rLmdldFRleHQ9ZnVuY3Rpb24oZyl7Zm9yKHZhciBpPSIiLG4sbT0wO2dbbV07bSsrKXtuPWdbbV07aWYobi5ub2RlVHlwZT09PTN8fG4ubm9kZVR5cGU9PT00KWkrPW4ubm9kZVZhbHVlO2Vsc2UgaWYobi5ub2RlVHlwZSE9PTgpaSs9ay5nZXRUZXh0KG4uY2hpbGROb2Rlcyl9cmV0dXJuIGl9OyhmdW5jdGlvbigpe3ZhciBnPXQuY3JlYXRlRWxlbWVudCgiZGl2IiksCmk9InNjcmlwdCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksbj10LmRvY3VtZW50RWxlbWVudDtnLmlubmVySFRNTD0iPGEgbmFtZT0nIitpKyInLz4iO24uaW5zZXJ0QmVmb3JlKGcsbi5maXJzdENoaWxkKTtpZih0LmdldEVsZW1lbnRCeUlkKGkpKXtvLmZpbmQuSUQ9ZnVuY3Rpb24obSxwLHEpe2lmKHR5cGVvZiBwLmdldEVsZW1lbnRCeUlkIT09InVuZGVmaW5lZCImJiFxKXJldHVybihwPXAuZ2V0RWxlbWVudEJ5SWQobVsxXSkpP3AuaWQ9PT1tWzFdfHx0eXBlb2YgcC5nZXRBdHRyaWJ1dGVOb2RlIT09InVuZGVmaW5lZCImJnAuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKS5ub2RlVmFsdWU9PT1tWzFdP1twXTpCOltdfTtvLmZpbHRlci5JRD1mdW5jdGlvbihtLHApe3ZhciBxPXR5cGVvZiBtLmdldEF0dHJpYnV0ZU5vZGUhPT0idW5kZWZpbmVkIiYmbS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBtLm5vZGVUeXBlPT09MSYmcSYmcS5ub2RlVmFsdWU9PT1wfX1uLnJlbW92ZUNoaWxkKGcpOwpuPWc9bnVsbH0pKCk7KGZ1bmN0aW9uKCl7dmFyIGc9dC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLmFwcGVuZENoaWxkKHQuY3JlYXRlQ29tbWVudCgiIikpO2lmKGcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGg+MClvLmZpbmQuVEFHPWZ1bmN0aW9uKGksbil7dmFyIG09bi5nZXRFbGVtZW50c0J5VGFnTmFtZShpWzFdKTtpZihpWzFdPT09IioiKXtmb3IodmFyIHA9W10scT0wO21bcV07cSsrKW1bcV0ubm9kZVR5cGU9PT0xJiZwLnB1c2gobVtxXSk7bT1wfXJldHVybiBtfTtnLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiI7aWYoZy5maXJzdENoaWxkJiZ0eXBlb2YgZy5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSE9PSJ1bmRlZmluZWQiJiZnLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIikhPT0iIyIpby5hdHRySGFuZGxlLmhyZWY9ZnVuY3Rpb24oaSl7cmV0dXJuIGkuZ2V0QXR0cmlidXRlKCJocmVmIiwyKX07Zz1udWxsfSkoKTt0LnF1ZXJ5U2VsZWN0b3JBbGwmJgpmdW5jdGlvbigpe3ZhciBnPWssaT10LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuaW5uZXJIVE1MPSI8cCBjbGFzcz0nVEVTVCc+PC9wPiI7aWYoIShpLnF1ZXJ5U2VsZWN0b3JBbGwmJmkucXVlcnlTZWxlY3RvckFsbCgiLlRFU1QiKS5sZW5ndGg9PT0wKSl7az1mdW5jdGlvbihtLHAscSx1KXtwPXB8fHQ7bT1tLnJlcGxhY2UoL1w9XHMqKFteJyJcXV0qKVxzKlxdL2csIj0nJDEnXSIpO2lmKCF1JiYhay5pc1hNTChwKSlpZihwLm5vZGVUeXBlPT09OSl0cnl7cmV0dXJuIEMocC5xdWVyeVNlbGVjdG9yQWxsKG0pLHEpfWNhdGNoKHkpe31lbHNlIGlmKHAubm9kZVR5cGU9PT0xJiZwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0ib2JqZWN0Iil7dmFyIEY9cC5nZXRBdHRyaWJ1dGUoImlkIiksTT1GfHwiX19zaXp6bGVfXyI7Rnx8cC5zZXRBdHRyaWJ1dGUoImlkIixNKTt0cnl7cmV0dXJuIEMocC5xdWVyeVNlbGVjdG9yQWxsKCIjIitNKyIgIittKSxxKX1jYXRjaChOKXt9ZmluYWxseXtGfHwKcC5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fXJldHVybiBnKG0scCxxLHUpfTtmb3IodmFyIG4gaW4gZylrW25dPWdbbl07aT1udWxsfX0oKTsoZnVuY3Rpb24oKXt2YXIgZz10LmRvY3VtZW50RWxlbWVudCxpPWcubWF0Y2hlc1NlbGVjdG9yfHxnLm1vek1hdGNoZXNTZWxlY3Rvcnx8Zy53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGcubXNNYXRjaGVzU2VsZWN0b3Isbj1mYWxzZTt0cnl7aS5jYWxsKHQuZG9jdW1lbnRFbGVtZW50LCJbdGVzdCE9JyddOnNpenpsZSIpfWNhdGNoKG0pe249dHJ1ZX1pZihpKWsubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKHAscSl7cT1xLnJlcGxhY2UoL1w9XHMqKFteJyJcXV0qKVxzKlxdL2csIj0nJDEnXSIpO2lmKCFrLmlzWE1MKHApKXRyeXtpZihufHwhby5tYXRjaC5QU0VVRE8udGVzdChxKSYmIS8hPS8udGVzdChxKSlyZXR1cm4gaS5jYWxsKHAscSl9Y2F0Y2godSl7fXJldHVybiBrKHEsbnVsbCxudWxsLFtwXSkubGVuZ3RoPjB9fSkoKTsoZnVuY3Rpb24oKXt2YXIgZz0KdC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLmlubmVySFRNTD0iPGRpdiBjbGFzcz0ndGVzdCBlJz48L2Rpdj48ZGl2IGNsYXNzPSd0ZXN0Jz48L2Rpdj4iO2lmKCEoIWcuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZXx8Zy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoPT09MCkpe2cubGFzdENoaWxkLmNsYXNzTmFtZT0iZSI7aWYoZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoIT09MSl7by5vcmRlci5zcGxpY2UoMSwwLCJDTEFTUyIpO28uZmluZC5DTEFTUz1mdW5jdGlvbihpLG4sbSl7aWYodHlwZW9mIG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PSJ1bmRlZmluZWQiJiYhbSlyZXR1cm4gbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGlbMV0pfTtnPW51bGx9fX0pKCk7ay5jb250YWlucz10LmRvY3VtZW50RWxlbWVudC5jb250YWlucz9mdW5jdGlvbihnLGkpe3JldHVybiBnIT09aSYmKGcuY29udGFpbnM/Zy5jb250YWlucyhpKTp0cnVlKX06dC5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/CmZ1bmN0aW9uKGcsaSl7cmV0dXJuISEoZy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSYxNil9OmZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfTtrLmlzWE1MPWZ1bmN0aW9uKGcpe3JldHVybihnPShnP2cub3duZXJEb2N1bWVudHx8ZzowKS5kb2N1bWVudEVsZW1lbnQpP2cubm9kZU5hbWUhPT0iSFRNTCI6ZmFsc2V9O3ZhciBMPWZ1bmN0aW9uKGcsaSl7Zm9yKHZhciBuLG09W10scD0iIixxPWkubm9kZVR5cGU/W2ldOmk7bj1vLm1hdGNoLlBTRVVETy5leGVjKGcpOyl7cCs9blswXTtnPWcucmVwbGFjZShvLm1hdGNoLlBTRVVETywiIil9Zz1vLnJlbGF0aXZlW2ddP2crIioiOmc7bj0wO2Zvcih2YXIgdT1xLmxlbmd0aDtuPHU7bisrKWsoZyxxW25dLG0pO3JldHVybiBrLmZpbHRlcihwLG0pfTtjLmZpbmQ9aztjLmV4cHI9ay5zZWxlY3RvcnM7Yy5leHByWyI6Il09Yy5leHByLmZpbHRlcnM7Yy51bmlxdWU9ay51bmlxdWVTb3J0O2MudGV4dD1rLmdldFRleHQ7Yy5pc1hNTERvYz1rLmlzWE1MOwpjLmNvbnRhaW5zPWsuY29udGFpbnN9KSgpO3ZhciBaYT0vVW50aWwkLywkYT0vXig/OnBhcmVudHN8cHJldlVudGlsfHByZXZBbGwpLyxhYj0vLC8sTmE9L14uW146I1xbXC4sXSokLyxiYj1BcnJheS5wcm90b3R5cGUuc2xpY2UsY2I9Yy5leHByLm1hdGNoLlBPUztjLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5wdXNoU3RhY2soIiIsImZpbmQiLGEpLGQ9MCxlPTAsZj10aGlzLmxlbmd0aDtlPGY7ZSsrKXtkPWIubGVuZ3RoO2MuZmluZChhLHRoaXNbZV0sYik7aWYoZT4wKWZvcih2YXIgaD1kO2g8Yi5sZW5ndGg7aCsrKWZvcih2YXIgbD0wO2w8ZDtsKyspaWYoYltsXT09PWJbaF0pe2Iuc3BsaWNlKGgtLSwxKTticmVha319cmV0dXJuIGJ9LGhhczpmdW5jdGlvbihhKXt2YXIgYj1jKGEpO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKylpZihjLmNvbnRhaW5zKHRoaXMsYltkXSkpcmV0dXJuIHRydWV9KX0sCm5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobWEodGhpcyxhLGZhbHNlKSwibm90IixhKX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhtYSh0aGlzLGEsdHJ1ZSksImZpbHRlciIsYSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhYSYmYy5maWx0ZXIoYSx0aGlzKS5sZW5ndGg+MH0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe3ZhciBkPVtdLGUsZixoPXRoaXNbMF07aWYoYy5pc0FycmF5KGEpKXt2YXIgbCxrPXt9LG89MTtpZihoJiZhLmxlbmd0aCl7ZT0wO2ZvcihmPWEubGVuZ3RoO2U8ZjtlKyspe2w9YVtlXTtrW2xdfHwoa1tsXT1jLmV4cHIubWF0Y2guUE9TLnRlc3QobCk/YyhsLGJ8fHRoaXMuY29udGV4dCk6bCl9Zm9yKDtoJiZoLm93bmVyRG9jdW1lbnQmJmghPT1iOyl7Zm9yKGwgaW4gayl7ZT1rW2xdO2lmKGUuanF1ZXJ5P2UuaW5kZXgoaCk+LTE6YyhoKS5pcyhlKSlkLnB1c2goe3NlbGVjdG9yOmwsZWxlbTpoLGxldmVsOm99KX1oPQpoLnBhcmVudE5vZGU7bysrfX1yZXR1cm4gZH1sPWNiLnRlc3QoYSk/YyhhLGJ8fHRoaXMuY29udGV4dCk6bnVsbDtlPTA7Zm9yKGY9dGhpcy5sZW5ndGg7ZTxmO2UrKylmb3IoaD10aGlzW2VdO2g7KWlmKGw/bC5pbmRleChoKT4tMTpjLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGgsYSkpe2QucHVzaChoKTticmVha31lbHNle2g9aC5wYXJlbnROb2RlO2lmKCFofHwhaC5vd25lckRvY3VtZW50fHxoPT09YilicmVha31kPWQubGVuZ3RoPjE/Yy51bmlxdWUoZCk6ZDtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCwiY2xvc2VzdCIsYSl9LGluZGV4OmZ1bmN0aW9uKGEpe2lmKCFhfHx0eXBlb2YgYT09PSJzdHJpbmciKXJldHVybiBjLmluQXJyYXkodGhpc1swXSxhP2MoYSk6dGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpKTtyZXR1cm4gYy5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dHlwZW9mIGE9PT0ic3RyaW5nIj9jKGEsYnx8dGhpcy5jb250ZXh0KToKYy5tYWtlQXJyYXkoYSksZT1jLm1lcmdlKHRoaXMuZ2V0KCksZCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKCFkWzBdfHwhZFswXS5wYXJlbnROb2RlfHxkWzBdLnBhcmVudE5vZGUubm9kZVR5cGU9PT0xMXx8IWVbMF18fCFlWzBdLnBhcmVudE5vZGV8fGVbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZT09PTExP2U6Yy51bmlxdWUoZSkpfSxhbmRTZWxmOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkKHRoaXMucHJldk9iamVjdCl9fSk7Yy5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wYXJlbnROb2RlKSYmYS5ub2RlVHlwZSE9PTExP2E6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYy5kaXIoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjLmRpcihhLCJwYXJlbnROb2RlIixkKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYy5udGgoYSwyLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBjLm50aChhLAoyLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gYy5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gYy5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGMuZGlyKGEsIm5leHRTaWJsaW5nIixkKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYy5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixkKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGMuc2libGluZyhhLnBhcmVudE5vZGUuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIGMuc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYy5ub2RlTmFtZShhLCJpZnJhbWUiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50OmMubWFrZUFycmF5KGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLApiKXtjLmZuW2FdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9Yy5tYXAodGhpcyxiLGQpO1phLnRlc3QoYSl8fChlPWQpO2lmKGUmJnR5cGVvZiBlPT09InN0cmluZyIpZj1jLmZpbHRlcihlLGYpO2Y9dGhpcy5sZW5ndGg+MT9jLnVuaXF1ZShmKTpmO2lmKCh0aGlzLmxlbmd0aD4xfHxhYi50ZXN0KGUpKSYmJGEudGVzdChhKSlmPWYucmV2ZXJzZSgpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmLGEsYmIuY2FsbChhcmd1bWVudHMpLmpvaW4oIiwiKSl9fSk7Yy5leHRlbmQoe2ZpbHRlcjpmdW5jdGlvbihhLGIsZCl7aWYoZClhPSI6bm90KCIrYSsiKSI7cmV0dXJuIGIubGVuZ3RoPT09MT9jLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGJbMF0sYSk/W2JbMF1dOltdOmMuZmluZC5tYXRjaGVzKGEsYil9LGRpcjpmdW5jdGlvbihhLGIsZCl7dmFyIGU9W107Zm9yKGE9YVtiXTthJiZhLm5vZGVUeXBlIT09OSYmKGQ9PT1CfHxhLm5vZGVUeXBlIT09MXx8IWMoYSkuaXMoZCkpOyl7YS5ub2RlVHlwZT09PTEmJgplLnB1c2goYSk7YT1hW2JdfXJldHVybiBlfSxudGg6ZnVuY3Rpb24oYSxiLGQpe2I9Ynx8MTtmb3IodmFyIGU9MDthO2E9YVtkXSlpZihhLm5vZGVUeXBlPT09MSYmKytlPT09YilicmVhaztyZXR1cm4gYX0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZD1bXTthO2E9YS5uZXh0U2libGluZylhLm5vZGVUeXBlPT09MSYmYSE9PWImJmQucHVzaChhKTtyZXR1cm4gZH19KTt2YXIgemE9LyBqUXVlcnlcZCs9Iig/OlxkK3xudWxsKSIvZywkPS9eXHMrLyxBYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2lnLEJhPS88KFtcdzpdKykvLGRiPS88dGJvZHkvaSxlYj0vPHwmIz9cdys7LyxDYT0vPCg/OnNjcmlwdHxvYmplY3R8ZW1iZWR8b3B0aW9ufHN0eWxlKS9pLERhPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGZiPS9cPShbXj0iJz5cc10rXC8pPi9nLFA9e29wdGlvbjpbMSwKIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O1Aub3B0Z3JvdXA9UC5vcHRpb247UC50Ym9keT1QLnRmb290PVAuY29sZ3JvdXA9UC5jYXB0aW9uPVAudGhlYWQ7UC50aD1QLnRkO2lmKCFjLnN1cHBvcnQuaHRtbFNlcmlhbGl6ZSlQLl9kZWZhdWx0PVsxLCJkaXY8ZGl2PiIsIjwvZGl2PiJdO2MuZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe2lmKGMuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBkPQpjKHRoaXMpO2QudGV4dChhLmNhbGwodGhpcyxiLGQudGV4dCgpKSl9KTtpZih0eXBlb2YgYSE9PSJvYmplY3QiJiZhIT09QilyZXR1cm4gdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHx0KS5jcmVhdGVUZXh0Tm9kZShhKSk7cmV0dXJuIGMudGV4dCh0aGlzKX0sd3JhcEFsbDpmdW5jdGlvbihhKXtpZihjLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihkKXtjKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsZCkpfSk7aWYodGhpc1swXSl7dmFyIGI9YyhhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUodHJ1ZSk7dGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKTtiLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgZD10aGlzO2QuZmlyc3RDaGlsZCYmZC5maXJzdENoaWxkLm5vZGVUeXBlPT09MTspZD1kLmZpcnN0Q2hpbGQ7cmV0dXJuIGR9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LAp3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7aWYoYy5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Yyh0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWModGhpcyksZD1iLmNvbnRlbnRzKCk7ZC5sZW5ndGg/ZC53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2ModGhpcykud3JhcEFsbChhKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7Yy5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fGModGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsdHJ1ZSxmdW5jdGlvbihhKXt0aGlzLm5vZGVUeXBlPT09MSYmdGhpcy5hcHBlbmRDaGlsZChhKX0pfSwKcHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyx0cnVlLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmluc2VydEJlZm9yZShhLHRoaXMuZmlyc3RDaGlsZCl9KX0sYmVmb3JlOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmYWxzZSxmdW5jdGlvbihiKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsdGhpcyl9KTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPWMoYXJndW1lbnRzWzBdKTthLnB1c2guYXBwbHkoYSx0aGlzLnRvQXJyYXkoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGEsImJlZm9yZSIsYXJndW1lbnRzKX19LGFmdGVyOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmYWxzZSxmdW5jdGlvbihiKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsCnRoaXMubmV4dFNpYmxpbmcpfSk7ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT10aGlzLnB1c2hTdGFjayh0aGlzLCJhZnRlciIsYXJndW1lbnRzKTthLnB1c2guYXBwbHkoYSxjKGFyZ3VtZW50c1swXSkudG9BcnJheSgpKTtyZXR1cm4gYX19LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZD0wLGU7KGU9dGhpc1tkXSkhPW51bGw7ZCsrKWlmKCFhfHxjLmZpbHRlcihhLFtlXSkubGVuZ3RoKXtpZighYiYmZS5ub2RlVHlwZT09PTEpe2MuY2xlYW5EYXRhKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSk7Yy5jbGVhbkRhdGEoW2VdKX1lLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX1yZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiOyhiPXRoaXNbYV0pIT1udWxsO2ErKylmb3IoYi5ub2RlVHlwZT09PTEmJmMuY2xlYW5EYXRhKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSk7Yi5maXJzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIuZmlyc3RDaGlsZCk7CnJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcChmdW5jdGlvbigpe2lmKCFjLnN1cHBvcnQubm9DbG9uZUV2ZW50JiYhYy5pc1hNTERvYyh0aGlzKSl7dmFyIGQ9dGhpcy5vdXRlckhUTUwsZT10aGlzLm93bmVyRG9jdW1lbnQ7aWYoIWQpe2Q9ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmFwcGVuZENoaWxkKHRoaXMuY2xvbmVOb2RlKHRydWUpKTtkPWQuaW5uZXJIVE1MfXJldHVybiBjLmNsZWFuKFtkLnJlcGxhY2UoemEsIiIpLnJlcGxhY2UoZmIsJz0iJDEiPicpLnJlcGxhY2UoJCwiIildLGUpWzBdfWVsc2UgcmV0dXJuIHRoaXMuY2xvbmVOb2RlKHRydWUpfSk7aWYoYT09PXRydWUpe25hKHRoaXMsYik7bmEodGhpcy5maW5kKCIqIiksYi5maW5kKCIqIikpfXJldHVybiBifSxodG1sOmZ1bmN0aW9uKGEpe2lmKGE9PT1CKXJldHVybiB0aGlzWzBdJiZ0aGlzWzBdLm5vZGVUeXBlPT09MT90aGlzWzBdLmlubmVySFRNTC5yZXBsYWNlKHphLCIiKTpudWxsOwplbHNlIGlmKHR5cGVvZiBhPT09InN0cmluZyImJiFDYS50ZXN0KGEpJiYoYy5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlfHwhJC50ZXN0KGEpKSYmIVBbKEJhLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShBYSwiPCQxPjwvJDI+Iik7dHJ5e2Zvcih2YXIgYj0wLGQ9dGhpcy5sZW5ndGg7YjxkO2IrKylpZih0aGlzW2JdLm5vZGVUeXBlPT09MSl7Yy5jbGVhbkRhdGEodGhpc1tiXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTt0aGlzW2JdLmlubmVySFRNTD1hfX1jYXRjaChlKXt0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfX1lbHNlIGMuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oZil7dmFyIGg9Yyh0aGlzKTtoLmh0bWwoYS5jYWxsKHRoaXMsZixoLmh0bWwoKSkpfSk6dGhpcy5lbXB0eSgpLmFwcGVuZChhKTtyZXR1cm4gdGhpc30scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXtpZihjLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgZD0KYyh0aGlzKSxlPWQuaHRtbCgpO2QucmVwbGFjZVdpdGgoYS5jYWxsKHRoaXMsYixlKSl9KTtpZih0eXBlb2YgYSE9PSJzdHJpbmciKWE9YyhhKS5kZXRhY2goKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5uZXh0U2libGluZyxkPXRoaXMucGFyZW50Tm9kZTtjKHRoaXMpLnJlbW92ZSgpO2I/YyhiKS5iZWZvcmUoYSk6YyhkKS5hcHBlbmQoYSl9KX1lbHNlIHJldHVybiB0aGlzLnB1c2hTdGFjayhjKGMuaXNGdW5jdGlvbihhKT9hKCk6YSksInJlcGxhY2VXaXRoIixhKX0sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLHRydWUpfSxkb21NYW5pcDpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZixoLGw9YVswXSxrPVtdO2lmKCFjLnN1cHBvcnQuY2hlY2tDbG9uZSYmYXJndW1lbnRzLmxlbmd0aD09PTMmJnR5cGVvZiBsPT09InN0cmluZyImJkRhLnRlc3QobCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2ModGhpcykuZG9tTWFuaXAoYSwKYixkLHRydWUpfSk7aWYoYy5pc0Z1bmN0aW9uKGwpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oeCl7dmFyIHI9Yyh0aGlzKTthWzBdPWwuY2FsbCh0aGlzLHgsYj9yLmh0bWwoKTpCKTtyLmRvbU1hbmlwKGEsYixkKX0pO2lmKHRoaXNbMF0pe2U9bCYmbC5wYXJlbnROb2RlO2U9Yy5zdXBwb3J0LnBhcmVudE5vZGUmJmUmJmUubm9kZVR5cGU9PT0xMSYmZS5jaGlsZE5vZGVzLmxlbmd0aD09PXRoaXMubGVuZ3RoP3tmcmFnbWVudDplfTpjLmJ1aWxkRnJhZ21lbnQoYSx0aGlzLGspO2g9ZS5mcmFnbWVudDtpZihmPWguY2hpbGROb2Rlcy5sZW5ndGg9PT0xP2g9aC5maXJzdENoaWxkOmguZmlyc3RDaGlsZCl7Yj1iJiZjLm5vZGVOYW1lKGYsInRyIik7Zj0wO2Zvcih2YXIgbz10aGlzLmxlbmd0aDtmPG87ZisrKWQuY2FsbChiP2Mubm9kZU5hbWUodGhpc1tmXSwidGFibGUiKT90aGlzW2ZdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHx0aGlzW2ZdLmFwcGVuZENoaWxkKHRoaXNbZl0ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKToKdGhpc1tmXTp0aGlzW2ZdLGY+MHx8ZS5jYWNoZWFibGV8fHRoaXMubGVuZ3RoPjE/aC5jbG9uZU5vZGUodHJ1ZSk6aCl9ay5sZW5ndGgmJmMuZWFjaChrLE9hKX1yZXR1cm4gdGhpc319KTtjLmJ1aWxkRnJhZ21lbnQ9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGYsaDtiPWImJmJbMF0/YlswXS5vd25lckRvY3VtZW50fHxiWzBdOnQ7aWYoYS5sZW5ndGg9PT0xJiZ0eXBlb2YgYVswXT09PSJzdHJpbmciJiZhWzBdLmxlbmd0aDw1MTImJmI9PT10JiYhQ2EudGVzdChhWzBdKSYmKGMuc3VwcG9ydC5jaGVja0Nsb25lfHwhRGEudGVzdChhWzBdKSkpe2Y9dHJ1ZTtpZihoPWMuZnJhZ21lbnRzW2FbMF1dKWlmKGghPT0xKWU9aH1pZighZSl7ZT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtjLmNsZWFuKGEsYixlLGQpfWlmKGYpYy5mcmFnbWVudHNbYVswXV09aD9lOjE7cmV0dXJue2ZyYWdtZW50OmUsY2FjaGVhYmxlOmZ9fTtjLmZyYWdtZW50cz17fTtjLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLApwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtjLmZuW2FdPWZ1bmN0aW9uKGQpe3ZhciBlPVtdO2Q9YyhkKTt2YXIgZj10aGlzLmxlbmd0aD09PTEmJnRoaXNbMF0ucGFyZW50Tm9kZTtpZihmJiZmLm5vZGVUeXBlPT09MTEmJmYuY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiZkLmxlbmd0aD09PTEpe2RbYl0odGhpc1swXSk7cmV0dXJuIHRoaXN9ZWxzZXtmPTA7Zm9yKHZhciBoPWQubGVuZ3RoO2Y8aDtmKyspe3ZhciBsPShmPjA/dGhpcy5jbG9uZSh0cnVlKTp0aGlzKS5nZXQoKTtjKGRbZl0pW2JdKGwpO2U9ZS5jb25jYXQobCl9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUsYSxkLnNlbGVjdG9yKX19fSk7Yy5leHRlbmQoe2NsZWFuOmZ1bmN0aW9uKGEsYixkLGUpe2I9Ynx8dDtpZih0eXBlb2YgYi5jcmVhdGVFbGVtZW50PT09InVuZGVmaW5lZCIpYj1iLm93bmVyRG9jdW1lbnR8fApiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fHQ7Zm9yKHZhciBmPVtdLGg9MCxsOyhsPWFbaF0pIT1udWxsO2grKyl7aWYodHlwZW9mIGw9PT0ibnVtYmVyIilsKz0iIjtpZihsKXtpZih0eXBlb2YgbD09PSJzdHJpbmciJiYhZWIudGVzdChsKSlsPWIuY3JlYXRlVGV4dE5vZGUobCk7ZWxzZSBpZih0eXBlb2YgbD09PSJzdHJpbmciKXtsPWwucmVwbGFjZShBYSwiPCQxPjwvJDI+Iik7dmFyIGs9KEJhLmV4ZWMobCl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksbz1QW2tdfHxQLl9kZWZhdWx0LHg9b1swXSxyPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKHIuaW5uZXJIVE1MPW9bMV0rbCtvWzJdO3gtLTspcj1yLmxhc3RDaGlsZDtpZighYy5zdXBwb3J0LnRib2R5KXt4PWRiLnRlc3QobCk7az1rPT09InRhYmxlIiYmIXg/ci5maXJzdENoaWxkJiZyLmZpcnN0Q2hpbGQuY2hpbGROb2RlczpvWzFdPT09Ijx0YWJsZT4iJiYheD9yLmNoaWxkTm9kZXM6W107Zm9yKG89ay5sZW5ndGgtCjE7bz49MDstLW8pYy5ub2RlTmFtZShrW29dLCJ0Ym9keSIpJiYha1tvXS5jaGlsZE5vZGVzLmxlbmd0aCYma1tvXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGtbb10pfSFjLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJiQudGVzdChsKSYmci5pbnNlcnRCZWZvcmUoYi5jcmVhdGVUZXh0Tm9kZSgkLmV4ZWMobClbMF0pLHIuZmlyc3RDaGlsZCk7bD1yLmNoaWxkTm9kZXN9aWYobC5ub2RlVHlwZSlmLnB1c2gobCk7ZWxzZSBmPWMubWVyZ2UoZixsKX19aWYoZClmb3IoaD0wO2ZbaF07aCsrKWlmKGUmJmMubm9kZU5hbWUoZltoXSwic2NyaXB0IikmJighZltoXS50eXBlfHxmW2hdLnR5cGUudG9Mb3dlckNhc2UoKT09PSJ0ZXh0L2phdmFzY3JpcHQiKSllLnB1c2goZltoXS5wYXJlbnROb2RlP2ZbaF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmW2hdKTpmW2hdKTtlbHNle2ZbaF0ubm9kZVR5cGU9PT0xJiZmLnNwbGljZS5hcHBseShmLFtoKzEsMF0uY29uY2F0KGMubWFrZUFycmF5KGZbaF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpKSkpOwpkLmFwcGVuZENoaWxkKGZbaF0pfXJldHVybiBmfSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGQsZT1jLmNhY2hlLGY9Yy5ldmVudC5zcGVjaWFsLGg9Yy5zdXBwb3J0LmRlbGV0ZUV4cGFuZG8sbD0wLGs7KGs9YVtsXSkhPW51bGw7bCsrKWlmKCEoay5ub2RlTmFtZSYmYy5ub0RhdGFbay5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpaWYoZD1rW2MuZXhwYW5kb10pe2lmKChiPWVbZF0pJiZiLmV2ZW50cylmb3IodmFyIG8gaW4gYi5ldmVudHMpZltvXT9jLmV2ZW50LnJlbW92ZShrLG8pOmMucmVtb3ZlRXZlbnQoayxvLGIuaGFuZGxlKTtpZihoKWRlbGV0ZSBrW2MuZXhwYW5kb107ZWxzZSBrLnJlbW92ZUF0dHJpYnV0ZSYmay5yZW1vdmVBdHRyaWJ1dGUoYy5leHBhbmRvKTtkZWxldGUgZVtkXX19fSk7dmFyIEVhPS9hbHBoYVwoW14pXSpcKS9pLGdiPS9vcGFjaXR5PShbXildKikvLGhiPS8tKFthLXpdKS9pZyxpYj0vKFtBLVpdKS9nLEZhPS9eLT9cZCsoPzpweCk/JC9pLApqYj0vXi0/XGQvLGtiPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxQYT1bIkxlZnQiLCJSaWdodCJdLFFhPVsiVG9wIiwiQm90dG9tIl0sVyxHYSxhYSxsYj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O2MuZm4uY3NzPWZ1bmN0aW9uKGEsYil7aWYoYXJndW1lbnRzLmxlbmd0aD09PTImJmI9PT1CKXJldHVybiB0aGlzO3JldHVybiBjLmFjY2Vzcyh0aGlzLGEsYix0cnVlLGZ1bmN0aW9uKGQsZSxmKXtyZXR1cm4gZiE9PUI/Yy5zdHlsZShkLGUsZik6Yy5jc3MoZCxlKX0pfTtjLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBkPVcoYSwib3BhY2l0eSIsIm9wYWNpdHkiKTtyZXR1cm4gZD09PSIiPyIxIjpkfWVsc2UgcmV0dXJuIGEuc3R5bGUub3BhY2l0eX19fSxjc3NOdW1iZXI6e3pJbmRleDp0cnVlLGZvbnRXZWlnaHQ6dHJ1ZSxvcGFjaXR5OnRydWUsCnpvb206dHJ1ZSxsaW5lSGVpZ2h0OnRydWV9LGNzc1Byb3BzOnsiZmxvYXQiOmMuc3VwcG9ydC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGQsZSl7aWYoISghYXx8YS5ub2RlVHlwZT09PTN8fGEubm9kZVR5cGU9PT04fHwhYS5zdHlsZSkpe3ZhciBmLGg9Yy5jYW1lbENhc2UoYiksbD1hLnN0eWxlLGs9Yy5jc3NIb29rc1toXTtiPWMuY3NzUHJvcHNbaF18fGg7aWYoZCE9PUIpe2lmKCEodHlwZW9mIGQ9PT0ibnVtYmVyIiYmaXNOYU4oZCl8fGQ9PW51bGwpKXtpZih0eXBlb2YgZD09PSJudW1iZXIiJiYhYy5jc3NOdW1iZXJbaF0pZCs9InB4IjtpZigha3x8ISgic2V0ImluIGspfHwoZD1rLnNldChhLGQpKSE9PUIpdHJ5e2xbYl09ZH1jYXRjaChvKXt9fX1lbHNle2lmKGsmJiJnZXQiaW4gayYmKGY9ay5nZXQoYSxmYWxzZSxlKSkhPT1CKXJldHVybiBmO3JldHVybiBsW2JdfX19LGNzczpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZj1jLmNhbWVsQ2FzZShiKSwKaD1jLmNzc0hvb2tzW2ZdO2I9Yy5jc3NQcm9wc1tmXXx8ZjtpZihoJiYiZ2V0ImluIGgmJihlPWguZ2V0KGEsdHJ1ZSxkKSkhPT1CKXJldHVybiBlO2Vsc2UgaWYoVylyZXR1cm4gVyhhLGIsZil9LHN3YXA6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXt9LGY7Zm9yKGYgaW4gYil7ZVtmXT1hLnN0eWxlW2ZdO2Euc3R5bGVbZl09YltmXX1kLmNhbGwoYSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWVbZl19LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGhiLGxiKX19KTtjLmN1ckNTUz1jLmNzcztjLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7Yy5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGQsZSxmKXt2YXIgaDtpZihlKXtpZihkLm9mZnNldFdpZHRoIT09MCloPW9hKGQsYixmKTtlbHNlIGMuc3dhcChkLGtiLGZ1bmN0aW9uKCl7aD1vYShkLGIsZil9KTtpZihoPD0wKXtoPVcoZCxiLGIpO2lmKGg9PT0iMHB4IiYmYWEpaD1hYShkLGIsYik7CmlmKGghPW51bGwpcmV0dXJuIGg9PT0iInx8aD09PSJhdXRvIj8iMHB4IjpofWlmKGg8MHx8aD09bnVsbCl7aD1kLnN0eWxlW2JdO3JldHVybiBoPT09IiJ8fGg9PT0iYXV0byI/IjBweCI6aH1yZXR1cm4gdHlwZW9mIGg9PT0ic3RyaW5nIj9oOmgrInB4In19LHNldDpmdW5jdGlvbihkLGUpe2lmKEZhLnRlc3QoZSkpe2U9cGFyc2VGbG9hdChlKTtpZihlPj0wKXJldHVybiBlKyJweCJ9ZWxzZSByZXR1cm4gZX19fSk7aWYoIWMuc3VwcG9ydC5vcGFjaXR5KWMuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGdiLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fCIiKT9wYXJzZUZsb2F0KFJlZ0V4cC4kMSkvMTAwKyIiOmI/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLnN0eWxlO2Quem9vbT0xO3ZhciBlPWMuaXNOYU4oYik/IiI6ImFscGhhKG9wYWNpdHk9IitiKjEwMCsiKSIsZj0KZC5maWx0ZXJ8fCIiO2QuZmlsdGVyPUVhLnRlc3QoZik/Zi5yZXBsYWNlKEVhLGUpOmQuZmlsdGVyKyIgIitlfX07aWYodC5kZWZhdWx0VmlldyYmdC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKUdhPWZ1bmN0aW9uKGEsYixkKXt2YXIgZTtkPWQucmVwbGFjZShpYiwiLSQxIikudG9Mb3dlckNhc2UoKTtpZighKGI9YS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSlyZXR1cm4gQjtpZihiPWIuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpKXtlPWIuZ2V0UHJvcGVydHlWYWx1ZShkKTtpZihlPT09IiImJiFjLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYSkpZT1jLnN0eWxlKGEsZCl9cmV0dXJuIGV9O2lmKHQuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSlhYT1mdW5jdGlvbihhLGIpe3ZhciBkLGUsZj1hLmN1cnJlbnRTdHlsZSYmYS5jdXJyZW50U3R5bGVbYl0saD1hLnN0eWxlO2lmKCFGYS50ZXN0KGYpJiZqYi50ZXN0KGYpKXtkPWgubGVmdDsKZT1hLnJ1bnRpbWVTdHlsZS5sZWZ0O2EucnVudGltZVN0eWxlLmxlZnQ9YS5jdXJyZW50U3R5bGUubGVmdDtoLmxlZnQ9Yj09PSJmb250U2l6ZSI/IjFlbSI6Znx8MDtmPWgucGl4ZWxMZWZ0KyJweCI7aC5sZWZ0PWQ7YS5ydW50aW1lU3R5bGUubGVmdD1lfXJldHVybiBmPT09IiI/ImF1dG8iOmZ9O1c9R2F8fGFhO2lmKGMuZXhwciYmYy5leHByLmZpbHRlcnMpe2MuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXt2YXIgYj1hLm9mZnNldEhlaWdodDtyZXR1cm4gYS5vZmZzZXRXaWR0aD09PTAmJmI9PT0wfHwhYy5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmKGEuc3R5bGUuZGlzcGxheXx8Yy5jc3MoYSwiZGlzcGxheSIpKT09PSJub25lIn07Yy5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hYy5leHByLmZpbHRlcnMuaGlkZGVuKGEpfX12YXIgbWI9Yy5ub3coKSxuYj0vPHNjcmlwdFxiW148XSooPzooPyE8XC9zY3JpcHQ+KTxbXjxdKikqPFwvc2NyaXB0Pi9naSwKb2I9L14oPzpzZWxlY3R8dGV4dGFyZWEpL2kscGI9L14oPzpjb2xvcnxkYXRlfGRhdGV0aW1lfGVtYWlsfGhpZGRlbnxtb250aHxudW1iZXJ8cGFzc3dvcmR8cmFuZ2V8c2VhcmNofHRlbHx0ZXh0fHRpbWV8dXJsfHdlZWspJC9pLHFiPS9eKD86R0VUfEhFQUQpJC8sUmE9L1xbXF0kLyxUPS9cPVw/KCZ8JCkvLGphPS9cPy8scmI9LyhbPyZdKV89W14mXSovLHNiPS9eKFx3KzopP1wvXC8oW15cLz8jXSspLyx0Yj0vJTIwL2csdWI9LyMuKiQvLEhhPWMuZm4ubG9hZDtjLmZuLmV4dGVuZCh7bG9hZDpmdW5jdGlvbihhLGIsZCl7aWYodHlwZW9mIGEhPT0ic3RyaW5nIiYmSGEpcmV0dXJuIEhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNlIGlmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgZT1hLmluZGV4T2YoIiAiKTtpZihlPj0wKXt2YXIgZj1hLnNsaWNlKGUsYS5sZW5ndGgpO2E9YS5zbGljZSgwLGUpfWU9IkdFVCI7aWYoYilpZihjLmlzRnVuY3Rpb24oYikpe2Q9YjtiPW51bGx9ZWxzZSBpZih0eXBlb2YgYj09PQoib2JqZWN0Iil7Yj1jLnBhcmFtKGIsYy5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpO2U9IlBPU1QifXZhciBoPXRoaXM7Yy5hamF4KHt1cmw6YSx0eXBlOmUsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yixjb21wbGV0ZTpmdW5jdGlvbihsLGspe2lmKGs9PT0ic3VjY2VzcyJ8fGs9PT0ibm90bW9kaWZpZWQiKWguaHRtbChmP2MoIjxkaXY+IikuYXBwZW5kKGwucmVzcG9uc2VUZXh0LnJlcGxhY2UobmIsIiIpKS5maW5kKGYpOmwucmVzcG9uc2VUZXh0KTtkJiZoLmVhY2goZCxbbC5yZXNwb25zZVRleHQsayxsXSl9fSk7cmV0dXJuIHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBjLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHM/Yy5tYWtlQXJyYXkodGhpcy5lbGVtZW50cyk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUmJgohdGhpcy5kaXNhYmxlZCYmKHRoaXMuY2hlY2tlZHx8b2IudGVzdCh0aGlzLm5vZGVOYW1lKXx8cGIudGVzdCh0aGlzLnR5cGUpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBkPWModGhpcykudmFsKCk7cmV0dXJuIGQ9PW51bGw/bnVsbDpjLmlzQXJyYXkoZCk/Yy5tYXAoZCxmdW5jdGlvbihlKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6ZX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6ZH19KS5nZXQoKX19KTtjLmVhY2goImFqYXhTdGFydCBhamF4U3RvcCBhamF4Q29tcGxldGUgYWpheEVycm9yIGFqYXhTdWNjZXNzIGFqYXhTZW5kIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Yy5mbltiXT1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5iaW5kKGIsZCl9fSk7Yy5leHRlbmQoe2dldDpmdW5jdGlvbihhLGIsZCxlKXtpZihjLmlzRnVuY3Rpb24oYikpe2U9ZXx8ZDtkPWI7Yj1udWxsfXJldHVybiBjLmFqYXgoe3R5cGU6IkdFVCIsdXJsOmEsZGF0YTpiLHN1Y2Nlc3M6ZCxkYXRhVHlwZTplfSl9LApnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy5nZXQoYSxudWxsLGIsInNjcmlwdCIpfSxnZXRKU09OOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYy5nZXQoYSxiLGQsImpzb24iKX0scG9zdDpmdW5jdGlvbihhLGIsZCxlKXtpZihjLmlzRnVuY3Rpb24oYikpe2U9ZXx8ZDtkPWI7Yj17fX1yZXR1cm4gYy5hamF4KHt0eXBlOiJQT1NUIix1cmw6YSxkYXRhOmIsc3VjY2VzczpkLGRhdGFUeXBlOmV9KX0sYWpheFNldHVwOmZ1bmN0aW9uKGEpe2MuZXh0ZW5kKGMuYWpheFNldHRpbmdzLGEpfSxhamF4U2V0dGluZ3M6e3VybDpsb2NhdGlvbi5ocmVmLGdsb2JhbDp0cnVlLHR5cGU6IkdFVCIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIscHJvY2Vzc0RhdGE6dHJ1ZSxhc3luYzp0cnVlLHhocjpmdW5jdGlvbigpe3JldHVybiBuZXcgRS5YTUxIdHRwUmVxdWVzdH0sYWNjZXB0czp7eG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixodG1sOiJ0ZXh0L2h0bWwiLApzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0Iix0ZXh0OiJ0ZXh0L3BsYWluIixfZGVmYXVsdDoiKi8qIn19LGFqYXg6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5leHRlbmQodHJ1ZSx7fSxjLmFqYXhTZXR0aW5ncyxhKSxkLGUsZixoPWIudHlwZS50b1VwcGVyQ2FzZSgpLGw9cWIudGVzdChoKTtiLnVybD1iLnVybC5yZXBsYWNlKHViLCIiKTtiLmNvbnRleHQ9YSYmYS5jb250ZXh0IT1udWxsP2EuY29udGV4dDpiO2lmKGIuZGF0YSYmYi5wcm9jZXNzRGF0YSYmdHlwZW9mIGIuZGF0YSE9PSJzdHJpbmciKWIuZGF0YT1jLnBhcmFtKGIuZGF0YSxiLnRyYWRpdGlvbmFsKTtpZihiLmRhdGFUeXBlPT09Impzb25wIil7aWYoaD09PSJHRVQiKVQudGVzdChiLnVybCl8fChiLnVybCs9KGphLnRlc3QoYi51cmwpPyImIjoiPyIpKyhiLmpzb25wfHwiY2FsbGJhY2siKSsiPT8iKTtlbHNlIGlmKCFiLmRhdGF8fAohVC50ZXN0KGIuZGF0YSkpYi5kYXRhPShiLmRhdGE/Yi5kYXRhKyImIjoiIikrKGIuanNvbnB8fCJjYWxsYmFjayIpKyI9PyI7Yi5kYXRhVHlwZT0ianNvbiJ9aWYoYi5kYXRhVHlwZT09PSJqc29uIiYmKGIuZGF0YSYmVC50ZXN0KGIuZGF0YSl8fFQudGVzdChiLnVybCkpKXtkPWIuanNvbnBDYWxsYmFja3x8Impzb25wIittYisrO2lmKGIuZGF0YSliLmRhdGE9KGIuZGF0YSsiIikucmVwbGFjZShULCI9IitkKyIkMSIpO2IudXJsPWIudXJsLnJlcGxhY2UoVCwiPSIrZCsiJDEiKTtiLmRhdGFUeXBlPSJzY3JpcHQiO3ZhciBrPUVbZF07RVtkXT1mdW5jdGlvbihtKXtpZihjLmlzRnVuY3Rpb24oaykpayhtKTtlbHNle0VbZF09Qjt0cnl7ZGVsZXRlIEVbZF19Y2F0Y2gocCl7fX1mPW07Yy5oYW5kbGVTdWNjZXNzKGIsdyxlLGYpO2MuaGFuZGxlQ29tcGxldGUoYix3LGUsZik7ciYmci5yZW1vdmVDaGlsZChBKX19aWYoYi5kYXRhVHlwZT09PSJzY3JpcHQiJiZiLmNhY2hlPT09bnVsbCliLmNhY2hlPQpmYWxzZTtpZihiLmNhY2hlPT09ZmFsc2UmJmwpe3ZhciBvPWMubm93KCkseD1iLnVybC5yZXBsYWNlKHJiLCIkMV89IitvKTtiLnVybD14Kyh4PT09Yi51cmw/KGphLnRlc3QoYi51cmwpPyImIjoiPyIpKyJfPSIrbzoiIil9aWYoYi5kYXRhJiZsKWIudXJsKz0oamEudGVzdChiLnVybCk/IiYiOiI/IikrYi5kYXRhO2IuZ2xvYmFsJiZjLmFjdGl2ZSsrPT09MCYmYy5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTtvPShvPXNiLmV4ZWMoYi51cmwpKSYmKG9bMV0mJm9bMV0udG9Mb3dlckNhc2UoKSE9PWxvY2F0aW9uLnByb3RvY29sfHxvWzJdLnRvTG93ZXJDYXNlKCkhPT1sb2NhdGlvbi5ob3N0KTtpZihiLmRhdGFUeXBlPT09InNjcmlwdCImJmg9PT0iR0VUIiYmbyl7dmFyIHI9dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHx0LmRvY3VtZW50RWxlbWVudCxBPXQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aWYoYi5zY3JpcHRDaGFyc2V0KUEuY2hhcnNldD1iLnNjcmlwdENoYXJzZXQ7CkEuc3JjPWIudXJsO2lmKCFkKXt2YXIgQz1mYWxzZTtBLm9ubG9hZD1BLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKCFDJiYoIXRoaXMucmVhZHlTdGF0ZXx8dGhpcy5yZWFkeVN0YXRlPT09ImxvYWRlZCJ8fHRoaXMucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSIpKXtDPXRydWU7Yy5oYW5kbGVTdWNjZXNzKGIsdyxlLGYpO2MuaGFuZGxlQ29tcGxldGUoYix3LGUsZik7QS5vbmxvYWQ9QS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtyJiZBLnBhcmVudE5vZGUmJnIucmVtb3ZlQ2hpbGQoQSl9fX1yLmluc2VydEJlZm9yZShBLHIuZmlyc3RDaGlsZCk7cmV0dXJuIEJ9dmFyIEo9ZmFsc2Usdz1iLnhocigpO2lmKHcpe2IudXNlcm5hbWU/dy5vcGVuKGgsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpOncub3BlbihoLGIudXJsLGIuYXN5bmMpO3RyeXtpZihiLmRhdGEhPW51bGwmJiFsfHxhJiZhLmNvbnRlbnRUeXBlKXcuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwKYi5jb250ZW50VHlwZSk7aWYoYi5pZk1vZGlmaWVkKXtjLmxhc3RNb2RpZmllZFtiLnVybF0mJncuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGMubGFzdE1vZGlmaWVkW2IudXJsXSk7Yy5ldGFnW2IudXJsXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixjLmV0YWdbYi51cmxdKX1vfHx3LnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpO3cuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixiLmRhdGFUeXBlJiZiLmFjY2VwdHNbYi5kYXRhVHlwZV0/Yi5hY2NlcHRzW2IuZGF0YVR5cGVdKyIsICovKjsgcT0wLjAxIjpiLmFjY2VwdHMuX2RlZmF1bHQpfWNhdGNoKEkpe31pZihiLmJlZm9yZVNlbmQmJmIuYmVmb3JlU2VuZC5jYWxsKGIuY29udGV4dCx3LGIpPT09ZmFsc2Upe2IuZ2xvYmFsJiZjLmFjdGl2ZS0tPT09MSYmYy5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpO3cuYWJvcnQoKTtyZXR1cm4gZmFsc2V9Yi5nbG9iYWwmJgpjLnRyaWdnZXJHbG9iYWwoYiwiYWpheFNlbmQiLFt3LGJdKTt2YXIgTD13Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihtKXtpZighd3x8dy5yZWFkeVN0YXRlPT09MHx8bT09PSJhYm9ydCIpe0p8fGMuaGFuZGxlQ29tcGxldGUoYix3LGUsZik7Sj10cnVlO2lmKHcpdy5vbnJlYWR5c3RhdGVjaGFuZ2U9Yy5ub29wfWVsc2UgaWYoIUomJncmJih3LnJlYWR5U3RhdGU9PT00fHxtPT09InRpbWVvdXQiKSl7Sj10cnVlO3cub25yZWFkeXN0YXRlY2hhbmdlPWMubm9vcDtlPW09PT0idGltZW91dCI/InRpbWVvdXQiOiFjLmh0dHBTdWNjZXNzKHcpPyJlcnJvciI6Yi5pZk1vZGlmaWVkJiZjLmh0dHBOb3RNb2RpZmllZCh3LGIudXJsKT8ibm90bW9kaWZpZWQiOiJzdWNjZXNzIjt2YXIgcDtpZihlPT09InN1Y2Nlc3MiKXRyeXtmPWMuaHR0cERhdGEodyxiLmRhdGFUeXBlLGIpfWNhdGNoKHEpe2U9InBhcnNlcmVycm9yIjtwPXF9aWYoZT09PSJzdWNjZXNzInx8ZT09PSJub3Rtb2RpZmllZCIpZHx8CmMuaGFuZGxlU3VjY2VzcyhiLHcsZSxmKTtlbHNlIGMuaGFuZGxlRXJyb3IoYix3LGUscCk7ZHx8Yy5oYW5kbGVDb21wbGV0ZShiLHcsZSxmKTttPT09InRpbWVvdXQiJiZ3LmFib3J0KCk7aWYoYi5hc3luYyl3PW51bGx9fTt0cnl7dmFyIGc9dy5hYm9ydDt3LmFib3J0PWZ1bmN0aW9uKCl7dyYmRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwuY2FsbChnLHcpO0woImFib3J0Iil9fWNhdGNoKGkpe31iLmFzeW5jJiZiLnRpbWVvdXQ+MCYmc2V0VGltZW91dChmdW5jdGlvbigpe3cmJiFKJiZMKCJ0aW1lb3V0Iil9LGIudGltZW91dCk7dHJ5e3cuc2VuZChsfHxiLmRhdGE9PW51bGw/bnVsbDpiLmRhdGEpfWNhdGNoKG4pe2MuaGFuZGxlRXJyb3IoYix3LG51bGwsbik7Yy5oYW5kbGVDb21wbGV0ZShiLHcsZSxmKX1iLmFzeW5jfHxMKCk7cmV0dXJuIHd9fSxwYXJhbTpmdW5jdGlvbihhLGIpe3ZhciBkPVtdLGU9ZnVuY3Rpb24oaCxsKXtsPWMuaXNGdW5jdGlvbihsKT9sKCk6bDtkW2QubGVuZ3RoXT0KZW5jb2RlVVJJQ29tcG9uZW50KGgpKyI9IitlbmNvZGVVUklDb21wb25lbnQobCl9O2lmKGI9PT1CKWI9Yy5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWw7aWYoYy5pc0FycmF5KGEpfHxhLmpxdWVyeSljLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IodmFyIGYgaW4gYSlkYShmLGFbZl0sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSh0YiwiKyIpfX0pO2MuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxoYW5kbGVFcnJvcjpmdW5jdGlvbihhLGIsZCxlKXthLmVycm9yJiZhLmVycm9yLmNhbGwoYS5jb250ZXh0LGIsZCxlKTthLmdsb2JhbCYmYy50cmlnZ2VyR2xvYmFsKGEsImFqYXhFcnJvciIsW2IsYSxlXSl9LGhhbmRsZVN1Y2Nlc3M6ZnVuY3Rpb24oYSxiLGQsZSl7YS5zdWNjZXNzJiZhLnN1Y2Nlc3MuY2FsbChhLmNvbnRleHQsZSxkLGIpO2EuZ2xvYmFsJiZjLnRyaWdnZXJHbG9iYWwoYSwiYWpheFN1Y2Nlc3MiLApbYixhXSl9LGhhbmRsZUNvbXBsZXRlOmZ1bmN0aW9uKGEsYixkKXthLmNvbXBsZXRlJiZhLmNvbXBsZXRlLmNhbGwoYS5jb250ZXh0LGIsZCk7YS5nbG9iYWwmJmMudHJpZ2dlckdsb2JhbChhLCJhamF4Q29tcGxldGUiLFtiLGFdKTthLmdsb2JhbCYmYy5hY3RpdmUtLT09PTEmJmMuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKX0sdHJpZ2dlckdsb2JhbDpmdW5jdGlvbihhLGIsZCl7KGEuY29udGV4dCYmYS5jb250ZXh0LnVybD09bnVsbD9jKGEuY29udGV4dCk6Yy5ldmVudCkudHJpZ2dlcihiLGQpfSxodHRwU3VjY2VzczpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIWEuc3RhdHVzJiZsb2NhdGlvbi5wcm90b2NvbD09PSJmaWxlOiJ8fGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8YS5zdGF0dXM9PT0zMDR8fGEuc3RhdHVzPT09MTIyM31jYXRjaChiKXt9cmV0dXJuIGZhbHNlfSxodHRwTm90TW9kaWZpZWQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksCmU9YS5nZXRSZXNwb25zZUhlYWRlcigiRXRhZyIpO2lmKGQpYy5sYXN0TW9kaWZpZWRbYl09ZDtpZihlKWMuZXRhZ1tiXT1lO3JldHVybiBhLnN0YXR1cz09PTMwNH0saHR0cERhdGE6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWEuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpfHwiIixmPWI9PT0ieG1sInx8IWImJmUuaW5kZXhPZigieG1sIik+PTA7YT1mP2EucmVzcG9uc2VYTUw6YS5yZXNwb25zZVRleHQ7ZiYmYS5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWU9PT0icGFyc2VyZXJyb3IiJiZjLmVycm9yKCJwYXJzZXJlcnJvciIpO2lmKGQmJmQuZGF0YUZpbHRlcilhPWQuZGF0YUZpbHRlcihhLGIpO2lmKHR5cGVvZiBhPT09InN0cmluZyIpaWYoYj09PSJqc29uInx8IWImJmUuaW5kZXhPZigianNvbiIpPj0wKWE9Yy5wYXJzZUpTT04oYSk7ZWxzZSBpZihiPT09InNjcmlwdCJ8fCFiJiZlLmluZGV4T2YoImphdmFzY3JpcHQiKT49MCljLmdsb2JhbEV2YWwoYSk7cmV0dXJuIGF9fSk7CmlmKEUuQWN0aXZlWE9iamVjdCljLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXtpZihFLmxvY2F0aW9uLnByb3RvY29sIT09ImZpbGU6Iil0cnl7cmV0dXJuIG5ldyBFLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGEpe310cnl7cmV0dXJuIG5ldyBFLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX07Yy5zdXBwb3J0LmFqYXg9ISFjLmFqYXhTZXR0aW5ncy54aHIoKTt2YXIgZWE9e30sdmI9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLHdiPS9eKFsrXC1dPSk/KFtcZCsuXC1dKykoLiopJC8sYmEscGE9W1siaGVpZ2h0IiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxbIndpZHRoIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiXSxbIm9wYWNpdHkiXV07Yy5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oYSxiLGQpe2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoUygic2hvdyIsCjMpLGEsYixkKTtlbHNle2Q9MDtmb3IodmFyIGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7YT10aGlzW2RdO2I9YS5zdHlsZS5kaXNwbGF5O2lmKCFjLmRhdGEoYSwib2xkZGlzcGxheSIpJiZiPT09Im5vbmUiKWI9YS5zdHlsZS5kaXNwbGF5PSIiO2I9PT0iIiYmYy5jc3MoYSwiZGlzcGxheSIpPT09Im5vbmUiJiZjLmRhdGEoYSwib2xkZGlzcGxheSIscWEoYS5ub2RlTmFtZSkpfWZvcihkPTA7ZDxlO2QrKyl7YT10aGlzW2RdO2I9YS5zdHlsZS5kaXNwbGF5O2lmKGI9PT0iInx8Yj09PSJub25lIilhLnN0eWxlLmRpc3BsYXk9Yy5kYXRhKGEsIm9sZGRpc3BsYXkiKXx8IiJ9cmV0dXJuIHRoaXN9fSxoaWRlOmZ1bmN0aW9uKGEsYixkKXtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKFMoImhpZGUiLDMpLGEsYixkKTtlbHNle2E9MDtmb3IoYj10aGlzLmxlbmd0aDthPGI7YSsrKXtkPWMuY3NzKHRoaXNbYV0sImRpc3BsYXkiKTtkIT09Im5vbmUiJiZjLmRhdGEodGhpc1thXSwib2xkZGlzcGxheSIsCmQpfWZvcihhPTA7YTxiO2ErKyl0aGlzW2FdLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3JldHVybiB0aGlzfX0sX3RvZ2dsZTpjLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXR5cGVvZiBhPT09ImJvb2xlYW4iO2lmKGMuaXNGdW5jdGlvbihhKSYmYy5pc0Z1bmN0aW9uKGIpKXRoaXMuX3RvZ2dsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZSBhPT1udWxsfHxlP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBmPWU/YTpjKHRoaXMpLmlzKCI6aGlkZGVuIik7Yyh0aGlzKVtmPyJzaG93IjoiaGlkZSJdKCl9KTp0aGlzLmFuaW1hdGUoUygidG9nZ2xlIiwzKSxhLGIsZCk7cmV0dXJuIHRoaXN9LGZhZGVUbzpmdW5jdGlvbihhLGIsZCxlKXtyZXR1cm4gdGhpcy5maWx0ZXIoIjpoaWRkZW4iKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsZCxlKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1jLnNwZWVkKGIsCmQsZSk7aWYoYy5pc0VtcHR5T2JqZWN0KGEpKXJldHVybiB0aGlzLmVhY2goZi5jb21wbGV0ZSk7cmV0dXJuIHRoaXNbZi5xdWV1ZT09PWZhbHNlPyJlYWNoIjoicXVldWUiXShmdW5jdGlvbigpe3ZhciBoPWMuZXh0ZW5kKHt9LGYpLGwsaz10aGlzLm5vZGVUeXBlPT09MSxvPWsmJmModGhpcykuaXMoIjpoaWRkZW4iKSx4PXRoaXM7Zm9yKGwgaW4gYSl7dmFyIHI9Yy5jYW1lbENhc2UobCk7aWYobCE9PXIpe2Fbcl09YVtsXTtkZWxldGUgYVtsXTtsPXJ9aWYoYVtsXT09PSJoaWRlIiYmb3x8YVtsXT09PSJzaG93IiYmIW8pcmV0dXJuIGguY29tcGxldGUuY2FsbCh0aGlzKTtpZihrJiYobD09PSJoZWlnaHQifHxsPT09IndpZHRoIikpe2gub3ZlcmZsb3c9W3RoaXMuc3R5bGUub3ZlcmZsb3csdGhpcy5zdHlsZS5vdmVyZmxvd1gsdGhpcy5zdHlsZS5vdmVyZmxvd1ldO2lmKGMuY3NzKHRoaXMsImRpc3BsYXkiKT09PSJpbmxpbmUiJiZjLmNzcyh0aGlzLCJmbG9hdCIpPT09Im5vbmUiKWlmKGMuc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0KWlmKHFhKHRoaXMubm9kZU5hbWUpPT09CiJpbmxpbmUiKXRoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjtlbHNle3RoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lIjt0aGlzLnN0eWxlLnpvb209MX1lbHNlIHRoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIn1pZihjLmlzQXJyYXkoYVtsXSkpeyhoLnNwZWNpYWxFYXNpbmc9aC5zcGVjaWFsRWFzaW5nfHx7fSlbbF09YVtsXVsxXTthW2xdPWFbbF1bMF19fWlmKGgub3ZlcmZsb3chPW51bGwpdGhpcy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtoLmN1ckFuaW09Yy5leHRlbmQoe30sYSk7Yy5lYWNoKGEsZnVuY3Rpb24oQSxDKXt2YXIgSj1uZXcgYy5meCh4LGgsQSk7aWYodmIudGVzdChDKSlKW0M9PT0idG9nZ2xlIj9vPyJzaG93IjoiaGlkZSI6Q10oYSk7ZWxzZXt2YXIgdz13Yi5leGVjKEMpLEk9Si5jdXIoKXx8MDtpZih3KXt2YXIgTD1wYXJzZUZsb2F0KHdbMl0pLGc9d1szXXx8InB4IjtpZihnIT09InB4Iil7Yy5zdHlsZSh4LEEsKEx8fDEpK2cpO0k9KEx8fAoxKS9KLmN1cigpKkk7Yy5zdHlsZSh4LEEsSStnKX1pZih3WzFdKUw9KHdbMV09PT0iLT0iPy0xOjEpKkwrSTtKLmN1c3RvbShJLEwsZyl9ZWxzZSBKLmN1c3RvbShJLEMsIiIpfX0pO3JldHVybiB0cnVlfSl9LHN0b3A6ZnVuY3Rpb24oYSxiKXt2YXIgZD1jLnRpbWVyczthJiZ0aGlzLnF1ZXVlKFtdKTt0aGlzLmVhY2goZnVuY3Rpb24oKXtmb3IodmFyIGU9ZC5sZW5ndGgtMTtlPj0wO2UtLSlpZihkW2VdLmVsZW09PT10aGlzKXtiJiZkW2VdKHRydWUpO2Quc3BsaWNlKGUsMSl9fSk7Ynx8dGhpcy5kZXF1ZXVlKCk7cmV0dXJuIHRoaXN9fSk7Yy5lYWNoKHtzbGlkZURvd246Uygic2hvdyIsMSksc2xpZGVVcDpTKCJoaWRlIiwxKSxzbGlkZVRvZ2dsZTpTKCJ0b2dnbGUiLDEpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtjLmZuW2FdPWZ1bmN0aW9uKGQsZSxmKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsCmQsZSxmKX19KTtjLmV4dGVuZCh7c3BlZWQ6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWEmJnR5cGVvZiBhPT09Im9iamVjdCI/Yy5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmR8fCFkJiZifHxjLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6ZCYmYnx8YiYmIWMuaXNGdW5jdGlvbihiKSYmYn07ZS5kdXJhdGlvbj1jLmZ4Lm9mZj8wOnR5cGVvZiBlLmR1cmF0aW9uPT09Im51bWJlciI/ZS5kdXJhdGlvbjplLmR1cmF0aW9uIGluIGMuZnguc3BlZWRzP2MuZnguc3BlZWRzW2UuZHVyYXRpb25dOmMuZnguc3BlZWRzLl9kZWZhdWx0O2Uub2xkPWUuY29tcGxldGU7ZS5jb21wbGV0ZT1mdW5jdGlvbigpe2UucXVldWUhPT1mYWxzZSYmYyh0aGlzKS5kZXF1ZXVlKCk7Yy5pc0Z1bmN0aW9uKGUub2xkKSYmZS5vbGQuY2FsbCh0aGlzKX07cmV0dXJuIGV9LGVhc2luZzp7bGluZWFyOmZ1bmN0aW9uKGEsYixkLGUpe3JldHVybiBkK2UqYX0sc3dpbmc6ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuKC1NYXRoLmNvcyhhKgpNYXRoLlBJKS8yKzAuNSkqZStkfX0sdGltZXJzOltdLGZ4OmZ1bmN0aW9uKGEsYixkKXt0aGlzLm9wdGlvbnM9Yjt0aGlzLmVsZW09YTt0aGlzLnByb3A9ZDtpZighYi5vcmlnKWIub3JpZz17fX19KTtjLmZ4LnByb3RvdHlwZT17dXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpOyhjLmZ4LnN0ZXBbdGhpcy5wcm9wXXx8Yy5meC5zdGVwLl9kZWZhdWx0KSh0aGlzKX0sY3VyOmZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtW3RoaXMucHJvcF0hPW51bGwmJighdGhpcy5lbGVtLnN0eWxlfHx0aGlzLmVsZW0uc3R5bGVbdGhpcy5wcm9wXT09bnVsbCkpcmV0dXJuIHRoaXMuZWxlbVt0aGlzLnByb3BdO3ZhciBhPXBhcnNlRmxvYXQoYy5jc3ModGhpcy5lbGVtLHRoaXMucHJvcCkpO3JldHVybiBhJiZhPi0xRTQ/YTowfSxjdXN0b206ZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUobCl7cmV0dXJuIGYuc3RlcChsKX0KdmFyIGY9dGhpcyxoPWMuZng7dGhpcy5zdGFydFRpbWU9Yy5ub3coKTt0aGlzLnN0YXJ0PWE7dGhpcy5lbmQ9Yjt0aGlzLnVuaXQ9ZHx8dGhpcy51bml0fHwicHgiO3RoaXMubm93PXRoaXMuc3RhcnQ7dGhpcy5wb3M9dGhpcy5zdGF0ZT0wO2UuZWxlbT10aGlzLmVsZW07aWYoZSgpJiZjLnRpbWVycy5wdXNoKGUpJiYhYmEpYmE9c2V0SW50ZXJ2YWwoaC50aWNrLGguaW50ZXJ2YWwpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm9yaWdbdGhpcy5wcm9wXT1jLnN0eWxlKHRoaXMuZWxlbSx0aGlzLnByb3ApO3RoaXMub3B0aW9ucy5zaG93PXRydWU7dGhpcy5jdXN0b20odGhpcy5wcm9wPT09IndpZHRoInx8dGhpcy5wcm9wPT09ImhlaWdodCI/MTowLHRoaXMuY3VyKCkpO2ModGhpcy5lbGVtKS5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWMuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCk7dGhpcy5vcHRpb25zLmhpZGU9dHJ1ZTsKdGhpcy5jdXN0b20odGhpcy5jdXIoKSwwKX0sc3RlcDpmdW5jdGlvbihhKXt2YXIgYj1jLm5vdygpLGQ9dHJ1ZTtpZihhfHxiPj10aGlzLm9wdGlvbnMuZHVyYXRpb24rdGhpcy5zdGFydFRpbWUpe3RoaXMubm93PXRoaXMuZW5kO3RoaXMucG9zPXRoaXMuc3RhdGU9MTt0aGlzLnVwZGF0ZSgpO3RoaXMub3B0aW9ucy5jdXJBbmltW3RoaXMucHJvcF09dHJ1ZTtmb3IodmFyIGUgaW4gdGhpcy5vcHRpb25zLmN1ckFuaW0paWYodGhpcy5vcHRpb25zLmN1ckFuaW1bZV0hPT10cnVlKWQ9ZmFsc2U7aWYoZCl7aWYodGhpcy5vcHRpb25zLm92ZXJmbG93IT1udWxsJiYhYy5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3Mpe3ZhciBmPXRoaXMuZWxlbSxoPXRoaXMub3B0aW9ucztjLmVhY2goWyIiLCJYIiwiWSJdLGZ1bmN0aW9uKGssbyl7Zi5zdHlsZVsib3ZlcmZsb3ciK29dPWgub3ZlcmZsb3dba119KX10aGlzLm9wdGlvbnMuaGlkZSYmYyh0aGlzLmVsZW0pLmhpZGUoKTtpZih0aGlzLm9wdGlvbnMuaGlkZXx8CnRoaXMub3B0aW9ucy5zaG93KWZvcih2YXIgbCBpbiB0aGlzLm9wdGlvbnMuY3VyQW5pbSljLnN0eWxlKHRoaXMuZWxlbSxsLHRoaXMub3B0aW9ucy5vcmlnW2xdKTt0aGlzLm9wdGlvbnMuY29tcGxldGUuY2FsbCh0aGlzLmVsZW0pfXJldHVybiBmYWxzZX1lbHNle2E9Yi10aGlzLnN0YXJ0VGltZTt0aGlzLnN0YXRlPWEvdGhpcy5vcHRpb25zLmR1cmF0aW9uO2I9dGhpcy5vcHRpb25zLmVhc2luZ3x8KGMuZWFzaW5nLnN3aW5nPyJzd2luZyI6ImxpbmVhciIpO3RoaXMucG9zPWMuZWFzaW5nW3RoaXMub3B0aW9ucy5zcGVjaWFsRWFzaW5nJiZ0aGlzLm9wdGlvbnMuc3BlY2lhbEVhc2luZ1t0aGlzLnByb3BdfHxiXSh0aGlzLnN0YXRlLGEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik7dGhpcy5ub3c9dGhpcy5zdGFydCsodGhpcy5lbmQtdGhpcy5zdGFydCkqdGhpcy5wb3M7dGhpcy51cGRhdGUoKX1yZXR1cm4gdHJ1ZX19O2MuZXh0ZW5kKGMuZngse3RpY2s6ZnVuY3Rpb24oKXtmb3IodmFyIGE9CmMudGltZXJzLGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl8fGEuc3BsaWNlKGItLSwxKTthLmxlbmd0aHx8Yy5meC5zdG9wKCl9LGludGVydmFsOjEzLHN0b3A6ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGJhKTtiYT1udWxsfSxzcGVlZHM6e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sc3RlcDp7b3BhY2l0eTpmdW5jdGlvbihhKXtjLnN0eWxlKGEuZWxlbSwib3BhY2l0eSIsYS5ub3cpfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtpZihhLmVsZW0uc3R5bGUmJmEuZWxlbS5zdHlsZVthLnByb3BdIT1udWxsKWEuZWxlbS5zdHlsZVthLnByb3BdPShhLnByb3A9PT0id2lkdGgifHxhLnByb3A9PT0iaGVpZ2h0Ij9NYXRoLm1heCgwLGEubm93KTphLm5vdykrYS51bml0O2Vsc2UgYS5lbGVtW2EucHJvcF09YS5ub3d9fX0pO2lmKGMuZXhwciYmYy5leHByLmZpbHRlcnMpYy5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuZ3JlcChjLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PQpiLmVsZW19KS5sZW5ndGh9O3ZhciB4Yj0vXnQoPzphYmxlfGR8aCkkL2ksSWE9L14oPzpib2R5fGh0bWwpJC9pO2MuZm4ub2Zmc2V0PSJnZXRCb3VuZGluZ0NsaWVudFJlY3QiaW4gdC5kb2N1bWVudEVsZW1lbnQ/ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXSxkO2lmKGEpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihsKXtjLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGwpfSk7aWYoIWJ8fCFiLm93bmVyRG9jdW1lbnQpcmV0dXJuIG51bGw7aWYoYj09PWIub3duZXJEb2N1bWVudC5ib2R5KXJldHVybiBjLm9mZnNldC5ib2R5T2Zmc2V0KGIpO3RyeXtkPWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9Y2F0Y2goZSl7fXZhciBmPWIub3duZXJEb2N1bWVudCxoPWYuZG9jdW1lbnRFbGVtZW50O2lmKCFkfHwhYy5jb250YWlucyhoLGIpKXJldHVybiBkfHx7dG9wOjAsbGVmdDowfTtiPWYuYm9keTtmPWZhKGYpO3JldHVybnt0b3A6ZC50b3ArKGYucGFnZVlPZmZzZXR8fGMuc3VwcG9ydC5ib3hNb2RlbCYmCmguc2Nyb2xsVG9wfHxiLnNjcm9sbFRvcCktKGguY2xpZW50VG9wfHxiLmNsaWVudFRvcHx8MCksbGVmdDpkLmxlZnQrKGYucGFnZVhPZmZzZXR8fGMuc3VwcG9ydC5ib3hNb2RlbCYmaC5zY3JvbGxMZWZ0fHxiLnNjcm9sbExlZnQpLShoLmNsaWVudExlZnR8fGIuY2xpZW50TGVmdHx8MCl9fTpmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdO2lmKGEpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih4KXtjLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLHgpfSk7aWYoIWJ8fCFiLm93bmVyRG9jdW1lbnQpcmV0dXJuIG51bGw7aWYoYj09PWIub3duZXJEb2N1bWVudC5ib2R5KXJldHVybiBjLm9mZnNldC5ib2R5T2Zmc2V0KGIpO2Mub2Zmc2V0LmluaXRpYWxpemUoKTt2YXIgZCxlPWIub2Zmc2V0UGFyZW50LGY9Yi5vd25lckRvY3VtZW50LGg9Zi5kb2N1bWVudEVsZW1lbnQsbD1mLmJvZHk7ZD0oZj1mLmRlZmF1bHRWaWV3KT9mLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZTsKZm9yKHZhciBrPWIub2Zmc2V0VG9wLG89Yi5vZmZzZXRMZWZ0OyhiPWIucGFyZW50Tm9kZSkmJmIhPT1sJiZiIT09aDspe2lmKGMub2Zmc2V0LnN1cHBvcnRzRml4ZWRQb3NpdGlvbiYmZC5wb3NpdGlvbj09PSJmaXhlZCIpYnJlYWs7ZD1mP2YuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpOmIuY3VycmVudFN0eWxlO2stPWIuc2Nyb2xsVG9wO28tPWIuc2Nyb2xsTGVmdDtpZihiPT09ZSl7ays9Yi5vZmZzZXRUb3A7bys9Yi5vZmZzZXRMZWZ0O2lmKGMub2Zmc2V0LmRvZXNOb3RBZGRCb3JkZXImJiEoYy5vZmZzZXQuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHMmJnhiLnRlc3QoYi5ub2RlTmFtZSkpKXtrKz1wYXJzZUZsb2F0KGQuYm9yZGVyVG9wV2lkdGgpfHwwO28rPXBhcnNlRmxvYXQoZC5ib3JkZXJMZWZ0V2lkdGgpfHwwfWU9Yi5vZmZzZXRQYXJlbnR9aWYoYy5vZmZzZXQuc3VidHJhY3RzQm9yZGVyRm9yT3ZlcmZsb3dOb3RWaXNpYmxlJiZkLm92ZXJmbG93IT09InZpc2libGUiKXtrKz0KcGFyc2VGbG9hdChkLmJvcmRlclRvcFdpZHRoKXx8MDtvKz1wYXJzZUZsb2F0KGQuYm9yZGVyTGVmdFdpZHRoKXx8MH1kPWR9aWYoZC5wb3NpdGlvbj09PSJyZWxhdGl2ZSJ8fGQucG9zaXRpb249PT0ic3RhdGljIil7ays9bC5vZmZzZXRUb3A7bys9bC5vZmZzZXRMZWZ0fWlmKGMub2Zmc2V0LnN1cHBvcnRzRml4ZWRQb3NpdGlvbiYmZC5wb3NpdGlvbj09PSJmaXhlZCIpe2srPU1hdGgubWF4KGguc2Nyb2xsVG9wLGwuc2Nyb2xsVG9wKTtvKz1NYXRoLm1heChoLnNjcm9sbExlZnQsbC5zY3JvbGxMZWZ0KX1yZXR1cm57dG9wOmssbGVmdDpvfX07Yy5vZmZzZXQ9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT10LmJvZHksYj10LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQsZSxmLGg9cGFyc2VGbG9hdChjLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDA7Yy5leHRlbmQoYi5zdHlsZSx7cG9zaXRpb246ImFic29sdXRlIix0b3A6MCxsZWZ0OjAsbWFyZ2luOjAsYm9yZGVyOjAsd2lkdGg6IjFweCIsCmhlaWdodDoiMXB4Iix2aXNpYmlsaXR5OiJoaWRkZW4ifSk7Yi5pbm5lckhUTUw9IjxkaXYgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDttYXJnaW46MDtib3JkZXI6NXB4IHNvbGlkICMwMDA7cGFkZGluZzowO3dpZHRoOjFweDtoZWlnaHQ6MXB4Oyc+PGRpdj48L2Rpdj48L2Rpdj48dGFibGUgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDttYXJnaW46MDtib3JkZXI6NXB4IHNvbGlkICMwMDA7cGFkZGluZzowO3dpZHRoOjFweDtoZWlnaHQ6MXB4OycgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJz48dHI+PHRkPjwvdGQ+PC90cj48L3RhYmxlPiI7YS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpO2Q9Yi5maXJzdENoaWxkO2U9ZC5maXJzdENoaWxkO2Y9ZC5uZXh0U2libGluZy5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7dGhpcy5kb2VzTm90QWRkQm9yZGVyPWUub2Zmc2V0VG9wIT09NTt0aGlzLmRvZXNBZGRCb3JkZXJGb3JUYWJsZUFuZENlbGxzPQpmLm9mZnNldFRvcD09PTU7ZS5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiO2Uuc3R5bGUudG9wPSIyMHB4Ijt0aGlzLnN1cHBvcnRzRml4ZWRQb3NpdGlvbj1lLm9mZnNldFRvcD09PTIwfHxlLm9mZnNldFRvcD09PTE1O2Uuc3R5bGUucG9zaXRpb249ZS5zdHlsZS50b3A9IiI7ZC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtkLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7dGhpcy5zdWJ0cmFjdHNCb3JkZXJGb3JPdmVyZmxvd05vdFZpc2libGU9ZS5vZmZzZXRUb3A9PT0tNTt0aGlzLmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0PWEub2Zmc2V0VG9wIT09aDthLnJlbW92ZUNoaWxkKGIpO2Mub2Zmc2V0LmluaXRpYWxpemU9Yy5ub29wfSxib2R5T2Zmc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEub2Zmc2V0VG9wLGQ9YS5vZmZzZXRMZWZ0O2Mub2Zmc2V0LmluaXRpYWxpemUoKTtpZihjLm9mZnNldC5kb2VzTm90SW5jbHVkZU1hcmdpbkluQm9keU9mZnNldCl7Yis9cGFyc2VGbG9hdChjLmNzcyhhLAoibWFyZ2luVG9wIikpfHwwO2QrPXBhcnNlRmxvYXQoYy5jc3MoYSwibWFyZ2luTGVmdCIpKXx8MH1yZXR1cm57dG9wOmIsbGVmdDpkfX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixkKXt2YXIgZT1jLmNzcyhhLCJwb3NpdGlvbiIpO2lmKGU9PT0ic3RhdGljIilhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7dmFyIGY9YyhhKSxoPWYub2Zmc2V0KCksbD1jLmNzcyhhLCJ0b3AiKSxrPWMuY3NzKGEsImxlZnQiKSxvPWU9PT0iYWJzb2x1dGUiJiZjLmluQXJyYXkoImF1dG8iLFtsLGtdKT4tMTtlPXt9O3ZhciB4PXt9O2lmKG8peD1mLnBvc2l0aW9uKCk7bD1vP3gudG9wOnBhcnNlSW50KGwsMTApfHwwO2s9bz94LmxlZnQ6cGFyc2VJbnQoaywxMCl8fDA7aWYoYy5pc0Z1bmN0aW9uKGIpKWI9Yi5jYWxsKGEsZCxoKTtpZihiLnRvcCE9bnVsbCllLnRvcD1iLnRvcC1oLnRvcCtsO2lmKGIubGVmdCE9bnVsbCllLmxlZnQ9Yi5sZWZ0LWgubGVmdCtrOyJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLAplKTpmLmNzcyhlKX19O2MuZm4uZXh0ZW5kKHtwb3NpdGlvbjpmdW5jdGlvbigpe2lmKCF0aGlzWzBdKXJldHVybiBudWxsO3ZhciBhPXRoaXNbMF0sYj10aGlzLm9mZnNldFBhcmVudCgpLGQ9dGhpcy5vZmZzZXQoKSxlPUlhLnRlc3QoYlswXS5ub2RlTmFtZSk/e3RvcDowLGxlZnQ6MH06Yi5vZmZzZXQoKTtkLnRvcC09cGFyc2VGbG9hdChjLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDA7ZC5sZWZ0LT1wYXJzZUZsb2F0KGMuY3NzKGEsIm1hcmdpbkxlZnQiKSl8fDA7ZS50b3ArPXBhcnNlRmxvYXQoYy5jc3MoYlswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDA7ZS5sZWZ0Kz1wYXJzZUZsb2F0KGMuY3NzKGJbMF0sImJvcmRlckxlZnRXaWR0aCIpKXx8MDtyZXR1cm57dG9wOmQudG9wLWUudG9wLGxlZnQ6ZC5sZWZ0LWUubGVmdH19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8dC5ib2R5O2EmJiFJYS50ZXN0KGEubm9kZU5hbWUpJiYKYy5jc3MoYSwicG9zaXRpb24iKT09PSJzdGF0aWMiOylhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfSl9fSk7Yy5lYWNoKFsiTGVmdCIsIlRvcCJdLGZ1bmN0aW9uKGEsYil7dmFyIGQ9InNjcm9sbCIrYjtjLmZuW2RdPWZ1bmN0aW9uKGUpe3ZhciBmPXRoaXNbMF0saDtpZighZilyZXR1cm4gbnVsbDtpZihlIT09QilyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoaD1mYSh0aGlzKSloLnNjcm9sbFRvKCFhP2U6YyhoKS5zY3JvbGxMZWZ0KCksYT9lOmMoaCkuc2Nyb2xsVG9wKCkpO2Vsc2UgdGhpc1tkXT1lfSk7ZWxzZSByZXR1cm4oaD1mYShmKSk/InBhZ2VYT2Zmc2V0ImluIGg/aFthPyJwYWdlWU9mZnNldCI6InBhZ2VYT2Zmc2V0Il06Yy5zdXBwb3J0LmJveE1vZGVsJiZoLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXXx8aC5kb2N1bWVudC5ib2R5W2RdOmZbZF19fSk7Yy5lYWNoKFsiSGVpZ2h0IiwiV2lkdGgiXSxmdW5jdGlvbihhLGIpe3ZhciBkPWIudG9Mb3dlckNhc2UoKTsKYy5mblsiaW5uZXIiK2JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0/cGFyc2VGbG9hdChjLmNzcyh0aGlzWzBdLGQsInBhZGRpbmciKSk6bnVsbH07Yy5mblsib3V0ZXIiK2JdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzWzBdP3BhcnNlRmxvYXQoYy5jc3ModGhpc1swXSxkLGU/Im1hcmdpbiI6ImJvcmRlciIpKTpudWxsfTtjLmZuW2RdPWZ1bmN0aW9uKGUpe3ZhciBmPXRoaXNbMF07aWYoIWYpcmV0dXJuIGU9PW51bGw/bnVsbDp0aGlzO2lmKGMuaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGwpe3ZhciBrPWModGhpcyk7a1tkXShlLmNhbGwodGhpcyxsLGtbZF0oKSkpfSk7aWYoYy5pc1dpbmRvdyhmKSlyZXR1cm4gZi5kb2N1bWVudC5jb21wYXRNb2RlPT09IkNTUzFDb21wYXQiJiZmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitiXXx8Zi5kb2N1bWVudC5ib2R5WyJjbGllbnQiK2JdO2Vsc2UgaWYoZi5ub2RlVHlwZT09PTkpcmV0dXJuIE1hdGgubWF4KGYuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiKwpiXSxmLmJvZHlbInNjcm9sbCIrYl0sZi5kb2N1bWVudEVsZW1lbnRbInNjcm9sbCIrYl0sZi5ib2R5WyJvZmZzZXQiK2JdLGYuZG9jdW1lbnRFbGVtZW50WyJvZmZzZXQiK2JdKTtlbHNlIGlmKGU9PT1CKXtmPWMuY3NzKGYsZCk7dmFyIGg9cGFyc2VGbG9hdChmKTtyZXR1cm4gYy5pc05hTihoKT9mOmh9ZWxzZSByZXR1cm4gdGhpcy5jc3MoZCx0eXBlb2YgZT09PSJzdHJpbmciP2U6ZSsicHgiKX19KX0pKHdpbmRvdyk7CgovKmJnaWZyYW1lLTIuMS4xKi8KKGZ1bmN0aW9uKCQpeyQuZm4uYmdJZnJhbWU9JC5mbi5iZ2lmcmFtZT1mdW5jdGlvbihzKXtpZigkLmJyb3dzZXIubXNpZSYmJC5icm93c2VyLnZlcnNpb249PTYpe3M9JC5leHRlbmQoe3RvcDonYXV0bycsbGVmdDonYXV0bycsd2lkdGg6J2F1dG8nLGhlaWdodDonYXV0bycsb3BhY2l0eTp0cnVlLHNyYzonamF2YXNjcmlwdDpmYWxzZTsnfSxzfHx7fSk7dmFyIHByb3A9ZnVuY3Rpb24obil7cmV0dXJuIG4mJm4uY29uc3RydWN0b3I9PU51bWJlcj9uKydweCc6bjt9LGh0bWw9JzxpZnJhbWUgY2xhc3M9ImJnaWZyYW1lImZyYW1lYm9yZGVyPSIwInRhYmluZGV4PSItMSJzcmM9Iicrcy5zcmMrJyInKydzdHlsZT0iZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Oi0xOycrKHMub3BhY2l0eSE9PWZhbHNlPydmaWx0ZXI6QWxwaGEoT3BhY2l0eT1cJzBcJyk7JzonJykrJ3RvcDonKyhzLnRvcD09J2F1dG8nPydleHByZXNzaW9uKCgocGFyc2VJbnQodGhpcy5wYXJlbnROb2RlLmN1cnJlbnRTdHlsZS5ib3JkZXJUb3BXaWR0aCl8fDApKi0xKStcJ3B4XCcpJzpwcm9wKHMudG9wKSkrJzsnKydsZWZ0OicrKHMubGVmdD09J2F1dG8nPydleHByZXNzaW9uKCgocGFyc2VJbnQodGhpcy5wYXJlbnROb2RlLmN1cnJlbnRTdHlsZS5ib3JkZXJMZWZ0V2lkdGgpfHwwKSotMSkrXCdweFwnKSc6cHJvcChzLmxlZnQpKSsnOycrJ3dpZHRoOicrKHMud2lkdGg9PSdhdXRvJz8nZXhwcmVzc2lvbih0aGlzLnBhcmVudE5vZGUub2Zmc2V0V2lkdGgrXCdweFwnKSc6cHJvcChzLndpZHRoKSkrJzsnKydoZWlnaHQ6Jysocy5oZWlnaHQ9PSdhdXRvJz8nZXhwcmVzc2lvbih0aGlzLnBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0K1wncHhcJyknOnByb3Aocy5oZWlnaHQpKSsnOycrJyIvPic7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2lmKCQoJz4gaWZyYW1lLmJnaWZyYW1lJyx0aGlzKS5sZW5ndGg9PTApIHRoaXMuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaHRtbCksdGhpcy5maXJzdENoaWxkKTt9KTt9cmV0dXJuIHRoaXM7fTt9KShqUXVlcnkpOwoKLyp0aW1lcnMtMS4xLjIqLwpqUXVlcnkuZm4uZXh0ZW5kKHtldmVyeVRpbWU6ZnVuY3Rpb24oaW50ZXJ2YWwsbGFiZWwsZm4sdGltZXMsYmVsYXkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtqUXVlcnkudGltZXIuYWRkKHRoaXMsaW50ZXJ2YWwsbGFiZWwsZm4sdGltZXMsYmVsYXkpO30pO30sCm9uZVRpbWU6IGZ1bmN0aW9uKGludGVydmFsLGxhYmVsLGZuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LnRpbWVyLmFkZCh0aGlzLGludGVydmFsLGxhYmVsLGZuLDEpO30pO30sCnN0b3BUaW1lOmZ1bmN0aW9uKGxhYmVsLGZuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LnRpbWVyLnJlbW92ZSh0aGlzLGxhYmVsLGZuKTt9KTt9fSk7alF1ZXJ5LmV2ZW50LnNwZWNpYWwKalF1ZXJ5LmV4dGVuZCh7dGltZXI6e2dsb2JhbDpbXSxndWlkOjEsZGF0YUtleToialF1ZXJ5LnRpbWVyIixyZWdleDovXihbMC05XSsoPzpcLlswLTldKik/KVxzKiguKnMpPyQvLHBvd2Vyczp7J21zJzoxLCdjcyc6MTAsJ2RzJzoxMDAsJ3MnOjEwMDAsJ2Rhcyc6MTAwMDAsJ2hzJzoxMDAwMDAsJ2tzJzoxMDAwMDAwfSx0aW1lUGFyc2U6ZnVuY3Rpb24odmFsdWUpewppZih2YWx1ZT09dW5kZWZpbmVkfHx2YWx1ZT09bnVsbClyZXR1cm4gbnVsbDt2YXIgcmVzdWx0PXRoaXMucmVnZXguZXhlYyhqUXVlcnkudHJpbSh2YWx1ZS50b1N0cmluZygpKSk7CmlmIChyZXN1bHRbMl0pe3ZhciBudW09cGFyc2VGbG9hdChyZXN1bHRbMV0pO3ZhciBtdWx0PXRoaXMucG93ZXJzW3Jlc3VsdFsyXV18fDE7cmV0dXJuIG51bSptdWx0O31lbHNle3JldHVybiB2YWx1ZTt9fSwKYWRkOiBmdW5jdGlvbihlbGVtZW50LGludGVydmFsLGxhYmVsLGZuLHRpbWVzLGJlbGF5KXt2YXIgY291bnRlcj0wO2lmIChqUXVlcnkuaXNGdW5jdGlvbihsYWJlbCkpe2lmKCF0aW1lcykgdGltZXM9Zm47Zm49bGFiZWw7bGFiZWw9aW50ZXJ2YWw7fQppbnRlcnZhbD1qUXVlcnkudGltZXIudGltZVBhcnNlKGludGVydmFsKTtpZiAodHlwZW9mIGludGVydmFsIT0nbnVtYmVyJ3x8aXNOYU4oaW50ZXJ2YWwpfHxpbnRlcnZhbDw9MClyZXR1cm47CmlmICh0aW1lcyYmdGltZXMuY29uc3RydWN0b3IhPU51bWJlcil7YmVsYXk9ISF0aW1lczt0aW1lcz0wO310aW1lcz10aW1lc3x8MDtiZWxheT1iZWxheXx8ZmFsc2U7dmFyIHRpbWVycz1qUXVlcnkuZGF0YShlbGVtZW50LHRoaXMuZGF0YUtleSkgfHwgalF1ZXJ5LmRhdGEoZWxlbWVudCx0aGlzLmRhdGFLZXkse30pOwppZighdGltZXJzW2xhYmVsXSl0aW1lcnNbbGFiZWxdPXt9O2ZuLnRpbWVySUQ9Zm4udGltZXJJRHx8dGhpcy5ndWlkKys7dmFyIGhhbmRsZXI9ZnVuY3Rpb24oKXtpZihiZWxheSYmdGhpcy5pblByb2dyZXNzKQpyZXR1cm47dGhpcy5pblByb2dyZXNzPXRydWU7aWYoKCsrY291bnRlcj50aW1lcyYmdGltZXMhPT0wKXx8Zm4uY2FsbChlbGVtZW50LGNvdW50ZXIpPT09ZmFsc2UpCmpRdWVyeS50aW1lci5yZW1vdmUoZWxlbWVudCxsYWJlbCxmbik7dGhpcy5pblByb2dyZXNzPWZhbHNlO307aGFuZGxlci50aW1lcklEPWZuLnRpbWVySUQ7aWYgKCF0aW1lcnNbbGFiZWxdW2ZuLnRpbWVySURdKQp0aW1lcnNbbGFiZWxdW2ZuLnRpbWVySURdPXdpbmRvdy5zZXRJbnRlcnZhbChoYW5kbGVyLGludGVydmFsKTt0aGlzLmdsb2JhbC5wdXNoKGVsZW1lbnQpO30scmVtb3ZlOmZ1bmN0aW9uKGVsZW1lbnQsbGFiZWwsZm4pe3ZhciB0aW1lcnM9alF1ZXJ5LmRhdGEoZWxlbWVudCx0aGlzLmRhdGFLZXkpLHJldDtpZih0aW1lcnMpe2lmKCFsYWJlbCl7Zm9yKGxhYmVsIGluIHRpbWVycykKdGhpcy5yZW1vdmUoZWxlbWVudCxsYWJlbCxmbik7fWVsc2UgaWYodGltZXJzW2xhYmVsXSl7aWYoZm4pe2lmKGZuLnRpbWVySUQpe3dpbmRvdy5jbGVhckludGVydmFsKHRpbWVyc1tsYWJlbF1bZm4udGltZXJJRF0pOwpkZWxldGUgdGltZXJzW2xhYmVsXVtmbi50aW1lcklEXTt9fWVsc2V7Zm9yKHZhciBmbiBpbiB0aW1lcnNbbGFiZWxdKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aW1lcnNbbGFiZWxdW2ZuXSk7ZGVsZXRlIHRpbWVyc1tsYWJlbF1bZm5dO319CmZvciAocmV0IGluIHRpbWVyc1tsYWJlbF0pIGJyZWFrOyBpZighcmV0KXtyZXQ9bnVsbDtkZWxldGUgdGltZXJzW2xhYmVsXTt9fWZvcihyZXQgaW4gdGltZXJzKWJyZWFrO2lmKCFyZXQpIGpRdWVyeS5yZW1vdmVEYXRhKGVsZW1lbnQsIHRoaXMuZGF0YUtleSk7fX19fSk7CmpRdWVyeSh3aW5kb3cpLmJpbmQoInVubG9hZCIsZnVuY3Rpb24oKXtqUXVlcnkuZWFjaChqUXVlcnkudGltZXIuZ2xvYmFsLGZ1bmN0aW9uKGluZGV4LGl0ZW0pe2pRdWVyeS50aW1lci5yZW1vdmUoaXRlbSk7fSk7fSk7CgovKiBCb3h5IDAuMS40IChjKSAyMDA4IEphc29uIEZyYW1lICovCmpRdWVyeS5mbi5ib3h5PWZ1bmN0aW9uKG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e307cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBub2RlPXRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzZWxmPXRoaXM7aWYobm9kZT09J2EnKXtqUXVlcnkodGhpcykuY2xpY2soZnVuY3Rpb24oKXt2YXIgYWN0aXZlPUJveHkubGlua2VkVG8odGhpcyksaHJlZj10aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpLGxvY2FsT3B0aW9ucz1qUXVlcnkuZXh0ZW5kKHthY3R1YXRvcjp0aGlzLHRpdGxlOnRoaXMudGl0bGV9LG9wdGlvbnMpO2lmKGFjdGl2ZSl7YWN0aXZlLnNob3coKTt9ZWxzZSBpZihocmVmLmluZGV4T2YoJyMnKT49MCl7Ci8qIHZhciBjb250ZW50PWpRdWVyeShocmVmLnN1YnN0cihocmVmLmluZGV4T2YoJyMnKSkpLG5ld0NvbnRlbnQ9Y29udGVudC5jbG9uZSh0cnVlKTtjb250ZW50LnJlbW92ZSgpO2xvY2FsT3B0aW9ucy51bmxvYWRPbkhpZGU9ZmFsc2U7bmV3IEJveHkobmV3Q29udGVudCxsb2NhbE9wdGlvbnMpOyAqLwpsb2NhbE9wdGlvbnMudW5sb2FkT25IaWRlID0gZmFsc2U7IG5ldyBCb3h5KGpRdWVyeShocmVmLnN1YnN0cihocmVmLmluZGV4T2YoJyMnKSkpLCBsb2NhbE9wdGlvbnMpOwp9ZWxzZXtpZighbG9jYWxPcHRpb25zLmNhY2hlKWxvY2FsT3B0aW9ucy51bmxvYWRPbkhpZGU9dHJ1ZTtCb3h5LmxvYWQodGhpcy5ocmVmLGxvY2FsT3B0aW9ucyk7fQpyZXR1cm4gZmFsc2U7fSk7fWVsc2UgaWYobm9kZT09J2Zvcm0nKXtqUXVlcnkodGhpcykuYmluZCgnc3VibWl0LmJveHknLGZ1bmN0aW9uKCl7Qm94eS5jb25maXJtKG9wdGlvbnMubWVzc2FnZXx8J1BsZWFzZSBjb25maXJtOicsZnVuY3Rpb24oKXtqUXVlcnkoc2VsZikudW5iaW5kKCdzdWJtaXQuYm94eScpLnN1Ym1pdCgpO30pO3JldHVybiBmYWxzZTt9KTt9fSk7fTtmdW5jdGlvbiBCb3h5KGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5ib3h5PWpRdWVyeShCb3h5LldSQVBQRVIpO2pRdWVyeS5kYXRhKHRoaXMuYm94eVswXSwnYm94eScsdGhpcyk7dGhpcy52aXNpYmxlPWZhbHNlO3RoaXMub3B0aW9ucz1qUXVlcnkuZXh0ZW5kKHt9LEJveHkuREVGQVVMVFMsb3B0aW9uc3x8e30pO2lmKHRoaXMub3B0aW9ucy5tb2RhbCl7dGhpcy5vcHRpb25zPWpRdWVyeS5leHRlbmQodGhpcy5vcHRpb25zLHtjZW50ZXI6dHJ1ZSxkcmFnZ2FibGU6ZmFsc2V9KTt9CmlmKHRoaXMub3B0aW9ucy5hY3R1YXRvcil7alF1ZXJ5LmRhdGEodGhpcy5vcHRpb25zLmFjdHVhdG9yLCdhY3RpdmUuYm94eScsdGhpcyk7fQp0aGlzLnNldENvbnRlbnQoZWxlbWVudHx8IjxkaXY+PC9kaXY+Iik7dGhpcy5fc2V0dXBUaXRsZUJhcigpO3RoaXMuYm94eS5jc3MoJ2Rpc3BsYXknLCdub25lJykuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7dGhpcy50b1RvcCgpO2lmKHRoaXMub3B0aW9ucy5maXhlZCl7aWYoalF1ZXJ5LmJyb3dzZXIubXNpZSYmalF1ZXJ5LmJyb3dzZXIudmVyc2lvbjw3KXt0aGlzLm9wdGlvbnMuZml4ZWQ9ZmFsc2U7fWVsc2V7dGhpcy5ib3h5LmFkZENsYXNzKCdmaXhlZCcpO319CmlmKHRoaXMub3B0aW9ucy5jZW50ZXImJkJveHkuX3UodGhpcy5vcHRpb25zLngsdGhpcy5vcHRpb25zLnkpKXt0aGlzLmNlbnRlcigpO31lbHNle3RoaXMubW92ZVRvKEJveHkuX3UodGhpcy5vcHRpb25zLngpP3RoaXMub3B0aW9ucy54OkJveHkuREVGQVVMVF9YLEJveHkuX3UodGhpcy5vcHRpb25zLnkpP3RoaXMub3B0aW9ucy55OkJveHkuREVGQVVMVF9ZKTt9CmlmKHRoaXMub3B0aW9ucy5zaG93KXRoaXMuc2hvdygpO307Qm94eS5FRj1mdW5jdGlvbigpe307alF1ZXJ5LmV4dGVuZChCb3h5LHtXUkFQUEVSOiI8dGFibGUgY2VsbHNwYWNpbmc9JzAnIGNlbGxwYWRkaW5nPScwJyBib3JkZXI9JzAnIGNsYXNzPSdib3h5LXdyYXBwZXInPjx0cj48dGQgcm93c3Bhbj0nMicgY2xhc3M9J3RvcC1sZWZ0Jz48L3RkPjx0ZCBjbGFzcz0ndG9wJz48L3RkPjx0ZCBjbGFzcz0ndG9wLXJpZ2h0JyByb3dzcGFuPScyJz48L3RkPjwvdHI+PHRyPjx0ZCBjbGFzcz0nYm94eS1oZHInPjwvdGQ+PC90cj48dHI+PHRkIGNsYXNzPSdsZWZ0Jz48L3RkPjx0ZCBjbGFzcz0nYm94eS1pbm5lcic+PC90ZD48dGQgY2xhc3M9J3JpZ2h0Jz48L3RkPjwvdHI+PHRyPjx0ZCBjbGFzcz0nYm90dG9tLWxlZnQnPjwvdGQ+PHRkIGNsYXNzPSdib3R0b20nPjwvdGQ+PHRkIGNsYXNzPSdib3R0b20tcmlnaHQnPjwvdGQ+PC90cj48L3RhYmxlPiIsREVGQVVMVFM6e3RpdGxlOm51bGwsY2xvc2VhYmxlOnRydWUsZHJhZ2dhYmxlOnRydWUsY2xvbmU6ZmFsc2UsYWN0dWF0b3I6bnVsbCxjZW50ZXI6dHJ1ZSxzaG93OnRydWUsbW9kYWw6ZmFsc2UsZml4ZWQ6dHJ1ZSxjbG9zZVRleHQ6JycsdW5sb2FkT25IaWRlOmZhbHNlLGNsaWNrVG9Gcm9udDpmYWxzZSxiZWhhdmlvdXJzOkJveHkuRUYsYWZ0ZXJEcm9wOkJveHkuRUYsYWZ0ZXJTaG93OkJveHkuRUYsYWZ0ZXJIaWRlOkJveHkuRUYsYmVmb3JlVW5sb2FkOkJveHkuRUZ9LERFRkFVTFRfWDo1MCxERUZBVUxUX1k6NTAsekluZGV4OjEzMzcsZHJhZ0NvbmZpZ3VyZWQ6ZmFsc2UscmVzaXplQ29uZmlndXJlZDpmYWxzZSxkcmFnZ2luZzpudWxsLGxvYWQ6ZnVuY3Rpb24odXJsLG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e307dmFyIGFqYXg9e3VybDp1cmwsdHlwZTonR0VUJyxkYXRhVHlwZTonaHRtbCcsY2FjaGU6ZmFsc2Usc3VjY2VzczpmdW5jdGlvbihodG1sKXtodG1sPWpRdWVyeShodG1sKTtpZihvcHRpb25zLmZpbHRlcilodG1sPWpRdWVyeShvcHRpb25zLmZpbHRlcixodG1sKTtuZXcgQm94eShodG1sLG9wdGlvbnMpO319O2pRdWVyeS5lYWNoKFsndHlwZScsJ2NhY2hlJ10sZnVuY3Rpb24oKXtpZih0aGlzIGluIG9wdGlvbnMpe2FqYXhbdGhpc109b3B0aW9uc1t0aGlzXTtkZWxldGUgb3B0aW9uc1t0aGlzXTt9fSk7alF1ZXJ5LmFqYXgoYWpheCk7fSxnZXQ6ZnVuY3Rpb24oZWxlKXt2YXIgcD1qUXVlcnkoZWxlKS5wYXJlbnRzKCcuYm94eS13cmFwcGVyJyk7cmV0dXJuIHAubGVuZ3RoP2pRdWVyeS5kYXRhKHBbMF0sJ2JveHknKTpudWxsO30sbGlua2VkVG86ZnVuY3Rpb24oZWxlKXtyZXR1cm4galF1ZXJ5LmRhdGEoZWxlLCdhY3RpdmUuYm94eScpO30sYWxlcnQ6ZnVuY3Rpb24obWVzc2FnZSxjYWxsYmFjayxvcHRpb25zKXtyZXR1cm4gQm94eS5hc2sobWVzc2FnZSxbJ09LJ10sY2FsbGJhY2ssb3B0aW9ucyk7fSxjb25maXJtOmZ1bmN0aW9uKG1lc3NhZ2UsYWZ0ZXIsb3B0aW9ucyl7cmV0dXJuIEJveHkuYXNrKG1lc3NhZ2UsWydPSycsJ0NhbmNlbCddLGZ1bmN0aW9uKHJlc3BvbnNlKXtpZihyZXNwb25zZT09J09LJylhZnRlcigpO30sb3B0aW9ucyk7fSxhc2s6ZnVuY3Rpb24ocXVlc3Rpb24sYW5zd2VycyxjYWxsYmFjayxvcHRpb25zKXtvcHRpb25zPWpRdWVyeS5leHRlbmQoe21vZGFsOnRydWUsY2xvc2VhYmxlOmZhbHNlfSxvcHRpb25zfHx7fSx7c2hvdzp0cnVlLHVubG9hZE9uSGlkZTp0cnVlfSk7dmFyIGJvZHk9alF1ZXJ5KCc8ZGl2PjwvZGl2PicpLmFwcGVuZChqUXVlcnkoJzxkaXYgY2xhc3M9InF1ZXN0aW9uIj48L2Rpdj4nKS5odG1sKHF1ZXN0aW9uKSk7dmFyIG1hcD17fSxhbnN3ZXJTdHJpbmdzPVtdO2lmKGFuc3dlcnMgaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBpPTA7aTxhbnN3ZXJzLmxlbmd0aDtpKyspe21hcFthbnN3ZXJzW2ldXT1hbnN3ZXJzW2ldO2Fuc3dlclN0cmluZ3MucHVzaChhbnN3ZXJzW2ldKTt9fWVsc2V7Zm9yKHZhciBrIGluIGFuc3dlcnMpe21hcFthbnN3ZXJzW2tdXT1rO2Fuc3dlclN0cmluZ3MucHVzaChhbnN3ZXJzW2tdKTt9fQp2YXIgYnV0dG9ucz1qUXVlcnkoJzxmb3JtIGNsYXNzPSJhbnN3ZXJzIj48L2Zvcm0+Jyk7YnV0dG9ucy5odG1sKGpRdWVyeS5tYXAoYW5zd2VyU3RyaW5ncyxmdW5jdGlvbih2KXtyZXR1cm4iPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9JyIrdisiJyAvPiI7fSkuam9pbignICcpKTtqUXVlcnkoJ2lucHV0W3R5cGU9YnV0dG9uXScsYnV0dG9ucykuY2xpY2soZnVuY3Rpb24oKXt2YXIgY2xpY2tlZD10aGlzO0JveHkuZ2V0KHRoaXMpLmhpZGUoZnVuY3Rpb24oKXtpZihjYWxsYmFjayljYWxsYmFjayhtYXBbY2xpY2tlZC52YWx1ZV0pO30pO30pO2JvZHkuYXBwZW5kKGJ1dHRvbnMpO25ldyBCb3h5KGJvZHksb3B0aW9ucyk7fSxpc01vZGFsVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBqUXVlcnkoJy5ib3h5LW1vZGFsLWJsYWNrb3V0JykubGVuZ3RoPjA7fSxfdTpmdW5jdGlvbigpe2Zvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspCmlmKHR5cGVvZiBhcmd1bWVudHNbaV0hPSd1bmRlZmluZWQnKXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZTt9LF9oYW5kbGVSZXNpemU6ZnVuY3Rpb24oZXZ0KXt2YXIgZD1qUXVlcnkoZG9jdW1lbnQpO2pRdWVyeSgnLmJveHktbW9kYWwtYmxhY2tvdXQnKS5jc3MoJ2Rpc3BsYXknLCdub25lJykuY3NzKHt3aWR0aDpkLndpZHRoKCksaGVpZ2h0OmQuaGVpZ2h0KCl9KS5jc3MoJ2Rpc3BsYXknLCdibG9jaycpO30sX2hhbmRsZURyYWc6ZnVuY3Rpb24oZXZ0KXt2YXIgZDtpZihkPUJveHkuZHJhZ2dpbmcpe2RbMF0uYm94eS5jc3Moe2xlZnQ6ZXZ0LnBhZ2VYLWRbMV0sdG9wOmV2dC5wYWdlWS1kWzJdfSk7fX0sX25leHRaOmZ1bmN0aW9uKCl7cmV0dXJuIEJveHkuekluZGV4Kys7fSxfdmlld3BvcnQ6ZnVuY3Rpb24oKXt2YXIgZD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYj1kb2N1bWVudC5ib2R5LHc9d2luZG93O3JldHVybiBqUXVlcnkuZXh0ZW5kKGpRdWVyeS5icm93c2VyLm1zaWU/e2xlZnQ6Yi5zY3JvbGxMZWZ0fHxkLnNjcm9sbExlZnQsdG9wOmIuc2Nyb2xsVG9wfHxkLnNjcm9sbFRvcH06e2xlZnQ6dy5wYWdlWE9mZnNldCx0b3A6dy5wYWdlWU9mZnNldH0sIUJveHkuX3Uody5pbm5lcldpZHRoKT97d2lkdGg6dy5pbm5lcldpZHRoLGhlaWdodDp3LmlubmVySGVpZ2h0fTooIUJveHkuX3UoZCkmJiFCb3h5Ll91KGQuY2xpZW50V2lkdGgpJiZkLmNsaWVudFdpZHRoIT0wP3t3aWR0aDpkLmNsaWVudFdpZHRoLGhlaWdodDpkLmNsaWVudEhlaWdodH06e3dpZHRoOmIuY2xpZW50V2lkdGgsaGVpZ2h0OmIuY2xpZW50SGVpZ2h0fSkpO319KTtCb3h5LnByb3RvdHlwZT17ZXN0aW1hdGVTaXplOmZ1bmN0aW9uKCl7dGhpcy5ib3h5LmNzcyh7dmlzaWJpbGl0eTonaGlkZGVuJyxkaXNwbGF5OidibG9jayd9KTt2YXIgZGltcz10aGlzLmdldFNpemUoKTt0aGlzLmJveHkuY3NzKCdkaXNwbGF5Jywnbm9uZScpLmNzcygndmlzaWJpbGl0eScsJ3Zpc2libGUnKTtyZXR1cm4gZGltczt9LGdldFNpemU6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5ib3h5LndpZHRoKCksdGhpcy5ib3h5LmhlaWdodCgpXTt9LGdldENvbnRlbnRTaXplOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5nZXRDb250ZW50KCk7cmV0dXJuW2Mud2lkdGgoKSxjLmhlaWdodCgpXTt9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5ib3h5WzBdO3JldHVybltiLm9mZnNldExlZnQsYi5vZmZzZXRUb3BdO30sZ2V0Q2VudGVyOmZ1bmN0aW9uKCl7dmFyIHA9dGhpcy5nZXRQb3NpdGlvbigpO3ZhciBzPXRoaXMuZ2V0U2l6ZSgpO3JldHVybltNYXRoLmZsb29yKHBbMF0rc1swXS8yKSxNYXRoLmZsb29yKHBbMV0rc1sxXS8yKV07fSxnZXRJbm5lcjpmdW5jdGlvbigpe3JldHVybiBqUXVlcnkoJy5ib3h5LWlubmVyJyx0aGlzLmJveHkpO30sZ2V0SGRyOmZ1bmN0aW9uKCl7cmV0dXJuIGpRdWVyeSgnLmJveHktaGRyJyx0aGlzLmJveHkpO30sZ2V0Q29udGVudDpmdW5jdGlvbigpe3JldHVybiBqUXVlcnkoJy5ib3h5LWNvbnRlbnQnLHRoaXMuYm94eSk7fSxzZXRDb250ZW50OmZ1bmN0aW9uKG5ld0NvbnRlbnQpe25ld0NvbnRlbnQ9alF1ZXJ5KG5ld0NvbnRlbnQpLmNzcyh7ZGlzcGxheTonYmxvY2snfSkuYWRkQ2xhc3MoJ2JveHktY29udGVudCcpO2lmKHRoaXMub3B0aW9ucy5jbG9uZSluZXdDb250ZW50PW5ld0NvbnRlbnQuY2xvbmUodHJ1ZSk7dGhpcy5nZXRDb250ZW50KCkucmVtb3ZlKCk7dGhpcy5nZXRJbm5lcigpLmFwcGVuZChuZXdDb250ZW50KTt0aGlzLl9zZXR1cERlZmF1bHRCZWhhdmlvdXJzKG5ld0NvbnRlbnQpO3RoaXMub3B0aW9ucy5iZWhhdmlvdXJzLmNhbGwodGhpcyxuZXdDb250ZW50KTtyZXR1cm4gdGhpczt9LG1vdmVUbzpmdW5jdGlvbih4LHkpe3RoaXMubW92ZVRvWCh4KS5tb3ZlVG9ZKHkpO3JldHVybiB0aGlzO30sbW92ZVRvWDpmdW5jdGlvbih4KXtpZih0eXBlb2YgeD09J251bWJlcicpdGhpcy5ib3h5LmNzcyh7bGVmdDp4fSk7ZWxzZSB0aGlzLmNlbnRlclgoKTtyZXR1cm4gdGhpczt9LG1vdmVUb1k6ZnVuY3Rpb24oeSl7aWYodHlwZW9mIHk9PSdudW1iZXInKXRoaXMuYm94eS5jc3Moe3RvcDp5fSk7ZWxzZSB0aGlzLmNlbnRlclkoKTtyZXR1cm4gdGhpczt9LGNlbnRlckF0OmZ1bmN0aW9uKHgseSl7dmFyIHM9dGhpc1t0aGlzLnZpc2libGU/J2dldFNpemUnOidlc3RpbWF0ZVNpemUnXSgpO2lmKHR5cGVvZiB4PT0nbnVtYmVyJyl0aGlzLm1vdmVUb1goeC1zWzBdLzIpO2lmKHR5cGVvZiB5PT0nbnVtYmVyJyl0aGlzLm1vdmVUb1koeS1zWzFdLzIpO3JldHVybiB0aGlzO30sY2VudGVyQXRYOmZ1bmN0aW9uKHgpe3JldHVybiB0aGlzLmNlbnRlckF0KHgsbnVsbCk7fSxjZW50ZXJBdFk6ZnVuY3Rpb24oeSl7cmV0dXJuIHRoaXMuY2VudGVyQXQobnVsbCx5KTt9LGNlbnRlcjpmdW5jdGlvbihheGlzKXt2YXIgdj1Cb3h5Ll92aWV3cG9ydCgpO3ZhciBvPXRoaXMub3B0aW9ucy5maXhlZD9bMCwwXTpbdi5sZWZ0LHYudG9wXTtpZighYXhpc3x8YXhpcz09J3gnKXRoaXMuY2VudGVyQXQob1swXSt2LndpZHRoLzIsbnVsbCk7aWYoIWF4aXN8fGF4aXM9PSd5Jyl0aGlzLmNlbnRlckF0KG51bGwsb1sxXSt2LmhlaWdodC8yKTtyZXR1cm4gdGhpczt9LGNlbnRlclg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZW50ZXIoJ3gnKTt9LGNlbnRlclk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZW50ZXIoJ3knKTt9LHJlc2l6ZTpmdW5jdGlvbih3aWR0aCxoZWlnaHQsYWZ0ZXIpe2lmKCF0aGlzLnZpc2libGUpcmV0dXJuO3ZhciBib3VuZHM9dGhpcy5fZ2V0Qm91bmRzRm9yUmVzaXplKHdpZHRoLGhlaWdodCk7dGhpcy5ib3h5LmNzcyh7bGVmdDpib3VuZHNbMF0sdG9wOmJvdW5kc1sxXX0pO3RoaXMuZ2V0Q29udGVudCgpLmNzcyh7d2lkdGg6Ym91bmRzWzJdLGhlaWdodDpib3VuZHNbM119KTtpZihhZnRlcilhZnRlcih0aGlzKTtyZXR1cm4gdGhpczt9LHR3ZWVuOmZ1bmN0aW9uKHdpZHRoLGhlaWdodCxhZnRlcil7aWYoIXRoaXMudmlzaWJsZSlyZXR1cm47dmFyIGJvdW5kcz10aGlzLl9nZXRCb3VuZHNGb3JSZXNpemUod2lkdGgsaGVpZ2h0KTt2YXIgc2VsZj10aGlzO3RoaXMuYm94eS5zdG9wKCkuYW5pbWF0ZSh7bGVmdDpib3VuZHNbMF0sdG9wOmJvdW5kc1sxXX0pO3RoaXMuZ2V0Q29udGVudCgpLnN0b3AoKS5hbmltYXRlKHt3aWR0aDpib3VuZHNbMl0saGVpZ2h0OmJvdW5kc1szXX0sZnVuY3Rpb24oKXtpZihhZnRlcilhZnRlcihzZWxmKTt9KTtyZXR1cm4gdGhpczt9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpc2libGU7fSxzaG93OmZ1bmN0aW9uKCl7aWYodGhpcy52aXNpYmxlKXJldHVybjtpZih0aGlzLm9wdGlvbnMubW9kYWwpe3ZhciBzZWxmPXRoaXM7aWYoIUJveHkucmVzaXplQ29uZmlndXJlZCl7Qm94eS5yZXNpemVDb25maWd1cmVkPXRydWU7alF1ZXJ5KHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7Qm94eS5faGFuZGxlUmVzaXplKCk7fSk7fQp0aGlzLm1vZGFsQmxhY2tvdXQ9alF1ZXJ5KCc8ZGl2IGNsYXNzPSJib3h5LW1vZGFsLWJsYWNrb3V0Ij48L2Rpdj4nKS5jc3Moe3pJbmRleDpCb3h5Ll9uZXh0WigpLG9wYWNpdHk6MC43LHdpZHRoOmpRdWVyeShkb2N1bWVudCkud2lkdGgoKSxoZWlnaHQ6alF1ZXJ5KGRvY3VtZW50KS5oZWlnaHQoKX0pLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO3RoaXMudG9Ub3AoKTtpZih0aGlzLm9wdGlvbnMuY2xvc2VhYmxlKXtqUXVlcnkoZG9jdW1lbnQuYm9keSkuYmluZCgna2V5cHJlc3MuYm94eScsZnVuY3Rpb24oZXZ0KXt2YXIga2V5PWV2dC53aGljaHx8ZXZ0LmtleUNvZGU7aWYoa2V5PT0yNyl7c2VsZi5oaWRlKCk7alF1ZXJ5KGRvY3VtZW50LmJvZHkpLnVuYmluZCgna2V5cHJlc3MuYm94eScpO319KTt9fQp0aGlzLmJveHkuc3RvcCgpLmNzcyh7b3BhY2l0eToxfSkuc2hvdygpO3RoaXMudmlzaWJsZT10cnVlO3RoaXMuX2ZpcmUoJ2FmdGVyU2hvdycpO3JldHVybiB0aGlzO30saGlkZTpmdW5jdGlvbihhZnRlcil7aWYoIXRoaXMudmlzaWJsZSlyZXR1cm47dmFyIHNlbGY9dGhpcztpZih0aGlzLm9wdGlvbnMubW9kYWwpe2pRdWVyeShkb2N1bWVudC5ib2R5KS51bmJpbmQoJ2tleXByZXNzLmJveHknKTt0aGlzLm1vZGFsQmxhY2tvdXQuYW5pbWF0ZSh7b3BhY2l0eTowfSwwLGZ1bmN0aW9uKCl7alF1ZXJ5KHRoaXMpLnJlbW92ZSgpO30pO30KdGhpcy5ib3h5LnN0b3AoKS5hbmltYXRlKHtvcGFjaXR5OjB9LDAsZnVuY3Rpb24oKXtzZWxmLmJveHkuY3NzKHtkaXNwbGF5Oidub25lJ30pO3NlbGYudmlzaWJsZT1mYWxzZTtzZWxmLl9maXJlKCdhZnRlckhpZGUnKTtpZihhZnRlcilhZnRlcihzZWxmKTtpZihzZWxmLm9wdGlvbnMudW5sb2FkT25IaWRlKXNlbGYudW5sb2FkKCk7fSk7cmV0dXJuIHRoaXM7fSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMudmlzaWJsZT8naGlkZSc6J3Nob3cnXSgpO3JldHVybiB0aGlzO30saGlkZUFuZFVubG9hZDpmdW5jdGlvbihhZnRlcil7dGhpcy5vcHRpb25zLnVubG9hZE9uSGlkZT10cnVlO3RoaXMuaGlkZShhZnRlcik7cmV0dXJuIHRoaXM7fSx1bmxvYWQ6ZnVuY3Rpb24oKXt0aGlzLl9maXJlKCdiZWZvcmVVbmxvYWQnKTt0aGlzLmJveHkucmVtb3ZlKCk7aWYodGhpcy5vcHRpb25zLmFjdHVhdG9yKXtqUXVlcnkuZGF0YSh0aGlzLm9wdGlvbnMuYWN0dWF0b3IsJ2FjdGl2ZS5ib3h5JyxmYWxzZSk7fX0sdG9Ub3A6ZnVuY3Rpb24oKXt0aGlzLmJveHkuY3NzKHt6SW5kZXg6Qm94eS5fbmV4dFooKX0pO3JldHVybiB0aGlzO30sZ2V0VGl0bGU6ZnVuY3Rpb24oKXtyZXR1cm4galF1ZXJ5KCc+IC50aXRsZS1iYXIgaDInLHRoaXMuZ2V0SW5uZXIoKSkuaHRtbCgpO30sc2V0VGl0bGU6ZnVuY3Rpb24odCl7alF1ZXJ5KCc+IC50aXRsZS1iYXIgaDInLHRoaXMuZ2V0SW5uZXIoKSkuaHRtbCh0KTtyZXR1cm4gdGhpczt9LF9nZXRCb3VuZHNGb3JSZXNpemU6ZnVuY3Rpb24od2lkdGgsaGVpZ2h0KXt2YXIgY3NpemU9dGhpcy5nZXRDb250ZW50U2l6ZSgpO3ZhciBkZWx0YT1bd2lkdGgtY3NpemVbMF0saGVpZ2h0LWNzaXplWzFdXTt2YXIgcD10aGlzLmdldFBvc2l0aW9uKCk7cmV0dXJuW01hdGgubWF4KHBbMF0tZGVsdGFbMF0vMiwwKSxNYXRoLm1heChwWzFdLWRlbHRhWzFdLzIsMCksd2lkdGgsaGVpZ2h0XTt9LF9zZXR1cFRpdGxlQmFyOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnRpdGxlKXt2YXIgc2VsZj10aGlzO3ZhciB0Yj1qUXVlcnkoIjxkaXYgY2xhc3M9J3RpdGxlLWJhcic+PC9kaXY+IikuaHRtbCgiPGgyPiIrdGhpcy5vcHRpb25zLnRpdGxlKyI8L2gyPiIpO2lmKHRoaXMub3B0aW9ucy5jbG9zZWFibGUpe3RiLmFwcGVuZChqUXVlcnkoIjxhIGhyZWY9JyMnIGNsYXNzPSdjbG9zZWRpdiBjbG9zZSc+PC9hPiIpLmh0bWwodGhpcy5vcHRpb25zLmNsb3NlVGV4dCkpO30KaWYodGhpcy5vcHRpb25zLmRyYWdnYWJsZSl7dGJbMF0ub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe3JldHVybiBmYWxzZTt9CnRiWzBdLnVuc2VsZWN0YWJsZT0nb24nO3RiWzBdLnN0eWxlLk1velVzZXJTZWxlY3Q9J25vbmUnO2lmKCFCb3h5LmRyYWdDb25maWd1cmVkKXtqUXVlcnkoZG9jdW1lbnQpLm1vdXNlbW92ZShCb3h5Ll9oYW5kbGVEcmFnKTtCb3h5LmRyYWdDb25maWd1cmVkPXRydWU7fQp0Yi5tb3VzZWRvd24oZnVuY3Rpb24oZXZ0KXtzZWxmLnRvVG9wKCk7Qm94eS5kcmFnZ2luZz1bc2VsZixldnQucGFnZVgtc2VsZi5ib3h5WzBdLm9mZnNldExlZnQsZXZ0LnBhZ2VZLXNlbGYuYm94eVswXS5vZmZzZXRUb3BdO2pRdWVyeSh0aGlzKS5hZGRDbGFzcygnZHJhZ2dpbmcnKTt9KS5tb3VzZXVwKGZ1bmN0aW9uKCl7alF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpO0JveHkuZHJhZ2dpbmc9bnVsbDtzZWxmLl9maXJlKCdhZnRlckRyb3AnKTt9KTt9CnZhciB4PXRoaXMuZ2V0SGRyKCkucHJlcGVuZCh0Yik7dGhpcy5fc2V0dXBEZWZhdWx0QmVoYXZpb3Vycyh0Yik7fX0sX3NldHVwRGVmYXVsdEJlaGF2aW91cnM6ZnVuY3Rpb24ocm9vdCl7dmFyIHNlbGY9dGhpcztpZih0aGlzLm9wdGlvbnMuY2xpY2tUb0Zyb250KXtyb290LmNsaWNrKGZ1bmN0aW9uKCl7c2VsZi50b1RvcCgpO30pO30KalF1ZXJ5KCcuY2xvc2UnLHJvb3QpLmNsaWNrKGZ1bmN0aW9uKCl7c2VsZi5oaWRlKCk7cmV0dXJuIGZhbHNlO30pLm1vdXNlZG93bihmdW5jdGlvbihldnQpe2V2dC5zdG9wUHJvcGFnYXRpb24oKTt9KTt9LF9maXJlOmZ1bmN0aW9uKGV2ZW50KXt0aGlzLm9wdGlvbnNbZXZlbnRdLmNhbGwodGhpcyk7fX07Cg==]]>
		</Resource>
		<Resource ID="b67cfe82-a508-63ba-37ca-6c27d82c5112" Name="jquery_UI" Type="js">
			<![CDATA[Ci8qIGpRdWVyeSBVSSAxLjguNiAqLwooZnVuY3Rpb24oYyxqKXtmdW5jdGlvbiBrKGEpe3JldHVybiFjKGEpLnBhcmVudHMoKS5hbmRTZWxmKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY3VyQ1NTKHRoaXMsInZpc2liaWxpdHkiKT09PSJoaWRkZW4ifHxjLmV4cHIuZmlsdGVycy5oaWRkZW4odGhpcyl9KS5sZW5ndGh9Yy51aT1jLnVpfHx7fTtpZighYy51aS52ZXJzaW9uKXtjLmV4dGVuZChjLnVpLHt2ZXJzaW9uOiIxLjguNiIsa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsCk5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTSElGVDoxNixTUEFDRTozMixUQUI6OSxVUDozOCxXSU5ET1dTOjkxfX0pO2MuZm4uZXh0ZW5kKHtfZm9jdXM6Yy5mbi5mb2N1cyxmb2N1czpmdW5jdGlvbihhLGIpe3JldHVybiB0eXBlb2YgYT09PSJudW1iZXIiP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2MoZCkuZm9jdXMoKTtiJiZiLmNhbGwoZCl9LGEpfSk6dGhpcy5fZm9jdXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgYTthPWMuYnJvd3Nlci5tc2llJiYvKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpP3RoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8ocmVsYXRpdmV8YWJzb2x1dGV8Zml4ZWQpLy50ZXN0KGMuY3VyQ1NTKHRoaXMsCiJwb3NpdGlvbiIsMSkpJiYvKGF1dG98c2Nyb2xsKS8udGVzdChjLmN1ckNTUyh0aGlzLCJvdmVyZmxvdyIsMSkrYy5jdXJDU1ModGhpcywib3ZlcmZsb3cteSIsMSkrYy5jdXJDU1ModGhpcywib3ZlcmZsb3cteCIsMSkpfSkuZXEoMCk6dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhhdXRvfHNjcm9sbCkvLnRlc3QoYy5jdXJDU1ModGhpcywib3ZlcmZsb3ciLDEpK2MuY3VyQ1NTKHRoaXMsIm92ZXJmbG93LXkiLDEpK2MuY3VyQ1NTKHRoaXMsIm92ZXJmbG93LXgiLDEpKX0pLmVxKDApO3JldHVybi9maXhlZC8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSl8fCFhLmxlbmd0aD9jKGRvY3VtZW50KTphfSx6SW5kZXg6ZnVuY3Rpb24oYSl7aWYoYSE9PWopcmV0dXJuIHRoaXMuY3NzKCJ6SW5kZXgiLGEpO2lmKHRoaXMubGVuZ3RoKXthPWModGhpc1swXSk7Zm9yKHZhciBiO2EubGVuZ3RoJiZhWzBdIT09ZG9jdW1lbnQ7KXtiPWEuY3NzKCJwb3NpdGlvbiIpOwppZihiPT09ImFic29sdXRlInx8Yj09PSJyZWxhdGl2ZSJ8fGI9PT0iZml4ZWQiKXtiPXBhcnNlSW50KGEuY3NzKCJ6SW5kZXgiKSwxMCk7aWYoIWlzTmFOKGIpJiZiIT09MClyZXR1cm4gYn1hPWEucGFyZW50KCl9fXJldHVybiAwfSxkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZCgoYy5zdXBwb3J0LnNlbGVjdHN0YXJ0PyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIpKyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSl9LGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZCgiLnVpLWRpc2FibGVTZWxlY3Rpb24iKX19KTtjLmVhY2goWyJXaWR0aCIsIkhlaWdodCJdLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChmLGcsbCxtKXtjLmVhY2goZSxmdW5jdGlvbigpe2ctPXBhcnNlRmxvYXQoYy5jdXJDU1MoZiwicGFkZGluZyIrdGhpcyx0cnVlKSl8fDA7aWYobClnLT1wYXJzZUZsb2F0KGMuY3VyQ1NTKGYsCiJib3JkZXIiK3RoaXMrIldpZHRoIix0cnVlKSl8fDA7aWYobSlnLT1wYXJzZUZsb2F0KGMuY3VyQ1NTKGYsIm1hcmdpbiIrdGhpcyx0cnVlKSl8fDB9KTtyZXR1cm4gZ312YXIgZT1iPT09IldpZHRoIj9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0saD1iLnRvTG93ZXJDYXNlKCksaT17aW5uZXJXaWR0aDpjLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6Yy5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOmMuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDpjLmZuLm91dGVySGVpZ2h0fTtjLmZuWyJpbm5lciIrYl09ZnVuY3Rpb24oZil7aWYoZj09PWopcmV0dXJuIGlbImlubmVyIitiXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjKHRoaXMpLmNzcyhoLGQodGhpcyxmKSsicHgiKX0pfTtjLmZuWyJvdXRlciIrYl09ZnVuY3Rpb24oZixnKXtpZih0eXBlb2YgZiE9PSJudW1iZXIiKXJldHVybiBpWyJvdXRlciIrYl0uY2FsbCh0aGlzLGYpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjKHRoaXMpLmNzcyhoLApkKHRoaXMsZix0cnVlLGcpKyJweCIpfSl9fSk7Yy5leHRlbmQoYy5leHByWyI6Il0se2RhdGE6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiEhYy5kYXRhKGEsZFszXSl9LGZvY3VzYWJsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZD1jLmF0dHIoYSwidGFiaW5kZXgiKTtpZigiYXJlYSI9PT1iKXtiPWEucGFyZW50Tm9kZTtkPWIubmFtZTtpZighYS5ocmVmfHwhZHx8Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im1hcCIpcmV0dXJuIGZhbHNlO2E9YygiaW1nW3VzZW1hcD0jIitkKyJdIilbMF07cmV0dXJuISFhJiZrKGEpfXJldHVybigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoYik/IWEuZGlzYWJsZWQ6ImEiPT1iP2EuaHJlZnx8IWlzTmFOKGQpOiFpc05hTihkKSkmJmsoYSl9LHRhYmJhYmxlOmZ1bmN0aW9uKGEpe3ZhciBiPWMuYXR0cihhLCJ0YWJpbmRleCIpO3JldHVybihpc05hTihiKXx8Yj49MCkmJmMoYSkuaXMoIjpmb2N1c2FibGUiKX19KTsKYyhmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmJvZHksYj1hLmFwcGVuZENoaWxkKGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2MuZXh0ZW5kKGIuc3R5bGUse21pbkhlaWdodDoiMTAwcHgiLGhlaWdodDoiYXV0byIscGFkZGluZzowLGJvcmRlcldpZHRoOjB9KTtjLnN1cHBvcnQubWluSGVpZ2h0PWIub2Zmc2V0SGVpZ2h0PT09MTAwO2Muc3VwcG9ydC5zZWxlY3RzdGFydD0ib25zZWxlY3RzdGFydCJpbiBiO2EucmVtb3ZlQ2hpbGQoYikuc3R5bGUuZGlzcGxheT0ibm9uZSJ9KTtjLmV4dGVuZChjLnVpLHtwbHVnaW46e2FkZDpmdW5jdGlvbihhLGIsZCl7YT1jLnVpW2FdLnByb3RvdHlwZTtmb3IodmFyIGUgaW4gZCl7YS5wbHVnaW5zW2VdPWEucGx1Z2luc1tlXXx8W107YS5wbHVnaW5zW2VdLnB1c2goW2IsZFtlXV0pfX0sY2FsbDpmdW5jdGlvbihhLGIsZCl7aWYoKGI9YS5wbHVnaW5zW2JdKSYmYS5lbGVtZW50WzBdLnBhcmVudE5vZGUpZm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspYS5vcHRpb25zW2JbZV1bMF1dJiYKYltlXVsxXS5hcHBseShhLmVsZW1lbnQsZCl9fSxjb250YWluczpmdW5jdGlvbihhLGIpe3JldHVybiBkb2N1bWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjE2OmEhPT1iJiZhLmNvbnRhaW5zKGIpfSxoYXNTY3JvbGw6ZnVuY3Rpb24oYSxiKXtpZihjKGEpLmNzcygib3ZlcmZsb3ciKT09PSJoaWRkZW4iKXJldHVybiBmYWxzZTtiPWImJmI9PT0ibGVmdCI/InNjcm9sbExlZnQiOiJzY3JvbGxUb3AiO3ZhciBkPWZhbHNlO2lmKGFbYl0+MClyZXR1cm4gdHJ1ZTthW2JdPTE7ZD1hW2JdPjA7YVtiXT0wO3JldHVybiBkfSxpc092ZXJBeGlzOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYT5iJiZhPGIrZH0saXNPdmVyOmZ1bmN0aW9uKGEsYixkLGUsaCxpKXtyZXR1cm4gYy51aS5pc092ZXJBeGlzKGEsZCxoKSYmYy51aS5pc092ZXJBeGlzKGIsZSxpKX19KX19KShqUXVlcnkpOwo7CihmdW5jdGlvbihiLGope2lmKGIuY2xlYW5EYXRhKXt2YXIgaz1iLmNsZWFuRGF0YTtiLmNsZWFuRGF0YT1mdW5jdGlvbihhKXtmb3IodmFyIGM9MCxkOyhkPWFbY10pIT1udWxsO2MrKyliKGQpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKTtrKGEpfX1lbHNle3ZhciBsPWIuZm4ucmVtb3ZlO2IuZm4ucmVtb3ZlPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2lmKCFjKWlmKCFhfHxiLmZpbHRlcihhLFt0aGlzXSkubGVuZ3RoKWIoIioiLHRoaXMpLmFkZChbdGhpc10pLmVhY2goZnVuY3Rpb24oKXtiKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX0pO3JldHVybiBsLmNhbGwoYih0aGlzKSxhLGMpfSl9fWIud2lkZ2V0PWZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1hLnNwbGl0KCIuIilbMF0sZjthPWEuc3BsaXQoIi4iKVsxXTtmPWUrIi0iK2E7aWYoIWQpe2Q9YztjPWIuV2lkZ2V0fWIuZXhwclsiOiJdW2ZdPWZ1bmN0aW9uKGgpe3JldHVybiEhYi5kYXRhKGgsCmEpfTtiW2VdPWJbZV18fHt9O2JbZV1bYV09ZnVuY3Rpb24oaCxnKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoaCxnKX07Yz1uZXcgYztjLm9wdGlvbnM9Yi5leHRlbmQodHJ1ZSx7fSxjLm9wdGlvbnMpO2JbZV1bYV0ucHJvdG90eXBlPWIuZXh0ZW5kKHRydWUsYyx7bmFtZXNwYWNlOmUsd2lkZ2V0TmFtZTphLHdpZGdldEV2ZW50UHJlZml4OmJbZV1bYV0ucHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4fHxhLHdpZGdldEJhc2VDbGFzczpmfSxkKTtiLndpZGdldC5icmlkZ2UoYSxiW2VdW2FdKX07Yi53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGEsYyl7Yi5mblthXT1mdW5jdGlvbihkKXt2YXIgZT10eXBlb2YgZD09PSJzdHJpbmciLGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGg9dGhpcztkPSFlJiZmLmxlbmd0aD9iLmV4dGVuZC5hcHBseShudWxsLFt0cnVlLGRdLmNvbmNhdChmKSk6ZDtpZihlJiZkLmNoYXJBdCgwKT09PSJfIilyZXR1cm4gaDsKZT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZz1iLmRhdGEodGhpcyxhKSxpPWcmJmIuaXNGdW5jdGlvbihnW2RdKT9nW2RdLmFwcGx5KGcsZik6ZztpZihpIT09ZyYmaSE9PWope2g9aTtyZXR1cm4gZmFsc2V9fSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9Yi5kYXRhKHRoaXMsYSk7Zz9nLm9wdGlvbihkfHx7fSkuX2luaXQoKTpiLmRhdGEodGhpcyxhLG5ldyBjKGQsdGhpcykpfSk7cmV0dXJuIGh9fTtiLldpZGdldD1mdW5jdGlvbihhLGMpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGMpfTtiLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsb3B0aW9uczp7ZGlzYWJsZWQ6ZmFsc2V9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYSxjKXtiLmRhdGEoYyx0aGlzLndpZGdldE5hbWUsdGhpcyk7dGhpcy5lbGVtZW50PWIoYyk7dGhpcy5vcHRpb25zPWIuZXh0ZW5kKHRydWUse30sdGhpcy5vcHRpb25zLAp0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYSk7dmFyIGQ9dGhpczt0aGlzLmVsZW1lbnQuYmluZCgicmVtb3ZlLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7ZC5kZXN0cm95KCl9KTt0aGlzLl9jcmVhdGUoKTt0aGlzLl90cmlnZ2VyKCJjcmVhdGUiKTt0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIGIubWV0YWRhdGEmJmIubWV0YWRhdGEuZ2V0KHRoaXMuZWxlbWVudFswXSlbdGhpcy53aWRnZXROYW1lXX0sX2NyZWF0ZTpmdW5jdGlvbigpe30sX2luaXQ6ZnVuY3Rpb24oKXt9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLnJlbW92ZURhdGEodGhpcy53aWRnZXROYW1lKTt0aGlzLndpZGdldCgpLnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpfSwKd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YTtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gYi5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYT09PSJzdHJpbmciKXtpZihjPT09ailyZXR1cm4gdGhpcy5vcHRpb25zW2FdO2Q9e307ZFthXT1jfXRoaXMuX3NldE9wdGlvbnMoZCk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7Yi5lYWNoKGEsZnVuY3Rpb24oZCxlKXtjLl9zZXRPcHRpb24oZCxlKX0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYyl7dGhpcy5vcHRpb25zW2FdPWM7aWYoYT09PSJkaXNhYmxlZCIpdGhpcy53aWRnZXQoKVtjPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0odGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGMpO3JldHVybiB0aGlzfSwKZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX0sX3RyaWdnZXI6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPXRoaXMub3B0aW9uc1thXTtjPWIuRXZlbnQoYyk7Yy50eXBlPShhPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9hOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYSkudG9Mb3dlckNhc2UoKTtkPWR8fHt9O2lmKGMub3JpZ2luYWxFdmVudCl7YT1iLmV2ZW50LnByb3BzLmxlbmd0aDtmb3IodmFyIGY7YTspe2Y9Yi5ldmVudC5wcm9wc1stLWFdO2NbZl09Yy5vcmlnaW5hbEV2ZW50W2ZdfX10aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpO3JldHVybiEoYi5pc0Z1bmN0aW9uKGUpJiZlLmNhbGwodGhpcy5lbGVtZW50WzBdLGMsZCk9PT1mYWxzZXx8Yy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fX0pKGpRdWVyeSk7CjsKKGZ1bmN0aW9uKGMpe2Mud2lkZ2V0KCJ1aS5tb3VzZSIse29wdGlvbnM6e2NhbmNlbDoiOmlucHV0LG9wdGlvbiIsZGlzdGFuY2U6MSxkZWxheTowfSxfbW91c2VJbml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmVsZW1lbnQuYmluZCgibW91c2Vkb3duLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKGIpe3JldHVybiBhLl9tb3VzZURvd24oYil9KS5iaW5kKCJjbGljay4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihiKXtpZihhLl9wcmV2ZW50Q2xpY2tFdmVudCl7YS5fcHJldmVudENsaWNrRXZlbnQ9ZmFsc2U7Yi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtyZXR1cm4gZmFsc2V9fSk7dGhpcy5zdGFydGVkPWZhbHNlfSxfbW91c2VEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKX0sX21vdXNlRG93bjpmdW5jdGlvbihhKXthLm9yaWdpbmFsRXZlbnQ9YS5vcmlnaW5hbEV2ZW50fHx7fTtpZighYS5vcmlnaW5hbEV2ZW50Lm1vdXNlSGFuZGxlZCl7dGhpcy5fbW91c2VTdGFydGVkJiYKdGhpcy5fbW91c2VVcChhKTt0aGlzLl9tb3VzZURvd25FdmVudD1hO3ZhciBiPXRoaXMsZT1hLndoaWNoPT0xLGY9dHlwZW9mIHRoaXMub3B0aW9ucy5jYW5jZWw9PSJzdHJpbmciP2MoYS50YXJnZXQpLnBhcmVudHMoKS5hZGQoYS50YXJnZXQpLmZpbHRlcih0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ZmFsc2U7aWYoIWV8fGZ8fCF0aGlzLl9tb3VzZUNhcHR1cmUoYSkpcmV0dXJuIHRydWU7dGhpcy5tb3VzZURlbGF5TWV0PSF0aGlzLm9wdGlvbnMuZGVsYXk7aWYoIXRoaXMubW91c2VEZWxheU1ldCl0aGlzLl9tb3VzZURlbGF5VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2IubW91c2VEZWxheU1ldD10cnVlfSx0aGlzLm9wdGlvbnMuZGVsYXkpO2lmKHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoYSkmJnRoaXMuX21vdXNlRGVsYXlNZXQoYSkpe3RoaXMuX21vdXNlU3RhcnRlZD10aGlzLl9tb3VzZVN0YXJ0KGEpIT09ZmFsc2U7aWYoIXRoaXMuX21vdXNlU3RhcnRlZCl7YS5wcmV2ZW50RGVmYXVsdCgpOwpyZXR1cm4gdHJ1ZX19dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24oZCl7cmV0dXJuIGIuX21vdXNlTW92ZShkKX07dGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKGQpe3JldHVybiBiLl9tb3VzZVVwKGQpfTtjKGRvY3VtZW50KS5iaW5kKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLmJpbmQoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTthLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGEub3JpZ2luYWxFdmVudC5tb3VzZUhhbmRsZWQ9dHJ1ZX19LF9tb3VzZU1vdmU6ZnVuY3Rpb24oYSl7aWYoYy5icm93c2VyLm1zaWUmJiEoZG9jdW1lbnQuZG9jdW1lbnRNb2RlPj05KSYmIWEuYnV0dG9uKXJldHVybiB0aGlzLl9tb3VzZVVwKGEpO2lmKHRoaXMuX21vdXNlU3RhcnRlZCl7dGhpcy5fbW91c2VEcmFnKGEpO3JldHVybiBhLnByZXZlbnREZWZhdWx0KCl9aWYodGhpcy5fbW91c2VEaXN0YW5jZU1ldChhKSYmCnRoaXMuX21vdXNlRGVsYXlNZXQoYSkpKHRoaXMuX21vdXNlU3RhcnRlZD10aGlzLl9tb3VzZVN0YXJ0KHRoaXMuX21vdXNlRG93bkV2ZW50LGEpIT09ZmFsc2UpP3RoaXMuX21vdXNlRHJhZyhhKTp0aGlzLl9tb3VzZVVwKGEpO3JldHVybiF0aGlzLl9tb3VzZVN0YXJ0ZWR9LF9tb3VzZVVwOmZ1bmN0aW9uKGEpe2MoZG9jdW1lbnQpLnVuYmluZCgibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS51bmJpbmQoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTtpZih0aGlzLl9tb3VzZVN0YXJ0ZWQpe3RoaXMuX21vdXNlU3RhcnRlZD1mYWxzZTt0aGlzLl9wcmV2ZW50Q2xpY2tFdmVudD1hLnRhcmdldD09dGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0O3RoaXMuX21vdXNlU3RvcChhKX1yZXR1cm4gZmFsc2V9LF9tb3VzZURpc3RhbmNlTWV0OmZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLm1heChNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWC0KYS5wYWdlWCksTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVktYS5wYWdlWSkpPj10aGlzLm9wdGlvbnMuZGlzdGFuY2V9LF9tb3VzZURlbGF5TWV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW91c2VEZWxheU1ldH0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXt9LF9tb3VzZURyYWc6ZnVuY3Rpb24oKXt9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oKXt9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZX19KX0pKGpRdWVyeSk7CjsKKGZ1bmN0aW9uKGMpe2MudWk9Yy51aXx8e307dmFyIG49L2xlZnR8Y2VudGVyfHJpZ2h0LyxvPS90b3B8Y2VudGVyfGJvdHRvbS8sdD1jLmZuLnBvc2l0aW9uLHU9Yy5mbi5vZmZzZXQ7Yy5mbi5wb3NpdGlvbj1mdW5jdGlvbihiKXtpZighYnx8IWIub2YpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2I9Yy5leHRlbmQoe30sYik7dmFyIGE9YyhiLm9mKSxkPWFbMF0sZz0oYi5jb2xsaXNpb258fCJmbGlwIikuc3BsaXQoIiAiKSxlPWIub2Zmc2V0P2Iub2Zmc2V0LnNwbGl0KCIgIik6WzAsMF0saCxrLGo7aWYoZC5ub2RlVHlwZT09PTkpe2g9YS53aWR0aCgpO2s9YS5oZWlnaHQoKTtqPXt0b3A6MCxsZWZ0OjB9fWVsc2UgaWYoZC5zZXRUaW1lb3V0KXtoPWEud2lkdGgoKTtrPWEuaGVpZ2h0KCk7aj17dG9wOmEuc2Nyb2xsVG9wKCksbGVmdDphLnNjcm9sbExlZnQoKX19ZWxzZSBpZihkLnByZXZlbnREZWZhdWx0KXtiLmF0PSJsZWZ0IHRvcCI7aD1rPTA7aj17dG9wOmIub2YucGFnZVksCmxlZnQ6Yi5vZi5wYWdlWH19ZWxzZXtoPWEub3V0ZXJXaWR0aCgpO2s9YS5vdXRlckhlaWdodCgpO2o9YS5vZmZzZXQoKX1jLmVhY2goWyJteSIsImF0Il0sZnVuY3Rpb24oKXt2YXIgZj0oYlt0aGlzXXx8IiIpLnNwbGl0KCIgIik7aWYoZi5sZW5ndGg9PT0xKWY9bi50ZXN0KGZbMF0pP2YuY29uY2F0KFsiY2VudGVyIl0pOm8udGVzdChmWzBdKT9bImNlbnRlciJdLmNvbmNhdChmKTpbImNlbnRlciIsImNlbnRlciJdO2ZbMF09bi50ZXN0KGZbMF0pP2ZbMF06ImNlbnRlciI7ZlsxXT1vLnRlc3QoZlsxXSk/ZlsxXToiY2VudGVyIjtiW3RoaXNdPWZ9KTtpZihnLmxlbmd0aD09PTEpZ1sxXT1nWzBdO2VbMF09cGFyc2VJbnQoZVswXSwxMCl8fDA7aWYoZS5sZW5ndGg9PT0xKWVbMV09ZVswXTtlWzFdPXBhcnNlSW50KGVbMV0sMTApfHwwO2lmKGIuYXRbMF09PT0icmlnaHQiKWoubGVmdCs9aDtlbHNlIGlmKGIuYXRbMF09PT0iY2VudGVyIilqLmxlZnQrPWgvMjtpZihiLmF0WzFdPT09ImJvdHRvbSIpai50b3ArPQprO2Vsc2UgaWYoYi5hdFsxXT09PSJjZW50ZXIiKWoudG9wKz1rLzI7ai5sZWZ0Kz1lWzBdO2oudG9wKz1lWzFdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZj1jKHRoaXMpLGw9Zi5vdXRlcldpZHRoKCksbT1mLm91dGVySGVpZ2h0KCkscD1wYXJzZUludChjLmN1ckNTUyh0aGlzLCJtYXJnaW5MZWZ0Iix0cnVlKSl8fDAscT1wYXJzZUludChjLmN1ckNTUyh0aGlzLCJtYXJnaW5Ub3AiLHRydWUpKXx8MCx2PWwrcCtwYXJzZUludChjLmN1ckNTUyh0aGlzLCJtYXJnaW5SaWdodCIsdHJ1ZSkpfHwwLHc9bStxK3BhcnNlSW50KGMuY3VyQ1NTKHRoaXMsIm1hcmdpbkJvdHRvbSIsdHJ1ZSkpfHwwLGk9Yy5leHRlbmQoe30saikscjtpZihiLm15WzBdPT09InJpZ2h0IilpLmxlZnQtPWw7ZWxzZSBpZihiLm15WzBdPT09ImNlbnRlciIpaS5sZWZ0LT1sLzI7aWYoYi5teVsxXT09PSJib3R0b20iKWkudG9wLT1tO2Vsc2UgaWYoYi5teVsxXT09PSJjZW50ZXIiKWkudG9wLT1tLzI7CmkubGVmdD1wYXJzZUludChpLmxlZnQpO2kudG9wPXBhcnNlSW50KGkudG9wKTtyPXtsZWZ0OmkubGVmdC1wLHRvcDppLnRvcC1xfTtjLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24ocyx4KXtjLnVpLnBvc2l0aW9uW2dbc11dJiZjLnVpLnBvc2l0aW9uW2dbc11dW3hdKGkse3RhcmdldFdpZHRoOmgsdGFyZ2V0SGVpZ2h0OmssZWxlbVdpZHRoOmwsZWxlbUhlaWdodDptLGNvbGxpc2lvblBvc2l0aW9uOnIsY29sbGlzaW9uV2lkdGg6dixjb2xsaXNpb25IZWlnaHQ6dyxvZmZzZXQ6ZSxteTpiLm15LGF0OmIuYXR9KX0pO2MuZm4uYmdpZnJhbWUmJmYuYmdpZnJhbWUoKTtmLm9mZnNldChjLmV4dGVuZChpLHt1c2luZzpiLnVzaW5nfSkpfSl9O2MudWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbihiLGEpe3ZhciBkPWMod2luZG93KTtkPWEuY29sbGlzaW9uUG9zaXRpb24ubGVmdCthLmNvbGxpc2lvbldpZHRoLWQud2lkdGgoKS1kLnNjcm9sbExlZnQoKTtiLmxlZnQ9ZD4wPwpiLmxlZnQtZDpNYXRoLm1heChiLmxlZnQtYS5jb2xsaXNpb25Qb3NpdGlvbi5sZWZ0LGIubGVmdCl9LHRvcDpmdW5jdGlvbihiLGEpe3ZhciBkPWMod2luZG93KTtkPWEuY29sbGlzaW9uUG9zaXRpb24udG9wK2EuY29sbGlzaW9uSGVpZ2h0LWQuaGVpZ2h0KCktZC5zY3JvbGxUb3AoKTtiLnRvcD1kPjA/Yi50b3AtZDpNYXRoLm1heChiLnRvcC1hLmNvbGxpc2lvblBvc2l0aW9uLnRvcCxiLnRvcCl9fSxmbGlwOntsZWZ0OmZ1bmN0aW9uKGIsYSl7aWYoYS5hdFswXSE9PSJjZW50ZXIiKXt2YXIgZD1jKHdpbmRvdyk7ZD1hLmNvbGxpc2lvblBvc2l0aW9uLmxlZnQrYS5jb2xsaXNpb25XaWR0aC1kLndpZHRoKCktZC5zY3JvbGxMZWZ0KCk7dmFyIGc9YS5teVswXT09PSJsZWZ0Ij8tYS5lbGVtV2lkdGg6YS5teVswXT09PSJyaWdodCI/YS5lbGVtV2lkdGg6MCxlPWEuYXRbMF09PT0ibGVmdCI/YS50YXJnZXRXaWR0aDotYS50YXJnZXRXaWR0aCxoPS0yKmEub2Zmc2V0WzBdO2IubGVmdCs9CmEuY29sbGlzaW9uUG9zaXRpb24ubGVmdDwwP2crZStoOmQ+MD9nK2UraDowfX0sdG9wOmZ1bmN0aW9uKGIsYSl7aWYoYS5hdFsxXSE9PSJjZW50ZXIiKXt2YXIgZD1jKHdpbmRvdyk7ZD1hLmNvbGxpc2lvblBvc2l0aW9uLnRvcCthLmNvbGxpc2lvbkhlaWdodC1kLmhlaWdodCgpLWQuc2Nyb2xsVG9wKCk7dmFyIGc9YS5teVsxXT09PSJ0b3AiPy1hLmVsZW1IZWlnaHQ6YS5teVsxXT09PSJib3R0b20iP2EuZWxlbUhlaWdodDowLGU9YS5hdFsxXT09PSJ0b3AiP2EudGFyZ2V0SGVpZ2h0Oi1hLnRhcmdldEhlaWdodCxoPS0yKmEub2Zmc2V0WzFdO2IudG9wKz1hLmNvbGxpc2lvblBvc2l0aW9uLnRvcDwwP2crZStoOmQ+MD9nK2UraDowfX19fTtpZighYy5vZmZzZXQuc2V0T2Zmc2V0KXtjLm9mZnNldC5zZXRPZmZzZXQ9ZnVuY3Rpb24oYixhKXtpZigvc3RhdGljLy50ZXN0KGMuY3VyQ1NTKGIsInBvc2l0aW9uIikpKWIuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjt2YXIgZD1jKGIpLApnPWQub2Zmc2V0KCksZT1wYXJzZUludChjLmN1ckNTUyhiLCJ0b3AiLHRydWUpLDEwKXx8MCxoPXBhcnNlSW50KGMuY3VyQ1NTKGIsImxlZnQiLHRydWUpLDEwKXx8MDtnPXt0b3A6YS50b3AtZy50b3ArZSxsZWZ0OmEubGVmdC1nLmxlZnQraH07InVzaW5nImluIGE/YS51c2luZy5jYWxsKGIsZyk6ZC5jc3MoZyl9O2MuZm4ub2Zmc2V0PWZ1bmN0aW9uKGIpe3ZhciBhPXRoaXNbMF07aWYoIWF8fCFhLm93bmVyRG9jdW1lbnQpcmV0dXJuIG51bGw7aWYoYilyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yy5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYil9KTtyZXR1cm4gdS5jYWxsKHRoaXMpfX19KShqUXVlcnkpOwo7Ci8qIFVJIERyYWdnYWJsZSAqLyAKKGZ1bmN0aW9uKGQpe2Qud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLGQudWkubW91c2Use3dpZGdldEV2ZW50UHJlZml4OiJkcmFnIixvcHRpb25zOnthZGRDbGFzc2VzOnRydWUsYXBwZW5kVG86InBhcmVudCIsYXhpczpmYWxzZSxjb25uZWN0VG9Tb3J0YWJsZTpmYWxzZSxjb250YWlubWVudDpmYWxzZSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OmZhbHNlLGdyaWQ6ZmFsc2UsaGFuZGxlOmZhbHNlLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDpmYWxzZSxvcGFjaXR5OmZhbHNlLHJlZnJlc2hQb3NpdGlvbnM6ZmFsc2UscmV2ZXJ0OmZhbHNlLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOnRydWUsc2Nyb2xsU2Vuc2l0aXZpdHk6MjAsc2Nyb2xsU3BlZWQ6MjAsc25hcDpmYWxzZSxzbmFwTW9kZToiYm90aCIsc25hcFRvbGVyYW5jZToyMCxzdGFjazpmYWxzZSx6SW5kZXg6ZmFsc2V9LF9jcmVhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuaGVscGVyPT0KIm9yaWdpbmFsIiYmIS9eKD86cnxhfGYpLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIikpKXRoaXMuZWxlbWVudFswXS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3RoaXMub3B0aW9ucy5hZGRDbGFzc2VzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWRyYWdnYWJsZSIpO3RoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtZGlzYWJsZWQiKTt0aGlzLl9tb3VzZUluaXQoKX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudC5kYXRhKCJkcmFnZ2FibGUiKSl7dGhpcy5lbGVtZW50LnJlbW92ZURhdGEoImRyYWdnYWJsZSIpLnVuYmluZCgiLmRyYWdnYWJsZSIpLnJlbW92ZUNsYXNzKCJ1aS1kcmFnZ2FibGUgdWktZHJhZ2dhYmxlLWRyYWdnaW5nIHVpLWRyYWdnYWJsZS1kaXNhYmxlZCIpO3RoaXMuX21vdXNlRGVzdHJveSgpO3JldHVybiB0aGlzfX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5vcHRpb25zO2lmKHRoaXMuaGVscGVyfHxiLmRpc2FibGVkfHxkKGEudGFyZ2V0KS5pcygiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKSlyZXR1cm4gZmFsc2U7dGhpcy5oYW5kbGU9dGhpcy5fZ2V0SGFuZGxlKGEpO2lmKCF0aGlzLmhhbmRsZSlyZXR1cm4gZmFsc2U7cmV0dXJuIHRydWV9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9uczt0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIoYSk7dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO2lmKGQudWkuZGRtYW5hZ2VyKWQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpczt0aGlzLl9jYWNoZU1hcmdpbnMoKTt0aGlzLmNzc1Bvc2l0aW9uPXRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKTt0aGlzLnNjcm9sbFBhcmVudD10aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoKTt0aGlzLm9mZnNldD10aGlzLnBvc2l0aW9uQWJzPXRoaXMuZWxlbWVudC5vZmZzZXQoKTt0aGlzLm9mZnNldD17dG9wOnRoaXMub2Zmc2V0LnRvcC0KdGhpcy5tYXJnaW5zLnRvcCxsZWZ0OnRoaXMub2Zmc2V0LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnR9O2QuZXh0ZW5kKHRoaXMub2Zmc2V0LHtjbGljazp7bGVmdDphLnBhZ2VYLXRoaXMub2Zmc2V0LmxlZnQsdG9wOmEucGFnZVktdGhpcy5vZmZzZXQudG9wfSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX0pO3RoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24oYSk7dGhpcy5vcmlnaW5hbFBhZ2VYPWEucGFnZVg7dGhpcy5vcmlnaW5hbFBhZ2VZPWEucGFnZVk7Yi5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihiLmN1cnNvckF0KTtiLmNvbnRhaW5tZW50JiZ0aGlzLl9zZXRDb250YWlubWVudCgpO2lmKHRoaXMuX3RyaWdnZXIoInN0YXJ0IixhKT09PWZhbHNlKXt0aGlzLl9jbGVhcigpO3JldHVybiBmYWxzZX10aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7CmQudWkuZGRtYW5hZ2VyJiYhYi5kcm9wQmVoYXZpb3VyJiZkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLGEpO3RoaXMuaGVscGVyLmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLl9tb3VzZURyYWcoYSx0cnVlKTtyZXR1cm4gdHJ1ZX0sX21vdXNlRHJhZzpmdW5jdGlvbihhLGIpe3RoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihhKTt0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpO2lmKCFiKXtiPXRoaXMuX3VpSGFzaCgpO2lmKHRoaXMuX3RyaWdnZXIoImRyYWciLGEsYik9PT1mYWxzZSl7dGhpcy5fbW91c2VVcCh7fSk7cmV0dXJuIGZhbHNlfXRoaXMucG9zaXRpb249Yi5wb3NpdGlvbn1pZighdGhpcy5vcHRpb25zLmF4aXN8fHRoaXMub3B0aW9ucy5heGlzIT0ieSIpdGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4IjtpZighdGhpcy5vcHRpb25zLmF4aXN8fAp0aGlzLm9wdGlvbnMuYXhpcyE9IngiKXRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiO2QudWkuZGRtYW5hZ2VyJiZkLnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsYSk7cmV0dXJuIGZhbHNlfSxfbW91c2VTdG9wOmZ1bmN0aW9uKGEpe3ZhciBiPWZhbHNlO2lmKGQudWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXIpYj1kLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsYSk7aWYodGhpcy5kcm9wcGVkKXtiPXRoaXMuZHJvcHBlZDt0aGlzLmRyb3BwZWQ9ZmFsc2V9aWYoIXRoaXMuZWxlbWVudFswXXx8IXRoaXMuZWxlbWVudFswXS5wYXJlbnROb2RlKXJldHVybiBmYWxzZTtpZih0aGlzLm9wdGlvbnMucmV2ZXJ0PT0iaW52YWxpZCImJiFifHx0aGlzLm9wdGlvbnMucmV2ZXJ0PT0idmFsaWQiJiZifHx0aGlzLm9wdGlvbnMucmV2ZXJ0PT09dHJ1ZXx8ZC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpJiZ0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LApiKSl7dmFyIGM9dGhpcztkKHRoaXMuaGVscGVyKS5hbmltYXRlKHRoaXMub3JpZ2luYWxQb3NpdGlvbixwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb24sMTApLGZ1bmN0aW9uKCl7Yy5fdHJpZ2dlcigic3RvcCIsYSkhPT1mYWxzZSYmYy5fY2xlYXIoKX0pfWVsc2UgdGhpcy5fdHJpZ2dlcigic3RvcCIsYSkhPT1mYWxzZSYmdGhpcy5fY2xlYXIoKTtyZXR1cm4gZmFsc2V9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaGVscGVyLmlzKCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIik/dGhpcy5fbW91c2VVcCh7fSk6dGhpcy5fY2xlYXIoKTtyZXR1cm4gdGhpc30sX2dldEhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYj0hdGhpcy5vcHRpb25zLmhhbmRsZXx8IWQodGhpcy5vcHRpb25zLmhhbmRsZSx0aGlzLmVsZW1lbnQpLmxlbmd0aD90cnVlOmZhbHNlO2QodGhpcy5vcHRpb25zLmhhbmRsZSx0aGlzLmVsZW1lbnQpLmZpbmQoIioiKS5hbmRTZWxmKCkuZWFjaChmdW5jdGlvbigpe2lmKHRoaXM9PQphLnRhcmdldCliPXRydWV9KTtyZXR1cm4gYn0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7YT1kLmlzRnVuY3Rpb24oYi5oZWxwZXIpP2QoYi5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFthXSkpOmIuaGVscGVyPT0iY2xvbmUiP3RoaXMuZWxlbWVudC5jbG9uZSgpOnRoaXMuZWxlbWVudDthLnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fGEuYXBwZW5kVG8oYi5hcHBlbmRUbz09InBhcmVudCI/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6Yi5hcHBlbmRUbyk7YVswXSE9dGhpcy5lbGVtZW50WzBdJiYhLyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3QoYS5jc3MoInBvc2l0aW9uIikpJiZhLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpO3JldHVybiBhfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbihhKXtpZih0eXBlb2YgYT09InN0cmluZyIpYT1hLnNwbGl0KCIgIik7aWYoZC5pc0FycmF5KGEpKWE9e2xlZnQ6K2FbMF0sdG9wOithWzFdfHwKMH07aWYoImxlZnQiaW4gYSl0aGlzLm9mZnNldC5jbGljay5sZWZ0PWEubGVmdCt0aGlzLm1hcmdpbnMubGVmdDtpZigicmlnaHQiaW4gYSl0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtYS5yaWdodCt0aGlzLm1hcmdpbnMubGVmdDtpZigidG9wImluIGEpdGhpcy5vZmZzZXQuY2xpY2sudG9wPWEudG9wK3RoaXMubWFyZ2lucy50b3A7aWYoImJvdHRvbSJpbiBhKXRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC1hLmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7aWYodGhpcy5jc3NQb3NpdGlvbj09ImFic29sdXRlIiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZkLnVpLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLAp0aGlzLm9mZnNldFBhcmVudFswXSkpe2EubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpO2EudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKX1pZih0aGlzLm9mZnNldFBhcmVudFswXT09ZG9jdW1lbnQuYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmdGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iaHRtbCImJmQuYnJvd3Nlci5tc2llKWE9e3RvcDowLGxlZnQ6MH07cmV0dXJue3RvcDphLnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDphLmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKHRoaXMuY3NzUG9zaXRpb249PSJyZWxhdGl2ZSIpe3ZhciBhPXRoaXMuZWxlbWVudC5wb3NpdGlvbigpO3JldHVybnt0b3A6YS50b3AtCihwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDphLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX1lbHNlIHJldHVybnt0b3A6MCxsZWZ0OjB9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSwxMCl8fDAsdG9wOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO2lmKGEuY29udGFpbm1lbnQ9PQoicGFyZW50IilhLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGU7aWYoYS5jb250YWlubWVudD09ImRvY3VtZW50Inx8YS5jb250YWlubWVudD09IndpbmRvdyIpdGhpcy5jb250YWlubWVudD1bMC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LDAtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AsZChhLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQiP2RvY3VtZW50OndpbmRvdykud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LChkKGEuY29udGFpbm1lbnQ9PSJkb2N1bWVudCI/ZG9jdW1lbnQ6d2luZG93KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF07aWYoIS9eKGRvY3VtZW50fHdpbmRvd3xwYXJlbnQpJC8udGVzdChhLmNvbnRhaW5tZW50KSYmCmEuY29udGFpbm1lbnQuY29uc3RydWN0b3IhPUFycmF5KXt2YXIgYj1kKGEuY29udGFpbm1lbnQpWzBdO2lmKGIpe2E9ZChhLmNvbnRhaW5tZW50KS5vZmZzZXQoKTt2YXIgYz1kKGIpLmNzcygib3ZlcmZsb3ciKSE9ImhpZGRlbiI7dGhpcy5jb250YWlubWVudD1bYS5sZWZ0KyhwYXJzZUludChkKGIpLmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoZChiKS5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKS10aGlzLm1hcmdpbnMubGVmdCxhLnRvcCsocGFyc2VJbnQoZChiKS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoZChiKS5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLXRoaXMubWFyZ2lucy50b3AsYS5sZWZ0KyhjP01hdGgubWF4KGIuc2Nyb2xsV2lkdGgsYi5vZmZzZXRXaWR0aCk6Yi5vZmZzZXRXaWR0aCktKHBhcnNlSW50KGQoYikuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApLShwYXJzZUludChkKGIpLmNzcygicGFkZGluZ1JpZ2h0IiksCjEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCxhLnRvcCsoYz9NYXRoLm1heChiLnNjcm9sbEhlaWdodCxiLm9mZnNldEhlaWdodCk6Yi5vZmZzZXRIZWlnaHQpLShwYXJzZUludChkKGIpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChkKGIpLmNzcygicGFkZGluZ0JvdHRvbSIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF19fWVsc2UgaWYoYS5jb250YWlubWVudC5jb25zdHJ1Y3Rvcj09QXJyYXkpdGhpcy5jb250YWlubWVudD1hLmNvbnRhaW5tZW50fSxfY29udmVydFBvc2l0aW9uVG86ZnVuY3Rpb24oYSxiKXtpZighYiliPXRoaXMucG9zaXRpb247YT1hPT0iYWJzb2x1dGUiPzE6LTE7dmFyIGM9dGhpcy5jc3NQb3NpdGlvbj09ImFic29sdXRlIiYmISh0aGlzLnNjcm9sbFBhcmVudFswXSE9ZG9jdW1lbnQmJmQudWkuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sCnRoaXMub2Zmc2V0UGFyZW50WzBdKSk/dGhpcy5vZmZzZXRQYXJlbnQ6dGhpcy5zY3JvbGxQYXJlbnQsZj0vKGh0bWx8Ym9keSkvaS50ZXN0KGNbMF0udGFnTmFtZSk7cmV0dXJue3RvcDpiLnRvcCt0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AqYSt0aGlzLm9mZnNldC5wYXJlbnQudG9wKmEtKGQuYnJvd3Nlci5zYWZhcmkmJmQuYnJvd3Nlci52ZXJzaW9uPDUyNiYmdGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8wOih0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTpmPzA6Yy5zY3JvbGxUb3AoKSkqYSksbGVmdDpiLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCphK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KmEtKGQuYnJvd3Nlci5zYWZhcmkmJmQuYnJvd3Nlci52ZXJzaW9uPDUyNiYmdGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8wOih0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6CmY/MDpjLnNjcm9sbExlZnQoKSkqYSl9fSxfZ2VuZXJhdGVQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLmNzc1Bvc2l0aW9uPT0iYWJzb2x1dGUiJiYhKHRoaXMuc2Nyb2xsUGFyZW50WzBdIT1kb2N1bWVudCYmZC51aS5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkpP3RoaXMub2Zmc2V0UGFyZW50OnRoaXMuc2Nyb2xsUGFyZW50LGY9LyhodG1sfGJvZHkpL2kudGVzdChjWzBdLnRhZ05hbWUpLGU9YS5wYWdlWCxnPWEucGFnZVk7aWYodGhpcy5vcmlnaW5hbFBvc2l0aW9uKXtpZih0aGlzLmNvbnRhaW5tZW50KXtpZihhLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSllPXRoaXMuY29udGFpbm1lbnRbMF0rdGhpcy5vZmZzZXQuY2xpY2subGVmdDtpZihhLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdKWc9dGhpcy5jb250YWlubWVudFsxXSsKdGhpcy5vZmZzZXQuY2xpY2sudG9wO2lmKGEucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdD50aGlzLmNvbnRhaW5tZW50WzJdKWU9dGhpcy5jb250YWlubWVudFsyXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0O2lmKGEucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPnRoaXMuY29udGFpbm1lbnRbM10pZz10aGlzLmNvbnRhaW5tZW50WzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcH1pZihiLmdyaWQpe2c9dGhpcy5vcmlnaW5hbFBhZ2VZK01hdGgucm91bmQoKGctdGhpcy5vcmlnaW5hbFBhZ2VZKS9iLmdyaWRbMV0pKmIuZ3JpZFsxXTtnPXRoaXMuY29udGFpbm1lbnQ/IShnLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdfHxnLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD50aGlzLmNvbnRhaW5tZW50WzNdKT9nOiEoZy10aGlzLm9mZnNldC5jbGljay50b3A8dGhpcy5jb250YWlubWVudFsxXSk/Zy1iLmdyaWRbMV06ZytiLmdyaWRbMV06ZztlPXRoaXMub3JpZ2luYWxQYWdlWCsKTWF0aC5yb3VuZCgoZS10aGlzLm9yaWdpbmFsUGFnZVgpL2IuZ3JpZFswXSkqYi5ncmlkWzBdO2U9dGhpcy5jb250YWlubWVudD8hKGUtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdfHxlLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+dGhpcy5jb250YWlubWVudFsyXSk/ZTohKGUtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdKT9lLWIuZ3JpZFswXTplK2IuZ3JpZFswXTplfX1yZXR1cm57dG9wOmctdGhpcy5vZmZzZXQuY2xpY2sudG9wLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wKyhkLmJyb3dzZXIuc2FmYXJpJiZkLmJyb3dzZXIudmVyc2lvbjw1MjYmJnRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/MDp0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTpmPzA6Yy5zY3JvbGxUb3AoKSksbGVmdDplLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQtCnRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQrKGQuYnJvd3Nlci5zYWZhcmkmJmQuYnJvd3Nlci52ZXJzaW9uPDUyNiYmdGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8wOnRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTpmPzA6Yy5zY3JvbGxMZWZ0KCkpfX0sX2NsZWFyOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXIucmVtb3ZlQ2xhc3MoInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpO3RoaXMuaGVscGVyWzBdIT10aGlzLmVsZW1lbnRbMF0mJiF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwmJnRoaXMuaGVscGVyLnJlbW92ZSgpO3RoaXMuaGVscGVyPW51bGw7dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsPWZhbHNlfSxfdHJpZ2dlcjpmdW5jdGlvbihhLGIsYyl7Yz1jfHx0aGlzLl91aUhhc2goKTtkLnVpLnBsdWdpbi5jYWxsKHRoaXMsYSxbYixjXSk7aWYoYT09ImRyYWciKXRoaXMucG9zaXRpb25BYnM9CnRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpO3JldHVybiBkLldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuY2FsbCh0aGlzLGEsYixjKX0scGx1Z2luczp7fSxfdWlIYXNoOmZ1bmN0aW9uKCl7cmV0dXJue2hlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLG9yaWdpbmFsUG9zaXRpb246dGhpcy5vcmlnaW5hbFBvc2l0aW9uLG9mZnNldDp0aGlzLnBvc2l0aW9uQWJzfX19KTtkLmV4dGVuZChkLnVpLmRyYWdnYWJsZSx7dmVyc2lvbjoiMS44LjYifSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjb25uZWN0VG9Tb3J0YWJsZSIse3N0YXJ0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKSxmPWMub3B0aW9ucyxlPWQuZXh0ZW5kKHt9LGIse2l0ZW06Yy5lbGVtZW50fSk7Yy5zb3J0YWJsZXM9W107ZChmLmNvbm5lY3RUb1NvcnRhYmxlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9ZC5kYXRhKHRoaXMsInNvcnRhYmxlIik7CmlmKGcmJiFnLm9wdGlvbnMuZGlzYWJsZWQpe2Muc29ydGFibGVzLnB1c2goe2luc3RhbmNlOmcsc2hvdWxkUmV2ZXJ0Omcub3B0aW9ucy5yZXZlcnR9KTtnLl9yZWZyZXNoSXRlbXMoKTtnLl90cmlnZ2VyKCJhY3RpdmF0ZSIsYSxlKX19KX0sc3RvcDpmdW5jdGlvbihhLGIpe3ZhciBjPWQodGhpcykuZGF0YSgiZHJhZ2dhYmxlIiksZj1kLmV4dGVuZCh7fSxiLHtpdGVtOmMuZWxlbWVudH0pO2QuZWFjaChjLnNvcnRhYmxlcyxmdW5jdGlvbigpe2lmKHRoaXMuaW5zdGFuY2UuaXNPdmVyKXt0aGlzLmluc3RhbmNlLmlzT3Zlcj0wO2MuY2FuY2VsSGVscGVyUmVtb3ZhbD10cnVlO3RoaXMuaW5zdGFuY2UuY2FuY2VsSGVscGVyUmVtb3ZhbD1mYWxzZTtpZih0aGlzLnNob3VsZFJldmVydCl0aGlzLmluc3RhbmNlLm9wdGlvbnMucmV2ZXJ0PXRydWU7dGhpcy5pbnN0YW5jZS5fbW91c2VTdG9wKGEpO3RoaXMuaW5zdGFuY2Uub3B0aW9ucy5oZWxwZXI9dGhpcy5pbnN0YW5jZS5vcHRpb25zLl9oZWxwZXI7CmMub3B0aW9ucy5oZWxwZXI9PSJvcmlnaW5hbCImJnRoaXMuaW5zdGFuY2UuY3VycmVudEl0ZW0uY3NzKHt0b3A6ImF1dG8iLGxlZnQ6ImF1dG8ifSl9ZWxzZXt0aGlzLmluc3RhbmNlLmNhbmNlbEhlbHBlclJlbW92YWw9ZmFsc2U7dGhpcy5pbnN0YW5jZS5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsYSxmKX19KX0sZHJhZzpmdW5jdGlvbihhLGIpe3ZhciBjPWQodGhpcykuZGF0YSgiZHJhZ2dhYmxlIiksZj10aGlzO2QuZWFjaChjLnNvcnRhYmxlcyxmdW5jdGlvbigpe3RoaXMuaW5zdGFuY2UucG9zaXRpb25BYnM9Yy5wb3NpdGlvbkFiczt0aGlzLmluc3RhbmNlLmhlbHBlclByb3BvcnRpb25zPWMuaGVscGVyUHJvcG9ydGlvbnM7dGhpcy5pbnN0YW5jZS5vZmZzZXQuY2xpY2s9Yy5vZmZzZXQuY2xpY2s7aWYodGhpcy5pbnN0YW5jZS5faW50ZXJzZWN0c1dpdGgodGhpcy5pbnN0YW5jZS5jb250YWluZXJDYWNoZSkpe2lmKCF0aGlzLmluc3RhbmNlLmlzT3Zlcil7dGhpcy5pbnN0YW5jZS5pc092ZXI9CjE7dGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbT1kKGYpLmNsb25lKCkuYXBwZW5kVG8odGhpcy5pbnN0YW5jZS5lbGVtZW50KS5kYXRhKCJzb3J0YWJsZS1pdGVtIix0cnVlKTt0aGlzLmluc3RhbmNlLm9wdGlvbnMuX2hlbHBlcj10aGlzLmluc3RhbmNlLm9wdGlvbnMuaGVscGVyO3RoaXMuaW5zdGFuY2Uub3B0aW9ucy5oZWxwZXI9ZnVuY3Rpb24oKXtyZXR1cm4gYi5oZWxwZXJbMF19O2EudGFyZ2V0PXRoaXMuaW5zdGFuY2UuY3VycmVudEl0ZW1bMF07dGhpcy5pbnN0YW5jZS5fbW91c2VDYXB0dXJlKGEsdHJ1ZSk7dGhpcy5pbnN0YW5jZS5fbW91c2VTdGFydChhLHRydWUsdHJ1ZSk7dGhpcy5pbnN0YW5jZS5vZmZzZXQuY2xpY2sudG9wPWMub2Zmc2V0LmNsaWNrLnRvcDt0aGlzLmluc3RhbmNlLm9mZnNldC5jbGljay5sZWZ0PWMub2Zmc2V0LmNsaWNrLmxlZnQ7dGhpcy5pbnN0YW5jZS5vZmZzZXQucGFyZW50LmxlZnQtPWMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMuaW5zdGFuY2Uub2Zmc2V0LnBhcmVudC5sZWZ0Owp0aGlzLmluc3RhbmNlLm9mZnNldC5wYXJlbnQudG9wLT1jLm9mZnNldC5wYXJlbnQudG9wLXRoaXMuaW5zdGFuY2Uub2Zmc2V0LnBhcmVudC50b3A7Yy5fdHJpZ2dlcigidG9Tb3J0YWJsZSIsYSk7Yy5kcm9wcGVkPXRoaXMuaW5zdGFuY2UuZWxlbWVudDtjLmN1cnJlbnRJdGVtPWMuZWxlbWVudDt0aGlzLmluc3RhbmNlLmZyb21PdXRzaWRlPWN9dGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbSYmdGhpcy5pbnN0YW5jZS5fbW91c2VEcmFnKGEpfWVsc2UgaWYodGhpcy5pbnN0YW5jZS5pc092ZXIpe3RoaXMuaW5zdGFuY2UuaXNPdmVyPTA7dGhpcy5pbnN0YW5jZS5jYW5jZWxIZWxwZXJSZW1vdmFsPXRydWU7dGhpcy5pbnN0YW5jZS5vcHRpb25zLnJldmVydD1mYWxzZTt0aGlzLmluc3RhbmNlLl90cmlnZ2VyKCJvdXQiLGEsdGhpcy5pbnN0YW5jZS5fdWlIYXNoKHRoaXMuaW5zdGFuY2UpKTt0aGlzLmluc3RhbmNlLl9tb3VzZVN0b3AoYSx0cnVlKTt0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGVscGVyPQp0aGlzLmluc3RhbmNlLm9wdGlvbnMuX2hlbHBlcjt0aGlzLmluc3RhbmNlLmN1cnJlbnRJdGVtLnJlbW92ZSgpO3RoaXMuaW5zdGFuY2UucGxhY2Vob2xkZXImJnRoaXMuaW5zdGFuY2UucGxhY2Vob2xkZXIucmVtb3ZlKCk7Yy5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIixhKTtjLmRyb3BwZWQ9ZmFsc2V9fSl9fSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjdXJzb3IiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBhPWQoImJvZHkiKSxiPWQodGhpcykuZGF0YSgiZHJhZ2dhYmxlIikub3B0aW9ucztpZihhLmNzcygiY3Vyc29yIikpYi5fY3Vyc29yPWEuY3NzKCJjdXJzb3IiKTthLmNzcygiY3Vyc29yIixiLmN1cnNvcil9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgYT1kKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLm9wdGlvbnM7YS5fY3Vyc29yJiZkKCJib2R5IikuY3NzKCJjdXJzb3IiLGEuX2N1cnNvcil9fSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJpZnJhbWVGaXgiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBhPQpkKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLm9wdGlvbnM7ZChhLmlmcmFtZUZpeD09PXRydWU/ImlmcmFtZSI6YS5pZnJhbWVGaXgpLmVhY2goZnVuY3Rpb24oKXtkKCc8ZGl2IGNsYXNzPSJ1aS1kcmFnZ2FibGUtaWZyYW1lRml4IiBzdHlsZT0iYmFja2dyb3VuZDogI2ZmZjsiPjwvZGl2PicpLmNzcyh7d2lkdGg6dGhpcy5vZmZzZXRXaWR0aCsicHgiLGhlaWdodDp0aGlzLm9mZnNldEhlaWdodCsicHgiLHBvc2l0aW9uOiJhYnNvbHV0ZSIsb3BhY2l0eToiMC4wMDEiLHpJbmRleDoxRTN9KS5jc3MoZCh0aGlzKS5vZmZzZXQoKSkuYXBwZW5kVG8oImJvZHkiKX0pfSxzdG9wOmZ1bmN0aW9uKCl7ZCgiZGl2LnVpLWRyYWdnYWJsZS1pZnJhbWVGaXgiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSl9fSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJvcGFjaXR5Iix7c3RhcnQ6ZnVuY3Rpb24oYSxiKXthPWQoYi5oZWxwZXIpO2I9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zOwppZihhLmNzcygib3BhY2l0eSIpKWIuX29wYWNpdHk9YS5jc3MoIm9wYWNpdHkiKTthLmNzcygib3BhY2l0eSIsYi5vcGFjaXR5KX0sc3RvcDpmdW5jdGlvbihhLGIpe2E9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2EuX29wYWNpdHkmJmQoYi5oZWxwZXIpLmNzcygib3BhY2l0eSIsYS5fb3BhY2l0eSl9fSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzY3JvbGwiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBhPWQodGhpcykuZGF0YSgiZHJhZ2dhYmxlIik7aWYoYS5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZhLnNjcm9sbFBhcmVudFswXS50YWdOYW1lIT0iSFRNTCIpYS5vdmVyZmxvd09mZnNldD1hLnNjcm9sbFBhcmVudC5vZmZzZXQoKX0sZHJhZzpmdW5jdGlvbihhKXt2YXIgYj1kKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLGM9Yi5vcHRpb25zLGY9ZmFsc2U7aWYoYi5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZiLnNjcm9sbFBhcmVudFswXS50YWdOYW1lIT0KIkhUTUwiKXtpZighYy5heGlzfHxjLmF4aXMhPSJ4IilpZihiLm92ZXJmbG93T2Zmc2V0LnRvcCtiLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtYS5wYWdlWTxjLnNjcm9sbFNlbnNpdGl2aXR5KWIuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1mPWIuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtjLnNjcm9sbFNwZWVkO2Vsc2UgaWYoYS5wYWdlWS1iLm92ZXJmbG93T2Zmc2V0LnRvcDxjLnNjcm9sbFNlbnNpdGl2aXR5KWIuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1mPWIuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1jLnNjcm9sbFNwZWVkO2lmKCFjLmF4aXN8fGMuYXhpcyE9InkiKWlmKGIub3ZlcmZsb3dPZmZzZXQubGVmdCtiLnNjcm9sbFBhcmVudFswXS5vZmZzZXRXaWR0aC1hLnBhZ2VYPGMuc2Nyb2xsU2Vuc2l0aXZpdHkpYi5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1mPWIuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQrYy5zY3JvbGxTcGVlZDtlbHNlIGlmKGEucGFnZVgtCmIub3ZlcmZsb3dPZmZzZXQubGVmdDxjLnNjcm9sbFNlbnNpdGl2aXR5KWIuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9Zj1iLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWMuc2Nyb2xsU3BlZWR9ZWxzZXtpZighYy5heGlzfHxjLmF4aXMhPSJ4IilpZihhLnBhZ2VZLWQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpPGMuc2Nyb2xsU2Vuc2l0aXZpdHkpZj1kKGRvY3VtZW50KS5zY3JvbGxUb3AoZChkb2N1bWVudCkuc2Nyb2xsVG9wKCktYy5zY3JvbGxTcGVlZCk7ZWxzZSBpZihkKHdpbmRvdykuaGVpZ2h0KCktKGEucGFnZVktZChkb2N1bWVudCkuc2Nyb2xsVG9wKCkpPGMuc2Nyb2xsU2Vuc2l0aXZpdHkpZj1kKGRvY3VtZW50KS5zY3JvbGxUb3AoZChkb2N1bWVudCkuc2Nyb2xsVG9wKCkrYy5zY3JvbGxTcGVlZCk7aWYoIWMuYXhpc3x8Yy5heGlzIT0ieSIpaWYoYS5wYWdlWC1kKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCk8Yy5zY3JvbGxTZW5zaXRpdml0eSlmPWQoZG9jdW1lbnQpLnNjcm9sbExlZnQoZChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpLQpjLnNjcm9sbFNwZWVkKTtlbHNlIGlmKGQod2luZG93KS53aWR0aCgpLShhLnBhZ2VYLWQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSk8Yy5zY3JvbGxTZW5zaXRpdml0eSlmPWQoZG9jdW1lbnQpLnNjcm9sbExlZnQoZChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpK2Muc2Nyb2xsU3BlZWQpfWYhPT1mYWxzZSYmZC51aS5kZG1hbmFnZXImJiFjLmRyb3BCZWhhdmlvdXImJmQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKGIsYSl9fSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzbmFwIix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgYT1kKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLGI9YS5vcHRpb25zO2Euc25hcEVsZW1lbnRzPVtdO2QoYi5zbmFwLmNvbnN0cnVjdG9yIT1TdHJpbmc/Yi5zbmFwLml0ZW1zfHwiOmRhdGEoZHJhZ2dhYmxlKSI6Yi5zbmFwKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9ZCh0aGlzKSxmPWMub2Zmc2V0KCk7dGhpcyE9YS5lbGVtZW50WzBdJiZhLnNuYXBFbGVtZW50cy5wdXNoKHtpdGVtOnRoaXMsCndpZHRoOmMub3V0ZXJXaWR0aCgpLGhlaWdodDpjLm91dGVySGVpZ2h0KCksdG9wOmYudG9wLGxlZnQ6Zi5sZWZ0fSl9KX0sZHJhZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1kKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLGY9Yy5vcHRpb25zLGU9Zi5zbmFwVG9sZXJhbmNlLGc9Yi5vZmZzZXQubGVmdCxuPWcrYy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxtPWIub2Zmc2V0LnRvcCxvPW0rYy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsaD1jLnNuYXBFbGVtZW50cy5sZW5ndGgtMTtoPj0wO2gtLSl7dmFyIGk9Yy5zbmFwRWxlbWVudHNbaF0ubGVmdCxrPWkrYy5zbmFwRWxlbWVudHNbaF0ud2lkdGgsaj1jLnNuYXBFbGVtZW50c1toXS50b3AsbD1qK2Muc25hcEVsZW1lbnRzW2hdLmhlaWdodDtpZihpLWU8ZyYmZzxrK2UmJmotZTxtJiZtPGwrZXx8aS1lPGcmJmc8aytlJiZqLWU8byYmbzxsK2V8fGktZTxuJiZuPGsrZSYmai1lPG0mJm08bCtlfHxpLWU8biYmbjxrK2UmJmotZTxvJiYKbzxsK2Upe2lmKGYuc25hcE1vZGUhPSJpbm5lciIpe3ZhciBwPU1hdGguYWJzKGotbyk8PWUscT1NYXRoLmFicyhsLW0pPD1lLHI9TWF0aC5hYnMoaS1uKTw9ZSxzPU1hdGguYWJzKGstZyk8PWU7aWYocCliLnBvc2l0aW9uLnRvcD1jLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6ai1jLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3AtYy5tYXJnaW5zLnRvcDtpZihxKWIucG9zaXRpb24udG9wPWMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpsLGxlZnQ6MH0pLnRvcC1jLm1hcmdpbnMudG9wO2lmKHIpYi5wb3NpdGlvbi5sZWZ0PWMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6aS1jLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdC1jLm1hcmdpbnMubGVmdDtpZihzKWIucG9zaXRpb24ubGVmdD1jLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0Omt9KS5sZWZ0LWMubWFyZ2lucy5sZWZ0fXZhciB0PQpwfHxxfHxyfHxzO2lmKGYuc25hcE1vZGUhPSJvdXRlciIpe3A9TWF0aC5hYnMoai1tKTw9ZTtxPU1hdGguYWJzKGwtbyk8PWU7cj1NYXRoLmFicyhpLWcpPD1lO3M9TWF0aC5hYnMoay1uKTw9ZTtpZihwKWIucG9zaXRpb24udG9wPWMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpqLGxlZnQ6MH0pLnRvcC1jLm1hcmdpbnMudG9wO2lmKHEpYi5wb3NpdGlvbi50b3A9Yy5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmwtYy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wLWMubWFyZ2lucy50b3A7aWYociliLnBvc2l0aW9uLmxlZnQ9Yy5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDppfSkubGVmdC1jLm1hcmdpbnMubGVmdDtpZihzKWIucG9zaXRpb24ubGVmdD1jLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmstYy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQtYy5tYXJnaW5zLmxlZnR9aWYoIWMuc25hcEVsZW1lbnRzW2hdLnNuYXBwaW5nJiYKKHB8fHF8fHJ8fHN8fHQpKWMub3B0aW9ucy5zbmFwLnNuYXAmJmMub3B0aW9ucy5zbmFwLnNuYXAuY2FsbChjLmVsZW1lbnQsYSxkLmV4dGVuZChjLl91aUhhc2goKSx7c25hcEl0ZW06Yy5zbmFwRWxlbWVudHNbaF0uaXRlbX0pKTtjLnNuYXBFbGVtZW50c1toXS5zbmFwcGluZz1wfHxxfHxyfHxzfHx0fWVsc2V7Yy5zbmFwRWxlbWVudHNbaF0uc25hcHBpbmcmJmMub3B0aW9ucy5zbmFwLnJlbGVhc2UmJmMub3B0aW9ucy5zbmFwLnJlbGVhc2UuY2FsbChjLmVsZW1lbnQsYSxkLmV4dGVuZChjLl91aUhhc2goKSx7c25hcEl0ZW06Yy5zbmFwRWxlbWVudHNbaF0uaXRlbX0pKTtjLnNuYXBFbGVtZW50c1toXS5zbmFwcGluZz1mYWxzZX19fX0pO2QudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic3RhY2siLHtzdGFydDpmdW5jdGlvbigpe3ZhciBhPWQodGhpcykuZGF0YSgiZHJhZ2dhYmxlIikub3B0aW9uczthPWQubWFrZUFycmF5KGQoYS5zdGFjaykpLnNvcnQoZnVuY3Rpb24oYyxmKXtyZXR1cm4ocGFyc2VJbnQoZChjKS5jc3MoInpJbmRleCIpLAoxMCl8fDApLShwYXJzZUludChkKGYpLmNzcygiekluZGV4IiksMTApfHwwKX0pO2lmKGEubGVuZ3RoKXt2YXIgYj1wYXJzZUludChhWzBdLnN0eWxlLnpJbmRleCl8fDA7ZChhKS5lYWNoKGZ1bmN0aW9uKGMpe3RoaXMuc3R5bGUuekluZGV4PWIrY30pO3RoaXNbMF0uc3R5bGUuekluZGV4PWIrYS5sZW5ndGh9fX0pO2QudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiekluZGV4Iix7c3RhcnQ6ZnVuY3Rpb24oYSxiKXthPWQoYi5oZWxwZXIpO2I9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2lmKGEuY3NzKCJ6SW5kZXgiKSliLl96SW5kZXg9YS5jc3MoInpJbmRleCIpO2EuY3NzKCJ6SW5kZXgiLGIuekluZGV4KX0sc3RvcDpmdW5jdGlvbihhLGIpe2E9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2EuX3pJbmRleCYmZChiLmhlbHBlcikuY3NzKCJ6SW5kZXgiLGEuX3pJbmRleCl9fSl9KShqUXVlcnkpOwo7Ci8qIFVJIERyb3BwYWJsZSAqLwooZnVuY3Rpb24oZCl7ZC53aWRnZXQoInVpLmRyb3BwYWJsZSIse3dpZGdldEV2ZW50UHJlZml4OiJkcm9wIixvcHRpb25zOnthY2NlcHQ6IioiLGFjdGl2ZUNsYXNzOmZhbHNlLGFkZENsYXNzZXM6dHJ1ZSxncmVlZHk6ZmFsc2UsaG92ZXJDbGFzczpmYWxzZSxzY29wZToiZGVmYXVsdCIsdG9sZXJhbmNlOiJpbnRlcnNlY3QifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9YS5hY2NlcHQ7dGhpcy5pc292ZXI9MDt0aGlzLmlzb3V0PTE7dGhpcy5hY2NlcHQ9ZC5pc0Z1bmN0aW9uKGIpP2I6ZnVuY3Rpb24oYyl7cmV0dXJuIGMuaXMoYil9O3RoaXMucHJvcG9ydGlvbnM9e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH07ZC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1thLnNjb3BlXT1kLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2Euc2NvcGVdfHxbXTtkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2Euc2NvcGVdLnB1c2godGhpcyk7CmEuYWRkQ2xhc3NlcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kcm9wcGFibGUiKX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgYT1kLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV0sYj0wO2I8YS5sZW5ndGg7YisrKWFbYl09PXRoaXMmJmEuc3BsaWNlKGIsMSk7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1kcm9wcGFibGUgdWktZHJvcHBhYmxlLWRpc2FibGVkIikucmVtb3ZlRGF0YSgiZHJvcHBhYmxlIikudW5iaW5kKCIuZHJvcHBhYmxlIik7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXtpZihhPT0iYWNjZXB0Iil0aGlzLmFjY2VwdD1kLmlzRnVuY3Rpb24oYik/YjpmdW5jdGlvbihjKXtyZXR1cm4gYy5pcyhiKX07ZC5XaWRnZXQucHJvdG90eXBlLl9zZXRPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfYWN0aXZhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9ZC51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJgp0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtiJiZ0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsYSx0aGlzLnVpKGIpKX0sX2RlYWN0aXZhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9ZC51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO2ImJnRoaXMuX3RyaWdnZXIoImRlYWN0aXZhdGUiLGEsdGhpcy51aShiKSl9LF9vdmVyOmZ1bmN0aW9uKGEpe3ZhciBiPWQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7aWYoISghYnx8KGIuY3VycmVudEl0ZW18fGIuZWxlbWVudClbMF09PXRoaXMuZWxlbWVudFswXSkpaWYodGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sYi5jdXJyZW50SXRlbXx8Yi5lbGVtZW50KSl7dGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyk7CnRoaXMuX3RyaWdnZXIoIm92ZXIiLGEsdGhpcy51aShiKSl9fSxfb3V0OmZ1bmN0aW9uKGEpe3ZhciBiPWQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7aWYoISghYnx8KGIuY3VycmVudEl0ZW18fGIuZWxlbWVudClbMF09PXRoaXMuZWxlbWVudFswXSkpaWYodGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sYi5jdXJyZW50SXRlbXx8Yi5lbGVtZW50KSl7dGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyk7dGhpcy5fdHJpZ2dlcigib3V0IixhLHRoaXMudWkoYikpfX0sX2Ryb3A6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxkLnVpLmRkbWFuYWdlci5jdXJyZW50O2lmKCFjfHwoYy5jdXJyZW50SXRlbXx8Yy5lbGVtZW50KVswXT09dGhpcy5lbGVtZW50WzBdKXJldHVybiBmYWxzZTt2YXIgZT1mYWxzZTt0aGlzLmVsZW1lbnQuZmluZCgiOmRhdGEoZHJvcHBhYmxlKSIpLm5vdCgiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZz0KZC5kYXRhKHRoaXMsImRyb3BwYWJsZSIpO2lmKGcub3B0aW9ucy5ncmVlZHkmJiFnLm9wdGlvbnMuZGlzYWJsZWQmJmcub3B0aW9ucy5zY29wZT09Yy5vcHRpb25zLnNjb3BlJiZnLmFjY2VwdC5jYWxsKGcuZWxlbWVudFswXSxjLmN1cnJlbnRJdGVtfHxjLmVsZW1lbnQpJiZkLnVpLmludGVyc2VjdChjLGQuZXh0ZW5kKGcse29mZnNldDpnLmVsZW1lbnQub2Zmc2V0KCl9KSxnLm9wdGlvbnMudG9sZXJhbmNlKSl7ZT10cnVlO3JldHVybiBmYWxzZX19KTtpZihlKXJldHVybiBmYWxzZTtpZih0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxjLmN1cnJlbnRJdGVtfHxjLmVsZW1lbnQpKXt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpO3RoaXMuX3RyaWdnZXIoImRyb3AiLAphLHRoaXMudWkoYykpO3JldHVybiB0aGlzLmVsZW1lbnR9cmV0dXJuIGZhbHNlfSx1aTpmdW5jdGlvbihhKXtyZXR1cm57ZHJhZ2dhYmxlOmEuY3VycmVudEl0ZW18fGEuZWxlbWVudCxoZWxwZXI6YS5oZWxwZXIscG9zaXRpb246YS5wb3NpdGlvbixvZmZzZXQ6YS5wb3NpdGlvbkFic319fSk7ZC5leHRlbmQoZC51aS5kcm9wcGFibGUse3ZlcnNpb246IjEuOC42In0pO2QudWkuaW50ZXJzZWN0PWZ1bmN0aW9uKGEsYixjKXtpZighYi5vZmZzZXQpcmV0dXJuIGZhbHNlO3ZhciBlPShhLnBvc2l0aW9uQWJzfHxhLnBvc2l0aW9uLmFic29sdXRlKS5sZWZ0LGc9ZSthLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGY9KGEucG9zaXRpb25BYnN8fGEucG9zaXRpb24uYWJzb2x1dGUpLnRvcCxoPWYrYS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsaT1iLm9mZnNldC5sZWZ0LGs9aStiLnByb3BvcnRpb25zLndpZHRoLGo9Yi5vZmZzZXQudG9wLGw9aitiLnByb3BvcnRpb25zLmhlaWdodDsKc3dpdGNoKGMpe2Nhc2UgImZpdCI6cmV0dXJuIGk8PWUmJmc8PWsmJmo8PWYmJmg8PWw7Y2FzZSAiaW50ZXJzZWN0IjpyZXR1cm4gaTxlK2EuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmZy1hLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI8ayYmajxmK2EuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzImJmgtYS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjxsO2Nhc2UgInBvaW50ZXIiOnJldHVybiBkLnVpLmlzT3ZlcigoYS5wb3NpdGlvbkFic3x8YS5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wKyhhLmNsaWNrT2Zmc2V0fHxhLm9mZnNldC5jbGljaykudG9wLChhLnBvc2l0aW9uQWJzfHxhLnBvc2l0aW9uLmFic29sdXRlKS5sZWZ0KyhhLmNsaWNrT2Zmc2V0fHxhLm9mZnNldC5jbGljaykubGVmdCxqLGksYi5wcm9wb3J0aW9ucy5oZWlnaHQsYi5wcm9wb3J0aW9ucy53aWR0aCk7Y2FzZSAidG91Y2giOnJldHVybihmPj1qJiZmPD1sfHxoPj1qJiZoPD1sfHxmPGomJmg+bCkmJihlPj0KaSYmZTw9a3x8Zz49aSYmZzw9a3x8ZTxpJiZnPmspO2RlZmF1bHQ6cmV0dXJuIGZhbHNlfX07ZC51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOnsiZGVmYXVsdCI6W119LHByZXBhcmVPZmZzZXRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1thLm9wdGlvbnMuc2NvcGVdfHxbXSxlPWI/Yi50eXBlOm51bGwsZz0oYS5jdXJyZW50SXRlbXx8YS5lbGVtZW50KS5maW5kKCI6ZGF0YShkcm9wcGFibGUpIikuYW5kU2VsZigpLGY9MDthOmZvcig7ZjxjLmxlbmd0aDtmKyspaWYoIShjW2ZdLm9wdGlvbnMuZGlzYWJsZWR8fGEmJiFjW2ZdLmFjY2VwdC5jYWxsKGNbZl0uZWxlbWVudFswXSxhLmN1cnJlbnRJdGVtfHxhLmVsZW1lbnQpKSl7Zm9yKHZhciBoPTA7aDxnLmxlbmd0aDtoKyspaWYoZ1toXT09Y1tmXS5lbGVtZW50WzBdKXtjW2ZdLnByb3BvcnRpb25zLmhlaWdodD0wO2NvbnRpbnVlIGF9Y1tmXS52aXNpYmxlPWNbZl0uZWxlbWVudC5jc3MoImRpc3BsYXkiKSE9CiJub25lIjtpZihjW2ZdLnZpc2libGUpe2NbZl0ub2Zmc2V0PWNbZl0uZWxlbWVudC5vZmZzZXQoKTtjW2ZdLnByb3BvcnRpb25zPXt3aWR0aDpjW2ZdLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OmNbZl0uZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9O2U9PSJtb3VzZWRvd24iJiZjW2ZdLl9hY3RpdmF0ZS5jYWxsKGNbZl0sYil9fX0sZHJvcDpmdW5jdGlvbihhLGIpe3ZhciBjPWZhbHNlO2QuZWFjaChkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2Eub3B0aW9ucy5zY29wZV18fFtdLGZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJmQudWkuaW50ZXJzZWN0KGEsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlKSljPWN8fHRoaXMuX2Ryb3AuY2FsbCh0aGlzLGIpO2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sYS5jdXJyZW50SXRlbXx8CmEuZWxlbWVudCkpe3RoaXMuaXNvdXQ9MTt0aGlzLmlzb3Zlcj0wO3RoaXMuX2RlYWN0aXZhdGUuY2FsbCh0aGlzLGIpfX19KTtyZXR1cm4gY30sZHJhZzpmdW5jdGlvbihhLGIpe2Eub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zJiZkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyhhLGIpO2QuZWFjaChkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2Eub3B0aW9ucy5zY29wZV18fFtdLGZ1bmN0aW9uKCl7aWYoISh0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuZ3JlZWR5Q2hpbGR8fCF0aGlzLnZpc2libGUpKXt2YXIgYz1kLnVpLmludGVyc2VjdChhLHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSk7aWYoYz0hYyYmdGhpcy5pc292ZXI9PTE/Imlzb3V0IjpjJiZ0aGlzLmlzb3Zlcj09MD8iaXNvdmVyIjpudWxsKXt2YXIgZTtpZih0aGlzLm9wdGlvbnMuZ3JlZWR5KXt2YXIgZz10aGlzLmVsZW1lbnQucGFyZW50cygiOmRhdGEoZHJvcHBhYmxlKTplcSgwKSIpO2lmKGcubGVuZ3RoKXtlPQpkLmRhdGEoZ1swXSwiZHJvcHBhYmxlIik7ZS5ncmVlZHlDaGlsZD1jPT0iaXNvdmVyIj8xOjB9fWlmKGUmJmM9PSJpc292ZXIiKXtlLmlzb3Zlcj0wO2UuaXNvdXQ9MTtlLl9vdXQuY2FsbChlLGIpfXRoaXNbY109MTt0aGlzW2M9PSJpc291dCI/Imlzb3ZlciI6Imlzb3V0Il09MDt0aGlzW2M9PSJpc292ZXIiPyJfb3ZlciI6Il9vdXQiXS5jYWxsKHRoaXMsYik7aWYoZSYmYz09Imlzb3V0Iil7ZS5pc291dD0wO2UuaXNvdmVyPTE7ZS5fb3Zlci5jYWxsKGUsYil9fX19KX19fSkoalF1ZXJ5KTsKOwovKiBVSSBSZXNpemFibGUgKi8KKGZ1bmN0aW9uKGUpe2Uud2lkZ2V0KCJ1aS5yZXNpemFibGUiLGUudWkubW91c2Use3dpZGdldEV2ZW50UHJlZml4OiJyZXNpemUiLG9wdGlvbnM6e2Fsc29SZXNpemU6ZmFsc2UsYW5pbWF0ZTpmYWxzZSxhbmltYXRlRHVyYXRpb246InNsb3ciLGFuaW1hdGVFYXNpbmc6InN3aW5nIixhc3BlY3RSYXRpbzpmYWxzZSxhdXRvSGlkZTpmYWxzZSxjb250YWlubWVudDpmYWxzZSxnaG9zdDpmYWxzZSxncmlkOmZhbHNlLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOmZhbHNlLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDoxRTN9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9dGhpcy5vcHRpb25zO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcmVzaXphYmxlIik7ZS5leHRlbmQodGhpcyx7X2FzcGVjdFJhdGlvOiEhYS5hc3BlY3RSYXRpbyxhc3BlY3RSYXRpbzphLmFzcGVjdFJhdGlvLG9yaWdpbmFsRWxlbWVudDp0aGlzLmVsZW1lbnQsCl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzOltdLF9oZWxwZXI6YS5oZWxwZXJ8fGEuZ2hvc3R8fGEuYW5pbWF0ZT9hLmhlbHBlcnx8InVpLXJlc2l6YWJsZS1oZWxwZXIiOm51bGx9KTtpZih0aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL2NhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZy9pKSl7L3JlbGF0aXZlLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIikpJiZlLmJyb3dzZXIub3BlcmEmJnRoaXMuZWxlbWVudC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOiJhdXRvIixsZWZ0OiJhdXRvIn0pO3RoaXMuZWxlbWVudC53cmFwKGUoJzxkaXYgY2xhc3M9InVpLXdyYXBwZXIiIHN0eWxlPSJvdmVyZmxvdzogaGlkZGVuOyI+PC9kaXY+JykuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLAp0b3A6dGhpcy5lbGVtZW50LmNzcygidG9wIiksbGVmdDp0aGlzLmVsZW1lbnQuY3NzKCJsZWZ0Iil9KSk7dGhpcy5lbGVtZW50PXRoaXMuZWxlbWVudC5wYXJlbnQoKS5kYXRhKCJyZXNpemFibGUiLHRoaXMuZWxlbWVudC5kYXRhKCJyZXNpemFibGUiKSk7dGhpcy5lbGVtZW50SXNXcmFwcGVyPXRydWU7dGhpcy5lbGVtZW50LmNzcyh7bWFyZ2luTGVmdDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5Ub3A6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5SaWdodDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblJpZ2h0IiksbWFyZ2luQm90dG9tOnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luQm90dG9tIil9KTt0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe21hcmdpbkxlZnQ6MCxtYXJnaW5Ub3A6MCxtYXJnaW5SaWdodDowLG1hcmdpbkJvdHRvbTowfSk7dGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlPQp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIpO3RoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIiwibm9uZSIpO3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMucHVzaCh0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe3Bvc2l0aW9uOiJzdGF0aWMiLHpvb206MSxkaXNwbGF5OiJibG9jayJ9KSk7dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHttYXJnaW46dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW4iKX0pO3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCl9dGhpcy5oYW5kbGVzPWEuaGFuZGxlc3x8KCFlKCIudWktcmVzaXphYmxlLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5sZW5ndGg/ImUscyxzZSI6e246Ii51aS1yZXNpemFibGUtbiIsZToiLnVpLXJlc2l6YWJsZS1lIixzOiIudWktcmVzaXphYmxlLXMiLHc6Ii51aS1yZXNpemFibGUtdyIsc2U6Ii51aS1yZXNpemFibGUtc2UiLHN3OiIudWktcmVzaXphYmxlLXN3IixuZToiLnVpLXJlc2l6YWJsZS1uZSIsCm53OiIudWktcmVzaXphYmxlLW53In0pO2lmKHRoaXMuaGFuZGxlcy5jb25zdHJ1Y3Rvcj09U3RyaW5nKXtpZih0aGlzLmhhbmRsZXM9PSJhbGwiKXRoaXMuaGFuZGxlcz0ibixlLHMsdyxzZSxzdyxuZSxudyI7dmFyIGM9dGhpcy5oYW5kbGVzLnNwbGl0KCIsIik7dGhpcy5oYW5kbGVzPXt9O2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZj1lLnRyaW0oY1tkXSksZz1lKCc8ZGl2IGNsYXNzPSJ1aS1yZXNpemFibGUtaGFuZGxlICcrKCJ1aS1yZXNpemFibGUtIitmKSsnIj48L2Rpdj4nKTsvc3d8c2V8bmV8bncvLnRlc3QoZikmJmcuY3NzKHt6SW5kZXg6KythLnpJbmRleH0pOyJzZSI9PWYmJmcuYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UiKTt0aGlzLmhhbmRsZXNbZl09Ii51aS1yZXNpemFibGUtIitmO3RoaXMuZWxlbWVudC5hcHBlbmQoZyl9fXRoaXMuX3JlbmRlckF4aXM9ZnVuY3Rpb24oaCl7aD1ofHx0aGlzLmVsZW1lbnQ7Zm9yKHZhciBpIGluIHRoaXMuaGFuZGxlcyl7aWYodGhpcy5oYW5kbGVzW2ldLmNvbnN0cnVjdG9yPT0KU3RyaW5nKXRoaXMuaGFuZGxlc1tpXT1lKHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLnNob3coKTtpZih0aGlzLmVsZW1lbnRJc1dyYXBwZXImJnRoaXMub3JpZ2luYWxFbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC90ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9uL2kpKXt2YXIgaj1lKHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLGs9MDtrPS9zd3xuZXxud3xzZXxufHMvLnRlc3QoaSk/ai5vdXRlckhlaWdodCgpOmoub3V0ZXJXaWR0aCgpO2o9WyJwYWRkaW5nIiwvbmV8bnd8bi8udGVzdChpKT8iVG9wIjovc2V8c3d8cy8udGVzdChpKT8iQm90dG9tIjovXmUkLy50ZXN0KGkpPyJSaWdodCI6IkxlZnQiXS5qb2luKCIiKTtoLmNzcyhqLGspO3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCl9ZSh0aGlzLmhhbmRsZXNbaV0pfX07dGhpcy5fcmVuZGVyQXhpcyh0aGlzLmVsZW1lbnQpO3RoaXMuX2hhbmRsZXM9ZSgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLHRoaXMuZWxlbWVudCkuZGlzYWJsZVNlbGVjdGlvbigpOwp0aGlzLl9oYW5kbGVzLm1vdXNlb3ZlcihmdW5jdGlvbigpe2lmKCFiLnJlc2l6aW5nKXtpZih0aGlzLmNsYXNzTmFtZSl2YXIgaD10aGlzLmNsYXNzTmFtZS5tYXRjaCgvdWktcmVzaXphYmxlLShzZXxzd3xuZXxud3xufGV8c3x3KS9pKTtiLmF4aXM9aCYmaFsxXT9oWzFdOiJzZSJ9fSk7aWYoYS5hdXRvSGlkZSl7dGhpcy5faGFuZGxlcy5oaWRlKCk7ZSh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKS5ob3ZlcihmdW5jdGlvbigpe2UodGhpcykucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpO2IuX2hhbmRsZXMuc2hvdygpfSxmdW5jdGlvbigpe2lmKCFiLnJlc2l6aW5nKXtlKHRoaXMpLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKTtiLl9oYW5kbGVzLmhpZGUoKX19KX10aGlzLl9tb3VzZUluaXQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpO3ZhciBiPWZ1bmN0aW9uKGMpe2UoYykucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZSB1aS1yZXNpemFibGUtZGlzYWJsZWQgdWktcmVzaXphYmxlLXJlc2l6aW5nIikucmVtb3ZlRGF0YSgicmVzaXphYmxlIikudW5iaW5kKCIucmVzaXphYmxlIikuZmluZCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKS5yZW1vdmUoKX07CmlmKHRoaXMuZWxlbWVudElzV3JhcHBlcil7Yih0aGlzLmVsZW1lbnQpO3ZhciBhPXRoaXMuZWxlbWVudDthLmFmdGVyKHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246YS5jc3MoInBvc2l0aW9uIiksd2lkdGg6YS5vdXRlcldpZHRoKCksaGVpZ2h0OmEub3V0ZXJIZWlnaHQoKSx0b3A6YS5jc3MoInRvcCIpLGxlZnQ6YS5jc3MoImxlZnQiKX0pKS5yZW1vdmUoKX10aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlKTtiKHRoaXMub3JpZ2luYWxFbGVtZW50KTtyZXR1cm4gdGhpc30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihiKXt2YXIgYT1mYWxzZTtmb3IodmFyIGMgaW4gdGhpcy5oYW5kbGVzKWlmKGUodGhpcy5oYW5kbGVzW2NdKVswXT09Yi50YXJnZXQpYT10cnVlO3JldHVybiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJmF9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMub3B0aW9ucyxjPXRoaXMuZWxlbWVudC5wb3NpdGlvbigpLApkPXRoaXMuZWxlbWVudDt0aGlzLnJlc2l6aW5nPXRydWU7dGhpcy5kb2N1bWVudFNjcm9sbD17dG9wOmUoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLGxlZnQ6ZShkb2N1bWVudCkuc2Nyb2xsTGVmdCgpfTtpZihkLmlzKCIudWktZHJhZ2dhYmxlIil8fC9hYnNvbHV0ZS8udGVzdChkLmNzcygicG9zaXRpb24iKSkpZC5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOmMudG9wLGxlZnQ6Yy5sZWZ0fSk7ZS5icm93c2VyLm9wZXJhJiYvcmVsYXRpdmUvLnRlc3QoZC5jc3MoInBvc2l0aW9uIikpJiZkLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6ImF1dG8iLGxlZnQ6ImF1dG8ifSk7dGhpcy5fcmVuZGVyUHJveHkoKTtjPW0odGhpcy5oZWxwZXIuY3NzKCJsZWZ0IikpO3ZhciBmPW0odGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSk7aWYoYS5jb250YWlubWVudCl7Yys9ZShhLmNvbnRhaW5tZW50KS5zY3JvbGxMZWZ0KCl8fDA7Zis9ZShhLmNvbnRhaW5tZW50KS5zY3JvbGxUb3AoKXx8MH10aGlzLm9mZnNldD0KdGhpcy5oZWxwZXIub2Zmc2V0KCk7dGhpcy5wb3NpdGlvbj17bGVmdDpjLHRvcDpmfTt0aGlzLnNpemU9dGhpcy5faGVscGVyP3t3aWR0aDpkLm91dGVyV2lkdGgoKSxoZWlnaHQ6ZC5vdXRlckhlaWdodCgpfTp7d2lkdGg6ZC53aWR0aCgpLGhlaWdodDpkLmhlaWdodCgpfTt0aGlzLm9yaWdpbmFsU2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOmQub3V0ZXJXaWR0aCgpLGhlaWdodDpkLm91dGVySGVpZ2h0KCl9Ont3aWR0aDpkLndpZHRoKCksaGVpZ2h0OmQuaGVpZ2h0KCl9O3RoaXMub3JpZ2luYWxQb3NpdGlvbj17bGVmdDpjLHRvcDpmfTt0aGlzLnNpemVEaWZmPXt3aWR0aDpkLm91dGVyV2lkdGgoKS1kLndpZHRoKCksaGVpZ2h0OmQub3V0ZXJIZWlnaHQoKS1kLmhlaWdodCgpfTt0aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbj17bGVmdDpiLnBhZ2VYLHRvcDpiLnBhZ2VZfTt0aGlzLmFzcGVjdFJhdGlvPXR5cGVvZiBhLmFzcGVjdFJhdGlvPT0ibnVtYmVyIj9hLmFzcGVjdFJhdGlvOgp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aC90aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHR8fDE7YT1lKCIudWktcmVzaXphYmxlLSIrdGhpcy5heGlzKS5jc3MoImN1cnNvciIpO2UoImJvZHkiKS5jc3MoImN1cnNvciIsYT09ImF1dG8iP3RoaXMuYXhpcysiLXJlc2l6ZSI6YSk7ZC5hZGRDbGFzcygidWktcmVzaXphYmxlLXJlc2l6aW5nIik7dGhpcy5fcHJvcGFnYXRlKCJzdGFydCIsYik7cmV0dXJuIHRydWV9LF9tb3VzZURyYWc6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5oZWxwZXIsYz10aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbixkPXRoaXMuX2NoYW5nZVt0aGlzLmF4aXNdO2lmKCFkKXJldHVybiBmYWxzZTtjPWQuYXBwbHkodGhpcyxbYixiLnBhZ2VYLWMubGVmdHx8MCxiLnBhZ2VZLWMudG9wfHwwXSk7aWYodGhpcy5fYXNwZWN0UmF0aW98fGIuc2hpZnRLZXkpYz10aGlzLl91cGRhdGVSYXRpbyhjLGIpO2M9dGhpcy5fcmVzcGVjdFNpemUoYyxiKTt0aGlzLl9wcm9wYWdhdGUoInJlc2l6ZSIsCmIpO2EuY3NzKHt0b3A6dGhpcy5wb3NpdGlvbi50b3ArInB4IixsZWZ0OnRoaXMucG9zaXRpb24ubGVmdCsicHgiLHdpZHRoOnRoaXMuc2l6ZS53aWR0aCsicHgiLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0KyJweCJ9KTshdGhpcy5faGVscGVyJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKTt0aGlzLl91cGRhdGVDYWNoZShjKTt0aGlzLl90cmlnZ2VyKCJyZXNpemUiLGIsdGhpcy51aSgpKTtyZXR1cm4gZmFsc2V9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oYil7dGhpcy5yZXNpemluZz1mYWxzZTt2YXIgYT10aGlzLm9wdGlvbnMsYz10aGlzO2lmKHRoaXMuX2hlbHBlcil7dmFyIGQ9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyxmPWQubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KGRbMF0ubm9kZU5hbWUpO2Q9ZiYmZS51aS5oYXNTY3JvbGwoZFswXSwibGVmdCIpPzA6Yy5zaXplRGlmZi5oZWlnaHQ7CmY9e3dpZHRoOmMuc2l6ZS53aWR0aC0oZj8wOmMuc2l6ZURpZmYud2lkdGgpLGhlaWdodDpjLnNpemUuaGVpZ2h0LWR9O2Q9cGFyc2VJbnQoYy5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsoYy5wb3NpdGlvbi5sZWZ0LWMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbDt2YXIgZz1wYXJzZUludChjLmVsZW1lbnQuY3NzKCJ0b3AiKSwxMCkrKGMucG9zaXRpb24udG9wLWMub3JpZ2luYWxQb3NpdGlvbi50b3ApfHxudWxsO2EuYW5pbWF0ZXx8dGhpcy5lbGVtZW50LmNzcyhlLmV4dGVuZChmLHt0b3A6ZyxsZWZ0OmR9KSk7Yy5oZWxwZXIuaGVpZ2h0KGMuc2l6ZS5oZWlnaHQpO2MuaGVscGVyLndpZHRoKGMuc2l6ZS53aWR0aCk7dGhpcy5faGVscGVyJiYhYS5hbmltYXRlJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpfWUoImJvZHkiKS5jc3MoImN1cnNvciIsImF1dG8iKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpO3RoaXMuX3Byb3BhZ2F0ZSgic3RvcCIsCmIpO3RoaXMuX2hlbHBlciYmdGhpcy5oZWxwZXIucmVtb3ZlKCk7cmV0dXJuIGZhbHNlfSxfdXBkYXRlQ2FjaGU6ZnVuY3Rpb24oYil7dGhpcy5vZmZzZXQ9dGhpcy5oZWxwZXIub2Zmc2V0KCk7aWYobChiLmxlZnQpKXRoaXMucG9zaXRpb24ubGVmdD1iLmxlZnQ7aWYobChiLnRvcCkpdGhpcy5wb3NpdGlvbi50b3A9Yi50b3A7aWYobChiLmhlaWdodCkpdGhpcy5zaXplLmhlaWdodD1iLmhlaWdodDtpZihsKGIud2lkdGgpKXRoaXMuc2l6ZS53aWR0aD1iLndpZHRofSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5wb3NpdGlvbixjPXRoaXMuc2l6ZSxkPXRoaXMuYXhpcztpZihiLmhlaWdodCliLndpZHRoPWMuaGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW87ZWxzZSBpZihiLndpZHRoKWIuaGVpZ2h0PWMud2lkdGgvdGhpcy5hc3BlY3RSYXRpbztpZihkPT0ic3ciKXtiLmxlZnQ9YS5sZWZ0KyhjLndpZHRoLWIud2lkdGgpO2IudG9wPW51bGx9aWYoZD09Im53Iil7Yi50b3A9CmEudG9wKyhjLmhlaWdodC1iLmhlaWdodCk7Yi5sZWZ0PWEubGVmdCsoYy53aWR0aC1iLndpZHRoKX1yZXR1cm4gYn0sX3Jlc3BlY3RTaXplOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMub3B0aW9ucyxjPXRoaXMuYXhpcyxkPWwoYi53aWR0aCkmJmEubWF4V2lkdGgmJmEubWF4V2lkdGg8Yi53aWR0aCxmPWwoYi5oZWlnaHQpJiZhLm1heEhlaWdodCYmYS5tYXhIZWlnaHQ8Yi5oZWlnaHQsZz1sKGIud2lkdGgpJiZhLm1pbldpZHRoJiZhLm1pbldpZHRoPmIud2lkdGgsaD1sKGIuaGVpZ2h0KSYmYS5taW5IZWlnaHQmJmEubWluSGVpZ2h0PmIuaGVpZ2h0O2lmKGcpYi53aWR0aD1hLm1pbldpZHRoO2lmKGgpYi5oZWlnaHQ9YS5taW5IZWlnaHQ7aWYoZCliLndpZHRoPWEubWF4V2lkdGg7aWYoZiliLmhlaWdodD1hLm1heEhlaWdodDt2YXIgaT10aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCt0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCxqPXRoaXMucG9zaXRpb24udG9wK3RoaXMuc2l6ZS5oZWlnaHQsCms9L3N3fG53fHcvLnRlc3QoYyk7Yz0vbnd8bmV8bi8udGVzdChjKTtpZihnJiZrKWIubGVmdD1pLWEubWluV2lkdGg7aWYoZCYmayliLmxlZnQ9aS1hLm1heFdpZHRoO2lmKGgmJmMpYi50b3A9ai1hLm1pbkhlaWdodDtpZihmJiZjKWIudG9wPWotYS5tYXhIZWlnaHQ7aWYoKGE9IWIud2lkdGgmJiFiLmhlaWdodCkmJiFiLmxlZnQmJmIudG9wKWIudG9wPW51bGw7ZWxzZSBpZihhJiYhYi50b3AmJmIubGVmdCliLmxlZnQ9bnVsbDtyZXR1cm4gYn0sX3Byb3BvcnRpb25hbGx5UmVzaXplOmZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgpZm9yKHZhciBiPXRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQsYT0wO2E8dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGg7YSsrKXt2YXIgYz10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzW2FdO2lmKCF0aGlzLmJvcmRlckRpZil7dmFyIGQ9W2MuY3NzKCJib3JkZXJUb3BXaWR0aCIpLApjLmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLGMuY3NzKCJib3JkZXJCb3R0b21XaWR0aCIpLGMuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKV0sZj1bYy5jc3MoInBhZGRpbmdUb3AiKSxjLmNzcygicGFkZGluZ1JpZ2h0IiksYy5jc3MoInBhZGRpbmdCb3R0b20iKSxjLmNzcygicGFkZGluZ0xlZnQiKV07dGhpcy5ib3JkZXJEaWY9ZS5tYXAoZCxmdW5jdGlvbihnLGgpe2c9cGFyc2VJbnQoZywxMCl8fDA7aD1wYXJzZUludChmW2hdLDEwKXx8MDtyZXR1cm4gZytofSl9ZS5icm93c2VyLm1zaWUmJihlKGIpLmlzKCI6aGlkZGVuIil8fGUoYikucGFyZW50cygiOmhpZGRlbiIpLmxlbmd0aCl8fGMuY3NzKHtoZWlnaHQ6Yi5oZWlnaHQoKS10aGlzLmJvcmRlckRpZlswXS10aGlzLmJvcmRlckRpZlsyXXx8MCx3aWR0aDpiLndpZHRoKCktdGhpcy5ib3JkZXJEaWZbMV0tdGhpcy5ib3JkZXJEaWZbM118fDB9KX19LF9yZW5kZXJQcm94eTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9uczt0aGlzLmVsZW1lbnRPZmZzZXQ9CnRoaXMuZWxlbWVudC5vZmZzZXQoKTtpZih0aGlzLl9oZWxwZXIpe3RoaXMuaGVscGVyPXRoaXMuaGVscGVyfHxlKCc8ZGl2IHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47Ij48L2Rpdj4nKTt2YXIgYT1lLmJyb3dzZXIubXNpZSYmZS5icm93c2VyLnZlcnNpb248NyxjPWE/MTowO2E9YT8yOi0xO3RoaXMuaGVscGVyLmFkZENsYXNzKHRoaXMuX2hlbHBlcikuY3NzKHt3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpK2EsaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpK2EscG9zaXRpb246ImFic29sdXRlIixsZWZ0OnRoaXMuZWxlbWVudE9mZnNldC5sZWZ0LWMrInB4Iix0b3A6dGhpcy5lbGVtZW50T2Zmc2V0LnRvcC1jKyJweCIsekluZGV4OisrYi56SW5kZXh9KTt0aGlzLmhlbHBlci5hcHBlbmRUbygiYm9keSIpLmRpc2FibGVTZWxlY3Rpb24oKX1lbHNlIHRoaXMuaGVscGVyPXRoaXMuZWxlbWVudH0sX2NoYW5nZTp7ZTpmdW5jdGlvbihiLGEpe3JldHVybnt3aWR0aDp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCsKYX19LHc6ZnVuY3Rpb24oYixhKXtyZXR1cm57bGVmdDp0aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCthLHdpZHRoOnRoaXMub3JpZ2luYWxTaXplLndpZHRoLWF9fSxuOmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm57dG9wOnRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3ArYyxoZWlnaHQ6dGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0LWN9fSxzOmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm57aGVpZ2h0OnRoaXMub3JpZ2luYWxTaXplLmhlaWdodCtjfX0sc2U6ZnVuY3Rpb24oYixhLGMpe3JldHVybiBlLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbYixhLGNdKSl9LHN3OmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gZS5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW2IsYSxjXSkpfSxuZTpmdW5jdGlvbihiLGEsYyl7cmV0dXJuIGUuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbYixhLGNdKSl9LG53OmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gZS5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW2IsYSxjXSkpfX0sX3Byb3BhZ2F0ZTpmdW5jdGlvbihiLGEpe2UudWkucGx1Z2luLmNhbGwodGhpcyxiLFthLHRoaXMudWkoKV0pO2IhPSJyZXNpemUiJiZ0aGlzLl90cmlnZ2VyKGIsYSx0aGlzLnVpKCkpfSxwbHVnaW5zOnt9LHVpOmZ1bmN0aW9uKCl7cmV0dXJue29yaWdpbmFsRWxlbWVudDp0aGlzLm9yaWdpbmFsRWxlbWVudCxlbGVtZW50OnRoaXMuZWxlbWVudCxoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixzaXplOnRoaXMuc2l6ZSxvcmlnaW5hbFNpemU6dGhpcy5vcmlnaW5hbFNpemUsb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb259fX0pO2UuZXh0ZW5kKGUudWkucmVzaXphYmxlLAp7dmVyc2lvbjoiMS44LjYifSk7ZS51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJhbHNvUmVzaXplIix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgYj1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpLm9wdGlvbnMsYT1mdW5jdGlvbihjKXtlKGMpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1lKHRoaXMpO2QuZGF0YSgicmVzaXphYmxlLWFsc29yZXNpemUiLHt3aWR0aDpwYXJzZUludChkLndpZHRoKCksMTApLGhlaWdodDpwYXJzZUludChkLmhlaWdodCgpLDEwKSxsZWZ0OnBhcnNlSW50KGQuY3NzKCJsZWZ0IiksMTApLHRvcDpwYXJzZUludChkLmNzcygidG9wIiksMTApLHBvc2l0aW9uOmQuY3NzKCJwb3NpdGlvbiIpfSl9KX07aWYodHlwZW9mIGIuYWxzb1Jlc2l6ZT09Im9iamVjdCImJiFiLmFsc29SZXNpemUucGFyZW50Tm9kZSlpZihiLmFsc29SZXNpemUubGVuZ3RoKXtiLmFsc29SZXNpemU9Yi5hbHNvUmVzaXplWzBdO2EoYi5hbHNvUmVzaXplKX1lbHNlIGUuZWFjaChiLmFsc29SZXNpemUsCmZ1bmN0aW9uKGMpe2EoYyl9KTtlbHNlIGEoYi5hbHNvUmVzaXplKX0scmVzaXplOmZ1bmN0aW9uKGIsYSl7dmFyIGM9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKTtiPWMub3B0aW9uczt2YXIgZD1jLm9yaWdpbmFsU2l6ZSxmPWMub3JpZ2luYWxQb3NpdGlvbixnPXtoZWlnaHQ6Yy5zaXplLmhlaWdodC1kLmhlaWdodHx8MCx3aWR0aDpjLnNpemUud2lkdGgtZC53aWR0aHx8MCx0b3A6Yy5wb3NpdGlvbi50b3AtZi50b3B8fDAsbGVmdDpjLnBvc2l0aW9uLmxlZnQtZi5sZWZ0fHwwfSxoPWZ1bmN0aW9uKGksail7ZShpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGs9ZSh0aGlzKSxxPWUodGhpcykuZGF0YSgicmVzaXphYmxlLWFsc29yZXNpemUiKSxwPXt9LHI9aiYmai5sZW5ndGg/ajprLnBhcmVudHMoYS5vcmlnaW5hbEVsZW1lbnRbMF0pLmxlbmd0aD9bIndpZHRoIiwiaGVpZ2h0Il06WyJ3aWR0aCIsImhlaWdodCIsInRvcCIsImxlZnQiXTtlLmVhY2gocixmdW5jdGlvbihuLG8pe2lmKChuPQoocVtvXXx8MCkrKGdbb118fDApKSYmbj49MClwW29dPW58fG51bGx9KTtpZihlLmJyb3dzZXIub3BlcmEmJi9yZWxhdGl2ZS8udGVzdChrLmNzcygicG9zaXRpb24iKSkpe2MuX3JldmVydFRvUmVsYXRpdmVQb3NpdGlvbj10cnVlO2suY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiYXV0byIsbGVmdDoiYXV0byJ9KX1rLmNzcyhwKX0pfTt0eXBlb2YgYi5hbHNvUmVzaXplPT0ib2JqZWN0IiYmIWIuYWxzb1Jlc2l6ZS5ub2RlVHlwZT9lLmVhY2goYi5hbHNvUmVzaXplLGZ1bmN0aW9uKGksail7aChpLGopfSk6aChiLmFsc29SZXNpemUpfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGI9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKSxhPWIub3B0aW9ucyxjPWZ1bmN0aW9uKGQpe2UoZCkuZWFjaChmdW5jdGlvbigpe3ZhciBmPWUodGhpcyk7Zi5jc3Moe3Bvc2l0aW9uOmYuZGF0YSgicmVzaXphYmxlLWFsc29yZXNpemUiKS5wb3NpdGlvbn0pfSl9O2lmKGIuX3JldmVydFRvUmVsYXRpdmVQb3NpdGlvbil7Yi5fcmV2ZXJ0VG9SZWxhdGl2ZVBvc2l0aW9uPQpmYWxzZTt0eXBlb2YgYS5hbHNvUmVzaXplPT0ib2JqZWN0IiYmIWEuYWxzb1Jlc2l6ZS5ub2RlVHlwZT9lLmVhY2goYS5hbHNvUmVzaXplLGZ1bmN0aW9uKGQpe2MoZCl9KTpjKGEuYWxzb1Jlc2l6ZSl9ZSh0aGlzKS5yZW1vdmVEYXRhKCJyZXNpemFibGUtYWxzb3Jlc2l6ZSIpfX0pO2UudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYW5pbWF0ZSIse3N0b3A6ZnVuY3Rpb24oYil7dmFyIGE9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKSxjPWEub3B0aW9ucyxkPWEuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMsZj1kLmxlbmd0aCYmL3RleHRhcmVhL2kudGVzdChkWzBdLm5vZGVOYW1lKSxnPWYmJmUudWkuaGFzU2Nyb2xsKGRbMF0sImxlZnQiKT8wOmEuc2l6ZURpZmYuaGVpZ2h0O2Y9e3dpZHRoOmEuc2l6ZS53aWR0aC0oZj8wOmEuc2l6ZURpZmYud2lkdGgpLGhlaWdodDphLnNpemUuaGVpZ2h0LWd9O2c9cGFyc2VJbnQoYS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsoYS5wb3NpdGlvbi5sZWZ0LQphLm9yaWdpbmFsUG9zaXRpb24ubGVmdCl8fG51bGw7dmFyIGg9cGFyc2VJbnQoYS5lbGVtZW50LmNzcygidG9wIiksMTApKyhhLnBvc2l0aW9uLnRvcC1hLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbDthLmVsZW1lbnQuYW5pbWF0ZShlLmV4dGVuZChmLGgmJmc/e3RvcDpoLGxlZnQ6Z306e30pLHtkdXJhdGlvbjpjLmFuaW1hdGVEdXJhdGlvbixlYXNpbmc6Yy5hbmltYXRlRWFzaW5nLHN0ZXA6ZnVuY3Rpb24oKXt2YXIgaT17d2lkdGg6cGFyc2VJbnQoYS5lbGVtZW50LmNzcygid2lkdGgiKSwxMCksaGVpZ2h0OnBhcnNlSW50KGEuZWxlbWVudC5jc3MoImhlaWdodCIpLDEwKSx0b3A6cGFyc2VJbnQoYS5lbGVtZW50LmNzcygidG9wIiksMTApLGxlZnQ6cGFyc2VJbnQoYS5lbGVtZW50LmNzcygibGVmdCIpLDEwKX07ZCYmZC5sZW5ndGgmJmUoZFswXSkuY3NzKHt3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodH0pO2EuX3VwZGF0ZUNhY2hlKGkpO2EuX3Byb3BhZ2F0ZSgicmVzaXplIiwKYil9fSl9fSk7ZS51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJjb250YWlubWVudCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGI9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKSxhPWIuZWxlbWVudCxjPWIub3B0aW9ucy5jb250YWlubWVudDtpZihhPWMgaW5zdGFuY2VvZiBlP2MuZ2V0KDApOi9wYXJlbnQvLnRlc3QoYyk/YS5wYXJlbnQoKS5nZXQoMCk6Yyl7Yi5jb250YWluZXJFbGVtZW50PWUoYSk7aWYoL2RvY3VtZW50Ly50ZXN0KGMpfHxjPT1kb2N1bWVudCl7Yi5jb250YWluZXJPZmZzZXQ9e2xlZnQ6MCx0b3A6MH07Yi5jb250YWluZXJQb3NpdGlvbj17bGVmdDowLHRvcDowfTtiLnBhcmVudERhdGE9e2VsZW1lbnQ6ZShkb2N1bWVudCksbGVmdDowLHRvcDowLHdpZHRoOmUoZG9jdW1lbnQpLndpZHRoKCksaGVpZ2h0OmUoZG9jdW1lbnQpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0fX1lbHNle3ZhciBkPWUoYSksZj1bXTtlKFsiVG9wIiwKIlJpZ2h0IiwiTGVmdCIsIkJvdHRvbSJdKS5lYWNoKGZ1bmN0aW9uKGksail7ZltpXT1tKGQuY3NzKCJwYWRkaW5nIitqKSl9KTtiLmNvbnRhaW5lck9mZnNldD1kLm9mZnNldCgpO2IuY29udGFpbmVyUG9zaXRpb249ZC5wb3NpdGlvbigpO2IuY29udGFpbmVyU2l6ZT17aGVpZ2h0OmQuaW5uZXJIZWlnaHQoKS1mWzNdLHdpZHRoOmQuaW5uZXJXaWR0aCgpLWZbMV19O2M9Yi5jb250YWluZXJPZmZzZXQ7dmFyIGc9Yi5jb250YWluZXJTaXplLmhlaWdodCxoPWIuY29udGFpbmVyU2l6ZS53aWR0aDtoPWUudWkuaGFzU2Nyb2xsKGEsImxlZnQiKT9hLnNjcm9sbFdpZHRoOmg7Zz1lLnVpLmhhc1Njcm9sbChhKT9hLnNjcm9sbEhlaWdodDpnO2IucGFyZW50RGF0YT17ZWxlbWVudDphLGxlZnQ6Yy5sZWZ0LHRvcDpjLnRvcCx3aWR0aDpoLGhlaWdodDpnfX19fSxyZXNpemU6ZnVuY3Rpb24oYil7dmFyIGE9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKSxjPWEub3B0aW9ucyxkPWEuY29udGFpbmVyT2Zmc2V0LApmPWEucG9zaXRpb247Yj1hLl9hc3BlY3RSYXRpb3x8Yi5zaGlmdEtleTt2YXIgZz17dG9wOjAsbGVmdDowfSxoPWEuY29udGFpbmVyRWxlbWVudDtpZihoWzBdIT1kb2N1bWVudCYmL3N0YXRpYy8udGVzdChoLmNzcygicG9zaXRpb24iKSkpZz1kO2lmKGYubGVmdDwoYS5faGVscGVyP2QubGVmdDowKSl7YS5zaXplLndpZHRoKz1hLl9oZWxwZXI/YS5wb3NpdGlvbi5sZWZ0LWQubGVmdDphLnBvc2l0aW9uLmxlZnQtZy5sZWZ0O2lmKGIpYS5zaXplLmhlaWdodD1hLnNpemUud2lkdGgvYy5hc3BlY3RSYXRpbzthLnBvc2l0aW9uLmxlZnQ9Yy5oZWxwZXI/ZC5sZWZ0OjB9aWYoZi50b3A8KGEuX2hlbHBlcj9kLnRvcDowKSl7YS5zaXplLmhlaWdodCs9YS5faGVscGVyP2EucG9zaXRpb24udG9wLWQudG9wOmEucG9zaXRpb24udG9wO2lmKGIpYS5zaXplLndpZHRoPWEuc2l6ZS5oZWlnaHQqYy5hc3BlY3RSYXRpbzthLnBvc2l0aW9uLnRvcD1hLl9oZWxwZXI/ZC50b3A6MH1hLm9mZnNldC5sZWZ0PQphLnBhcmVudERhdGEubGVmdCthLnBvc2l0aW9uLmxlZnQ7YS5vZmZzZXQudG9wPWEucGFyZW50RGF0YS50b3ArYS5wb3NpdGlvbi50b3A7Yz1NYXRoLmFicygoYS5faGVscGVyP2Eub2Zmc2V0LmxlZnQtZy5sZWZ0OmEub2Zmc2V0LmxlZnQtZy5sZWZ0KSthLnNpemVEaWZmLndpZHRoKTtkPU1hdGguYWJzKChhLl9oZWxwZXI/YS5vZmZzZXQudG9wLWcudG9wOmEub2Zmc2V0LnRvcC1kLnRvcCkrYS5zaXplRGlmZi5oZWlnaHQpO2Y9YS5jb250YWluZXJFbGVtZW50LmdldCgwKT09YS5lbGVtZW50LnBhcmVudCgpLmdldCgwKTtnPS9yZWxhdGl2ZXxhYnNvbHV0ZS8udGVzdChhLmNvbnRhaW5lckVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpKTtpZihmJiZnKWMtPWEucGFyZW50RGF0YS5sZWZ0O2lmKGMrYS5zaXplLndpZHRoPj1hLnBhcmVudERhdGEud2lkdGgpe2Euc2l6ZS53aWR0aD1hLnBhcmVudERhdGEud2lkdGgtYztpZihiKWEuc2l6ZS5oZWlnaHQ9YS5zaXplLndpZHRoL2EuYXNwZWN0UmF0aW99aWYoZCsKYS5zaXplLmhlaWdodD49YS5wYXJlbnREYXRhLmhlaWdodCl7YS5zaXplLmhlaWdodD1hLnBhcmVudERhdGEuaGVpZ2h0LWQ7aWYoYilhLnNpemUud2lkdGg9YS5zaXplLmhlaWdodCphLmFzcGVjdFJhdGlvfX0sc3RvcDpmdW5jdGlvbigpe3ZhciBiPWUodGhpcykuZGF0YSgicmVzaXphYmxlIiksYT1iLm9wdGlvbnMsYz1iLmNvbnRhaW5lck9mZnNldCxkPWIuY29udGFpbmVyUG9zaXRpb24sZj1iLmNvbnRhaW5lckVsZW1lbnQsZz1lKGIuaGVscGVyKSxoPWcub2Zmc2V0KCksaT1nLm91dGVyV2lkdGgoKS1iLnNpemVEaWZmLndpZHRoO2c9Zy5vdXRlckhlaWdodCgpLWIuc2l6ZURpZmYuaGVpZ2h0O2IuX2hlbHBlciYmIWEuYW5pbWF0ZSYmL3JlbGF0aXZlLy50ZXN0KGYuY3NzKCJwb3NpdGlvbiIpKSYmZSh0aGlzKS5jc3Moe2xlZnQ6aC5sZWZ0LWQubGVmdC1jLmxlZnQsd2lkdGg6aSxoZWlnaHQ6Z30pO2IuX2hlbHBlciYmIWEuYW5pbWF0ZSYmL3N0YXRpYy8udGVzdChmLmNzcygicG9zaXRpb24iKSkmJgplKHRoaXMpLmNzcyh7bGVmdDpoLmxlZnQtZC5sZWZ0LWMubGVmdCx3aWR0aDppLGhlaWdodDpnfSl9fSk7ZS51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJnaG9zdCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGI9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKSxhPWIub3B0aW9ucyxjPWIuc2l6ZTtiLmdob3N0PWIub3JpZ2luYWxFbGVtZW50LmNsb25lKCk7Yi5naG9zdC5jc3Moe29wYWNpdHk6MC4yNSxkaXNwbGF5OiJibG9jayIscG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6Yy5oZWlnaHQsd2lkdGg6Yy53aWR0aCxtYXJnaW46MCxsZWZ0OjAsdG9wOjB9KS5hZGRDbGFzcygidWktcmVzaXphYmxlLWdob3N0IikuYWRkQ2xhc3ModHlwZW9mIGEuZ2hvc3Q9PSJzdHJpbmciP2EuZ2hvc3Q6IiIpO2IuZ2hvc3QuYXBwZW5kVG8oYi5oZWxwZXIpfSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYj1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpO2IuZ2hvc3QmJmIuZ2hvc3QuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLApoZWlnaHQ6Yi5zaXplLmhlaWdodCx3aWR0aDpiLnNpemUud2lkdGh9KX0sc3RvcDpmdW5jdGlvbigpe3ZhciBiPWUodGhpcykuZGF0YSgicmVzaXphYmxlIik7Yi5naG9zdCYmYi5oZWxwZXImJmIuaGVscGVyLmdldCgwKS5yZW1vdmVDaGlsZChiLmdob3N0LmdldCgwKSl9fSk7ZS51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJncmlkIix7cmVzaXplOmZ1bmN0aW9uKCl7dmFyIGI9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKSxhPWIub3B0aW9ucyxjPWIuc2l6ZSxkPWIub3JpZ2luYWxTaXplLGY9Yi5vcmlnaW5hbFBvc2l0aW9uLGc9Yi5heGlzO2EuZ3JpZD10eXBlb2YgYS5ncmlkPT0ibnVtYmVyIj9bYS5ncmlkLGEuZ3JpZF06YS5ncmlkO3ZhciBoPU1hdGgucm91bmQoKGMud2lkdGgtZC53aWR0aCkvKGEuZ3JpZFswXXx8MSkpKihhLmdyaWRbMF18fDEpO2E9TWF0aC5yb3VuZCgoYy5oZWlnaHQtZC5oZWlnaHQpLyhhLmdyaWRbMV18fDEpKSooYS5ncmlkWzFdfHwxKTtpZigvXihzZXxzfGUpJC8udGVzdChnKSl7Yi5zaXplLndpZHRoPQpkLndpZHRoK2g7Yi5zaXplLmhlaWdodD1kLmhlaWdodCthfWVsc2UgaWYoL14obmUpJC8udGVzdChnKSl7Yi5zaXplLndpZHRoPWQud2lkdGgraDtiLnNpemUuaGVpZ2h0PWQuaGVpZ2h0K2E7Yi5wb3NpdGlvbi50b3A9Zi50b3AtYX1lbHNle2lmKC9eKHN3KSQvLnRlc3QoZykpe2Iuc2l6ZS53aWR0aD1kLndpZHRoK2g7Yi5zaXplLmhlaWdodD1kLmhlaWdodCthfWVsc2V7Yi5zaXplLndpZHRoPWQud2lkdGgraDtiLnNpemUuaGVpZ2h0PWQuaGVpZ2h0K2E7Yi5wb3NpdGlvbi50b3A9Zi50b3AtYX1iLnBvc2l0aW9uLmxlZnQ9Zi5sZWZ0LWh9fX0pO3ZhciBtPWZ1bmN0aW9uKGIpe3JldHVybiBwYXJzZUludChiLDEwKXx8MH0sbD1mdW5jdGlvbihiKXtyZXR1cm4haXNOYU4ocGFyc2VJbnQoYiwxMCkpfX0pKGpRdWVyeSk7CjsKLyogVUkgYWNjb3JkaW9uICovCihmdW5jdGlvbihjKXtjLndpZGdldCgidWkuYWNjb3JkaW9uIix7b3B0aW9uczp7YWN0aXZlOjAsYW5pbWF0ZWQ6InNsaWRlIixhdXRvSGVpZ2h0OnRydWUsY2xlYXJTdHlsZTpmYWxzZSxjb2xsYXBzaWJsZTpmYWxzZSxldmVudDoiY2xpY2siLGZpbGxTcGFjZTpmYWxzZSxoZWFkZXI6Ij4gbGkgPiA6Zmlyc3QtY2hpbGQsPiA6bm90KGxpKTpldmVuIixpY29uczp7aGVhZGVyOiJ1aS1pY29uLXRyaWFuZ2xlLTEtZSIsaGVhZGVyU2VsZWN0ZWQ6InVpLWljb24tdHJpYW5nbGUtMS1zIn0sbmF2aWdhdGlvbjpmYWxzZSxuYXZpZ2F0aW9uRmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHJlZi50b0xvd2VyQ2FzZSgpPT09bG9jYXRpb24uaHJlZi50b0xvd2VyQ2FzZSgpfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLm9wdGlvbnM7YS5ydW5uaW5nPTA7YS5lbGVtZW50LmFkZENsYXNzKCJ1aS1hY2NvcmRpb24gdWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpLmNoaWxkcmVuKCJsaSIpLmFkZENsYXNzKCJ1aS1hY2NvcmRpb24tbGktZml4Iik7CmEuaGVhZGVycz1hLmVsZW1lbnQuZmluZChiLmhlYWRlcikuYWRkQ2xhc3MoInVpLWFjY29yZGlvbi1oZWFkZXIgdWktaGVscGVyLXJlc2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCIpLmJpbmQoIm1vdXNlZW50ZXIuYWNjb3JkaW9uIixmdW5jdGlvbigpe2IuZGlzYWJsZWR8fGModGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9KS5iaW5kKCJtb3VzZWxlYXZlLmFjY29yZGlvbiIsZnVuY3Rpb24oKXtiLmRpc2FibGVkfHxjKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSkuYmluZCgiZm9jdXMuYWNjb3JkaW9uIixmdW5jdGlvbigpe2IuZGlzYWJsZWR8fGModGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9KS5iaW5kKCJibHVyLmFjY29yZGlvbiIsZnVuY3Rpb24oKXtiLmRpc2FibGVkfHxjKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSk7YS5oZWFkZXJzLm5leHQoKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWNvbnRlbnQgdWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKTsKaWYoYi5uYXZpZ2F0aW9uKXt2YXIgZD1hLmVsZW1lbnQuZmluZCgiYSIpLmZpbHRlcihiLm5hdmlnYXRpb25GaWx0ZXIpLmVxKDApO2lmKGQubGVuZ3RoKXt2YXIgZj1kLmNsb3Nlc3QoIi51aS1hY2NvcmRpb24taGVhZGVyIik7YS5hY3RpdmU9Zi5sZW5ndGg/ZjpkLmNsb3Nlc3QoIi51aS1hY2NvcmRpb24tY29udGVudCIpLnByZXYoKX19YS5hY3RpdmU9YS5fZmluZEFjdGl2ZShhLmFjdGl2ZXx8Yi5hY3RpdmUpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLXN0YXRlLWFjdGl2ZSIpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci10b3AiKTthLmFjdGl2ZS5uZXh0KCkuYWRkQ2xhc3MoInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO2EuX2NyZWF0ZUljb25zKCk7YS5yZXNpemUoKTthLmVsZW1lbnQuYXR0cigicm9sZSIsInRhYmxpc3QiKTthLmhlYWRlcnMuYXR0cigicm9sZSIsInRhYiIpLmJpbmQoImtleWRvd24uYWNjb3JkaW9uIiwKZnVuY3Rpb24oZyl7cmV0dXJuIGEuX2tleWRvd24oZyl9KS5uZXh0KCkuYXR0cigicm9sZSIsInRhYnBhbmVsIik7YS5oZWFkZXJzLm5vdChhLmFjdGl2ZXx8IiIpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSkubmV4dCgpLmhpZGUoKTthLmFjdGl2ZS5sZW5ndGg/YS5hY3RpdmUuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSk6YS5oZWFkZXJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKTtjLmJyb3dzZXIuc2FmYXJpfHxhLmhlYWRlcnMuZmluZCgiYSIpLmF0dHIoInRhYkluZGV4IiwtMSk7Yi5ldmVudCYmYS5oZWFkZXJzLmJpbmQoYi5ldmVudC5zcGxpdCgiICIpLmpvaW4oIi5hY2NvcmRpb24gIikrIi5hY2NvcmRpb24iLGZ1bmN0aW9uKGcpe2EuX2NsaWNrSGFuZGxlci5jYWxsKGEsZyx0aGlzKTtnLnByZXZlbnREZWZhdWx0KCl9KX0sX2NyZWF0ZUljb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO2lmKGEuaWNvbnMpe2MoIjxzcGFuPjwvc3Bhbj4iKS5hZGRDbGFzcygidWktaWNvbiAiKwphLmljb25zLmhlYWRlcikucHJlcGVuZFRvKHRoaXMuaGVhZGVycyk7dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoYS5pY29ucy5oZWFkZXIpLnRvZ2dsZUNsYXNzKGEuaWNvbnMuaGVhZGVyU2VsZWN0ZWQpO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYWNjb3JkaW9uLWljb25zIil9fSxfZGVzdHJveUljb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWFkZXJzLmNoaWxkcmVuKCIudWktaWNvbiIpLnJlbW92ZSgpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYWNjb3JkaW9uLWljb25zIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1hY2NvcmRpb24gdWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpLnJlbW92ZUF0dHIoInJvbGUiKTt0aGlzLmhlYWRlcnMudW5iaW5kKCIuYWNjb3JkaW9uIikucmVtb3ZlQ2xhc3MoInVpLWFjY29yZGlvbi1oZWFkZXIgdWktYWNjb3JkaW9uLWRpc2FibGVkIHVpLWhlbHBlci1yZXNldCB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtYWN0aXZlIHVpLXN0YXRlLWRpc2FibGVkIHVpLWNvcm5lci10b3AiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1leHBhbmRlZCIpLnJlbW92ZUF0dHIoInRhYkluZGV4Iik7CnRoaXMuaGVhZGVycy5maW5kKCJhIikucmVtb3ZlQXR0cigidGFiSW5kZXgiKTt0aGlzLl9kZXN0cm95SWNvbnMoKTt2YXIgYj10aGlzLmhlYWRlcnMubmV4dCgpLmNzcygiZGlzcGxheSIsIiIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVDbGFzcygidWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20gdWktYWNjb3JkaW9uLWNvbnRlbnQgdWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIHVpLWFjY29yZGlvbi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpO2lmKGEuYXV0b0hlaWdodHx8YS5maWxsSGVpZ2h0KWIuY3NzKCJoZWlnaHQiLCIiKTtyZXR1cm4gYy5XaWRnZXQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe2MuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthPT0iYWN0aXZlIiYmdGhpcy5hY3RpdmF0ZShiKTtpZihhPT0iaWNvbnMiKXt0aGlzLl9kZXN0cm95SWNvbnMoKTsKYiYmdGhpcy5fY3JlYXRlSWNvbnMoKX1pZihhPT0iZGlzYWJsZWQiKXRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSlbYj8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJ1aS1hY2NvcmRpb24tZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKX0sX2tleWRvd246ZnVuY3Rpb24oYSl7aWYoISh0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fGEuYWx0S2V5fHxhLmN0cmxLZXkpKXt2YXIgYj1jLnVpLmtleUNvZGUsZD10aGlzLmhlYWRlcnMubGVuZ3RoLGY9dGhpcy5oZWFkZXJzLmluZGV4KGEudGFyZ2V0KSxnPWZhbHNlO3N3aXRjaChhLmtleUNvZGUpe2Nhc2UgYi5SSUdIVDpjYXNlIGIuRE9XTjpnPXRoaXMuaGVhZGVyc1soZisxKSVkXTticmVhaztjYXNlIGIuTEVGVDpjYXNlIGIuVVA6Zz10aGlzLmhlYWRlcnNbKGYtMStkKSVkXTticmVhaztjYXNlIGIuU1BBQ0U6Y2FzZSBiLkVOVEVSOnRoaXMuX2NsaWNrSGFuZGxlcih7dGFyZ2V0OmEudGFyZ2V0fSxhLnRhcmdldCk7CmEucHJldmVudERlZmF1bHQoKX1pZihnKXtjKGEudGFyZ2V0KS5hdHRyKCJ0YWJJbmRleCIsLTEpO2MoZykuYXR0cigidGFiSW5kZXgiLDApO2cuZm9jdXMoKTtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9fSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYjtpZihhLmZpbGxTcGFjZSl7aWYoYy5icm93c2VyLm1zaWUpe3ZhciBkPXRoaXMuZWxlbWVudC5wYXJlbnQoKS5jc3MoIm92ZXJmbG93Iik7dGhpcy5lbGVtZW50LnBhcmVudCgpLmNzcygib3ZlcmZsb3ciLCJoaWRkZW4iKX1iPXRoaXMuZWxlbWVudC5wYXJlbnQoKS5oZWlnaHQoKTtjLmJyb3dzZXIubXNpZSYmdGhpcy5lbGVtZW50LnBhcmVudCgpLmNzcygib3ZlcmZsb3ciLGQpO3RoaXMuaGVhZGVycy5lYWNoKGZ1bmN0aW9uKCl7Yi09Yyh0aGlzKS5vdXRlckhlaWdodCh0cnVlKX0pO3RoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe2ModGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsYi1jKHRoaXMpLmlubmVySGVpZ2h0KCkrCmModGhpcykuaGVpZ2h0KCkpKX0pLmNzcygib3ZlcmZsb3ciLCJhdXRvIil9ZWxzZSBpZihhLmF1dG9IZWlnaHQpe2I9MDt0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXtiPU1hdGgubWF4KGIsYyh0aGlzKS5oZWlnaHQoIiIpLmhlaWdodCgpKX0pLmhlaWdodChiKX1yZXR1cm4gdGhpc30sYWN0aXZhdGU6ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zLmFjdGl2ZT1hO2E9dGhpcy5fZmluZEFjdGl2ZShhKVswXTt0aGlzLl9jbGlja0hhbmRsZXIoe3RhcmdldDphfSxhKTtyZXR1cm4gdGhpc30sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dHlwZW9mIGE9PT0ibnVtYmVyIj90aGlzLmhlYWRlcnMuZmlsdGVyKCI6ZXEoIithKyIpIik6dGhpcy5oZWFkZXJzLm5vdCh0aGlzLmhlYWRlcnMubm90KGEpKTphPT09ZmFsc2U/YyhbXSk6dGhpcy5oZWFkZXJzLmZpbHRlcigiOmVxKDApIil9LF9jbGlja0hhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLm9wdGlvbnM7CmlmKCFkLmRpc2FibGVkKWlmKGEudGFyZ2V0KXthPWMoYS5jdXJyZW50VGFyZ2V0fHxiKTtiPWFbMF09PT10aGlzLmFjdGl2ZVswXTtkLmFjdGl2ZT1kLmNvbGxhcHNpYmxlJiZiP2ZhbHNlOnRoaXMuaGVhZGVycy5pbmRleChhKTtpZighKHRoaXMucnVubmluZ3x8IWQuY29sbGFwc2libGUmJmIpKXt0aGlzLmFjdGl2ZS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIHVpLWNvcm5lci10b3AiKS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIikuY2hpbGRyZW4oIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoZC5pY29ucy5oZWFkZXJTZWxlY3RlZCkuYWRkQ2xhc3MoZC5pY29ucy5oZWFkZXIpO2lmKCFiKXthLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIHVpLWNvcm5lci10b3AiKS5jaGlsZHJlbigiLnVpLWljb24iKS5yZW1vdmVDbGFzcyhkLmljb25zLmhlYWRlcikuYWRkQ2xhc3MoZC5pY29ucy5oZWFkZXJTZWxlY3RlZCk7CmEubmV4dCgpLmFkZENsYXNzKCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUiKX1oPWEubmV4dCgpO2Y9dGhpcy5hY3RpdmUubmV4dCgpO2c9e29wdGlvbnM6ZCxuZXdIZWFkZXI6YiYmZC5jb2xsYXBzaWJsZT9jKFtdKTphLG9sZEhlYWRlcjp0aGlzLmFjdGl2ZSxuZXdDb250ZW50OmImJmQuY29sbGFwc2libGU/YyhbXSk6aCxvbGRDb250ZW50OmZ9O2Q9dGhpcy5oZWFkZXJzLmluZGV4KHRoaXMuYWN0aXZlWzBdKT50aGlzLmhlYWRlcnMuaW5kZXgoYVswXSk7dGhpcy5hY3RpdmU9Yj9jKFtdKTphO3RoaXMuX3RvZ2dsZShoLGYsZyxiLGQpfX1lbHNlIGlmKGQuY29sbGFwc2libGUpe3RoaXMuYWN0aXZlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUgdWktY29ybmVyLXRvcCIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiKS5jaGlsZHJlbigiLnVpLWljb24iKS5yZW1vdmVDbGFzcyhkLmljb25zLmhlYWRlclNlbGVjdGVkKS5hZGRDbGFzcyhkLmljb25zLmhlYWRlcik7CnRoaXMuYWN0aXZlLm5leHQoKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIik7dmFyIGY9dGhpcy5hY3RpdmUubmV4dCgpLGc9e29wdGlvbnM6ZCxuZXdIZWFkZXI6YyhbXSksb2xkSGVhZGVyOmQuYWN0aXZlLG5ld0NvbnRlbnQ6YyhbXSksb2xkQ29udGVudDpmfSxoPXRoaXMuYWN0aXZlPWMoW10pO3RoaXMuX3RvZ2dsZShoLGYsZyl9fSxfdG9nZ2xlOmZ1bmN0aW9uKGEsYixkLGYsZyl7dmFyIGg9dGhpcyxlPWgub3B0aW9ucztoLnRvU2hvdz1hO2gudG9IaWRlPWI7aC5kYXRhPWQ7dmFyIGo9ZnVuY3Rpb24oKXtpZihoKXJldHVybiBoLl9jb21wbGV0ZWQuYXBwbHkoaCxhcmd1bWVudHMpfTtoLl90cmlnZ2VyKCJjaGFuZ2VzdGFydCIsbnVsbCxoLmRhdGEpO2gucnVubmluZz1iLnNpemUoKT09PTA/YS5zaXplKCk6Yi5zaXplKCk7aWYoZS5hbmltYXRlZCl7ZD17fTtkPWUuY29sbGFwc2libGUmJmY/e3RvU2hvdzpjKFtdKSx0b0hpZGU6Yixjb21wbGV0ZTpqLApkb3duOmcsYXV0b0hlaWdodDplLmF1dG9IZWlnaHR8fGUuZmlsbFNwYWNlfTp7dG9TaG93OmEsdG9IaWRlOmIsY29tcGxldGU6aixkb3duOmcsYXV0b0hlaWdodDplLmF1dG9IZWlnaHR8fGUuZmlsbFNwYWNlfTtpZighZS5wcm94aWVkKWUucHJveGllZD1lLmFuaW1hdGVkO2lmKCFlLnByb3hpZWREdXJhdGlvbillLnByb3hpZWREdXJhdGlvbj1lLmR1cmF0aW9uO2UuYW5pbWF0ZWQ9Yy5pc0Z1bmN0aW9uKGUucHJveGllZCk/ZS5wcm94aWVkKGQpOmUucHJveGllZDtlLmR1cmF0aW9uPWMuaXNGdW5jdGlvbihlLnByb3hpZWREdXJhdGlvbik/ZS5wcm94aWVkRHVyYXRpb24oZCk6ZS5wcm94aWVkRHVyYXRpb247Zj1jLnVpLmFjY29yZGlvbi5hbmltYXRpb25zO3ZhciBpPWUuZHVyYXRpb24saz1lLmFuaW1hdGVkO2lmKGsmJiFmW2tdJiYhYy5lYXNpbmdba10paz0ic2xpZGUiO2Zba118fChmW2tdPWZ1bmN0aW9uKGwpe3RoaXMuc2xpZGUobCx7ZWFzaW5nOmssZHVyYXRpb246aXx8NzAwfSl9KTsKZltrXShkKX1lbHNle2lmKGUuY29sbGFwc2libGUmJmYpYS50b2dnbGUoKTtlbHNle2IuaGlkZSgpO2Euc2hvdygpfWoodHJ1ZSl9Yi5wcmV2KCkuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsdGFiSW5kZXg6LTF9KS5ibHVyKCk7YS5wcmV2KCkuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSkuZm9jdXMoKX0sX2NvbXBsZXRlZDpmdW5jdGlvbihhKXt0aGlzLnJ1bm5pbmc9YT8wOi0tdGhpcy5ydW5uaW5nO2lmKCF0aGlzLnJ1bm5pbmcpe3RoaXMub3B0aW9ucy5jbGVhclN0eWxlJiZ0aGlzLnRvU2hvdy5hZGQodGhpcy50b0hpZGUpLmNzcyh7aGVpZ2h0OiIiLG92ZXJmbG93OiIifSk7dGhpcy50b0hpZGUucmVtb3ZlQ2xhc3MoInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO3RoaXMuX3RyaWdnZXIoImNoYW5nZSIsbnVsbCx0aGlzLmRhdGEpfX19KTtjLmV4dGVuZChjLnVpLmFjY29yZGlvbix7dmVyc2lvbjoiMS44LjYiLGFuaW1hdGlvbnM6e3NsaWRlOmZ1bmN0aW9uKGEsCmIpe2E9Yy5leHRlbmQoe2Vhc2luZzoic3dpbmciLGR1cmF0aW9uOjMwMH0sYSxiKTtpZihhLnRvSGlkZS5zaXplKCkpaWYoYS50b1Nob3cuc2l6ZSgpKXt2YXIgZD1hLnRvU2hvdy5jc3MoIm92ZXJmbG93IiksZj0wLGc9e30saD17fSxlO2I9YS50b1Nob3c7ZT1iWzBdLnN0eWxlLndpZHRoO2Iud2lkdGgocGFyc2VJbnQoYi5wYXJlbnQoKS53aWR0aCgpLDEwKS1wYXJzZUludChiLmNzcygicGFkZGluZ0xlZnQiKSwxMCktcGFyc2VJbnQoYi5jc3MoInBhZGRpbmdSaWdodCIpLDEwKS0ocGFyc2VJbnQoYi5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KGIuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKSk7Yy5lYWNoKFsiaGVpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxmdW5jdGlvbihqLGkpe2hbaV09ImhpZGUiO2o9KCIiK2MuY3NzKGEudG9TaG93WzBdLGkpKS5tYXRjaCgvXihbXGQrLS5dKykoLiopJC8pO2dbaV09e3ZhbHVlOmpbMV0sCnVuaXQ6alsyXXx8InB4In19KTthLnRvU2hvdy5jc3Moe2hlaWdodDowLG92ZXJmbG93OiJoaWRkZW4ifSkuc2hvdygpO2EudG9IaWRlLmZpbHRlcigiOmhpZGRlbiIpLmVhY2goYS5jb21wbGV0ZSkuZW5kKCkuZmlsdGVyKCI6dmlzaWJsZSIpLmFuaW1hdGUoaCx7c3RlcDpmdW5jdGlvbihqLGkpe2lmKGkucHJvcD09ImhlaWdodCIpZj1pLmVuZC1pLnN0YXJ0PT09MD8wOihpLm5vdy1pLnN0YXJ0KS8oaS5lbmQtaS5zdGFydCk7YS50b1Nob3dbMF0uc3R5bGVbaS5wcm9wXT1mKmdbaS5wcm9wXS52YWx1ZStnW2kucHJvcF0udW5pdH0sZHVyYXRpb246YS5kdXJhdGlvbixlYXNpbmc6YS5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXthLmF1dG9IZWlnaHR8fGEudG9TaG93LmNzcygiaGVpZ2h0IiwiIik7YS50b1Nob3cuY3NzKHt3aWR0aDplLG92ZXJmbG93OmR9KTthLmNvbXBsZXRlKCl9fSl9ZWxzZSBhLnRvSGlkZS5hbmltYXRlKHtoZWlnaHQ6ImhpZGUiLHBhZGRpbmdUb3A6ImhpZGUiLApwYWRkaW5nQm90dG9tOiJoaWRlIn0sYSk7ZWxzZSBhLnRvU2hvdy5hbmltYXRlKHtoZWlnaHQ6InNob3ciLHBhZGRpbmdUb3A6InNob3ciLHBhZGRpbmdCb3R0b206InNob3cifSxhKX0sYm91bmNlc2xpZGU6ZnVuY3Rpb24oYSl7dGhpcy5zbGlkZShhLHtlYXNpbmc6YS5kb3duPyJlYXNlT3V0Qm91bmNlIjoic3dpbmciLGR1cmF0aW9uOmEuZG93bj8xRTM6MjAwfSl9fX0pfSkoalF1ZXJ5KTsKOwovKiBidXR0b24gKi8KKGZ1bmN0aW9uKGEpe3ZhciBnLGk9ZnVuY3Rpb24oYil7YSgiOnVpLWJ1dHRvbiIsYi50YXJnZXQuZm9ybSkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcykuZGF0YSgiYnV0dG9uIik7c2V0VGltZW91dChmdW5jdGlvbigpe2MucmVmcmVzaCgpfSwxKX0pfSxoPWZ1bmN0aW9uKGIpe3ZhciBjPWIubmFtZSxkPWIuZm9ybSxlPWEoW10pO2lmKGMpZT1kP2EoZCkuZmluZCgiW25hbWU9JyIrYysiJ10iKTphKCJbbmFtZT0nIitjKyInXSIsYi5vd25lckRvY3VtZW50KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5mb3JtfSk7cmV0dXJuIGV9O2Eud2lkZ2V0KCJ1aS5idXR0b24iLHtvcHRpb25zOntkaXNhYmxlZDpudWxsLHRleHQ6dHJ1ZSxsYWJlbDpudWxsLGljb25zOntwcmltYXJ5Om51bGwsc2Vjb25kYXJ5Om51bGx9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKS51bmJpbmQoInJlc2V0LmJ1dHRvbiIpLmJpbmQoInJlc2V0LmJ1dHRvbiIsCmkpO2lmKHR5cGVvZiB0aGlzLm9wdGlvbnMuZGlzYWJsZWQhPT0iYm9vbGVhbiIpdGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpO3RoaXMuX2RldGVybWluZUJ1dHRvblR5cGUoKTt0aGlzLmhhc1RpdGxlPSEhdGhpcy5idXR0b25FbGVtZW50LmF0dHIoInRpdGxlIik7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9ucyxkPXRoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyIsZT0idWktc3RhdGUtaG92ZXIiKyghZD8iIHVpLXN0YXRlLWFjdGl2ZSI6IiIpO2lmKGMubGFiZWw9PT1udWxsKWMubGFiZWw9dGhpcy5idXR0b25FbGVtZW50Lmh0bWwoKTtpZih0aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpKWMuZGlzYWJsZWQ9dHJ1ZTt0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLWJ1dHRvbiB1aS13aWRnZXQgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIikuYXR0cigicm9sZSIsImJ1dHRvbiIpLmJpbmQoIm1vdXNlZW50ZXIuYnV0dG9uIiwKZnVuY3Rpb24oKXtpZighYy5kaXNhYmxlZCl7YSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtaG92ZXIiKTt0aGlzPT09ZyYmYSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9fSkuYmluZCgibW91c2VsZWF2ZS5idXR0b24iLGZ1bmN0aW9uKCl7Yy5kaXNhYmxlZHx8YSh0aGlzKS5yZW1vdmVDbGFzcyhlKX0pLmJpbmQoImZvY3VzLmJ1dHRvbiIsZnVuY3Rpb24oKXthKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSkuYmluZCgiYmx1ci5idXR0b24iLGZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX0pO2QmJnRoaXMuZWxlbWVudC5iaW5kKCJjaGFuZ2UuYnV0dG9uIixmdW5jdGlvbigpe2IucmVmcmVzaCgpfSk7aWYodGhpcy50eXBlPT09ImNoZWNrYm94Iil0aGlzLmJ1dHRvbkVsZW1lbnQuYmluZCgiY2xpY2suYnV0dG9uIixmdW5jdGlvbigpe2lmKGMuZGlzYWJsZWQpcmV0dXJuIGZhbHNlO2EodGhpcykudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpOwpiLmJ1dHRvbkVsZW1lbnQuYXR0cigiYXJpYS1wcmVzc2VkIixiLmVsZW1lbnRbMF0uY2hlY2tlZCl9KTtlbHNlIGlmKHRoaXMudHlwZT09PSJyYWRpbyIpdGhpcy5idXR0b25FbGVtZW50LmJpbmQoImNsaWNrLmJ1dHRvbiIsZnVuY3Rpb24oKXtpZihjLmRpc2FibGVkKXJldHVybiBmYWxzZTthKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKTtiLmJ1dHRvbkVsZW1lbnQuYXR0cigiYXJpYS1wcmVzc2VkIix0cnVlKTt2YXIgZj1iLmVsZW1lbnRbMF07aChmKS5ub3QoZikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykuYnV0dG9uKCJ3aWRnZXQiKVswXX0pLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLGZhbHNlKX0pO2Vsc2V7dGhpcy5idXR0b25FbGVtZW50LmJpbmQoIm1vdXNlZG93bi5idXR0b24iLGZ1bmN0aW9uKCl7aWYoYy5kaXNhYmxlZClyZXR1cm4gZmFsc2U7YSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIik7Cmc9dGhpczthKGRvY3VtZW50KS5vbmUoIm1vdXNldXAiLGZ1bmN0aW9uKCl7Zz1udWxsfSl9KS5iaW5kKCJtb3VzZXVwLmJ1dHRvbiIsZnVuY3Rpb24oKXtpZihjLmRpc2FibGVkKXJldHVybiBmYWxzZTthKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0pLmJpbmQoImtleWRvd24uYnV0dG9uIixmdW5jdGlvbihmKXtpZihjLmRpc2FibGVkKXJldHVybiBmYWxzZTtpZihmLmtleUNvZGU9PWEudWkua2V5Q29kZS5TUEFDRXx8Zi5rZXlDb2RlPT1hLnVpLmtleUNvZGUuRU5URVIpYSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KS5iaW5kKCJrZXl1cC5idXR0b24iLGZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KTt0aGlzLmJ1dHRvbkVsZW1lbnQuaXMoImEiKSYmdGhpcy5idXR0b25FbGVtZW50LmtleXVwKGZ1bmN0aW9uKGYpe2Yua2V5Q29kZT09PWEudWkua2V5Q29kZS5TUEFDRSYmYSh0aGlzKS5jbGljaygpfSl9dGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsCmMuZGlzYWJsZWQpfSxfZGV0ZXJtaW5lQnV0dG9uVHlwZTpmdW5jdGlvbigpe3RoaXMudHlwZT10aGlzLmVsZW1lbnQuaXMoIjpjaGVja2JveCIpPyJjaGVja2JveCI6dGhpcy5lbGVtZW50LmlzKCI6cmFkaW8iKT8icmFkaW8iOnRoaXMuZWxlbWVudC5pcygiaW5wdXQiKT8iaW5wdXQiOiJidXR0b24iO2lmKHRoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyIpe3RoaXMuYnV0dG9uRWxlbWVudD10aGlzLmVsZW1lbnQucGFyZW50cygpLmxhc3QoKS5maW5kKCJsYWJlbFtmb3I9Iit0aGlzLmVsZW1lbnQuYXR0cigiaWQiKSsiXSIpO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dmFyIGI9dGhpcy5lbGVtZW50LmlzKCI6Y2hlY2tlZCIpO2ImJnRoaXMuYnV0dG9uRWxlbWVudC5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIik7dGhpcy5idXR0b25FbGVtZW50LmF0dHIoImFyaWEtcHJlc3NlZCIsYil9ZWxzZSB0aGlzLmJ1dHRvbkVsZW1lbnQ9CnRoaXMuZWxlbWVudH0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnV0dG9uRWxlbWVudH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idXR0b24gdWktd2lkZ2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1ob3ZlciB1aS1zdGF0ZS1hY3RpdmUgIHVpLWJ1dHRvbi1pY29ucy1vbmx5IHVpLWJ1dHRvbi1pY29uLW9ubHkgdWktYnV0dG9uLXRleHQtaWNvbnMgdWktYnV0dG9uLXRleHQtaWNvbi1wcmltYXJ5IHVpLWJ1dHRvbi10ZXh0LWljb24tc2Vjb25kYXJ5IHVpLWJ1dHRvbi10ZXh0LW9ubHkiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1wcmVzc2VkIikuaHRtbCh0aGlzLmJ1dHRvbkVsZW1lbnQuZmluZCgiLnVpLWJ1dHRvbi10ZXh0IikuaHRtbCgpKTt0aGlzLmhhc1RpdGxlfHwKdGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIik7YS5XaWRnZXQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sX3NldE9wdGlvbjpmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihiPT09ImRpc2FibGVkIiljP3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsdHJ1ZSk6dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImRpc2FibGVkIik7dGhpcy5fcmVzZXRCdXR0b24oKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIik7YiE9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsYik7aWYodGhpcy50eXBlPT09InJhZGlvIiloKHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuaXMoIjpjaGVja2VkIik/YSh0aGlzKS5idXR0b24oIndpZGdldCIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLAp0cnVlKTphKHRoaXMpLmJ1dHRvbigid2lkZ2V0IikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsZmFsc2UpfSk7ZWxzZSBpZih0aGlzLnR5cGU9PT0iY2hlY2tib3giKXRoaXMuZWxlbWVudC5pcygiOmNoZWNrZWQiKT90aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsdHJ1ZSk6dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLGZhbHNlKX0sX3Jlc2V0QnV0dG9uOmZ1bmN0aW9uKCl7aWYodGhpcy50eXBlPT09ImlucHV0Iil0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMuZWxlbWVudC52YWwodGhpcy5vcHRpb25zLmxhYmVsKTtlbHNle3ZhciBiPXRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcygidWktYnV0dG9uLWljb25zLW9ubHkgdWktYnV0dG9uLWljb24tb25seSB1aS1idXR0b24tdGV4dC1pY29ucyB1aS1idXR0b24tdGV4dC1pY29uLXByaW1hcnkgdWktYnV0dG9uLXRleHQtaWNvbi1zZWNvbmRhcnkgdWktYnV0dG9uLXRleHQtb25seSIpLApjPWEoIjxzcGFuPjwvc3Bhbj4iKS5hZGRDbGFzcygidWktYnV0dG9uLXRleHQiKS5odG1sKHRoaXMub3B0aW9ucy5sYWJlbCkuYXBwZW5kVG8oYi5lbXB0eSgpKS50ZXh0KCksZD10aGlzLm9wdGlvbnMuaWNvbnMsZT1kLnByaW1hcnkmJmQuc2Vjb25kYXJ5O2lmKGQucHJpbWFyeXx8ZC5zZWNvbmRhcnkpe2IuYWRkQ2xhc3MoInVpLWJ1dHRvbi10ZXh0LWljb24iKyhlPyJzIjpkLnByaW1hcnk/Ii1wcmltYXJ5IjoiLXNlY29uZGFyeSIpKTtkLnByaW1hcnkmJmIucHJlcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWJ1dHRvbi1pY29uLXByaW1hcnkgdWktaWNvbiAiK2QucHJpbWFyeSsiJz48L3NwYW4+Iik7ZC5zZWNvbmRhcnkmJmIuYXBwZW5kKCI8c3BhbiBjbGFzcz0ndWktYnV0dG9uLWljb24tc2Vjb25kYXJ5IHVpLWljb24gIitkLnNlY29uZGFyeSsiJz48L3NwYW4+Iik7aWYoIXRoaXMub3B0aW9ucy50ZXh0KXtiLmFkZENsYXNzKGU/InVpLWJ1dHRvbi1pY29ucy1vbmx5IjoidWktYnV0dG9uLWljb24tb25seSIpLnJlbW92ZUNsYXNzKCJ1aS1idXR0b24tdGV4dC1pY29ucyB1aS1idXR0b24tdGV4dC1pY29uLXByaW1hcnkgdWktYnV0dG9uLXRleHQtaWNvbi1zZWNvbmRhcnkiKTsKdGhpcy5oYXNUaXRsZXx8Yi5hdHRyKCJ0aXRsZSIsYyl9fWVsc2UgYi5hZGRDbGFzcygidWktYnV0dG9uLXRleHQtb25seSIpfX19KTthLndpZGdldCgidWkuYnV0dG9uc2V0Iix7X2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYnV0dG9uc2V0Iil9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYixjKXtiPT09ImRpc2FibGVkIiYmdGhpcy5idXR0b25zLmJ1dHRvbigib3B0aW9uIixiLGMpO2EuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuYnV0dG9ucz10aGlzLmVsZW1lbnQuZmluZCgiOmJ1dHRvbiwgOnN1Ym1pdCwgOnJlc2V0LCA6Y2hlY2tib3gsIDpyYWRpbywgYSwgOmRhdGEoYnV0dG9uKSIpLmZpbHRlcigiOnVpLWJ1dHRvbiIpLmJ1dHRvbigicmVmcmVzaCIpLmVuZCgpLm5vdCgiOnVpLWJ1dHRvbiIpLmJ1dHRvbigpLmVuZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLmJ1dHRvbigid2lkZ2V0IilbMF19KS5yZW1vdmVDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQiKS5maWx0ZXIoIjp2aXNpYmxlIikuZmlsdGVyKCI6Zmlyc3QiKS5hZGRDbGFzcygidWktY29ybmVyLWxlZnQiKS5lbmQoKS5maWx0ZXIoIjpsYXN0IikuYWRkQ2xhc3MoInVpLWNvcm5lci1yaWdodCIpLmVuZCgpLmVuZCgpLmVuZCgpfSwKZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYnV0dG9uc2V0Iik7dGhpcy5idXR0b25zLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLmJ1dHRvbigid2lkZ2V0IilbMF19KS5yZW1vdmVDbGFzcygidWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0IikuZW5kKCkuYnV0dG9uKCJkZXN0cm95Iik7YS5XaWRnZXQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KX0pKGpRdWVyeSk7CjsKLyogVUkgRGlhbG9nICovCihmdW5jdGlvbihjLGope3ZhciBrPXtidXR0b25zOnRydWUsaGVpZ2h0OnRydWUsbWF4SGVpZ2h0OnRydWUsbWF4V2lkdGg6dHJ1ZSxtaW5IZWlnaHQ6dHJ1ZSxtaW5XaWR0aDp0cnVlLHdpZHRoOnRydWV9LGw9e21heEhlaWdodDp0cnVlLG1heFdpZHRoOnRydWUsbWluSGVpZ2h0OnRydWUsbWluV2lkdGg6dHJ1ZX07Yy53aWRnZXQoInVpLmRpYWxvZyIse29wdGlvbnM6e2F1dG9PcGVuOnRydWUsYnV0dG9uczp7fSxjbG9zZU9uRXNjYXBlOnRydWUsY2xvc2VUZXh0OiJjbG9zZSIsZGlhbG9nQ2xhc3M6IiIsZHJhZ2dhYmxlOnRydWUsaGlkZTpudWxsLGhlaWdodDoiYXV0byIsbWF4SGVpZ2h0OmZhbHNlLG1heFdpZHRoOmZhbHNlLG1pbkhlaWdodDoxNTAsbWluV2lkdGg6MTUwLG1vZGFsOmZhbHNlLHBvc2l0aW9uOntteToiY2VudGVyIixhdDoiY2VudGVyIixvZjp3aW5kb3csY29sbGlzaW9uOiJmaXQiLHVzaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPWModGhpcykuY3NzKGEpLm9mZnNldCgpLnRvcDsKYjwwJiZjKHRoaXMpLmNzcygidG9wIixhLnRvcC1iKX19LHJlc2l6YWJsZTp0cnVlLHNob3c6bnVsbCxzdGFjazp0cnVlLHRpdGxlOiIiLHdpZHRoOjMwMCx6SW5kZXg6MUUzfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbFRpdGxlPXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpO2lmKHR5cGVvZiB0aGlzLm9yaWdpbmFsVGl0bGUhPT0ic3RyaW5nIil0aGlzLm9yaWdpbmFsVGl0bGU9IiI7dGhpcy5vcHRpb25zLnRpdGxlPXRoaXMub3B0aW9ucy50aXRsZXx8dGhpcy5vcmlnaW5hbFRpdGxlO3ZhciBhPXRoaXMsYj1hLm9wdGlvbnMsZD1iLnRpdGxlfHwiJiMxNjA7IixlPWMudWkuZGlhbG9nLmdldFRpdGxlSWQoYS5lbGVtZW50KSxnPShhLnVpRGlhbG9nPWMoIjxkaXY+PC9kaXY+IikpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLmhpZGUoKS5hZGRDbGFzcygidWktZGlhbG9nIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsICIrYi5kaWFsb2dDbGFzcykuY3NzKHt6SW5kZXg6Yi56SW5kZXh9KS5hdHRyKCJ0YWJJbmRleCIsCi0xKS5jc3MoIm91dGxpbmUiLDApLmtleWRvd24oZnVuY3Rpb24oaSl7aWYoYi5jbG9zZU9uRXNjYXBlJiZpLmtleUNvZGUmJmkua2V5Q29kZT09PWMudWkua2V5Q29kZS5FU0NBUEUpe2EuY2xvc2UoaSk7aS5wcmV2ZW50RGVmYXVsdCgpfX0pLmF0dHIoe3JvbGU6ImRpYWxvZyIsImFyaWEtbGFiZWxsZWRieSI6ZX0pLm1vdXNlZG93bihmdW5jdGlvbihpKXthLm1vdmVUb1RvcChmYWxzZSxpKX0pO2EuZWxlbWVudC5zaG93KCkucmVtb3ZlQXR0cigidGl0bGUiKS5hZGRDbGFzcygidWktZGlhbG9nLWNvbnRlbnQgdWktd2lkZ2V0LWNvbnRlbnQiKS5hcHBlbmRUbyhnKTt2YXIgZj0oYS51aURpYWxvZ1RpdGxlYmFyPWMoIjxkaXY+PC9kaXY+IikpLmFkZENsYXNzKCJ1aS1kaWFsb2ctdGl0bGViYXIgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIHVpLWhlbHBlci1jbGVhcmZpeCIpLnByZXBlbmRUbyhnKSxoPWMoJzxhIGhyZWY9IiMiPjwvYT4nKS5hZGRDbGFzcygidWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIHVpLWNvcm5lci1hbGwiKS5hdHRyKCJyb2xlIiwKImJ1dHRvbiIpLmhvdmVyKGZ1bmN0aW9uKCl7aC5hZGRDbGFzcygidWktc3RhdGUtaG92ZXIiKX0sZnVuY3Rpb24oKXtoLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSkuZm9jdXMoZnVuY3Rpb24oKXtoLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSkuYmx1cihmdW5jdGlvbigpe2gucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9KS5jbGljayhmdW5jdGlvbihpKXthLmNsb3NlKGkpO3JldHVybiBmYWxzZX0pLmFwcGVuZFRvKGYpOyhhLnVpRGlhbG9nVGl0bGViYXJDbG9zZVRleHQ9YygiPHNwYW4+PC9zcGFuPiIpKS5hZGRDbGFzcygidWktaWNvbiB1aS1pY29uLWNsb3NldGhpY2siKS50ZXh0KGIuY2xvc2VUZXh0KS5hcHBlbmRUbyhoKTtjKCI8c3Bhbj48L3NwYW4+IikuYWRkQ2xhc3MoInVpLWRpYWxvZy10aXRsZSIpLmF0dHIoImlkIixlKS5odG1sKGQpLnByZXBlbmRUbyhmKTtpZihjLmlzRnVuY3Rpb24oYi5iZWZvcmVjbG9zZSkmJiFjLmlzRnVuY3Rpb24oYi5iZWZvcmVDbG9zZSkpYi5iZWZvcmVDbG9zZT0KYi5iZWZvcmVjbG9zZTtmLmZpbmQoIioiKS5hZGQoZikuZGlzYWJsZVNlbGVjdGlvbigpO2IuZHJhZ2dhYmxlJiZjLmZuLmRyYWdnYWJsZSYmYS5fbWFrZURyYWdnYWJsZSgpO2IucmVzaXphYmxlJiZjLmZuLnJlc2l6YWJsZSYmYS5fbWFrZVJlc2l6YWJsZSgpO2EuX2NyZWF0ZUJ1dHRvbnMoYi5idXR0b25zKTthLl9pc09wZW49ZmFsc2U7Yy5mbi5iZ2lmcmFtZSYmZy5iZ2lmcmFtZSgpfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvT3BlbiYmdGhpcy5vcGVuKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2Eub3ZlcmxheSYmYS5vdmVybGF5LmRlc3Ryb3koKTthLnVpRGlhbG9nLmhpZGUoKTthLmVsZW1lbnQudW5iaW5kKCIuZGlhbG9nIikucmVtb3ZlRGF0YSgiZGlhbG9nIikucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1jb250ZW50IHVpLXdpZGdldC1jb250ZW50IikuaGlkZSgpLmFwcGVuZFRvKCJib2R5Iik7YS51aURpYWxvZy5yZW1vdmUoKTthLm9yaWdpbmFsVGl0bGUmJgphLmVsZW1lbnQuYXR0cigidGl0bGUiLGEub3JpZ2luYWxUaXRsZSk7cmV0dXJuIGF9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpRGlhbG9nfSxjbG9zZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGQ7aWYoZmFsc2UhPT1iLl90cmlnZ2VyKCJiZWZvcmVDbG9zZSIsYSkpe2Iub3ZlcmxheSYmYi5vdmVybGF5LmRlc3Ryb3koKTtiLnVpRGlhbG9nLnVuYmluZCgia2V5cHJlc3MudWktZGlhbG9nIik7Yi5faXNPcGVuPWZhbHNlO2lmKGIub3B0aW9ucy5oaWRlKWIudWlEaWFsb2cuaGlkZShiLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2IuX3RyaWdnZXIoImNsb3NlIixhKX0pO2Vsc2V7Yi51aURpYWxvZy5oaWRlKCk7Yi5fdHJpZ2dlcigiY2xvc2UiLGEpfWMudWkuZGlhbG9nLm92ZXJsYXkucmVzaXplKCk7aWYoYi5vcHRpb25zLm1vZGFsKXtkPTA7YygiLnVpLWRpYWxvZyIpLmVhY2goZnVuY3Rpb24oKXtpZih0aGlzIT09Yi51aURpYWxvZ1swXSlkPU1hdGgubWF4KGQsYyh0aGlzKS5jc3MoInotaW5kZXgiKSl9KTsKYy51aS5kaWFsb2cubWF4Wj1kfXJldHVybiBifX0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzT3Blbn0sbW92ZVRvVG9wOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxlPWQub3B0aW9ucztpZihlLm1vZGFsJiYhYXx8IWUuc3RhY2smJiFlLm1vZGFsKXJldHVybiBkLl90cmlnZ2VyKCJmb2N1cyIsYik7aWYoZS56SW5kZXg+Yy51aS5kaWFsb2cubWF4WiljLnVpLmRpYWxvZy5tYXhaPWUuekluZGV4O2lmKGQub3ZlcmxheSl7Yy51aS5kaWFsb2cubWF4Wis9MTtkLm92ZXJsYXkuJGVsLmNzcygiei1pbmRleCIsYy51aS5kaWFsb2cub3ZlcmxheS5tYXhaPWMudWkuZGlhbG9nLm1heFopfWE9e3Njcm9sbFRvcDpkLmVsZW1lbnQuYXR0cigic2Nyb2xsVG9wIiksc2Nyb2xsTGVmdDpkLmVsZW1lbnQuYXR0cigic2Nyb2xsTGVmdCIpfTtjLnVpLmRpYWxvZy5tYXhaKz0xO2QudWlEaWFsb2cuY3NzKCJ6LWluZGV4IixjLnVpLmRpYWxvZy5tYXhaKTtkLmVsZW1lbnQuYXR0cihhKTsKZC5fdHJpZ2dlcigiZm9jdXMiLGIpO3JldHVybiBkfSxvcGVuOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2lzT3Blbil7dmFyIGE9dGhpcyxiPWEub3B0aW9ucyxkPWEudWlEaWFsb2c7YS5vdmVybGF5PWIubW9kYWw/bmV3IGMudWkuZGlhbG9nLm92ZXJsYXkoYSk6bnVsbDthLl9zaXplKCk7YS5fcG9zaXRpb24oYi5wb3NpdGlvbik7ZC5zaG93KGIuc2hvdyk7YS5tb3ZlVG9Ub3AodHJ1ZSk7Yi5tb2RhbCYmZC5iaW5kKCJrZXlwcmVzcy51aS1kaWFsb2ciLGZ1bmN0aW9uKGUpe2lmKGUua2V5Q29kZT09PWMudWkua2V5Q29kZS5UQUIpe3ZhciBnPWMoIjp0YWJiYWJsZSIsdGhpcyksZj1nLmZpbHRlcigiOmZpcnN0Iik7Zz1nLmZpbHRlcigiOmxhc3QiKTtpZihlLnRhcmdldD09PWdbMF0mJiFlLnNoaWZ0S2V5KXtmLmZvY3VzKDEpO3JldHVybiBmYWxzZX1lbHNlIGlmKGUudGFyZ2V0PT09ZlswXSYmZS5zaGlmdEtleSl7Zy5mb2N1cygxKTtyZXR1cm4gZmFsc2V9fX0pO2MoYS5lbGVtZW50LmZpbmQoIjp0YWJiYWJsZSIpLmdldCgpLmNvbmNhdChkLmZpbmQoIi51aS1kaWFsb2ctYnV0dG9ucGFuZSA6dGFiYmFibGUiKS5nZXQoKS5jb25jYXQoZC5nZXQoKSkpKS5lcSgwKS5mb2N1cygpOwphLl9pc09wZW49dHJ1ZTthLl90cmlnZ2VyKCJvcGVuIik7cmV0dXJuIGF9fSxfY3JlYXRlQnV0dG9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGQ9ZmFsc2UsZT1jKCI8ZGl2PjwvZGl2PiIpLmFkZENsYXNzKCJ1aS1kaWFsb2ctYnV0dG9ucGFuZSB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXgiKSxnPWMoIjxkaXY+PC9kaXY+IikuYWRkQ2xhc3MoInVpLWRpYWxvZy1idXR0b25zZXQiKS5hcHBlbmRUbyhlKTtiLnVpRGlhbG9nLmZpbmQoIi51aS1kaWFsb2ctYnV0dG9ucGFuZSIpLnJlbW92ZSgpO3R5cGVvZiBhPT09Im9iamVjdCImJmEhPT1udWxsJiZjLmVhY2goYSxmdW5jdGlvbigpe3JldHVybiEoZD10cnVlKX0pO2lmKGQpe2MuZWFjaChhLGZ1bmN0aW9uKGYsaCl7aD1jLmlzRnVuY3Rpb24oaCk/e2NsaWNrOmgsdGV4dDpmfTpoO2Y9YygnPGJ1dHRvbiB0eXBlPSJidXR0b24iPjwvYnV0dG9uPicpLmF0dHIoaCx0cnVlKS51bmJpbmQoImNsaWNrIikuY2xpY2soZnVuY3Rpb24oKXtoLmNsaWNrLmFwcGx5KGIuZWxlbWVudFswXSwKYXJndW1lbnRzKX0pLmFwcGVuZFRvKGcpO2MuZm4uYnV0dG9uJiZmLmJ1dHRvbigpfSk7ZS5hcHBlbmRUbyhiLnVpRGlhbG9nKX19LF9tYWtlRHJhZ2dhYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShmKXtyZXR1cm57cG9zaXRpb246Zi5wb3NpdGlvbixvZmZzZXQ6Zi5vZmZzZXR9fXZhciBiPXRoaXMsZD1iLm9wdGlvbnMsZT1jKGRvY3VtZW50KSxnO2IudWlEaWFsb2cuZHJhZ2dhYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCwgLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIsaGFuZGxlOiIudWktZGlhbG9nLXRpdGxlYmFyIixjb250YWlubWVudDoiZG9jdW1lbnQiLHN0YXJ0OmZ1bmN0aW9uKGYsaCl7Zz1kLmhlaWdodD09PSJhdXRvIj8iYXV0byI6Yyh0aGlzKS5oZWlnaHQoKTtjKHRoaXMpLmhlaWdodChjKHRoaXMpLmhlaWdodCgpKS5hZGRDbGFzcygidWktZGlhbG9nLWRyYWdnaW5nIik7Yi5fdHJpZ2dlcigiZHJhZ1N0YXJ0IixmLGEoaCkpfSxkcmFnOmZ1bmN0aW9uKGYsCmgpe2IuX3RyaWdnZXIoImRyYWciLGYsYShoKSl9LHN0b3A6ZnVuY3Rpb24oZixoKXtkLnBvc2l0aW9uPVtoLnBvc2l0aW9uLmxlZnQtZS5zY3JvbGxMZWZ0KCksaC5wb3NpdGlvbi50b3AtZS5zY3JvbGxUb3AoKV07Yyh0aGlzKS5yZW1vdmVDbGFzcygidWktZGlhbG9nLWRyYWdnaW5nIikuaGVpZ2h0KGcpO2IuX3RyaWdnZXIoImRyYWdTdG9wIixmLGEoaCkpO2MudWkuZGlhbG9nLm92ZXJsYXkucmVzaXplKCl9fSl9LF9tYWtlUmVzaXphYmxlOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZil7cmV0dXJue29yaWdpbmFsUG9zaXRpb246Zi5vcmlnaW5hbFBvc2l0aW9uLG9yaWdpbmFsU2l6ZTpmLm9yaWdpbmFsU2l6ZSxwb3NpdGlvbjpmLnBvc2l0aW9uLHNpemU6Zi5zaXplfX1hPWE9PT1qP3RoaXMub3B0aW9ucy5yZXNpemFibGU6YTt2YXIgZD10aGlzLGU9ZC5vcHRpb25zLGc9ZC51aURpYWxvZy5jc3MoInBvc2l0aW9uIik7YT10eXBlb2YgYT09PSJzdHJpbmciP2E6Im4sZSxzLHcsc2Usc3csbmUsbnciOwpkLnVpRGlhbG9nLnJlc2l6YWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsYWxzb1Jlc2l6ZTpkLmVsZW1lbnQsbWF4V2lkdGg6ZS5tYXhXaWR0aCxtYXhIZWlnaHQ6ZS5tYXhIZWlnaHQsbWluV2lkdGg6ZS5taW5XaWR0aCxtaW5IZWlnaHQ6ZC5fbWluSGVpZ2h0KCksaGFuZGxlczphLHN0YXJ0OmZ1bmN0aW9uKGYsaCl7Yyh0aGlzKS5hZGRDbGFzcygidWktZGlhbG9nLXJlc2l6aW5nIik7ZC5fdHJpZ2dlcigicmVzaXplU3RhcnQiLGYsYihoKSl9LHJlc2l6ZTpmdW5jdGlvbihmLGgpe2QuX3RyaWdnZXIoInJlc2l6ZSIsZixiKGgpKX0sc3RvcDpmdW5jdGlvbihmLGgpe2ModGhpcykucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1yZXNpemluZyIpO2UuaGVpZ2h0PWModGhpcykuaGVpZ2h0KCk7ZS53aWR0aD1jKHRoaXMpLndpZHRoKCk7ZC5fdHJpZ2dlcigicmVzaXplU3RvcCIsZixiKGgpKTtjLnVpLmRpYWxvZy5vdmVybGF5LnJlc2l6ZSgpfX0pLmNzcygicG9zaXRpb24iLApnKS5maW5kKCIudWktcmVzaXphYmxlLXNlIikuYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1ncmlwLWRpYWdvbmFsLXNlIil9LF9taW5IZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7cmV0dXJuIGEuaGVpZ2h0PT09ImF1dG8iP2EubWluSGVpZ2h0Ok1hdGgubWluKGEubWluSGVpZ2h0LGEuaGVpZ2h0KX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGQ9WzAsMF0sZTtpZihhKXtpZih0eXBlb2YgYT09PSJzdHJpbmcifHx0eXBlb2YgYT09PSJvYmplY3QiJiYiMCJpbiBhKXtiPWEuc3BsaXQ/YS5zcGxpdCgiICIpOlthWzBdLGFbMV1dO2lmKGIubGVuZ3RoPT09MSliWzFdPWJbMF07Yy5lYWNoKFsibGVmdCIsInRvcCJdLGZ1bmN0aW9uKGcsZil7aWYoK2JbZ109PT1iW2ddKXtkW2ddPWJbZ107YltnXT1mfX0pO2E9e215OmIuam9pbigiICIpLGF0OmIuam9pbigiICIpLG9mZnNldDpkLmpvaW4oIiAiKX19YT1jLmV4dGVuZCh7fSxjLnVpLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5wb3NpdGlvbiwKYSl9ZWxzZSBhPWMudWkuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLnBvc2l0aW9uOyhlPXRoaXMudWlEaWFsb2cuaXMoIjp2aXNpYmxlIikpfHx0aGlzLnVpRGlhbG9nLnNob3coKTt0aGlzLnVpRGlhbG9nLmNzcyh7dG9wOjAsbGVmdDowfSkucG9zaXRpb24oYSk7ZXx8dGhpcy51aURpYWxvZy5oaWRlKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsZD17fSxlPWZhbHNlO2MuZWFjaChhLGZ1bmN0aW9uKGcsZil7Yi5fc2V0T3B0aW9uKGcsZik7aWYoZyBpbiBrKWU9dHJ1ZTtpZihnIGluIGwpZFtnXT1mfSk7ZSYmdGhpcy5fc2l6ZSgpO3RoaXMudWlEaWFsb2cuaXMoIjpkYXRhKHJlc2l6YWJsZSkiKSYmdGhpcy51aURpYWxvZy5yZXNpemFibGUoIm9wdGlvbiIsZCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9ZC51aURpYWxvZztzd2l0Y2goYSl7Y2FzZSAiYmVmb3JlY2xvc2UiOmE9ImJlZm9yZUNsb3NlIjticmVhaztjYXNlICJidXR0b25zIjpkLl9jcmVhdGVCdXR0b25zKGIpOwpicmVhaztjYXNlICJjbG9zZVRleHQiOmQudWlEaWFsb2dUaXRsZWJhckNsb3NlVGV4dC50ZXh0KCIiK2IpO2JyZWFrO2Nhc2UgImRpYWxvZ0NsYXNzIjplLnJlbW92ZUNsYXNzKGQub3B0aW9ucy5kaWFsb2dDbGFzcykuYWRkQ2xhc3MoInVpLWRpYWxvZyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCAiK2IpO2JyZWFrO2Nhc2UgImRpc2FibGVkIjpiP2UuYWRkQ2xhc3MoInVpLWRpYWxvZy1kaXNhYmxlZCIpOmUucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1kaXNhYmxlZCIpO2JyZWFrO2Nhc2UgImRyYWdnYWJsZSI6dmFyIGc9ZS5pcygiOmRhdGEoZHJhZ2dhYmxlKSIpO2cmJiFiJiZlLmRyYWdnYWJsZSgiZGVzdHJveSIpOyFnJiZiJiZkLl9tYWtlRHJhZ2dhYmxlKCk7YnJlYWs7Y2FzZSAicG9zaXRpb24iOmQuX3Bvc2l0aW9uKGIpO2JyZWFrO2Nhc2UgInJlc2l6YWJsZSI6KGc9ZS5pcygiOmRhdGEocmVzaXphYmxlKSIpKSYmIWImJmUucmVzaXphYmxlKCJkZXN0cm95Iik7CmcmJnR5cGVvZiBiPT09InN0cmluZyImJmUucmVzaXphYmxlKCJvcHRpb24iLCJoYW5kbGVzIixiKTshZyYmYiE9PWZhbHNlJiZkLl9tYWtlUmVzaXphYmxlKGIpO2JyZWFrO2Nhc2UgInRpdGxlIjpjKCIudWktZGlhbG9nLXRpdGxlIixkLnVpRGlhbG9nVGl0bGViYXIpLmh0bWwoIiIrKGJ8fCImIzE2MDsiKSk7YnJlYWt9Yy5XaWRnZXQucHJvdG90eXBlLl9zZXRPcHRpb24uYXBwbHkoZCxhcmd1bWVudHMpfSxfc2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiLGQ7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxoZWlnaHQ6MH0pO2lmKGEubWluV2lkdGg+YS53aWR0aClhLndpZHRoPWEubWluV2lkdGg7Yj10aGlzLnVpRGlhbG9nLmNzcyh7aGVpZ2h0OiJhdXRvIix3aWR0aDphLndpZHRofSkuaGVpZ2h0KCk7ZD1NYXRoLm1heCgwLGEubWluSGVpZ2h0LWIpO2lmKGEuaGVpZ2h0PT09ImF1dG8iKWlmKGMuc3VwcG9ydC5taW5IZWlnaHQpdGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmQsCmhlaWdodDoiYXV0byJ9KTtlbHNle3RoaXMudWlEaWFsb2cuc2hvdygpO2E9dGhpcy5lbGVtZW50LmNzcygiaGVpZ2h0IiwiYXV0byIpLmhlaWdodCgpO3RoaXMudWlEaWFsb2cuaGlkZSgpO3RoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoYSxkKSl9ZWxzZSB0aGlzLmVsZW1lbnQuaGVpZ2h0KE1hdGgubWF4KGEuaGVpZ2h0LWIsMCkpO3RoaXMudWlEaWFsb2cuaXMoIjpkYXRhKHJlc2l6YWJsZSkiKSYmdGhpcy51aURpYWxvZy5yZXNpemFibGUoIm9wdGlvbiIsIm1pbkhlaWdodCIsdGhpcy5fbWluSGVpZ2h0KCkpfX0pO2MuZXh0ZW5kKGMudWkuZGlhbG9nLHt2ZXJzaW9uOiIxLjguNiIsdXVpZDowLG1heFo6MCxnZXRUaXRsZUlkOmZ1bmN0aW9uKGEpe2E9YS5hdHRyKCJpZCIpO2lmKCFhKXt0aGlzLnV1aWQrPTE7YT10aGlzLnV1aWR9cmV0dXJuInVpLWRpYWxvZy10aXRsZS0iK2F9LG92ZXJsYXk6ZnVuY3Rpb24oYSl7dGhpcy4kZWw9Yy51aS5kaWFsb2cub3ZlcmxheS5jcmVhdGUoYSl9fSk7CmMuZXh0ZW5kKGMudWkuZGlhbG9nLm92ZXJsYXkse2luc3RhbmNlczpbXSxvbGRJbnN0YW5jZXM6W10sbWF4WjowLGV2ZW50czpjLm1hcCgiZm9jdXMsbW91c2Vkb3duLG1vdXNldXAsa2V5ZG93bixrZXlwcmVzcyxjbGljayIuc3BsaXQoIiwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYSsiLmRpYWxvZy1vdmVybGF5In0pLmpvaW4oIiAiKSxjcmVhdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5pbnN0YW5jZXMubGVuZ3RoPT09MCl7c2V0VGltZW91dChmdW5jdGlvbigpe2MudWkuZGlhbG9nLm92ZXJsYXkuaW5zdGFuY2VzLmxlbmd0aCYmYyhkb2N1bWVudCkuYmluZChjLnVpLmRpYWxvZy5vdmVybGF5LmV2ZW50cyxmdW5jdGlvbihkKXtpZihjKGQudGFyZ2V0KS56SW5kZXgoKTxjLnVpLmRpYWxvZy5vdmVybGF5Lm1heFopcmV0dXJuIGZhbHNlfSl9LDEpO2MoZG9jdW1lbnQpLmJpbmQoImtleWRvd24uZGlhbG9nLW92ZXJsYXkiLGZ1bmN0aW9uKGQpe2lmKGEub3B0aW9ucy5jbG9zZU9uRXNjYXBlJiYKZC5rZXlDb2RlJiZkLmtleUNvZGU9PT1jLnVpLmtleUNvZGUuRVNDQVBFKXthLmNsb3NlKGQpO2QucHJldmVudERlZmF1bHQoKX19KTtjKHdpbmRvdykuYmluZCgicmVzaXplLmRpYWxvZy1vdmVybGF5IixjLnVpLmRpYWxvZy5vdmVybGF5LnJlc2l6ZSl9dmFyIGI9KHRoaXMub2xkSW5zdGFuY2VzLnBvcCgpfHxjKCI8ZGl2PjwvZGl2PiIpLmFkZENsYXNzKCJ1aS13aWRnZXQtb3ZlcmxheSIpKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KS5jc3Moe3dpZHRoOnRoaXMud2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWlnaHQoKX0pO2MuZm4uYmdpZnJhbWUmJmIuYmdpZnJhbWUoKTt0aGlzLmluc3RhbmNlcy5wdXNoKGIpO3JldHVybiBifSxkZXN0cm95OmZ1bmN0aW9uKGEpe3RoaXMub2xkSW5zdGFuY2VzLnB1c2godGhpcy5pbnN0YW5jZXMuc3BsaWNlKGMuaW5BcnJheShhLHRoaXMuaW5zdGFuY2VzKSwxKVswXSk7dGhpcy5pbnN0YW5jZXMubGVuZ3RoPT09MCYmYyhbZG9jdW1lbnQsd2luZG93XSkudW5iaW5kKCIuZGlhbG9nLW92ZXJsYXkiKTsKYS5yZW1vdmUoKTt2YXIgYj0wO2MuZWFjaCh0aGlzLmluc3RhbmNlcyxmdW5jdGlvbigpe2I9TWF0aC5tYXgoYix0aGlzLmNzcygiei1pbmRleCIpKX0pO3RoaXMubWF4Wj1ifSxoZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgYSxiO2lmKGMuYnJvd3Nlci5tc2llJiZjLmJyb3dzZXIudmVyc2lvbjw3KXthPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpO2I9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCxkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCk7cmV0dXJuIGE8Yj9jKHdpbmRvdykuaGVpZ2h0KCkrInB4IjphKyJweCJ9ZWxzZSByZXR1cm4gYyhkb2N1bWVudCkuaGVpZ2h0KCkrInB4In0sd2lkdGg6ZnVuY3Rpb24oKXt2YXIgYSxiO2lmKGMuYnJvd3Nlci5tc2llJiZjLmJyb3dzZXIudmVyc2lvbjw3KXthPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCwKZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aCk7Yj1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgsZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCk7cmV0dXJuIGE8Yj9jKHdpbmRvdykud2lkdGgoKSsicHgiOmErInB4In1lbHNlIHJldHVybiBjKGRvY3VtZW50KS53aWR0aCgpKyJweCJ9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBhPWMoW10pO2MuZWFjaChjLnVpLmRpYWxvZy5vdmVybGF5Lmluc3RhbmNlcyxmdW5jdGlvbigpe2E9YS5hZGQodGhpcyl9KTthLmNzcyh7d2lkdGg6MCxoZWlnaHQ6MH0pLmNzcyh7d2lkdGg6Yy51aS5kaWFsb2cub3ZlcmxheS53aWR0aCgpLGhlaWdodDpjLnVpLmRpYWxvZy5vdmVybGF5LmhlaWdodCgpfSl9fSk7Yy5leHRlbmQoYy51aS5kaWFsb2cub3ZlcmxheS5wcm90b3R5cGUse2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjLnVpLmRpYWxvZy5vdmVybGF5LmRlc3Ryb3kodGhpcy4kZWwpfX0pfSkoalF1ZXJ5KTsKOwovKiBVSSBTbGlkZXIgKi8KKGZ1bmN0aW9uKGQpe2Qud2lkZ2V0KCJ1aS5zbGlkZXIiLGQudWkubW91c2Use3dpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7YW5pbWF0ZTpmYWxzZSxkaXN0YW5jZTowLG1heDoxMDAsbWluOjAsb3JpZW50YXRpb246Imhvcml6b250YWwiLHJhbmdlOmZhbHNlLHN0ZXA6MSx2YWx1ZTowLHZhbHVlczpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMub3B0aW9uczt0aGlzLl9tb3VzZVNsaWRpbmc9dGhpcy5fa2V5U2xpZGluZz1mYWxzZTt0aGlzLl9hbmltYXRlT2ZmPXRydWU7dGhpcy5faGFuZGxlSW5kZXg9bnVsbDt0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO3RoaXMuX21vdXNlSW5pdCgpO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc2xpZGVyIHVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24rIiB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpO2IuZGlzYWJsZWQmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc2xpZGVyLWRpc2FibGVkIHVpLWRpc2FibGVkIik7CnRoaXMucmFuZ2U9ZChbXSk7aWYoYi5yYW5nZSl7aWYoYi5yYW5nZT09PXRydWUpe3RoaXMucmFuZ2U9ZCgiPGRpdj48L2Rpdj4iKTtpZighYi52YWx1ZXMpYi52YWx1ZXM9W3RoaXMuX3ZhbHVlTWluKCksdGhpcy5fdmFsdWVNaW4oKV07aWYoYi52YWx1ZXMubGVuZ3RoJiZiLnZhbHVlcy5sZW5ndGghPT0yKWIudmFsdWVzPVtiLnZhbHVlc1swXSxiLnZhbHVlc1swXV19ZWxzZSB0aGlzLnJhbmdlPWQoIjxkaXY+PC9kaXY+Iik7dGhpcy5yYW5nZS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1zbGlkZXItcmFuZ2UiKTtpZihiLnJhbmdlPT09Im1pbiJ8fGIucmFuZ2U9PT0ibWF4Iil0aGlzLnJhbmdlLmFkZENsYXNzKCJ1aS1zbGlkZXItcmFuZ2UtIitiLnJhbmdlKTt0aGlzLnJhbmdlLmFkZENsYXNzKCJ1aS13aWRnZXQtaGVhZGVyIil9ZCgiLnVpLXNsaWRlci1oYW5kbGUiLHRoaXMuZWxlbWVudCkubGVuZ3RoPT09MCYmZCgiPGEgaHJlZj0nIyc+PC9hPiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUiKTsKaWYoYi52YWx1ZXMmJmIudmFsdWVzLmxlbmd0aClmb3IoO2QoIi51aS1zbGlkZXItaGFuZGxlIix0aGlzLmVsZW1lbnQpLmxlbmd0aDxiLnZhbHVlcy5sZW5ndGg7KWQoIjxhIGhyZWY9JyMnPjwvYT4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlIik7dGhpcy5oYW5kbGVzPWQoIi51aS1zbGlkZXItaGFuZGxlIix0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiKTt0aGlzLmhhbmRsZT10aGlzLmhhbmRsZXMuZXEoMCk7dGhpcy5oYW5kbGVzLmFkZCh0aGlzLnJhbmdlKS5maWx0ZXIoImEiKS5jbGljayhmdW5jdGlvbihjKXtjLnByZXZlbnREZWZhdWx0KCl9KS5ob3ZlcihmdW5jdGlvbigpe2IuZGlzYWJsZWR8fGQodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LGZ1bmN0aW9uKCl7ZCh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX0pLmZvY3VzKGZ1bmN0aW9uKCl7aWYoYi5kaXNhYmxlZClkKHRoaXMpLmJsdXIoKTsKZWxzZXtkKCIudWktc2xpZGVyIC51aS1zdGF0ZS1mb2N1cyIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpO2QodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9fSkuYmx1cihmdW5jdGlvbigpe2QodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9KTt0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbihjKXtkKHRoaXMpLmRhdGEoImluZGV4LnVpLXNsaWRlci1oYW5kbGUiLGMpfSk7dGhpcy5oYW5kbGVzLmtleWRvd24oZnVuY3Rpb24oYyl7dmFyIGU9dHJ1ZSxmPWQodGhpcykuZGF0YSgiaW5kZXgudWktc2xpZGVyLWhhbmRsZSIpLGgsZyxpO2lmKCFhLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChjLmtleUNvZGUpe2Nhc2UgZC51aS5rZXlDb2RlLkhPTUU6Y2FzZSBkLnVpLmtleUNvZGUuRU5EOmNhc2UgZC51aS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBkLnVpLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgZC51aS5rZXlDb2RlLlVQOmNhc2UgZC51aS5rZXlDb2RlLlJJR0hUOmNhc2UgZC51aS5rZXlDb2RlLkRPV046Y2FzZSBkLnVpLmtleUNvZGUuTEVGVDplPQpmYWxzZTtpZighYS5fa2V5U2xpZGluZyl7YS5fa2V5U2xpZGluZz10cnVlO2QodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpO2g9YS5fc3RhcnQoYyxmKTtpZihoPT09ZmFsc2UpcmV0dXJufWJyZWFrfWk9YS5vcHRpb25zLnN0ZXA7aD1hLm9wdGlvbnMudmFsdWVzJiZhLm9wdGlvbnMudmFsdWVzLmxlbmd0aD8oZz1hLnZhbHVlcyhmKSk6KGc9YS52YWx1ZSgpKTtzd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGQudWkua2V5Q29kZS5IT01FOmc9YS5fdmFsdWVNaW4oKTticmVhaztjYXNlIGQudWkua2V5Q29kZS5FTkQ6Zz1hLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2UgZC51aS5rZXlDb2RlLlBBR0VfVVA6Zz1hLl90cmltQWxpZ25WYWx1ZShoKyhhLl92YWx1ZU1heCgpLWEuX3ZhbHVlTWluKCkpLzUpO2JyZWFrO2Nhc2UgZC51aS5rZXlDb2RlLlBBR0VfRE9XTjpnPWEuX3RyaW1BbGlnblZhbHVlKGgtKGEuX3ZhbHVlTWF4KCktYS5fdmFsdWVNaW4oKSkvNSk7YnJlYWs7Y2FzZSBkLnVpLmtleUNvZGUuVVA6Y2FzZSBkLnVpLmtleUNvZGUuUklHSFQ6aWYoaD09PQphLl92YWx1ZU1heCgpKXJldHVybjtnPWEuX3RyaW1BbGlnblZhbHVlKGgraSk7YnJlYWs7Y2FzZSBkLnVpLmtleUNvZGUuRE9XTjpjYXNlIGQudWkua2V5Q29kZS5MRUZUOmlmKGg9PT1hLl92YWx1ZU1pbigpKXJldHVybjtnPWEuX3RyaW1BbGlnblZhbHVlKGgtaSk7YnJlYWt9YS5fc2xpZGUoYyxmLGcpO3JldHVybiBlfX0pLmtleXVwKGZ1bmN0aW9uKGMpe3ZhciBlPWQodGhpcykuZGF0YSgiaW5kZXgudWktc2xpZGVyLWhhbmRsZSIpO2lmKGEuX2tleVNsaWRpbmcpe2EuX2tleVNsaWRpbmc9ZmFsc2U7YS5fc3RvcChjLGUpO2EuX2NoYW5nZShjLGUpO2QodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfX0pO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMuX2FuaW1hdGVPZmY9ZmFsc2V9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXMucmVtb3ZlKCk7dGhpcy5yYW5nZS5yZW1vdmUoKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNsaWRlciB1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwgdWktc2xpZGVyLWRpc2FibGVkIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikucmVtb3ZlRGF0YSgic2xpZGVyIikudW5iaW5kKCIuc2xpZGVyIik7CnRoaXMuX21vdXNlRGVzdHJveSgpO3JldHVybiB0aGlzfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxjLGUsZixoLGc7aWYoYi5kaXNhYmxlZClyZXR1cm4gZmFsc2U7dGhpcy5lbGVtZW50U2l6ZT17d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCl9O3RoaXMuZWxlbWVudE9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCk7Yz10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2Uoe3g6YS5wYWdlWCx5OmEucGFnZVl9KTtlPXRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSsxO2g9dGhpczt0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbihpKXt2YXIgaj1NYXRoLmFicyhjLWgudmFsdWVzKGkpKTtpZihlPmope2U9ajtmPWQodGhpcyk7Zz1pfX0pO2lmKGIucmFuZ2U9PT10cnVlJiZ0aGlzLnZhbHVlcygxKT09PWIubWluKXtnKz0xO2Y9ZCh0aGlzLmhhbmRsZXNbZ10pfWlmKHRoaXMuX3N0YXJ0KGEsCmcpPT09ZmFsc2UpcmV0dXJuIGZhbHNlO3RoaXMuX21vdXNlU2xpZGluZz10cnVlO2guX2hhbmRsZUluZGV4PWc7Zi5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikuZm9jdXMoKTtiPWYub2Zmc2V0KCk7dGhpcy5fY2xpY2tPZmZzZXQ9IWQoYS50YXJnZXQpLnBhcmVudHMoKS5hbmRTZWxmKCkuaXMoIi51aS1zbGlkZXItaGFuZGxlIik/e2xlZnQ6MCx0b3A6MH06e2xlZnQ6YS5wYWdlWC1iLmxlZnQtZi53aWR0aCgpLzIsdG9wOmEucGFnZVktYi50b3AtZi5oZWlnaHQoKS8yLShwYXJzZUludChmLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChmLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChmLmNzcygibWFyZ2luVG9wIiksMTApfHwwKX07dGhpcy5fc2xpZGUoYSxnLGMpO3JldHVybiB0aGlzLl9hbmltYXRlT2ZmPXRydWV9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LF9tb3VzZURyYWc6ZnVuY3Rpb24oYSl7dmFyIGI9CnRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZSh7eDphLnBhZ2VYLHk6YS5wYWdlWX0pO3RoaXMuX3NsaWRlKGEsdGhpcy5faGFuZGxlSW5kZXgsYik7cmV0dXJuIGZhbHNlfSxfbW91c2VTdG9wOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlcy5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIik7dGhpcy5fbW91c2VTbGlkaW5nPWZhbHNlO3RoaXMuX3N0b3AoYSx0aGlzLl9oYW5kbGVJbmRleCk7dGhpcy5fY2hhbmdlKGEsdGhpcy5faGFuZGxlSW5kZXgpO3RoaXMuX2NsaWNrT2Zmc2V0PXRoaXMuX2hhbmRsZUluZGV4PW51bGw7cmV0dXJuIHRoaXMuX2FuaW1hdGVPZmY9ZmFsc2V9LF9kZXRlY3RPcmllbnRhdGlvbjpmdW5jdGlvbigpe3RoaXMub3JpZW50YXRpb249dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uPT09InZlcnRpY2FsIj8idmVydGljYWwiOiJob3Jpem9udGFsIn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbihhKXt2YXIgYjtpZih0aGlzLm9yaWVudGF0aW9uPT09Imhvcml6b250YWwiKXtiPQp0aGlzLmVsZW1lbnRTaXplLndpZHRoO2E9YS54LXRoaXMuZWxlbWVudE9mZnNldC5sZWZ0LSh0aGlzLl9jbGlja09mZnNldD90aGlzLl9jbGlja09mZnNldC5sZWZ0OjApfWVsc2V7Yj10aGlzLmVsZW1lbnRTaXplLmhlaWdodDthPWEueS10aGlzLmVsZW1lbnRPZmZzZXQudG9wLSh0aGlzLl9jbGlja09mZnNldD90aGlzLl9jbGlja09mZnNldC50b3A6MCl9Yj1hL2I7aWYoYj4xKWI9MTtpZihiPDApYj0wO2lmKHRoaXMub3JpZW50YXRpb249PT0idmVydGljYWwiKWI9MS1iO2E9dGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpO3JldHVybiB0aGlzLl90cmltQWxpZ25WYWx1ZSh0aGlzLl92YWx1ZU1pbigpK2IqYSl9LF9zdGFydDpmdW5jdGlvbihhLGIpe3ZhciBjPXtoYW5kbGU6dGhpcy5oYW5kbGVzW2JdLHZhbHVlOnRoaXMudmFsdWUoKX07aWYodGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpe2MudmFsdWU9dGhpcy52YWx1ZXMoYik7CmMudmFsdWVzPXRoaXMudmFsdWVzKCl9cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0IixhLGMpfSxfc2xpZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlO2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtlPXRoaXMudmFsdWVzKGI/MDoxKTtpZih0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aD09PTImJnRoaXMub3B0aW9ucy5yYW5nZT09PXRydWUmJihiPT09MCYmYz5lfHxiPT09MSYmYzxlKSljPWU7aWYoYyE9PXRoaXMudmFsdWVzKGIpKXtlPXRoaXMudmFsdWVzKCk7ZVtiXT1jO2E9dGhpcy5fdHJpZ2dlcigic2xpZGUiLGEse2hhbmRsZTp0aGlzLmhhbmRsZXNbYl0sdmFsdWU6Yyx2YWx1ZXM6ZX0pO3RoaXMudmFsdWVzKGI/MDoxKTthIT09ZmFsc2UmJnRoaXMudmFsdWVzKGIsYyx0cnVlKX19ZWxzZSBpZihjIT09dGhpcy52YWx1ZSgpKXthPXRoaXMuX3RyaWdnZXIoInNsaWRlIixhLHtoYW5kbGU6dGhpcy5oYW5kbGVzW2JdLHZhbHVlOmN9KTsKYSE9PWZhbHNlJiZ0aGlzLnZhbHVlKGMpfX0sX3N0b3A6ZnVuY3Rpb24oYSxiKXt2YXIgYz17aGFuZGxlOnRoaXMuaGFuZGxlc1tiXSx2YWx1ZTp0aGlzLnZhbHVlKCl9O2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtjLnZhbHVlPXRoaXMudmFsdWVzKGIpO2MudmFsdWVzPXRoaXMudmFsdWVzKCl9dGhpcy5fdHJpZ2dlcigic3RvcCIsYSxjKX0sX2NoYW5nZTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLl9rZXlTbGlkaW5nJiYhdGhpcy5fbW91c2VTbGlkaW5nKXt2YXIgYz17aGFuZGxlOnRoaXMuaGFuZGxlc1tiXSx2YWx1ZTp0aGlzLnZhbHVlKCl9O2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtjLnZhbHVlPXRoaXMudmFsdWVzKGIpO2MudmFsdWVzPXRoaXMudmFsdWVzKCl9dGhpcy5fdHJpZ2dlcigiY2hhbmdlIixhLGMpfX0sdmFsdWU6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aCl7dGhpcy5vcHRpb25zLnZhbHVlPQp0aGlzLl90cmltQWxpZ25WYWx1ZShhKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9jaGFuZ2UobnVsbCwwKX1yZXR1cm4gdGhpcy5fdmFsdWUoKX0sdmFsdWVzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7dGhpcy5vcHRpb25zLnZhbHVlc1thXT10aGlzLl90cmltQWxpZ25WYWx1ZShiKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9jaGFuZ2UobnVsbCxhKX1pZihhcmd1bWVudHMubGVuZ3RoKWlmKGQuaXNBcnJheShhcmd1bWVudHNbMF0pKXtjPXRoaXMub3B0aW9ucy52YWx1ZXM7ZT1hcmd1bWVudHNbMF07Zm9yKGY9MDtmPGMubGVuZ3RoO2YrPTEpe2NbZl09dGhpcy5fdHJpbUFsaWduVmFsdWUoZVtmXSk7dGhpcy5fY2hhbmdlKG51bGwsZil9dGhpcy5fcmVmcmVzaFZhbHVlKCl9ZWxzZSByZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg/dGhpcy5fdmFsdWVzKGEpOnRoaXMudmFsdWUoKTsKZWxzZSByZXR1cm4gdGhpcy5fdmFsdWVzKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPTA7aWYoZC5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpKWU9dGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg7ZC5XaWRnZXQucHJvdG90eXBlLl9zZXRPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3N3aXRjaChhKXtjYXNlICJkaXNhYmxlZCI6aWYoYil7dGhpcy5oYW5kbGVzLmZpbHRlcigiLnVpLXN0YXRlLWZvY3VzIikuYmx1cigpO3RoaXMuaGFuZGxlcy5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKTt0aGlzLmhhbmRsZXMuYXR0cigiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZGlzYWJsZWQiKX1lbHNle3RoaXMuaGFuZGxlcy5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX1icmVhaztjYXNlICJvcmllbnRhdGlvbiI6dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTsKdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwiKS5hZGRDbGFzcygidWktc2xpZGVyLSIrdGhpcy5vcmllbnRhdGlvbik7dGhpcy5fcmVmcmVzaFZhbHVlKCk7YnJlYWs7Y2FzZSAidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9dHJ1ZTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9jaGFuZ2UobnVsbCwwKTt0aGlzLl9hbmltYXRlT2ZmPWZhbHNlO2JyZWFrO2Nhc2UgInZhbHVlcyI6dGhpcy5fYW5pbWF0ZU9mZj10cnVlO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO2ZvcihjPTA7YzxlO2MrPTEpdGhpcy5fY2hhbmdlKG51bGwsYyk7dGhpcy5fYW5pbWF0ZU9mZj1mYWxzZTticmVha319LF92YWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy52YWx1ZTtyZXR1cm4gYT10aGlzLl90cmltQWxpZ25WYWx1ZShhKX0sX3ZhbHVlczpmdW5jdGlvbihhKXt2YXIgYixjO2lmKGFyZ3VtZW50cy5sZW5ndGgpe2I9dGhpcy5vcHRpb25zLnZhbHVlc1thXTsKcmV0dXJuIGI9dGhpcy5fdHJpbUFsaWduVmFsdWUoYil9ZWxzZXtiPXRoaXMub3B0aW9ucy52YWx1ZXMuc2xpY2UoKTtmb3IoYz0wO2M8Yi5sZW5ndGg7Yys9MSliW2NdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGJbY10pO3JldHVybiBifX0sX3RyaW1BbGlnblZhbHVlOmZ1bmN0aW9uKGEpe2lmKGE8dGhpcy5fdmFsdWVNaW4oKSlyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKTtpZihhPnRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7dmFyIGI9dGhpcy5vcHRpb25zLnN0ZXA+MD90aGlzLm9wdGlvbnMuc3RlcDoxLGM9YSViO2E9YS1jO2lmKE1hdGguYWJzKGMpKjI+PWIpYSs9Yz4wP2I6LWI7cmV0dXJuIHBhcnNlRmxvYXQoYS50b0ZpeGVkKDUpKX0sX3ZhbHVlTWluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5taW59LF92YWx1ZU1heDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4fSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGE9CnRoaXMub3B0aW9ucy5yYW5nZSxiPXRoaXMub3B0aW9ucyxjPXRoaXMsZT0hdGhpcy5fYW5pbWF0ZU9mZj9iLmFuaW1hdGU6ZmFsc2UsZixoPXt9LGcsaSxqLGw7aWYodGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpdGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oayl7Zj0oYy52YWx1ZXMoayktYy5fdmFsdWVNaW4oKSkvKGMuX3ZhbHVlTWF4KCktYy5fdmFsdWVNaW4oKSkqMTAwO2hbYy5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIj8ibGVmdCI6ImJvdHRvbSJdPWYrIiUiO2QodGhpcykuc3RvcCgxLDEpW2U/ImFuaW1hdGUiOiJjc3MiXShoLGIuYW5pbWF0ZSk7aWYoYy5vcHRpb25zLnJhbmdlPT09dHJ1ZSlpZihjLm9yaWVudGF0aW9uPT09Imhvcml6b250YWwiKXtpZihrPT09MCljLnJhbmdlLnN0b3AoMSwxKVtlPyJhbmltYXRlIjoiY3NzIl0oe2xlZnQ6ZisiJSJ9LGIuYW5pbWF0ZSk7aWYoaz09PTEpYy5yYW5nZVtlPyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOmYtCmcrIiUifSx7cXVldWU6ZmFsc2UsZHVyYXRpb246Yi5hbmltYXRlfSl9ZWxzZXtpZihrPT09MCljLnJhbmdlLnN0b3AoMSwxKVtlPyJhbmltYXRlIjoiY3NzIl0oe2JvdHRvbTpmKyIlIn0sYi5hbmltYXRlKTtpZihrPT09MSljLnJhbmdlW2U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OmYtZysiJSJ9LHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjpiLmFuaW1hdGV9KX1nPWZ9KTtlbHNle2k9dGhpcy52YWx1ZSgpO2o9dGhpcy5fdmFsdWVNaW4oKTtsPXRoaXMuX3ZhbHVlTWF4KCk7Zj1sIT09aj8oaS1qKS8obC1qKSoxMDA6MDtoW2Mub3JpZW50YXRpb249PT0iaG9yaXpvbnRhbCI/ImxlZnQiOiJib3R0b20iXT1mKyIlIjt0aGlzLmhhbmRsZS5zdG9wKDEsMSlbZT8iYW5pbWF0ZSI6ImNzcyJdKGgsYi5hbmltYXRlKTtpZihhPT09Im1pbiImJnRoaXMub3JpZW50YXRpb249PT0iaG9yaXpvbnRhbCIpdGhpcy5yYW5nZS5zdG9wKDEsMSlbZT8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDpmKyIlIn0sCmIuYW5pbWF0ZSk7aWYoYT09PSJtYXgiJiZ0aGlzLm9yaWVudGF0aW9uPT09Imhvcml6b250YWwiKXRoaXMucmFuZ2VbZT8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDoxMDAtZisiJSJ9LHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjpiLmFuaW1hdGV9KTtpZihhPT09Im1pbiImJnRoaXMub3JpZW50YXRpb249PT0idmVydGljYWwiKXRoaXMucmFuZ2Uuc3RvcCgxLDEpW2U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OmYrIiUifSxiLmFuaW1hdGUpO2lmKGE9PT0ibWF4IiYmdGhpcy5vcmllbnRhdGlvbj09PSJ2ZXJ0aWNhbCIpdGhpcy5yYW5nZVtlPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtZisiJSJ9LHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjpiLmFuaW1hdGV9KX19fSk7ZC5leHRlbmQoZC51aS5zbGlkZXIse3ZlcnNpb246IjEuOC42In0pfSkoalF1ZXJ5KTsKOwovKiBVSSBUYWJzICovCihmdW5jdGlvbihkLHApe2Z1bmN0aW9uIHUoKXtyZXR1cm4rK3Z9ZnVuY3Rpb24gdygpe3JldHVybisreH12YXIgdj0wLHg9MDtkLndpZGdldCgidWkudGFicyIse29wdGlvbnM6e2FkZDpudWxsLGFqYXhPcHRpb25zOm51bGwsY2FjaGU6ZmFsc2UsY29va2llOm51bGwsY29sbGFwc2libGU6ZmFsc2UsZGlzYWJsZTpudWxsLGRpc2FibGVkOltdLGVuYWJsZTpudWxsLGV2ZW50OiJjbGljayIsZng6bnVsbCxpZFByZWZpeDoidWktdGFicy0iLGxvYWQ6bnVsbCxwYW5lbFRlbXBsYXRlOiI8ZGl2PjwvZGl2PiIscmVtb3ZlOm51bGwsc2VsZWN0Om51bGwsc2hvdzpudWxsLHNwaW5uZXI6IjxlbT5Mb2FkaW5nJiM4MjMwOzwvZW0+Iix0YWJUZW1wbGF0ZToiPGxpPjxhIGhyZWY9JyN7aHJlZn0nPjxzcGFuPiN7bGFiZWx9PC9zcGFuPjwvYT48L2xpPiJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl90YWJpZnkodHJ1ZSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYixlKXtpZihiPT0ic2VsZWN0ZWQiKXRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSYmCmU9PXRoaXMub3B0aW9ucy5zZWxlY3RlZHx8dGhpcy5zZWxlY3QoZSk7ZWxzZXt0aGlzLm9wdGlvbnNbYl09ZTt0aGlzLl90YWJpZnkoKX19LF90YWJJZDpmdW5jdGlvbihiKXtyZXR1cm4gYi50aXRsZSYmYi50aXRsZS5yZXBsYWNlKC9ccy9nLCJfIikucmVwbGFjZSgvW15cd1x1MDBjMC1cdUZGRkYtXS9nLCIiKXx8dGhpcy5vcHRpb25zLmlkUHJlZml4K3UoKX0sX3Nhbml0aXplU2VsZWN0b3I6ZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZSgvOi9nLCJcXDoiKX0sX2Nvb2tpZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29va2llfHwodGhpcy5jb29raWU9dGhpcy5vcHRpb25zLmNvb2tpZS5uYW1lfHwidWktdGFicy0iK3coKSk7cmV0dXJuIGQuY29va2llLmFwcGx5KG51bGwsW2JdLmNvbmNhdChkLm1ha2VBcnJheShhcmd1bWVudHMpKSl9LF91aTpmdW5jdGlvbihiLGUpe3JldHVybnt0YWI6YixwYW5lbDplLGluZGV4OnRoaXMuYW5jaG9ycy5pbmRleChiKX19LF9jbGVhbnVwOmZ1bmN0aW9uKCl7dGhpcy5saXMuZmlsdGVyKCIudWktc3RhdGUtcHJvY2Vzc2luZyIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1wcm9jZXNzaW5nIikuZmluZCgic3BhbjpkYXRhKGxhYmVsLnRhYnMpIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPQpkKHRoaXMpO2IuaHRtbChiLmRhdGEoImxhYmVsLnRhYnMiKSkucmVtb3ZlRGF0YSgibGFiZWwudGFicyIpfSl9LF90YWJpZnk6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gZShnLGYpe2cuY3NzKCJkaXNwbGF5IiwiIik7IWQuc3VwcG9ydC5vcGFjaXR5JiZmLm9wYWNpdHkmJmdbMF0uc3R5bGUucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKX12YXIgYT10aGlzLGM9dGhpcy5vcHRpb25zLGg9L14jLisvO3RoaXMubGlzdD10aGlzLmVsZW1lbnQuZmluZCgib2wsdWwiKS5lcSgwKTt0aGlzLmxpcz1kKCIgPiBsaTpoYXMoYVtocmVmXSkiLHRoaXMubGlzdCk7dGhpcy5hbmNob3JzPXRoaXMubGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBkKCJhIix0aGlzKVswXX0pO3RoaXMucGFuZWxzPWQoW10pO3RoaXMuYW5jaG9ycy5lYWNoKGZ1bmN0aW9uKGcsZil7dmFyIGk9ZChmKS5hdHRyKCJocmVmIiksbD1pLnNwbGl0KCIjIilbMF0scTtpZihsJiYobD09PWxvY2F0aW9uLnRvU3RyaW5nKCkuc3BsaXQoIiMiKVswXXx8CihxPWQoImJhc2UiKVswXSkmJmw9PT1xLmhyZWYpKXtpPWYuaGFzaDtmLmhyZWY9aX1pZihoLnRlc3QoaSkpYS5wYW5lbHM9YS5wYW5lbHMuYWRkKGEuX3Nhbml0aXplU2VsZWN0b3IoaSkpO2Vsc2UgaWYoaSYmaSE9PSIjIil7ZC5kYXRhKGYsImhyZWYudGFicyIsaSk7ZC5kYXRhKGYsImxvYWQudGFicyIsaS5yZXBsYWNlKC8jLiokLywiIikpO2k9YS5fdGFiSWQoZik7Zi5ocmVmPSIjIitpO2Y9ZCgiIyIraSk7aWYoIWYubGVuZ3RoKXtmPWQoYy5wYW5lbFRlbXBsYXRlKS5hdHRyKCJpZCIsaSkuYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmluc2VydEFmdGVyKGEucGFuZWxzW2ctMV18fGEubGlzdCk7Zi5kYXRhKCJkZXN0cm95LnRhYnMiLHRydWUpfWEucGFuZWxzPWEucGFuZWxzLmFkZChmKX1lbHNlIGMuZGlzYWJsZWQucHVzaChnKX0pO2lmKGIpe3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpOwp0aGlzLmxpc3QuYWRkQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIik7dGhpcy5saXMuYWRkQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCIpO3RoaXMucGFuZWxzLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKTtpZihjLnNlbGVjdGVkPT09cCl7bG9jYXRpb24uaGFzaCYmdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oZyxmKXtpZihmLmhhc2g9PWxvY2F0aW9uLmhhc2gpe2Muc2VsZWN0ZWQ9ZztyZXR1cm4gZmFsc2V9fSk7aWYodHlwZW9mIGMuc2VsZWN0ZWQhPT0ibnVtYmVyIiYmYy5jb29raWUpYy5zZWxlY3RlZD1wYXJzZUludChhLl9jb29raWUoKSwxMCk7aWYodHlwZW9mIGMuc2VsZWN0ZWQhPT0ibnVtYmVyIiYmdGhpcy5saXMuZmlsdGVyKCIudWktdGFicy1zZWxlY3RlZCIpLmxlbmd0aCljLnNlbGVjdGVkPQp0aGlzLmxpcy5pbmRleCh0aGlzLmxpcy5maWx0ZXIoIi51aS10YWJzLXNlbGVjdGVkIikpO2Muc2VsZWN0ZWQ9Yy5zZWxlY3RlZHx8KHRoaXMubGlzLmxlbmd0aD8wOi0xKX1lbHNlIGlmKGMuc2VsZWN0ZWQ9PT1udWxsKWMuc2VsZWN0ZWQ9LTE7Yy5zZWxlY3RlZD1jLnNlbGVjdGVkPj0wJiZ0aGlzLmFuY2hvcnNbYy5zZWxlY3RlZF18fGMuc2VsZWN0ZWQ8MD9jLnNlbGVjdGVkOjA7Yy5kaXNhYmxlZD1kLnVuaXF1ZShjLmRpc2FibGVkLmNvbmNhdChkLm1hcCh0aGlzLmxpcy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGcpe3JldHVybiBhLmxpcy5pbmRleChnKX0pKSkuc29ydCgpO2QuaW5BcnJheShjLnNlbGVjdGVkLGMuZGlzYWJsZWQpIT0tMSYmYy5kaXNhYmxlZC5zcGxpY2UoZC5pbkFycmF5KGMuc2VsZWN0ZWQsYy5kaXNhYmxlZCksMSk7dGhpcy5wYW5lbHMuYWRkQ2xhc3MoInVpLXRhYnMtaGlkZSIpO3RoaXMubGlzLnJlbW92ZUNsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSIpOwppZihjLnNlbGVjdGVkPj0wJiZ0aGlzLmFuY2hvcnMubGVuZ3RoKXtkKGEuX3Nhbml0aXplU2VsZWN0b3IoYS5hbmNob3JzW2Muc2VsZWN0ZWRdLmhhc2gpKS5yZW1vdmVDbGFzcygidWktdGFicy1oaWRlIik7dGhpcy5saXMuZXEoYy5zZWxlY3RlZCkuYWRkQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQgdWktc3RhdGUtYWN0aXZlIik7YS5lbGVtZW50LnF1ZXVlKCJ0YWJzIixmdW5jdGlvbigpe2EuX3RyaWdnZXIoInNob3ciLG51bGwsYS5fdWkoYS5hbmNob3JzW2Muc2VsZWN0ZWRdLGQoYS5fc2FuaXRpemVTZWxlY3RvcihhLmFuY2hvcnNbYy5zZWxlY3RlZF0uaGFzaCkpKSl9KTt0aGlzLmxvYWQoYy5zZWxlY3RlZCl9ZCh3aW5kb3cpLmJpbmQoInVubG9hZCIsZnVuY3Rpb24oKXthLmxpcy5hZGQoYS5hbmNob3JzKS51bmJpbmQoIi50YWJzIik7YS5saXM9YS5hbmNob3JzPWEucGFuZWxzPW51bGx9KX1lbHNlIGMuc2VsZWN0ZWQ9dGhpcy5saXMuaW5kZXgodGhpcy5saXMuZmlsdGVyKCIudWktdGFicy1zZWxlY3RlZCIpKTsKdGhpcy5lbGVtZW50W2MuY29sbGFwc2libGU/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidWktdGFicy1jb2xsYXBzaWJsZSIpO2MuY29va2llJiZ0aGlzLl9jb29raWUoYy5zZWxlY3RlZCxjLmNvb2tpZSk7Yj0wO2Zvcih2YXIgajtqPXRoaXMubGlzW2JdO2IrKylkKGopW2QuaW5BcnJheShiLGMuZGlzYWJsZWQpIT0tMSYmIWQoaikuaGFzQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQiKT8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpO2MuY2FjaGU9PT1mYWxzZSYmdGhpcy5hbmNob3JzLnJlbW92ZURhdGEoImNhY2hlLnRhYnMiKTt0aGlzLmxpcy5hZGQodGhpcy5hbmNob3JzKS51bmJpbmQoIi50YWJzIik7aWYoYy5ldmVudCE9PSJtb3VzZW92ZXIiKXt2YXIgaz1mdW5jdGlvbihnLGYpe2YuaXMoIjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKSIpJiZmLmFkZENsYXNzKCJ1aS1zdGF0ZS0iK2cpfSxuPWZ1bmN0aW9uKGcsZil7Zi5yZW1vdmVDbGFzcygidWktc3RhdGUtIisKZyl9O3RoaXMubGlzLmJpbmQoIm1vdXNlb3Zlci50YWJzIixmdW5jdGlvbigpe2soImhvdmVyIixkKHRoaXMpKX0pO3RoaXMubGlzLmJpbmQoIm1vdXNlb3V0LnRhYnMiLGZ1bmN0aW9uKCl7bigiaG92ZXIiLGQodGhpcykpfSk7dGhpcy5hbmNob3JzLmJpbmQoImZvY3VzLnRhYnMiLGZ1bmN0aW9uKCl7aygiZm9jdXMiLGQodGhpcykuY2xvc2VzdCgibGkiKSl9KTt0aGlzLmFuY2hvcnMuYmluZCgiYmx1ci50YWJzIixmdW5jdGlvbigpe24oImZvY3VzIixkKHRoaXMpLmNsb3Nlc3QoImxpIikpfSl9dmFyIG0sbztpZihjLmZ4KWlmKGQuaXNBcnJheShjLmZ4KSl7bT1jLmZ4WzBdO289Yy5meFsxXX1lbHNlIG09bz1jLmZ4O3ZhciByPW8/ZnVuY3Rpb24oZyxmKXtkKGcpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQgdWktc3RhdGUtYWN0aXZlIik7Zi5oaWRlKCkucmVtb3ZlQ2xhc3MoInVpLXRhYnMtaGlkZSIpLmFuaW1hdGUobyxvLmR1cmF0aW9ufHwibm9ybWFsIiwKZnVuY3Rpb24oKXtlKGYsbyk7YS5fdHJpZ2dlcigic2hvdyIsbnVsbCxhLl91aShnLGZbMF0pKX0pfTpmdW5jdGlvbihnLGYpe2QoZykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1zZWxlY3RlZCB1aS1zdGF0ZS1hY3RpdmUiKTtmLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWhpZGUiKTthLl90cmlnZ2VyKCJzaG93IixudWxsLGEuX3VpKGcsZlswXSkpfSxzPW0/ZnVuY3Rpb24oZyxmKXtmLmFuaW1hdGUobSxtLmR1cmF0aW9ufHwibm9ybWFsIixmdW5jdGlvbigpe2EubGlzLnJlbW92ZUNsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSIpO2YuYWRkQ2xhc3MoInVpLXRhYnMtaGlkZSIpO2UoZixtKTthLmVsZW1lbnQuZGVxdWV1ZSgidGFicyIpfSl9OmZ1bmN0aW9uKGcsZil7YS5saXMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQgdWktc3RhdGUtYWN0aXZlIik7Zi5hZGRDbGFzcygidWktdGFicy1oaWRlIik7YS5lbGVtZW50LmRlcXVldWUoInRhYnMiKX07CnRoaXMuYW5jaG9ycy5iaW5kKGMuZXZlbnQrIi50YWJzIixmdW5jdGlvbigpe3ZhciBnPXRoaXMsZj1kKGcpLmNsb3Nlc3QoImxpIiksaT1hLnBhbmVscy5maWx0ZXIoIjpub3QoLnVpLXRhYnMtaGlkZSkiKSxsPWQoYS5fc2FuaXRpemVTZWxlY3RvcihnLmhhc2gpKTtpZihmLmhhc0NsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIikmJiFjLmNvbGxhcHNpYmxlfHxmLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHxmLmhhc0NsYXNzKCJ1aS1zdGF0ZS1wcm9jZXNzaW5nIil8fGEucGFuZWxzLmZpbHRlcigiOmFuaW1hdGVkIikubGVuZ3RofHxhLl90cmlnZ2VyKCJzZWxlY3QiLG51bGwsYS5fdWkodGhpcyxsWzBdKSk9PT1mYWxzZSl7dGhpcy5ibHVyKCk7cmV0dXJuIGZhbHNlfWMuc2VsZWN0ZWQ9YS5hbmNob3JzLmluZGV4KHRoaXMpO2EuYWJvcnQoKTtpZihjLmNvbGxhcHNpYmxlKWlmKGYuaGFzQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQiKSl7Yy5zZWxlY3RlZD0tMTtjLmNvb2tpZSYmCmEuX2Nvb2tpZShjLnNlbGVjdGVkLGMuY29va2llKTthLmVsZW1lbnQucXVldWUoInRhYnMiLGZ1bmN0aW9uKCl7cyhnLGkpfSkuZGVxdWV1ZSgidGFicyIpO3RoaXMuYmx1cigpO3JldHVybiBmYWxzZX1lbHNlIGlmKCFpLmxlbmd0aCl7Yy5jb29raWUmJmEuX2Nvb2tpZShjLnNlbGVjdGVkLGMuY29va2llKTthLmVsZW1lbnQucXVldWUoInRhYnMiLGZ1bmN0aW9uKCl7cihnLGwpfSk7YS5sb2FkKGEuYW5jaG9ycy5pbmRleCh0aGlzKSk7dGhpcy5ibHVyKCk7cmV0dXJuIGZhbHNlfWMuY29va2llJiZhLl9jb29raWUoYy5zZWxlY3RlZCxjLmNvb2tpZSk7aWYobC5sZW5ndGgpe2kubGVuZ3RoJiZhLmVsZW1lbnQucXVldWUoInRhYnMiLGZ1bmN0aW9uKCl7cyhnLGkpfSk7YS5lbGVtZW50LnF1ZXVlKCJ0YWJzIixmdW5jdGlvbigpe3IoZyxsKX0pO2EubG9hZChhLmFuY2hvcnMuaW5kZXgodGhpcykpfWVsc2UgdGhyb3cialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIjsKZC5icm93c2VyLm1zaWUmJnRoaXMuYmx1cigpfSk7dGhpcy5hbmNob3JzLmJpbmQoImNsaWNrLnRhYnMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfSl9LF9nZXRJbmRleDpmdW5jdGlvbihiKXtpZih0eXBlb2YgYj09InN0cmluZyIpYj10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSIrYisiXSIpKTtyZXR1cm4gYn0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9uczt0aGlzLmFib3J0KCk7dGhpcy5lbGVtZW50LnVuYmluZCgiLnRhYnMiKS5yZW1vdmVDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlIikucmVtb3ZlRGF0YSgidGFicyIpO3RoaXMubGlzdC5yZW1vdmVDbGFzcygidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwiKTt0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbigpe3ZhciBlPQpkLmRhdGEodGhpcywiaHJlZi50YWJzIik7aWYoZSl0aGlzLmhyZWY9ZTt2YXIgYT1kKHRoaXMpLnVuYmluZCgiLnRhYnMiKTtkLmVhY2goWyJocmVmIiwibG9hZCIsImNhY2hlIl0sZnVuY3Rpb24oYyxoKXthLnJlbW92ZURhdGEoaCsiLnRhYnMiKX0pfSk7dGhpcy5saXMudW5iaW5kKCIudGFicyIpLmFkZCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2QuZGF0YSh0aGlzLCJkZXN0cm95LnRhYnMiKT9kKHRoaXMpLnJlbW92ZSgpOmQodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCB1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1ob3ZlciB1aS1zdGF0ZS1mb2N1cyB1aS1zdGF0ZS1kaXNhYmxlZCB1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20gdWktdGFicy1oaWRlIil9KTtiLmNvb2tpZSYmdGhpcy5fY29va2llKG51bGwsYi5jb29raWUpO3JldHVybiB0aGlzfSxhZGQ6ZnVuY3Rpb24oYiwKZSxhKXtpZihhPT09cClhPXRoaXMuYW5jaG9ycy5sZW5ndGg7dmFyIGM9dGhpcyxoPXRoaXMub3B0aW9ucztlPWQoaC50YWJUZW1wbGF0ZS5yZXBsYWNlKC8jXHtocmVmXH0vZyxiKS5yZXBsYWNlKC8jXHtsYWJlbFx9L2csZSkpO2I9IWIuaW5kZXhPZigiIyIpP2IucmVwbGFjZSgiIyIsIiIpOnRoaXMuX3RhYklkKGQoImEiLGUpWzBdKTtlLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci10b3AiKS5kYXRhKCJkZXN0cm95LnRhYnMiLHRydWUpO3ZhciBqPWQoIiMiK2IpO2oubGVuZ3RofHwoaj1kKGgucGFuZWxUZW1wbGF0ZSkuYXR0cigiaWQiLGIpLmRhdGEoImRlc3Ryb3kudGFicyIsdHJ1ZSkpO2ouYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSB1aS10YWJzLWhpZGUiKTtpZihhPj10aGlzLmxpcy5sZW5ndGgpe2UuYXBwZW5kVG8odGhpcy5saXN0KTtqLmFwcGVuZFRvKHRoaXMubGlzdFswXS5wYXJlbnROb2RlKX1lbHNle2UuaW5zZXJ0QmVmb3JlKHRoaXMubGlzW2FdKTsKai5pbnNlcnRCZWZvcmUodGhpcy5wYW5lbHNbYV0pfWguZGlzYWJsZWQ9ZC5tYXAoaC5kaXNhYmxlZCxmdW5jdGlvbihrKXtyZXR1cm4gaz49YT8rK2s6a30pO3RoaXMuX3RhYmlmeSgpO2lmKHRoaXMuYW5jaG9ycy5sZW5ndGg9PTEpe2guc2VsZWN0ZWQ9MDtlLmFkZENsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSIpO2oucmVtb3ZlQ2xhc3MoInVpLXRhYnMtaGlkZSIpO3RoaXMuZWxlbWVudC5xdWV1ZSgidGFicyIsZnVuY3Rpb24oKXtjLl90cmlnZ2VyKCJzaG93IixudWxsLGMuX3VpKGMuYW5jaG9yc1swXSxjLnBhbmVsc1swXSkpfSk7dGhpcy5sb2FkKDApfXRoaXMuX3RyaWdnZXIoImFkZCIsbnVsbCx0aGlzLl91aSh0aGlzLmFuY2hvcnNbYV0sdGhpcy5wYW5lbHNbYV0pKTtyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGIpe2I9dGhpcy5fZ2V0SW5kZXgoYik7dmFyIGU9dGhpcy5vcHRpb25zLGE9dGhpcy5saXMuZXEoYikucmVtb3ZlKCksYz10aGlzLnBhbmVscy5lcShiKS5yZW1vdmUoKTsKaWYoYS5oYXNDbGFzcygidWktdGFicy1zZWxlY3RlZCIpJiZ0aGlzLmFuY2hvcnMubGVuZ3RoPjEpdGhpcy5zZWxlY3QoYisoYisxPHRoaXMuYW5jaG9ycy5sZW5ndGg/MTotMSkpO2UuZGlzYWJsZWQ9ZC5tYXAoZC5ncmVwKGUuZGlzYWJsZWQsZnVuY3Rpb24oaCl7cmV0dXJuIGghPWJ9KSxmdW5jdGlvbihoKXtyZXR1cm4gaD49Yj8tLWg6aH0pO3RoaXMuX3RhYmlmeSgpO3RoaXMuX3RyaWdnZXIoInJlbW92ZSIsbnVsbCx0aGlzLl91aShhLmZpbmQoImEiKVswXSxjWzBdKSk7cmV0dXJuIHRoaXN9LGVuYWJsZTpmdW5jdGlvbihiKXtiPXRoaXMuX2dldEluZGV4KGIpO3ZhciBlPXRoaXMub3B0aW9ucztpZihkLmluQXJyYXkoYixlLmRpc2FibGVkKSE9LTEpe3RoaXMubGlzLmVxKGIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpO2UuZGlzYWJsZWQ9ZC5ncmVwKGUuZGlzYWJsZWQsZnVuY3Rpb24oYSl7cmV0dXJuIGEhPWJ9KTt0aGlzLl90cmlnZ2VyKCJlbmFibGUiLG51bGwsCnRoaXMuX3VpKHRoaXMuYW5jaG9yc1tiXSx0aGlzLnBhbmVsc1tiXSkpO3JldHVybiB0aGlzfX0sZGlzYWJsZTpmdW5jdGlvbihiKXtiPXRoaXMuX2dldEluZGV4KGIpO3ZhciBlPXRoaXMub3B0aW9ucztpZihiIT1lLnNlbGVjdGVkKXt0aGlzLmxpcy5lcShiKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKTtlLmRpc2FibGVkLnB1c2goYik7ZS5kaXNhYmxlZC5zb3J0KCk7dGhpcy5fdHJpZ2dlcigiZGlzYWJsZSIsbnVsbCx0aGlzLl91aSh0aGlzLmFuY2hvcnNbYl0sdGhpcy5wYW5lbHNbYl0pKX1yZXR1cm4gdGhpc30sc2VsZWN0OmZ1bmN0aW9uKGIpe2I9dGhpcy5fZ2V0SW5kZXgoYik7aWYoYj09LTEpaWYodGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlJiZ0aGlzLm9wdGlvbnMuc2VsZWN0ZWQhPS0xKWI9dGhpcy5vcHRpb25zLnNlbGVjdGVkO2Vsc2UgcmV0dXJuIHRoaXM7dGhpcy5hbmNob3JzLmVxKGIpLnRyaWdnZXIodGhpcy5vcHRpb25zLmV2ZW50KyIudGFicyIpO3JldHVybiB0aGlzfSwKbG9hZDpmdW5jdGlvbihiKXtiPXRoaXMuX2dldEluZGV4KGIpO3ZhciBlPXRoaXMsYT10aGlzLm9wdGlvbnMsYz10aGlzLmFuY2hvcnMuZXEoYilbMF0saD1kLmRhdGEoYywibG9hZC50YWJzIik7dGhpcy5hYm9ydCgpO2lmKCFofHx0aGlzLmVsZW1lbnQucXVldWUoInRhYnMiKS5sZW5ndGghPT0wJiZkLmRhdGEoYywiY2FjaGUudGFicyIpKXRoaXMuZWxlbWVudC5kZXF1ZXVlKCJ0YWJzIik7ZWxzZXt0aGlzLmxpcy5lcShiKS5hZGRDbGFzcygidWktc3RhdGUtcHJvY2Vzc2luZyIpO2lmKGEuc3Bpbm5lcil7dmFyIGo9ZCgic3BhbiIsYyk7ai5kYXRhKCJsYWJlbC50YWJzIixqLmh0bWwoKSkuaHRtbChhLnNwaW5uZXIpfXRoaXMueGhyPWQuYWpheChkLmV4dGVuZCh7fSxhLmFqYXhPcHRpb25zLHt1cmw6aCxzdWNjZXNzOmZ1bmN0aW9uKGssbil7ZChlLl9zYW5pdGl6ZVNlbGVjdG9yKGMuaGFzaCkpLmh0bWwoayk7ZS5fY2xlYW51cCgpO2EuY2FjaGUmJmQuZGF0YShjLCJjYWNoZS50YWJzIiwKdHJ1ZSk7ZS5fdHJpZ2dlcigibG9hZCIsbnVsbCxlLl91aShlLmFuY2hvcnNbYl0sZS5wYW5lbHNbYl0pKTt0cnl7YS5hamF4T3B0aW9ucy5zdWNjZXNzKGssbil9Y2F0Y2gobSl7fX0sZXJyb3I6ZnVuY3Rpb24oayxuKXtlLl9jbGVhbnVwKCk7ZS5fdHJpZ2dlcigibG9hZCIsbnVsbCxlLl91aShlLmFuY2hvcnNbYl0sZS5wYW5lbHNbYl0pKTt0cnl7YS5hamF4T3B0aW9ucy5lcnJvcihrLG4sYixjKX1jYXRjaChtKXt9fX0pKTtlLmVsZW1lbnQuZGVxdWV1ZSgidGFicyIpO3JldHVybiB0aGlzfX0sYWJvcnQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucXVldWUoW10pO3RoaXMucGFuZWxzLnN0b3AoZmFsc2UsdHJ1ZSk7dGhpcy5lbGVtZW50LnF1ZXVlKCJ0YWJzIix0aGlzLmVsZW1lbnQucXVldWUoInRhYnMiKS5zcGxpY2UoLTIsMikpO2lmKHRoaXMueGhyKXt0aGlzLnhoci5hYm9ydCgpO2RlbGV0ZSB0aGlzLnhocn10aGlzLl9jbGVhbnVwKCk7cmV0dXJuIHRoaXN9LHVybDpmdW5jdGlvbihiLAplKXt0aGlzLmFuY2hvcnMuZXEoYikucmVtb3ZlRGF0YSgiY2FjaGUudGFicyIpLmRhdGEoImxvYWQudGFicyIsZSk7cmV0dXJuIHRoaXN9LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuY2hvcnMubGVuZ3RofX0pO2QuZXh0ZW5kKGQudWkudGFicyx7dmVyc2lvbjoiMS44LjYifSk7ZC5leHRlbmQoZC51aS50YWJzLnByb3RvdHlwZSx7cm90YXRpb246bnVsbCxyb3RhdGU6ZnVuY3Rpb24oYixlKXt2YXIgYT10aGlzLGM9dGhpcy5vcHRpb25zLGg9YS5fcm90YXRlfHwoYS5fcm90YXRlPWZ1bmN0aW9uKGope2NsZWFyVGltZW91dChhLnJvdGF0aW9uKTthLnJvdGF0aW9uPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaz1jLnNlbGVjdGVkO2Euc2VsZWN0KCsrazxhLmFuY2hvcnMubGVuZ3RoP2s6MCl9LGIpO2omJmouc3RvcFByb3BhZ2F0aW9uKCl9KTtlPWEuX3Vucm90YXRlfHwoYS5fdW5yb3RhdGU9IWU/ZnVuY3Rpb24oail7ai5jbGllbnRYJiZhLnJvdGF0ZShudWxsKX06CmZ1bmN0aW9uKCl7dD1jLnNlbGVjdGVkO2goKX0pO2lmKGIpe3RoaXMuZWxlbWVudC5iaW5kKCJ0YWJzc2hvdyIsaCk7dGhpcy5hbmNob3JzLmJpbmQoYy5ldmVudCsiLnRhYnMiLGUpO2goKX1lbHNle2NsZWFyVGltZW91dChhLnJvdGF0aW9uKTt0aGlzLmVsZW1lbnQudW5iaW5kKCJ0YWJzc2hvdyIsaCk7dGhpcy5hbmNob3JzLnVuYmluZChjLmV2ZW50KyIudGFicyIsZSk7ZGVsZXRlIHRoaXMuX3JvdGF0ZTtkZWxldGUgdGhpcy5fdW5yb3RhdGV9cmV0dXJuIHRoaXN9fSl9KShqUXVlcnkpOwo7Ci8qIFVJIGRhdGVwaWNrZXIgKi8KKGZ1bmN0aW9uKGQsRyl7ZnVuY3Rpb24gSygpe3RoaXMuZGVidWc9ZmFsc2U7dGhpcy5fY3VySW5zdD1udWxsO3RoaXMuX2tleUV2ZW50PWZhbHNlO3RoaXMuX2Rpc2FibGVkSW5wdXRzPVtdO3RoaXMuX2luRGlhbG9nPXRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPWZhbHNlO3RoaXMuX21haW5EaXZJZD0idWktZGF0ZXBpY2tlci1kaXYiO3RoaXMuX2lubGluZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWlubGluZSI7dGhpcy5fYXBwZW5kQ2xhc3M9InVpLWRhdGVwaWNrZXItYXBwZW5kIjt0aGlzLl90cmlnZ2VyQ2xhc3M9InVpLWRhdGVwaWNrZXItdHJpZ2dlciI7dGhpcy5fZGlhbG9nQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlhbG9nIjt0aGlzLl9kaXNhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlzYWJsZWQiO3RoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZSI7dGhpcy5fY3VycmVudENsYXNzPSJ1aS1kYXRlcGlja2VyLWN1cnJlbnQtZGF5Ijt0aGlzLl9kYXlPdmVyQ2xhc3M9CiJ1aS1kYXRlcGlja2VyLWRheXMtY2VsbC1vdmVyIjt0aGlzLnJlZ2lvbmFsPVtdO3RoaXMucmVnaW9uYWxbIiJdPXtjbG9zZVRleHQ6IkRvbmUiLHByZXZUZXh0OiJQcmV2IixuZXh0VGV4dDoiTmV4dCIsY3VycmVudFRleHQ6IlRvZGF5Iixtb250aE5hbWVzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxtb250aE5hbWVzU2hvcnQ6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxkYXlOYW1lczpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZGF5TmFtZXNTaG9ydDpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLGRheU5hbWVzTWluOlsiU3UiLAoiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl0sd2Vla0hlYWRlcjoiV2siLGRhdGVGb3JtYXQ6Im1tL2RkL3l5IixmaXJzdERheTowLGlzUlRMOmZhbHNlLHNob3dNb250aEFmdGVyWWVhcjpmYWxzZSx5ZWFyU3VmZml4OiIifTt0aGlzLl9kZWZhdWx0cz17c2hvd09uOiJmb2N1cyIsc2hvd0FuaW06ImZhZGVJbiIsc2hvd09wdGlvbnM6e30sZGVmYXVsdERhdGU6bnVsbCxhcHBlbmRUZXh0OiIiLGJ1dHRvblRleHQ6Ii4uLiIsYnV0dG9uSW1hZ2U6IiIsYnV0dG9uSW1hZ2VPbmx5OmZhbHNlLGhpZGVJZk5vUHJldk5leHQ6ZmFsc2UsbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDpmYWxzZSxnb3RvQ3VycmVudDpmYWxzZSxjaGFuZ2VNb250aDpmYWxzZSxjaGFuZ2VZZWFyOmZhbHNlLHllYXJSYW5nZToiYy0xMDpjKzEwIixzaG93T3RoZXJNb250aHM6ZmFsc2Usc2VsZWN0T3RoZXJNb250aHM6ZmFsc2Usc2hvd1dlZWs6ZmFsc2UsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjoiKzEwIiwKbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDp0cnVlLHNob3dCdXR0b25QYW5lbDpmYWxzZSxhdXRvU2l6ZTpmYWxzZX07ZC5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMuZHBEaXY9ZCgnPGRpdiBpZD0iJyt0aGlzLl9tYWluRGl2SWQrJyIgY2xhc3M9InVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsIHVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSI+PC9kaXY+Jyl9ZnVuY3Rpb24gRShhLGIpe2QuZXh0ZW5kKGEsCmIpO2Zvcih2YXIgYyBpbiBiKWlmKGJbY109PW51bGx8fGJbY109PUcpYVtjXT1iW2NdO3JldHVybiBhfWQuZXh0ZW5kKGQudWkse2RhdGVwaWNrZXI6e3ZlcnNpb246IjEuOC42In19KTt2YXIgeT0obmV3IERhdGUpLmdldFRpbWUoKTtkLmV4dGVuZChLLnByb3RvdHlwZSx7bWFya2VyQ2xhc3NOYW1lOiJoYXNEYXRlcGlja2VyIixsb2c6ZnVuY3Rpb24oKXt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZy5hcHBseSgiIixhcmd1bWVudHMpfSxfd2lkZ2V0RGF0ZXBpY2tlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRwRGl2fSxzZXREZWZhdWx0czpmdW5jdGlvbihhKXtFKHRoaXMuX2RlZmF1bHRzLGF8fHt9KTtyZXR1cm4gdGhpc30sX2F0dGFjaERhdGVwaWNrZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2Zvcih2YXIgZSBpbiB0aGlzLl9kZWZhdWx0cyl7dmFyIGY9YS5nZXRBdHRyaWJ1dGUoImRhdGU6IitlKTtpZihmKXtjPWN8fHt9O3RyeXtjW2VdPWV2YWwoZil9Y2F0Y2goaCl7Y1tlXT0KZn19fWU9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2Y9ZT09ImRpdiJ8fGU9PSJzcGFuIjtpZighYS5pZCl7dGhpcy51dWlkKz0xO2EuaWQ9ImRwIit0aGlzLnV1aWR9dmFyIGk9dGhpcy5fbmV3SW5zdChkKGEpLGYpO2kuc2V0dGluZ3M9ZC5leHRlbmQoe30sYnx8e30sY3x8e30pO2lmKGU9PSJpbnB1dCIpdGhpcy5fY29ubmVjdERhdGVwaWNrZXIoYSxpKTtlbHNlIGYmJnRoaXMuX2lubGluZURhdGVwaWNrZXIoYSxpKX0sX25ld0luc3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm57aWQ6YVswXS5pZC5yZXBsYWNlKC8oW15BLVphLXowLTlfLV0pL2csIlxcXFwkMSIpLGlucHV0OmEsc2VsZWN0ZWREYXk6MCxzZWxlY3RlZE1vbnRoOjAsc2VsZWN0ZWRZZWFyOjAsZHJhd01vbnRoOjAsZHJhd1llYXI6MCxpbmxpbmU6YixkcERpdjohYj90aGlzLmRwRGl2OmQoJzxkaXYgY2xhc3M9IicrdGhpcy5faW5saW5lQ2xhc3MrJyB1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCI+PC9kaXY+Jyl9fSwKX2Nvbm5lY3REYXRlcGlja2VyOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZChhKTtiLmFwcGVuZD1kKFtdKTtiLnRyaWdnZXI9ZChbXSk7aWYoIWMuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKXt0aGlzLl9hdHRhY2htZW50cyhjLGIpO2MuYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmtleWRvd24odGhpcy5fZG9LZXlEb3duKS5rZXlwcmVzcyh0aGlzLl9kb0tleVByZXNzKS5rZXl1cCh0aGlzLl9kb0tleVVwKS5iaW5kKCJzZXREYXRhLmRhdGVwaWNrZXIiLGZ1bmN0aW9uKGUsZixoKXtiLnNldHRpbmdzW2ZdPWh9KS5iaW5kKCJnZXREYXRhLmRhdGVwaWNrZXIiLGZ1bmN0aW9uKGUsZil7cmV0dXJuIHRoaXMuX2dldChiLGYpfSk7dGhpcy5fYXV0b1NpemUoYik7ZC5kYXRhKGEsImRhdGVwaWNrZXIiLGIpfX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fZ2V0KGIsImFwcGVuZFRleHQiKSxlPXRoaXMuX2dldChiLCJpc1JUTCIpO2IuYXBwZW5kJiYKYi5hcHBlbmQucmVtb3ZlKCk7aWYoYyl7Yi5hcHBlbmQ9ZCgnPHNwYW4gY2xhc3M9IicrdGhpcy5fYXBwZW5kQ2xhc3MrJyI+JytjKyI8L3NwYW4+Iik7YVtlPyJiZWZvcmUiOiJhZnRlciJdKGIuYXBwZW5kKX1hLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKTtiLnRyaWdnZXImJmIudHJpZ2dlci5yZW1vdmUoKTtjPXRoaXMuX2dldChiLCJzaG93T24iKTtpZihjPT0iZm9jdXMifHxjPT0iYm90aCIpYS5mb2N1cyh0aGlzLl9zaG93RGF0ZXBpY2tlcik7aWYoYz09ImJ1dHRvbiJ8fGM9PSJib3RoIil7Yz10aGlzLl9nZXQoYiwiYnV0dG9uVGV4dCIpO3ZhciBmPXRoaXMuX2dldChiLCJidXR0b25JbWFnZSIpO2IudHJpZ2dlcj1kKHRoaXMuX2dldChiLCJidXR0b25JbWFnZU9ubHkiKT9kKCI8aW1nLz4iKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmF0dHIoe3NyYzpmLGFsdDpjLHRpdGxlOmN9KTpkKCc8YnV0dG9uIHR5cGU9ImJ1dHRvbiI+PC9idXR0b24+JykuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5odG1sKGY9PQoiIj9jOmQoIjxpbWcvPiIpLmF0dHIoe3NyYzpmLGFsdDpjLHRpdGxlOmN9KSkpO2FbZT8iYmVmb3JlIjoiYWZ0ZXIiXShiLnRyaWdnZXIpO2IudHJpZ2dlci5jbGljayhmdW5jdGlvbigpe2QuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJmQuZGF0ZXBpY2tlci5fbGFzdElucHV0PT1hWzBdP2QuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTpkLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKGFbMF0pO3JldHVybiBmYWxzZX0pfX0sX2F1dG9TaXplOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2dldChhLCJhdXRvU2l6ZSIpJiYhYS5pbmxpbmUpe3ZhciBiPW5ldyBEYXRlKDIwMDksMTEsMjApLGM9dGhpcy5fZ2V0KGEsImRhdGVGb3JtYXQiKTtpZihjLm1hdGNoKC9bRE1dLykpe3ZhciBlPWZ1bmN0aW9uKGYpe2Zvcih2YXIgaD0wLGk9MCxnPTA7ZzxmLmxlbmd0aDtnKyspaWYoZltnXS5sZW5ndGg+aCl7aD1mW2ddLmxlbmd0aDtpPWd9cmV0dXJuIGl9O2Iuc2V0TW9udGgoZSh0aGlzLl9nZXQoYSwKYy5tYXRjaCgvTU0vKT8ibW9udGhOYW1lcyI6Im1vbnRoTmFtZXNTaG9ydCIpKSk7Yi5zZXREYXRlKGUodGhpcy5fZ2V0KGEsYy5tYXRjaCgvREQvKT8iZGF5TmFtZXMiOiJkYXlOYW1lc1Nob3J0IikpKzIwLWIuZ2V0RGF5KCkpfWEuaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZShhLGIpLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWQoYSk7aWYoIWMuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKXtjLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoYi5kcERpdikuYmluZCgic2V0RGF0YS5kYXRlcGlja2VyIixmdW5jdGlvbihlLGYsaCl7Yi5zZXR0aW5nc1tmXT1ofSkuYmluZCgiZ2V0RGF0YS5kYXRlcGlja2VyIixmdW5jdGlvbihlLGYpe3JldHVybiB0aGlzLl9nZXQoYixmKX0pO2QuZGF0YShhLCJkYXRlcGlja2VyIixiKTt0aGlzLl9zZXREYXRlKGIsdGhpcy5fZ2V0RGVmYXVsdERhdGUoYiksCnRydWUpO3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIoYik7dGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGIpfX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24oYSxiLGMsZSxmKXthPXRoaXMuX2RpYWxvZ0luc3Q7aWYoIWEpe3RoaXMudXVpZCs9MTt0aGlzLl9kaWFsb2dJbnB1dD1kKCc8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IicrKCJkcCIrdGhpcy51dWlkKSsnIiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyB0b3A6IC0xMDBweDsgd2lkdGg6IDBweDsgei1pbmRleDogLTEwOyIvPicpO3RoaXMuX2RpYWxvZ0lucHV0LmtleWRvd24odGhpcy5fZG9LZXlEb3duKTtkKCJib2R5IikuYXBwZW5kKHRoaXMuX2RpYWxvZ0lucHV0KTthPXRoaXMuX2RpYWxvZ0luc3Q9dGhpcy5fbmV3SW5zdCh0aGlzLl9kaWFsb2dJbnB1dCxmYWxzZSk7YS5zZXR0aW5ncz17fTtkLmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sImRhdGVwaWNrZXIiLGEpfUUoYS5zZXR0aW5ncyxlfHx7fSk7Yj1iJiZiLmNvbnN0cnVjdG9yPT0KRGF0ZT90aGlzLl9mb3JtYXREYXRlKGEsYik6Yjt0aGlzLl9kaWFsb2dJbnB1dC52YWwoYik7dGhpcy5fcG9zPWY/Zi5sZW5ndGg/ZjpbZi5wYWdlWCxmLnBhZ2VZXTpudWxsO2lmKCF0aGlzLl9wb3MpdGhpcy5fcG9zPVtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgvMi0xMDArKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQvMi0xNTArKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKV07dGhpcy5fZGlhbG9nSW5wdXQuY3NzKCJsZWZ0Iix0aGlzLl9wb3NbMF0rMjArInB4IikuY3NzKCJ0b3AiLHRoaXMuX3Bvc1sxXSsicHgiKTthLnNldHRpbmdzLm9uU2VsZWN0PWM7dGhpcy5faW5EaWFsb2c9dHJ1ZTt0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKTt0aGlzLl9zaG93RGF0ZXBpY2tlcih0aGlzLl9kaWFsb2dJbnB1dFswXSk7CmQuYmxvY2tVSSYmZC5ibG9ja1VJKHRoaXMuZHBEaXYpO2QuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsYSk7cmV0dXJuIHRoaXN9LF9kZXN0cm95RGF0ZXBpY2tlcjpmdW5jdGlvbihhKXt2YXIgYj1kKGEpLGM9ZC5kYXRhKGEsImRhdGVwaWNrZXIiKTtpZihiLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSl7dmFyIGU9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2QucmVtb3ZlRGF0YShhLCJkYXRlcGlja2VyIik7aWYoZT09ImlucHV0Iil7Yy5hcHBlbmQucmVtb3ZlKCk7Yy50cmlnZ2VyLnJlbW92ZSgpO2IucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKS51bmJpbmQoImtleWRvd24iLHRoaXMuX2RvS2V5RG93bikudW5iaW5kKCJrZXlwcmVzcyIsdGhpcy5fZG9LZXlQcmVzcykudW5iaW5kKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCl9ZWxzZSBpZihlPT0iZGl2Inx8ZT09InNwYW4iKWIucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmVtcHR5KCl9fSwKX2VuYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7dmFyIGI9ZChhKSxjPWQuZGF0YShhLCJkYXRlcGlja2VyIik7aWYoYi5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkpe3ZhciBlPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihlPT0iaW5wdXQiKXthLmRpc2FibGVkPWZhbHNlO2MudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPWZhbHNlfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjEuMCIsY3Vyc29yOiIifSl9ZWxzZSBpZihlPT0iZGl2Inx8ZT09InNwYW4iKWIuY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpO3RoaXMuX2Rpc2FibGVkSW5wdXRzPWQubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKGYpe3JldHVybiBmPT1hP251bGw6Zn0pfX0sX2Rpc2FibGVEYXRlcGlja2VyOmZ1bmN0aW9uKGEpe3ZhciBiPQpkKGEpLGM9ZC5kYXRhKGEsImRhdGVwaWNrZXIiKTtpZihiLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSl7dmFyIGU9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGU9PSJpbnB1dCIpe2EuZGlzYWJsZWQ9dHJ1ZTtjLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD10cnVlfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pfWVsc2UgaWYoZT09ImRpdiJ8fGU9PSJzcGFuIiliLmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcykuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKTt0aGlzLl9kaXNhYmxlZElucHV0cz1kLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxmdW5jdGlvbihmKXtyZXR1cm4gZj09YT9udWxsOmZ9KTt0aGlzLl9kaXNhYmxlZElucHV0c1t0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGhdPWF9fSxfaXNEaXNhYmxlZERhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIGZhbHNlOwpmb3IodmFyIGI9MDtiPHRoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aDtiKyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbYl09PWEpcmV0dXJuIHRydWU7cmV0dXJuIGZhbHNlfSxfZ2V0SW5zdDpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGQuZGF0YShhLCJkYXRlcGlja2VyIil9Y2F0Y2goYil7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIiO319LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT10aGlzLl9nZXRJbnN0KGEpO2lmKGFyZ3VtZW50cy5sZW5ndGg9PTImJnR5cGVvZiBiPT0ic3RyaW5nIilyZXR1cm4gYj09ImRlZmF1bHRzIj9kLmV4dGVuZCh7fSxkLmRhdGVwaWNrZXIuX2RlZmF1bHRzKTplP2I9PSJhbGwiP2QuZXh0ZW5kKHt9LGUuc2V0dGluZ3MpOnRoaXMuX2dldChlLGIpOm51bGw7dmFyIGY9Ynx8e307aWYodHlwZW9mIGI9PSJzdHJpbmciKXtmPXt9O2ZbYl09Y31pZihlKXt0aGlzLl9jdXJJbnN0PT1lJiYKdGhpcy5faGlkZURhdGVwaWNrZXIoKTt2YXIgaD10aGlzLl9nZXREYXRlRGF0ZXBpY2tlcihhLHRydWUpO0UoZS5zZXR0aW5ncyxmKTt0aGlzLl9hdHRhY2htZW50cyhkKGEpLGUpO3RoaXMuX2F1dG9TaXplKGUpO3RoaXMuX3NldERhdGVEYXRlcGlja2VyKGEsaCk7dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihlKX19LF9jaGFuZ2VEYXRlcGlja2VyOmZ1bmN0aW9uKGEsYixjKXt0aGlzLl9vcHRpb25EYXRlcGlja2VyKGEsYixjKX0sX3JlZnJlc2hEYXRlcGlja2VyOmZ1bmN0aW9uKGEpeyhhPXRoaXMuX2dldEluc3QoYSkpJiZ0aGlzLl91cGRhdGVEYXRlcGlja2VyKGEpfSxfc2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSxiKXtpZihhPXRoaXMuX2dldEluc3QoYSkpe3RoaXMuX3NldERhdGUoYSxiKTt0aGlzLl91cGRhdGVEYXRlcGlja2VyKGEpO3RoaXMuX3VwZGF0ZUFsdGVybmF0ZShhKX19LF9nZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihhLGIpeyhhPXRoaXMuX2dldEluc3QoYSkpJiYKIWEuaW5saW5lJiZ0aGlzLl9zZXREYXRlRnJvbUZpZWxkKGEsYik7cmV0dXJuIGE/dGhpcy5fZ2V0RGF0ZShhKTpudWxsfSxfZG9LZXlEb3duOmZ1bmN0aW9uKGEpe3ZhciBiPWQuZGF0ZXBpY2tlci5fZ2V0SW5zdChhLnRhcmdldCksYz10cnVlLGU9Yi5kcERpdi5pcygiLnVpLWRhdGVwaWNrZXItcnRsIik7Yi5fa2V5RXZlbnQ9dHJ1ZTtpZihkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nKXN3aXRjaChhLmtleUNvZGUpe2Nhc2UgOTpkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7Yz1mYWxzZTticmVhaztjYXNlIDEzOmM9ZCgidGQuIitkLmRhdGVwaWNrZXIuX2RheU92ZXJDbGFzcyxiLmRwRGl2KS5hZGQoZCgidGQuIitkLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcyxiLmRwRGl2KSk7Y1swXT9kLmRhdGVwaWNrZXIuX3NlbGVjdERheShhLnRhcmdldCxiLnNlbGVjdGVkTW9udGgsYi5zZWxlY3RlZFllYXIsY1swXSk6ZC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpOwpyZXR1cm4gZmFsc2U7Y2FzZSAyNzpkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7YnJlYWs7Y2FzZSAzMzpkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoYS50YXJnZXQsYS5jdHJsS2V5Py1kLmRhdGVwaWNrZXIuX2dldChiLCJzdGVwQmlnTW9udGhzIik6LWQuZGF0ZXBpY2tlci5fZ2V0KGIsInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzQ6ZC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGEuY3RybEtleT8rZC5kYXRlcGlja2VyLl9nZXQoYiwic3RlcEJpZ01vbnRocyIpOitkLmRhdGVwaWNrZXIuX2dldChiLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM1OmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWQuZGF0ZXBpY2tlci5fY2xlYXJEYXRlKGEudGFyZ2V0KTtjPWEuY3RybEtleXx8YS5tZXRhS2V5O2JyZWFrO2Nhc2UgMzY6aWYoYS5jdHJsS2V5fHxhLm1ldGFLZXkpZC5kYXRlcGlja2VyLl9nb3RvVG9kYXkoYS50YXJnZXQpO2M9YS5jdHJsS2V5fHwKYS5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6aWYoYS5jdHJsS2V5fHxhLm1ldGFLZXkpZC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGU/KzE6LTEsIkQiKTtjPWEuY3RybEtleXx8YS5tZXRhS2V5O2lmKGEub3JpZ2luYWxFdmVudC5hbHRLZXkpZC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGEuY3RybEtleT8tZC5kYXRlcGlja2VyLl9nZXQoYiwic3RlcEJpZ01vbnRocyIpOi1kLmRhdGVwaWNrZXIuX2dldChiLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM4OmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShhLnRhcmdldCwtNywiRCIpO2M9YS5jdHJsS2V5fHxhLm1ldGFLZXk7YnJlYWs7Y2FzZSAzOTppZihhLmN0cmxLZXl8fGEubWV0YUtleSlkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoYS50YXJnZXQsZT8tMTorMSwiRCIpO2M9YS5jdHJsS2V5fHxhLm1ldGFLZXk7aWYoYS5vcmlnaW5hbEV2ZW50LmFsdEtleSlkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoYS50YXJnZXQsCmEuY3RybEtleT8rZC5kYXRlcGlja2VyLl9nZXQoYiwic3RlcEJpZ01vbnRocyIpOitkLmRhdGVwaWNrZXIuX2dldChiLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDQwOmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShhLnRhcmdldCwrNywiRCIpO2M9YS5jdHJsS2V5fHxhLm1ldGFLZXk7YnJlYWs7ZGVmYXVsdDpjPWZhbHNlfWVsc2UgaWYoYS5rZXlDb2RlPT0zNiYmYS5jdHJsS2V5KWQuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodGhpcyk7ZWxzZSBjPWZhbHNlO2lmKGMpe2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfX0sX2RvS2V5UHJlc3M6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5kYXRlcGlja2VyLl9nZXRJbnN0KGEudGFyZ2V0KTtpZihkLmRhdGVwaWNrZXIuX2dldChiLCJjb25zdHJhaW5JbnB1dCIpKXtiPWQuZGF0ZXBpY2tlci5fcG9zc2libGVDaGFycyhkLmRhdGVwaWNrZXIuX2dldChiLCJkYXRlRm9ybWF0IikpOwp2YXIgYz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuY2hhckNvZGU9PUc/YS5rZXlDb2RlOmEuY2hhckNvZGUpO3JldHVybiBhLmN0cmxLZXl8fGM8IiAifHwhYnx8Yi5pbmRleE9mKGMpPi0xfX0sX2RvS2V5VXA6ZnVuY3Rpb24oYSl7YT1kLmRhdGVwaWNrZXIuX2dldEluc3QoYS50YXJnZXQpO2lmKGEuaW5wdXQudmFsKCkhPWEubGFzdFZhbCl0cnl7aWYoZC5kYXRlcGlja2VyLnBhcnNlRGF0ZShkLmRhdGVwaWNrZXIuX2dldChhLCJkYXRlRm9ybWF0IiksYS5pbnB1dD9hLmlucHV0LnZhbCgpOm51bGwsZC5kYXRlcGlja2VyLl9nZXRGb3JtYXRDb25maWcoYSkpKXtkLmRhdGVwaWNrZXIuX3NldERhdGVGcm9tRmllbGQoYSk7ZC5kYXRlcGlja2VyLl91cGRhdGVBbHRlcm5hdGUoYSk7ZC5kYXRlcGlja2VyLl91cGRhdGVEYXRlcGlja2VyKGEpfX1jYXRjaChiKXtkLmRhdGVwaWNrZXIubG9nKGIpfXJldHVybiB0cnVlfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7YT1hLnRhcmdldHx8CmE7aWYoYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT0iaW5wdXQiKWE9ZCgiaW5wdXQiLGEucGFyZW50Tm9kZSlbMF07aWYoIShkLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKGEpfHxkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD09YSkpe3ZhciBiPWQuZGF0ZXBpY2tlci5fZ2V0SW5zdChhKTtkLmRhdGVwaWNrZXIuX2N1ckluc3QmJmQuZGF0ZXBpY2tlci5fY3VySW5zdCE9YiYmZC5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AodHJ1ZSx0cnVlKTt2YXIgYz1kLmRhdGVwaWNrZXIuX2dldChiLCJiZWZvcmVTaG93Iik7RShiLnNldHRpbmdzLGM/Yy5hcHBseShhLFthLGJdKTp7fSk7Yi5sYXN0VmFsPW51bGw7ZC5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9YTtkLmRhdGVwaWNrZXIuX3NldERhdGVGcm9tRmllbGQoYik7aWYoZC5kYXRlcGlja2VyLl9pbkRpYWxvZylhLnZhbHVlPSIiO2lmKCFkLmRhdGVwaWNrZXIuX3Bvcyl7ZC5kYXRlcGlja2VyLl9wb3M9ZC5kYXRlcGlja2VyLl9maW5kUG9zKGEpOwpkLmRhdGVwaWNrZXIuX3Bvc1sxXSs9YS5vZmZzZXRIZWlnaHR9dmFyIGU9ZmFsc2U7ZChhKS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe2V8PWQodGhpcykuY3NzKCJwb3NpdGlvbiIpPT0iZml4ZWQiO3JldHVybiFlfSk7aWYoZSYmZC5icm93c2VyLm9wZXJhKXtkLmRhdGVwaWNrZXIuX3Bvc1swXS09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7ZC5kYXRlcGlja2VyLl9wb3NbMV0tPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B9Yz17bGVmdDpkLmRhdGVwaWNrZXIuX3Bvc1swXSx0b3A6ZC5kYXRlcGlja2VyLl9wb3NbMV19O2QuZGF0ZXBpY2tlci5fcG9zPW51bGw7Yi5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KTtkLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoYik7Yz1kLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGIsYyxlKTtiLmRwRGl2LmNzcyh7cG9zaXRpb246ZC5kYXRlcGlja2VyLl9pbkRpYWxvZyYmCmQuYmxvY2tVST8ic3RhdGljIjplPyJmaXhlZCI6ImFic29sdXRlIixkaXNwbGF5OiJub25lIixsZWZ0OmMubGVmdCsicHgiLHRvcDpjLnRvcCsicHgifSk7aWYoIWIuaW5saW5lKXtjPWQuZGF0ZXBpY2tlci5fZ2V0KGIsInNob3dBbmltIik7dmFyIGY9ZC5kYXRlcGlja2VyLl9nZXQoYiwiZHVyYXRpb24iKSxoPWZ1bmN0aW9uKCl7ZC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZz10cnVlO3ZhciBpPWQuZGF0ZXBpY2tlci5fZ2V0Qm9yZGVycyhiLmRwRGl2KTtiLmRwRGl2LmZpbmQoImlmcmFtZS51aS1kYXRlcGlja2VyLWNvdmVyIikuY3NzKHtsZWZ0Oi1pWzBdLHRvcDotaVsxXSx3aWR0aDpiLmRwRGl2Lm91dGVyV2lkdGgoKSxoZWlnaHQ6Yi5kcERpdi5vdXRlckhlaWdodCgpfSl9O2IuZHBEaXYuekluZGV4KGQoYSkuekluZGV4KCkrMSk7ZC5lZmZlY3RzJiZkLmVmZmVjdHNbY10/Yi5kcERpdi5zaG93KGMsZC5kYXRlcGlja2VyLl9nZXQoYiwic2hvd09wdGlvbnMiKSxmLApoKTpiLmRwRGl2W2N8fCJzaG93Il0oYz9mOm51bGwsaCk7aWYoIWN8fCFmKWgoKTtiLmlucHV0LmlzKCI6dmlzaWJsZSIpJiYhYi5pbnB1dC5pcygiOmRpc2FibGVkIikmJmIuaW5wdXQuZm9jdXMoKTtkLmRhdGVwaWNrZXIuX2N1ckluc3Q9Yn19fSxfdXBkYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9ZC5kYXRlcGlja2VyLl9nZXRCb3JkZXJzKGEuZHBEaXYpO2EuZHBEaXYuZW1wdHkoKS5hcHBlbmQodGhpcy5fZ2VuZXJhdGVIVE1MKGEpKS5maW5kKCJpZnJhbWUudWktZGF0ZXBpY2tlci1jb3ZlciIpLmNzcyh7bGVmdDotY1swXSx0b3A6LWNbMV0sd2lkdGg6YS5kcERpdi5vdXRlcldpZHRoKCksaGVpZ2h0OmEuZHBEaXYub3V0ZXJIZWlnaHQoKX0pLmVuZCgpLmZpbmQoImJ1dHRvbiwgLnVpLWRhdGVwaWNrZXItcHJldiwgLnVpLWRhdGVwaWNrZXItbmV4dCwgLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgYSIpLmJpbmQoIm1vdXNlb3V0IixmdW5jdGlvbigpe2QodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7CnRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItcHJldiIpIT0tMSYmZCh0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikhPS0xJiZkKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXIiKX0pLmJpbmQoIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtpZighYi5faXNEaXNhYmxlZERhdGVwaWNrZXIoYS5pbmxpbmU/YS5kcERpdi5wYXJlbnQoKVswXTphLmlucHV0WzBdKSl7ZCh0aGlzKS5wYXJlbnRzKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpLmZpbmQoImEiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKTtkKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpO3RoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItcHJldiIpIT0tMSYmZCh0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7CnRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItbmV4dCIpIT0tMSYmZCh0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIil9fSkuZW5kKCkuZmluZCgiLiIrdGhpcy5fZGF5T3ZlckNsYXNzKyIgYSIpLnRyaWdnZXIoIm1vdXNlb3ZlciIpLmVuZCgpO2M9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMoYSk7dmFyIGU9Y1sxXTtlPjE/YS5kcERpdi5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0iK2UpLmNzcygid2lkdGgiLDE3KmUrImVtIik6YS5kcERpdi5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0yIHVpLWRhdGVwaWNrZXItbXVsdGktMyB1aS1kYXRlcGlja2VyLW11bHRpLTQiKS53aWR0aCgiIik7YS5kcERpdlsoY1swXSE9MXx8Y1sxXSE9MT8iYWRkIjoicmVtb3ZlIikrIkNsYXNzIl0oInVpLWRhdGVwaWNrZXItbXVsdGkiKTthLmRwRGl2Wyh0aGlzLl9nZXQoYSwiaXNSVEwiKT8iYWRkIjoicmVtb3ZlIikrIkNsYXNzIl0oInVpLWRhdGVwaWNrZXItcnRsIik7CmE9PWQuZGF0ZXBpY2tlci5fY3VySW5zdCYmZC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmYS5pbnB1dCYmYS5pbnB1dC5pcygiOnZpc2libGUiKSYmIWEuaW5wdXQuaXMoIjpkaXNhYmxlZCIpJiZhLmlucHV0LmZvY3VzKCl9LF9nZXRCb3JkZXJzOmZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKGMpe3JldHVybnt0aGluOjEsbWVkaXVtOjIsdGhpY2s6M31bY118fGN9O3JldHVybltwYXJzZUZsb2F0KGIoYS5jc3MoImJvcmRlci1sZWZ0LXdpZHRoIikpKSxwYXJzZUZsb2F0KGIoYS5jc3MoImJvcmRlci10b3Atd2lkdGgiKSkpXX0sX2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hLmRwRGl2Lm91dGVyV2lkdGgoKSxmPWEuZHBEaXYub3V0ZXJIZWlnaHQoKSxoPWEuaW5wdXQ/YS5pbnB1dC5vdXRlcldpZHRoKCk6MCxpPWEuaW5wdXQ/YS5pbnB1dC5vdXRlckhlaWdodCgpOjAsZz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgrZChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpLAprPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQrZChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7Yi5sZWZ0LT10aGlzLl9nZXQoYSwiaXNSVEwiKT9lLWg6MDtiLmxlZnQtPWMmJmIubGVmdD09YS5pbnB1dC5vZmZzZXQoKS5sZWZ0P2QoZG9jdW1lbnQpLnNjcm9sbExlZnQoKTowO2IudG9wLT1jJiZiLnRvcD09YS5pbnB1dC5vZmZzZXQoKS50b3AraT9kKGRvY3VtZW50KS5zY3JvbGxUb3AoKTowO2IubGVmdC09TWF0aC5taW4oYi5sZWZ0LGIubGVmdCtlPmcmJmc+ZT9NYXRoLmFicyhiLmxlZnQrZS1nKTowKTtiLnRvcC09TWF0aC5taW4oYi50b3AsYi50b3ArZj5rJiZrPmY/TWF0aC5hYnMoZitpKTowKTtyZXR1cm4gYn0sX2ZpbmRQb3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuX2dldCh0aGlzLl9nZXRJbnN0KGEpLCJpc1JUTCIpO2EmJihhLnR5cGU9PSJoaWRkZW4ifHxhLm5vZGVUeXBlIT0xKTspYT1hW2I/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIl07CmE9ZChhKS5vZmZzZXQoKTtyZXR1cm5bYS5sZWZ0LGEudG9wXX0sX2hpZGVEYXRlcGlja2VyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2N1ckluc3Q7aWYoISghYnx8YSYmYiE9ZC5kYXRhKGEsImRhdGVwaWNrZXIiKSkpaWYodGhpcy5fZGF0ZXBpY2tlclNob3dpbmcpe2E9dGhpcy5fZ2V0KGIsInNob3dBbmltIik7dmFyIGM9dGhpcy5fZ2V0KGIsImR1cmF0aW9uIiksZT1mdW5jdGlvbigpe2QuZGF0ZXBpY2tlci5fdGlkeURpYWxvZyhiKTt0aGlzLl9jdXJJbnN0PW51bGx9O2QuZWZmZWN0cyYmZC5lZmZlY3RzW2FdP2IuZHBEaXYuaGlkZShhLGQuZGF0ZXBpY2tlci5fZ2V0KGIsInNob3dPcHRpb25zIiksYyxlKTpiLmRwRGl2W2E9PSJzbGlkZURvd24iPyJzbGlkZVVwIjphPT0iZmFkZUluIj8iZmFkZU91dCI6ImhpZGUiXShhP2M6bnVsbCxlKTthfHxlKCk7aWYoYT10aGlzLl9nZXQoYiwib25DbG9zZSIpKWEuYXBwbHkoYi5pbnB1dD9iLmlucHV0WzBdOm51bGwsW2IuaW5wdXQ/Yi5pbnB1dC52YWwoKToKIiIsYl0pO3RoaXMuX2RhdGVwaWNrZXJTaG93aW5nPWZhbHNlO3RoaXMuX2xhc3RJbnB1dD1udWxsO2lmKHRoaXMuX2luRGlhbG9nKXt0aGlzLl9kaWFsb2dJbnB1dC5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDoiMCIsdG9wOiItMTAwcHgifSk7aWYoZC5ibG9ja1VJKXtkLnVuYmxvY2tVSSgpO2QoImJvZHkiKS5hcHBlbmQodGhpcy5kcERpdil9fXRoaXMuX2luRGlhbG9nPWZhbHNlfX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24oYSl7YS5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykudW5iaW5kKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKGEpe2lmKGQuZGF0ZXBpY2tlci5fY3VySW5zdCl7YT1kKGEudGFyZ2V0KTthWzBdLmlkIT1kLmRhdGVwaWNrZXIuX21haW5EaXZJZCYmYS5wYXJlbnRzKCIjIitkLmRhdGVwaWNrZXIuX21haW5EaXZJZCkubGVuZ3RoPT0wJiYhYS5oYXNDbGFzcyhkLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKSYmCiFhLmhhc0NsYXNzKGQuZGF0ZXBpY2tlci5fdHJpZ2dlckNsYXNzKSYmZC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmIShkLmRhdGVwaWNrZXIuX2luRGlhbG9nJiZkLmJsb2NrVUkpJiZkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9fSxfYWRqdXN0RGF0ZTpmdW5jdGlvbihhLGIsYyl7YT1kKGEpO3ZhciBlPXRoaXMuX2dldEluc3QoYVswXSk7aWYoIXRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGFbMF0pKXt0aGlzLl9hZGp1c3RJbnN0RGF0ZShlLGIrKGM9PSJNIj90aGlzLl9nZXQoZSwic2hvd0N1cnJlbnRBdFBvcyIpOjApLGMpO3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIoZSl9fSxfZ290b1RvZGF5OmZ1bmN0aW9uKGEpe2E9ZChhKTt2YXIgYj10aGlzLl9nZXRJbnN0KGFbMF0pO2lmKHRoaXMuX2dldChiLCJnb3RvQ3VycmVudCIpJiZiLmN1cnJlbnREYXkpe2Iuc2VsZWN0ZWREYXk9Yi5jdXJyZW50RGF5O2IuZHJhd01vbnRoPWIuc2VsZWN0ZWRNb250aD1iLmN1cnJlbnRNb250aDsKYi5kcmF3WWVhcj1iLnNlbGVjdGVkWWVhcj1iLmN1cnJlbnRZZWFyfWVsc2V7dmFyIGM9bmV3IERhdGU7Yi5zZWxlY3RlZERheT1jLmdldERhdGUoKTtiLmRyYXdNb250aD1iLnNlbGVjdGVkTW9udGg9Yy5nZXRNb250aCgpO2IuZHJhd1llYXI9Yi5zZWxlY3RlZFllYXI9Yy5nZXRGdWxsWWVhcigpfXRoaXMuX25vdGlmeUNoYW5nZShiKTt0aGlzLl9hZGp1c3REYXRlKGEpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKGEsYixjKXthPWQoYSk7dmFyIGU9dGhpcy5fZ2V0SW5zdChhWzBdKTtlLl9zZWxlY3RpbmdNb250aFllYXI9ZmFsc2U7ZVsic2VsZWN0ZWQiKyhjPT0iTSI/Ik1vbnRoIjoiWWVhciIpXT1lWyJkcmF3IisoYz09Ik0iPyJNb250aCI6IlllYXIiKV09cGFyc2VJbnQoYi5vcHRpb25zW2Iuc2VsZWN0ZWRJbmRleF0udmFsdWUsMTApO3RoaXMuX25vdGlmeUNoYW5nZShlKTt0aGlzLl9hZGp1c3REYXRlKGEpfSxfY2xpY2tNb250aFllYXI6ZnVuY3Rpb24oYSl7dmFyIGI9CnRoaXMuX2dldEluc3QoZChhKVswXSk7Yi5pbnB1dCYmYi5fc2VsZWN0aW5nTW9udGhZZWFyJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5pbnB1dC5mb2N1cygpfSwwKTtiLl9zZWxlY3RpbmdNb250aFllYXI9IWIuX3NlbGVjdGluZ01vbnRoWWVhcn0sX3NlbGVjdERheTpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZj1kKGEpO2lmKCEoZChlKS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGZbMF0pKSl7Zj10aGlzLl9nZXRJbnN0KGZbMF0pO2Yuc2VsZWN0ZWREYXk9Zi5jdXJyZW50RGF5PWQoImEiLGUpLmh0bWwoKTtmLnNlbGVjdGVkTW9udGg9Zi5jdXJyZW50TW9udGg9YjtmLnNlbGVjdGVkWWVhcj1mLmN1cnJlbnRZZWFyPWM7dGhpcy5fc2VsZWN0RGF0ZShhLHRoaXMuX2Zvcm1hdERhdGUoZixmLmN1cnJlbnREYXksZi5jdXJyZW50TW9udGgsZi5jdXJyZW50WWVhcikpfX0sX2NsZWFyRGF0ZTpmdW5jdGlvbihhKXthPQpkKGEpO3RoaXMuX2dldEluc3QoYVswXSk7dGhpcy5fc2VsZWN0RGF0ZShhLCIiKX0sX3NlbGVjdERhdGU6ZnVuY3Rpb24oYSxiKXthPXRoaXMuX2dldEluc3QoZChhKVswXSk7Yj1iIT1udWxsP2I6dGhpcy5fZm9ybWF0RGF0ZShhKTthLmlucHV0JiZhLmlucHV0LnZhbChiKTt0aGlzLl91cGRhdGVBbHRlcm5hdGUoYSk7dmFyIGM9dGhpcy5fZ2V0KGEsIm9uU2VsZWN0Iik7aWYoYyljLmFwcGx5KGEuaW5wdXQ/YS5pbnB1dFswXTpudWxsLFtiLGFdKTtlbHNlIGEuaW5wdXQmJmEuaW5wdXQudHJpZ2dlcigiY2hhbmdlIik7aWYoYS5pbmxpbmUpdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihhKTtlbHNle3RoaXMuX2hpZGVEYXRlcGlja2VyKCk7dGhpcy5fbGFzdElucHV0PWEuaW5wdXRbMF07dHlwZW9mIGEuaW5wdXRbMF0hPSJvYmplY3QiJiZhLmlucHV0LmZvY3VzKCk7dGhpcy5fbGFzdElucHV0PW51bGx9fSxfdXBkYXRlQWx0ZXJuYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldChhLAoiYWx0RmllbGQiKTtpZihiKXt2YXIgYz10aGlzLl9nZXQoYSwiYWx0Rm9ybWF0Iil8fHRoaXMuX2dldChhLCJkYXRlRm9ybWF0IiksZT10aGlzLl9nZXREYXRlKGEpLGY9dGhpcy5mb3JtYXREYXRlKGMsZSx0aGlzLl9nZXRGb3JtYXRDb25maWcoYSkpO2QoYikuZWFjaChmdW5jdGlvbigpe2QodGhpcykudmFsKGYpfSl9fSxub1dlZWtlbmRzOmZ1bmN0aW9uKGEpe2E9YS5nZXREYXkoKTtyZXR1cm5bYT4wJiZhPDYsIiJdfSxpc284NjAxV2VlazpmdW5jdGlvbihhKXthPW5ldyBEYXRlKGEuZ2V0VGltZSgpKTthLnNldERhdGUoYS5nZXREYXRlKCkrNC0oYS5nZXREYXkoKXx8NykpO3ZhciBiPWEuZ2V0VGltZSgpO2Euc2V0TW9udGgoMCk7YS5zZXREYXRlKDEpO3JldHVybiBNYXRoLmZsb29yKE1hdGgucm91bmQoKGItYSkvODY0RTUpLzcpKzF9LHBhcnNlRGF0ZTpmdW5jdGlvbihhLGIsYyl7aWYoYT09bnVsbHx8Yj09bnVsbCl0aHJvdyJJbnZhbGlkIGFyZ3VtZW50cyI7Yj10eXBlb2YgYj09CiJvYmplY3QiP2IudG9TdHJpbmcoKTpiKyIiO2lmKGI9PSIiKXJldHVybiBudWxsO2Zvcih2YXIgZT0oYz9jLnNob3J0WWVhckN1dG9mZjpudWxsKXx8dGhpcy5fZGVmYXVsdHMuc2hvcnRZZWFyQ3V0b2ZmLGY9KGM/Yy5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LGg9KGM/Yy5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsaT0oYz9jLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGc9KGM/Yy5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGs9Yz0tMSxsPS0xLHU9LTEsaj1mYWxzZSxvPWZ1bmN0aW9uKHApeyhwPXorMTxhLmxlbmd0aCYmYS5jaGFyQXQoeisxKT09cCkmJnorKztyZXR1cm4gcH0sbT1mdW5jdGlvbihwKXtvKHApO3A9bmV3IFJlZ0V4cCgiXlxcZHsxLCIrKHA9PSJAIj8xNDpwPT0iISI/MjA6cD09InkiPzQ6cD09Im8iPwozOjIpKyJ9Iik7cD1iLnN1YnN0cmluZyhzKS5tYXRjaChwKTtpZighcCl0aHJvdyJNaXNzaW5nIG51bWJlciBhdCBwb3NpdGlvbiAiK3M7cys9cFswXS5sZW5ndGg7cmV0dXJuIHBhcnNlSW50KHBbMF0sMTApfSxuPWZ1bmN0aW9uKHAsdyxIKXtwPW8ocCk/SDp3O2Zvcih3PTA7dzxwLmxlbmd0aDt3KyspaWYoYi5zdWJzdHIocyxwW3ddLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09cFt3XS50b0xvd2VyQ2FzZSgpKXtzKz1wW3ddLmxlbmd0aDtyZXR1cm4gdysxfXRocm93IlVua25vd24gbmFtZSBhdCBwb3NpdGlvbiAiK3M7fSxyPWZ1bmN0aW9uKCl7aWYoYi5jaGFyQXQocykhPWEuY2hhckF0KHopKXRocm93IlVuZXhwZWN0ZWQgbGl0ZXJhbCBhdCBwb3NpdGlvbiAiK3M7cysrfSxzPTAsej0wO3o8YS5sZW5ndGg7eisrKWlmKGopaWYoYS5jaGFyQXQoeik9PSInIiYmIW8oIiciKSlqPWZhbHNlO2Vsc2UgcigpO2Vsc2Ugc3dpdGNoKGEuY2hhckF0KHopKXtjYXNlICJkIjpsPW0oImQiKTsKYnJlYWs7Y2FzZSAiRCI6bigiRCIsZixoKTticmVhaztjYXNlICJvIjp1PW0oIm8iKTticmVhaztjYXNlICJtIjprPW0oIm0iKTticmVhaztjYXNlICJNIjprPW4oIk0iLGksZyk7YnJlYWs7Y2FzZSAieSI6Yz1tKCJ5Iik7YnJlYWs7Y2FzZSAiQCI6dmFyIHY9bmV3IERhdGUobSgiQCIpKTtjPXYuZ2V0RnVsbFllYXIoKTtrPXYuZ2V0TW9udGgoKSsxO2w9di5nZXREYXRlKCk7YnJlYWs7Y2FzZSAiISI6dj1uZXcgRGF0ZSgobSgiISIpLXRoaXMuX3RpY2tzVG8xOTcwKS8xRTQpO2M9di5nZXRGdWxsWWVhcigpO2s9di5nZXRNb250aCgpKzE7bD12LmdldERhdGUoKTticmVhaztjYXNlICInIjppZihvKCInIikpcigpO2Vsc2Ugaj10cnVlO2JyZWFrO2RlZmF1bHQ6cigpfWlmKGM9PS0xKWM9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpO2Vsc2UgaWYoYzwxMDApYys9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArKGM8PWU/MDotMTAwKTtpZih1PgotMSl7az0xO2w9dTtkb3tlPXRoaXMuX2dldERheXNJbk1vbnRoKGMsay0xKTtpZihsPD1lKWJyZWFrO2srKztsLT1lfXdoaWxlKDEpfXY9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoYyxrLTEsbCkpO2lmKHYuZ2V0RnVsbFllYXIoKSE9Y3x8di5nZXRNb250aCgpKzEhPWt8fHYuZ2V0RGF0ZSgpIT1sKXRocm93IkludmFsaWQgZGF0ZSI7cmV0dXJuIHZ9LEFUT006Inl5LW1tLWRkIixDT09LSUU6IkQsIGRkIE0geXkiLElTT184NjAxOiJ5eS1tbS1kZCIsUkZDXzgyMjoiRCwgZCBNIHkiLFJGQ184NTA6IkRELCBkZC1NLXkiLFJGQ18xMDM2OiJELCBkIE0geSIsUkZDXzExMjM6IkQsIGQgTSB5eSIsUkZDXzI4MjI6IkQsIGQgTSB5eSIsUlNTOiJELCBkIE0geSIsVElDS1M6IiEiLFRJTUVTVEFNUDoiQCIsVzNDOiJ5eS1tbS1kZCIsX3RpY2tzVG8xOTcwOig3MTg2ODUrTWF0aC5mbG9vcig0OTIuNSktTWF0aC5mbG9vcigxOS43KStNYXRoLmZsb29yKDQuOTI1KSkqMjQqCjYwKjYwKjFFNyxmb3JtYXREYXRlOmZ1bmN0aW9uKGEsYixjKXtpZighYilyZXR1cm4iIjt2YXIgZT0oYz9jLmRheU5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsZj0oYz9jLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxoPShjP2MubW9udGhOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzU2hvcnQ7Yz0oYz9jLm1vbnRoTmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXM7dmFyIGk9ZnVuY3Rpb24obyl7KG89aisxPGEubGVuZ3RoJiZhLmNoYXJBdChqKzEpPT1vKSYmaisrO3JldHVybiBvfSxnPWZ1bmN0aW9uKG8sbSxuKXttPSIiK207aWYoaShvKSlmb3IoO20ubGVuZ3RoPG47KW09IjAiK207cmV0dXJuIG19LGs9ZnVuY3Rpb24obyxtLG4scil7cmV0dXJuIGkobyk/clttXTpuW21dfSxsPSIiLHU9ZmFsc2U7aWYoYilmb3IodmFyIGo9MDtqPGEubGVuZ3RoO2orKylpZih1KWlmKGEuY2hhckF0KGopPT0KIiciJiYhaSgiJyIpKXU9ZmFsc2U7ZWxzZSBsKz1hLmNoYXJBdChqKTtlbHNlIHN3aXRjaChhLmNoYXJBdChqKSl7Y2FzZSAiZCI6bCs9ZygiZCIsYi5nZXREYXRlKCksMik7YnJlYWs7Y2FzZSAiRCI6bCs9aygiRCIsYi5nZXREYXkoKSxlLGYpO2JyZWFrO2Nhc2UgIm8iOmwrPWcoIm8iLChiLmdldFRpbWUoKS0obmV3IERhdGUoYi5nZXRGdWxsWWVhcigpLDAsMCkpLmdldFRpbWUoKSkvODY0RTUsMyk7YnJlYWs7Y2FzZSAibSI6bCs9ZygibSIsYi5nZXRNb250aCgpKzEsMik7YnJlYWs7Y2FzZSAiTSI6bCs9aygiTSIsYi5nZXRNb250aCgpLGgsYyk7YnJlYWs7Y2FzZSAieSI6bCs9aSgieSIpP2IuZ2V0RnVsbFllYXIoKTooYi5nZXRZZWFyKCklMTAwPDEwPyIwIjoiIikrYi5nZXRZZWFyKCklMTAwO2JyZWFrO2Nhc2UgIkAiOmwrPWIuZ2V0VGltZSgpO2JyZWFrO2Nhc2UgIiEiOmwrPWIuZ2V0VGltZSgpKjFFNCt0aGlzLl90aWNrc1RvMTk3MDticmVhaztjYXNlICInIjppZihpKCInIikpbCs9CiInIjtlbHNlIHU9dHJ1ZTticmVhaztkZWZhdWx0OmwrPWEuY2hhckF0KGopfXJldHVybiBsfSxfcG9zc2libGVDaGFyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9IiIsYz1mYWxzZSxlPWZ1bmN0aW9uKGgpeyhoPWYrMTxhLmxlbmd0aCYmYS5jaGFyQXQoZisxKT09aCkmJmYrKztyZXR1cm4gaH0sZj0wO2Y8YS5sZW5ndGg7ZisrKWlmKGMpaWYoYS5jaGFyQXQoZik9PSInIiYmIWUoIiciKSljPWZhbHNlO2Vsc2UgYis9YS5jaGFyQXQoZik7ZWxzZSBzd2l0Y2goYS5jaGFyQXQoZikpe2Nhc2UgImQiOmNhc2UgIm0iOmNhc2UgInkiOmNhc2UgIkAiOmIrPSIwMTIzNDU2Nzg5IjticmVhaztjYXNlICJEIjpjYXNlICJNIjpyZXR1cm4gbnVsbDtjYXNlICInIjppZihlKCInIikpYis9IiciO2Vsc2UgYz10cnVlO2JyZWFrO2RlZmF1bHQ6Yis9YS5jaGFyQXQoZil9cmV0dXJuIGJ9LF9nZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zZXR0aW5nc1tiXSE9PUc/YS5zZXR0aW5nc1tiXTp0aGlzLl9kZWZhdWx0c1tiXX0sCl9zZXREYXRlRnJvbUZpZWxkOmZ1bmN0aW9uKGEsYil7aWYoYS5pbnB1dC52YWwoKSE9YS5sYXN0VmFsKXt2YXIgYz10aGlzLl9nZXQoYSwiZGF0ZUZvcm1hdCIpLGU9YS5sYXN0VmFsPWEuaW5wdXQ/YS5pbnB1dC52YWwoKTpudWxsLGYsaDtmPWg9dGhpcy5fZ2V0RGVmYXVsdERhdGUoYSk7dmFyIGk9dGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGEpO3RyeXtmPXRoaXMucGFyc2VEYXRlKGMsZSxpKXx8aH1jYXRjaChnKXt0aGlzLmxvZyhnKTtlPWI/IiI6ZX1hLnNlbGVjdGVkRGF5PWYuZ2V0RGF0ZSgpO2EuZHJhd01vbnRoPWEuc2VsZWN0ZWRNb250aD1mLmdldE1vbnRoKCk7YS5kcmF3WWVhcj1hLnNlbGVjdGVkWWVhcj1mLmdldEZ1bGxZZWFyKCk7YS5jdXJyZW50RGF5PWU/Zi5nZXREYXRlKCk6MDthLmN1cnJlbnRNb250aD1lP2YuZ2V0TW9udGgoKTowO2EuY3VycmVudFllYXI9ZT9mLmdldEZ1bGxZZWFyKCk6MDt0aGlzLl9hZGp1c3RJbnN0RGF0ZShhKX19LF9nZXREZWZhdWx0RGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fcmVzdHJpY3RNaW5NYXgoYSwKdGhpcy5fZGV0ZXJtaW5lRGF0ZShhLHRoaXMuX2dldChhLCJkZWZhdWx0RGF0ZSIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1mdW5jdGlvbihoKXt2YXIgaT1uZXcgRGF0ZTtpLnNldERhdGUoaS5nZXREYXRlKCkraCk7cmV0dXJuIGl9LGY9ZnVuY3Rpb24oaCl7dHJ5e3JldHVybiBkLmRhdGVwaWNrZXIucGFyc2VEYXRlKGQuZGF0ZXBpY2tlci5fZ2V0KGEsImRhdGVGb3JtYXQiKSxoLGQuZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKGEpKX1jYXRjaChpKXt9dmFyIGc9KGgudG9Mb3dlckNhc2UoKS5tYXRjaCgvXmMvKT9kLmRhdGVwaWNrZXIuX2dldERhdGUoYSk6bnVsbCl8fG5ldyBEYXRlLGs9Zy5nZXRGdWxsWWVhcigpLGw9Zy5nZXRNb250aCgpO2c9Zy5nZXREYXRlKCk7Zm9yKHZhciB1PS8oWystXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csaj11LmV4ZWMoaCk7ajspe3N3aXRjaChqWzJdfHwiZCIpe2Nhc2UgImQiOmNhc2UgIkQiOmcrPQpwYXJzZUludChqWzFdLDEwKTticmVhaztjYXNlICJ3IjpjYXNlICJXIjpnKz1wYXJzZUludChqWzFdLDEwKSo3O2JyZWFrO2Nhc2UgIm0iOmNhc2UgIk0iOmwrPXBhcnNlSW50KGpbMV0sMTApO2c9TWF0aC5taW4oZyxkLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGssbCkpO2JyZWFrO2Nhc2UgInkiOmNhc2UgIlkiOmsrPXBhcnNlSW50KGpbMV0sMTApO2c9TWF0aC5taW4oZyxkLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGssbCkpO2JyZWFrfWo9dS5leGVjKGgpfXJldHVybiBuZXcgRGF0ZShrLGwsZyl9O2lmKGI9KGI9Yj09bnVsbD9jOnR5cGVvZiBiPT0ic3RyaW5nIj9mKGIpOnR5cGVvZiBiPT0ibnVtYmVyIj9pc05hTihiKT9jOmUoYik6YikmJmIudG9TdHJpbmcoKT09IkludmFsaWQgRGF0ZSI/YzpiKXtiLnNldEhvdXJzKDApO2Iuc2V0TWludXRlcygwKTtiLnNldFNlY29uZHMoMCk7Yi5zZXRNaWxsaXNlY29uZHMoMCl9cmV0dXJuIHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KGIpfSwKX2RheWxpZ2h0U2F2aW5nQWRqdXN0OmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBudWxsO2Euc2V0SG91cnMoYS5nZXRIb3VycygpPjEyP2EuZ2V0SG91cnMoKSsyOjApO3JldHVybiBhfSxfc2V0RGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGU9IWIsZj1hLnNlbGVjdGVkTW9udGgsaD1hLnNlbGVjdGVkWWVhcjtiPXRoaXMuX3Jlc3RyaWN0TWluTWF4KGEsdGhpcy5fZGV0ZXJtaW5lRGF0ZShhLGIsbmV3IERhdGUpKTthLnNlbGVjdGVkRGF5PWEuY3VycmVudERheT1iLmdldERhdGUoKTthLmRyYXdNb250aD1hLnNlbGVjdGVkTW9udGg9YS5jdXJyZW50TW9udGg9Yi5nZXRNb250aCgpO2EuZHJhd1llYXI9YS5zZWxlY3RlZFllYXI9YS5jdXJyZW50WWVhcj1iLmdldEZ1bGxZZWFyKCk7aWYoKGYhPWEuc2VsZWN0ZWRNb250aHx8aCE9YS5zZWxlY3RlZFllYXIpJiYhYyl0aGlzLl9ub3RpZnlDaGFuZ2UoYSk7dGhpcy5fYWRqdXN0SW5zdERhdGUoYSk7aWYoYS5pbnB1dClhLmlucHV0LnZhbChlPwoiIjp0aGlzLl9mb3JtYXREYXRlKGEpKX0sX2dldERhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIWEuY3VycmVudFllYXJ8fGEuaW5wdXQmJmEuaW5wdXQudmFsKCk9PSIiP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoYS5jdXJyZW50WWVhcixhLmN1cnJlbnRNb250aCxhLmN1cnJlbnREYXkpKX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgRGF0ZTtiPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCksYi5nZXREYXRlKCkpKTt2YXIgYz10aGlzLl9nZXQoYSwiaXNSVEwiKSxlPXRoaXMuX2dldChhLCJzaG93QnV0dG9uUGFuZWwiKSxmPXRoaXMuX2dldChhLCJoaWRlSWZOb1ByZXZOZXh0IiksaD10aGlzLl9nZXQoYSwibmF2aWdhdGlvbkFzRGF0ZUZvcm1hdCIpLGk9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMoYSksZz10aGlzLl9nZXQoYSwic2hvd0N1cnJlbnRBdFBvcyIpLGs9CnRoaXMuX2dldChhLCJzdGVwTW9udGhzIiksbD1pWzBdIT0xfHxpWzFdIT0xLHU9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoIWEuY3VycmVudERheT9uZXcgRGF0ZSg5OTk5LDksOSk6bmV3IERhdGUoYS5jdXJyZW50WWVhcixhLmN1cnJlbnRNb250aCxhLmN1cnJlbnREYXkpKSxqPXRoaXMuX2dldE1pbk1heERhdGUoYSwibWluIiksbz10aGlzLl9nZXRNaW5NYXhEYXRlKGEsIm1heCIpO2c9YS5kcmF3TW9udGgtZzt2YXIgbT1hLmRyYXdZZWFyO2lmKGc8MCl7Zys9MTI7bS0tfWlmKG8pe3ZhciBuPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG8uZ2V0RnVsbFllYXIoKSxvLmdldE1vbnRoKCktaVswXSppWzFdKzEsby5nZXREYXRlKCkpKTtmb3Iobj1qJiZuPGo/ajpuO3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG0sZywxKSk+bjspe2ctLTtpZihnPDApe2c9MTE7bS0tfX19YS5kcmF3TW9udGg9ZzthLmRyYXdZZWFyPW07bj10aGlzLl9nZXQoYSwKInByZXZUZXh0Iik7bj0haD9uOnRoaXMuZm9ybWF0RGF0ZShuLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG0sZy1rLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcoYSkpO249dGhpcy5fY2FuQWRqdXN0TW9udGgoYSwtMSxtLGcpPyc8YSBjbGFzcz0idWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwiIG9uY2xpY2s9IkRQX2pRdWVyeV8nK3krIi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKCcjIithLmlkKyInLCAtIitrKyIsICdNJyk7XCIgdGl0bGU9XCIiK24rJyI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysoYz8iZSI6InciKSsnIj4nK24rIjwvc3Bhbj48L2E+IjpmPyIiOic8YSBjbGFzcz0idWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQiIHRpdGxlPSInK24rJyI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysoYz8iZSI6InciKSsnIj4nKwpuKyI8L3NwYW4+PC9hPiI7dmFyIHI9dGhpcy5fZ2V0KGEsIm5leHRUZXh0Iik7cj0haD9yOnRoaXMuZm9ybWF0RGF0ZShyLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG0sZytrLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcoYSkpO2Y9dGhpcy5fY2FuQWRqdXN0TW9udGgoYSwrMSxtLGcpPyc8YSBjbGFzcz0idWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwiIG9uY2xpY2s9IkRQX2pRdWVyeV8nK3krIi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKCcjIithLmlkKyInLCArIitrKyIsICdNJyk7XCIgdGl0bGU9XCIiK3IrJyI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysoYz8idyI6ImUiKSsnIj4nK3IrIjwvc3Bhbj48L2E+IjpmPyIiOic8YSBjbGFzcz0idWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQiIHRpdGxlPSInK3IrJyI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysKKGM/InciOiJlIikrJyI+JytyKyI8L3NwYW4+PC9hPiI7az10aGlzLl9nZXQoYSwiY3VycmVudFRleHQiKTtyPXRoaXMuX2dldChhLCJnb3RvQ3VycmVudCIpJiZhLmN1cnJlbnREYXk/dTpiO2s9IWg/azp0aGlzLmZvcm1hdERhdGUoayxyLHRoaXMuX2dldEZvcm1hdENvbmZpZyhhKSk7aD0hYS5pbmxpbmU/JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0idWktZGF0ZXBpY2tlci1jbG9zZSB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXByaW1hcnkgdWktY29ybmVyLWFsbCIgb25jbGljaz0iRFBfalF1ZXJ5XycreSsnLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7Ij4nK3RoaXMuX2dldChhLCJjbG9zZVRleHQiKSsiPC9idXR0b24+IjoiIjtlPWU/JzxkaXYgY2xhc3M9InVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSB1aS13aWRnZXQtY29udGVudCI+JysoYz9oOiIiKSsodGhpcy5faXNJblJhbmdlKGEscik/JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0idWktZGF0ZXBpY2tlci1jdXJyZW50IHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktc2Vjb25kYXJ5IHVpLWNvcm5lci1hbGwiIG9uY2xpY2s9IkRQX2pRdWVyeV8nKwp5KyIuZGF0ZXBpY2tlci5fZ290b1RvZGF5KCcjIithLmlkKyInKTtcIj4iK2srIjwvYnV0dG9uPiI6IiIpKyhjPyIiOmgpKyI8L2Rpdj4iOiIiO2g9cGFyc2VJbnQodGhpcy5fZ2V0KGEsImZpcnN0RGF5IiksMTApO2g9aXNOYU4oaCk/MDpoO2s9dGhpcy5fZ2V0KGEsInNob3dXZWVrIik7cj10aGlzLl9nZXQoYSwiZGF5TmFtZXMiKTt0aGlzLl9nZXQoYSwiZGF5TmFtZXNTaG9ydCIpO3ZhciBzPXRoaXMuX2dldChhLCJkYXlOYW1lc01pbiIpLHo9dGhpcy5fZ2V0KGEsIm1vbnRoTmFtZXMiKSx2PXRoaXMuX2dldChhLCJtb250aE5hbWVzU2hvcnQiKSxwPXRoaXMuX2dldChhLCJiZWZvcmVTaG93RGF5Iiksdz10aGlzLl9nZXQoYSwic2hvd090aGVyTW9udGhzIiksSD10aGlzLl9nZXQoYSwic2VsZWN0T3RoZXJNb250aHMiKTt0aGlzLl9nZXQoYSwiY2FsY3VsYXRlV2VlayIpO2Zvcih2YXIgTD10aGlzLl9nZXREZWZhdWx0RGF0ZShhKSxJPSIiLEM9MDtDPGlbMF07QysrKXtmb3IodmFyIE09CiIiLEQ9MDtEPGlbMV07RCsrKXt2YXIgTj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShtLGcsYS5zZWxlY3RlZERheSkpLHQ9IiB1aS1jb3JuZXItYWxsIix4PSIiO2lmKGwpe3grPSc8ZGl2IGNsYXNzPSJ1aS1kYXRlcGlja2VyLWdyb3VwJztpZihpWzFdPjEpc3dpdGNoKEQpe2Nhc2UgMDp4Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtZmlyc3QiO3Q9IiB1aS1jb3JuZXItIisoYz8icmlnaHQiOiJsZWZ0Iik7YnJlYWs7Y2FzZSBpWzFdLTE6eCs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QiO3Q9IiB1aS1jb3JuZXItIisoYz8ibGVmdCI6InJpZ2h0Iik7YnJlYWs7ZGVmYXVsdDp4Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtbWlkZGxlIjt0PSIiO2JyZWFrfXgrPSciPid9eCs9JzxkaXYgY2xhc3M9InVpLWRhdGVwaWNrZXItaGVhZGVyIHVpLXdpZGdldC1oZWFkZXIgdWktaGVscGVyLWNsZWFyZml4Jyt0KyciPicrKC9hbGx8bGVmdC8udGVzdCh0KSYmQz09MD9jPwpmOm46IiIpKygvYWxsfHJpZ2h0Ly50ZXN0KHQpJiZDPT0wP2M/bjpmOiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcihhLGcsbSxqLG8sQz4wfHxEPjAseix2KSsnPC9kaXY+PHRhYmxlIGNsYXNzPSJ1aS1kYXRlcGlja2VyLWNhbGVuZGFyIj48dGhlYWQ+PHRyPic7dmFyIEE9az8nPHRoIGNsYXNzPSJ1aS1kYXRlcGlja2VyLXdlZWstY29sIj4nK3RoaXMuX2dldChhLCJ3ZWVrSGVhZGVyIikrIjwvdGg+IjoiIjtmb3IodD0wO3Q8Nzt0Kyspe3ZhciBxPSh0K2gpJTc7QSs9Ijx0aCIrKCh0K2grNiklNz49NT8nIGNsYXNzPSJ1aS1kYXRlcGlja2VyLXdlZWstZW5kIic6IiIpKyc+PHNwYW4gdGl0bGU9IicrcltxXSsnIj4nK3NbcV0rIjwvc3Bhbj48L3RoPiJ9eCs9QSsiPC90cj48L3RoZWFkPjx0Ym9keT4iO0E9dGhpcy5fZ2V0RGF5c0luTW9udGgobSxnKTtpZihtPT1hLnNlbGVjdGVkWWVhciYmZz09YS5zZWxlY3RlZE1vbnRoKWEuc2VsZWN0ZWREYXk9TWF0aC5taW4oYS5zZWxlY3RlZERheSwKQSk7dD0odGhpcy5fZ2V0Rmlyc3REYXlPZk1vbnRoKG0sZyktaCs3KSU3O0E9bD82Ok1hdGguY2VpbCgodCtBKS83KTtxPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG0sZywxLXQpKTtmb3IodmFyIE89MDtPPEE7TysrKXt4Kz0iPHRyPiI7dmFyIFA9IWs/IiI6Jzx0ZCBjbGFzcz0idWktZGF0ZXBpY2tlci13ZWVrLWNvbCI+Jyt0aGlzLl9nZXQoYSwiY2FsY3VsYXRlV2VlayIpKHEpKyI8L3RkPiI7Zm9yKHQ9MDt0PDc7dCsrKXt2YXIgRj1wP3AuYXBwbHkoYS5pbnB1dD9hLmlucHV0WzBdOm51bGwsW3FdKTpbdHJ1ZSwiIl0sQj1xLmdldE1vbnRoKCkhPWcsSj1CJiYhSHx8IUZbMF18fGomJnE8anx8byYmcT5vO1ArPSc8dGQgY2xhc3M9IicrKCh0K2grNiklNz49NT8iIHVpLWRhdGVwaWNrZXItd2Vlay1lbmQiOiIiKSsoQj8iIHVpLWRhdGVwaWNrZXItb3RoZXItbW9udGgiOiIiKSsocS5nZXRUaW1lKCk9PU4uZ2V0VGltZSgpJiZnPT1hLnNlbGVjdGVkTW9udGgmJgphLl9rZXlFdmVudHx8TC5nZXRUaW1lKCk9PXEuZ2V0VGltZSgpJiZMLmdldFRpbWUoKT09Ti5nZXRUaW1lKCk/IiAiK3RoaXMuX2RheU92ZXJDbGFzczoiIikrKEo/IiAiK3RoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzKyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoQiYmIXc/IiI6IiAiK0ZbMV0rKHEuZ2V0VGltZSgpPT11LmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsocS5nZXRUaW1lKCk9PWIuZ2V0VGltZSgpPyIgdWktZGF0ZXBpY2tlci10b2RheSI6IiIpKSsnIicrKCghQnx8dykmJkZbMl0/JyB0aXRsZT0iJytGWzJdKyciJzoiIikrKEo/IiI6JyBvbmNsaWNrPSJEUF9qUXVlcnlfJyt5KyIuZGF0ZXBpY2tlci5fc2VsZWN0RGF5KCcjIithLmlkKyInLCIrcS5nZXRNb250aCgpKyIsIitxLmdldEZ1bGxZZWFyKCkrJywgdGhpcyk7cmV0dXJuIGZhbHNlOyInKSsiPiIrKEImJiF3PyImI3hhMDsiOko/JzxzcGFuIGNsYXNzPSJ1aS1zdGF0ZS1kZWZhdWx0Ij4nK3EuZ2V0RGF0ZSgpKwoiPC9zcGFuPiI6JzxhIGNsYXNzPSJ1aS1zdGF0ZS1kZWZhdWx0JysocS5nZXRUaW1lKCk9PWIuZ2V0VGltZSgpPyIgdWktc3RhdGUtaGlnaGxpZ2h0IjoiIikrKHEuZ2V0VGltZSgpPT11LmdldFRpbWUoKT8iIHVpLXN0YXRlLWFjdGl2ZSI6IiIpKyhCPyIgdWktcHJpb3JpdHktc2Vjb25kYXJ5IjoiIikrJyIgaHJlZj0iIyI+JytxLmdldERhdGUoKSsiPC9hPiIpKyI8L3RkPiI7cS5zZXREYXRlKHEuZ2V0RGF0ZSgpKzEpO3E9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QocSl9eCs9UCsiPC90cj4ifWcrKztpZihnPjExKXtnPTA7bSsrfXgrPSI8L3Rib2R5PjwvdGFibGU+IisobD8iPC9kaXY+IisoaVswXT4wJiZEPT1pWzFdLTE/JzxkaXYgY2xhc3M9InVpLWRhdGVwaWNrZXItcm93LWJyZWFrIj48L2Rpdj4nOiIiKToiIik7TSs9eH1JKz1NfUkrPWUrKGQuYnJvd3Nlci5tc2llJiZwYXJzZUludChkLmJyb3dzZXIudmVyc2lvbiwxMCk8NyYmIWEuaW5saW5lPyc8aWZyYW1lIHNyYz0iamF2YXNjcmlwdDpmYWxzZTsiIGNsYXNzPSJ1aS1kYXRlcGlja2VyLWNvdmVyIiBmcmFtZWJvcmRlcj0iMCI+PC9pZnJhbWU+JzoKIiIpO2EuX2tleUV2ZW50PWZhbHNlO3JldHVybiBJfSxfZ2VuZXJhdGVNb250aFllYXJIZWFkZXI6ZnVuY3Rpb24oYSxiLGMsZSxmLGgsaSxnKXt2YXIgaz10aGlzLl9nZXQoYSwiY2hhbmdlTW9udGgiKSxsPXRoaXMuX2dldChhLCJjaGFuZ2VZZWFyIiksdT10aGlzLl9nZXQoYSwic2hvd01vbnRoQWZ0ZXJZZWFyIiksaj0nPGRpdiBjbGFzcz0idWktZGF0ZXBpY2tlci10aXRsZSI+JyxvPSIiO2lmKGh8fCFrKW8rPSc8c3BhbiBjbGFzcz0idWktZGF0ZXBpY2tlci1tb250aCI+JytpW2JdKyI8L3NwYW4+IjtlbHNle2k9ZSYmZS5nZXRGdWxsWWVhcigpPT1jO3ZhciBtPWYmJmYuZ2V0RnVsbFllYXIoKT09YztvKz0nPHNlbGVjdCBjbGFzcz0idWktZGF0ZXBpY2tlci1tb250aCIgb25jaGFuZ2U9IkRQX2pRdWVyeV8nK3krIi5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoJyMiK2EuaWQrIicsIHRoaXMsICdNJyk7XCIgb25jbGljaz1cIkRQX2pRdWVyeV8iK3krIi5kYXRlcGlja2VyLl9jbGlja01vbnRoWWVhcignIyIrCmEuaWQrIicpO1wiPiI7Zm9yKHZhciBuPTA7bjwxMjtuKyspaWYoKCFpfHxuPj1lLmdldE1vbnRoKCkpJiYoIW18fG48PWYuZ2V0TW9udGgoKSkpbys9JzxvcHRpb24gdmFsdWU9IicrbisnIicrKG49PWI/JyBzZWxlY3RlZD0ic2VsZWN0ZWQiJzoiIikrIj4iK2dbbl0rIjwvb3B0aW9uPiI7bys9Ijwvc2VsZWN0PiJ9dXx8KGorPW8rKGh8fCEoayYmbCk/IiYjeGEwOyI6IiIpKTtpZihofHwhbClqKz0nPHNwYW4gY2xhc3M9InVpLWRhdGVwaWNrZXIteWVhciI+JytjKyI8L3NwYW4+IjtlbHNle2c9dGhpcy5fZ2V0KGEsInllYXJSYW5nZSIpLnNwbGl0KCI6Iik7dmFyIHI9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpO2k9ZnVuY3Rpb24ocyl7cz1zLm1hdGNoKC9jWystXS4qLyk/YytwYXJzZUludChzLnN1YnN0cmluZygxKSwxMCk6cy5tYXRjaCgvWystXS4qLyk/citwYXJzZUludChzLDEwKTpwYXJzZUludChzLDEwKTtyZXR1cm4gaXNOYU4ocyk/cjpzfTtiPWkoZ1swXSk7Zz1NYXRoLm1heChiLAppKGdbMV18fCIiKSk7Yj1lP01hdGgubWF4KGIsZS5nZXRGdWxsWWVhcigpKTpiO2c9Zj9NYXRoLm1pbihnLGYuZ2V0RnVsbFllYXIoKSk6Zztmb3Ioais9JzxzZWxlY3QgY2xhc3M9InVpLWRhdGVwaWNrZXIteWVhciIgb25jaGFuZ2U9IkRQX2pRdWVyeV8nK3krIi5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoJyMiK2EuaWQrIicsIHRoaXMsICdZJyk7XCIgb25jbGljaz1cIkRQX2pRdWVyeV8iK3krIi5kYXRlcGlja2VyLl9jbGlja01vbnRoWWVhcignIyIrYS5pZCsiJyk7XCI+IjtiPD1nO2IrKylqKz0nPG9wdGlvbiB2YWx1ZT0iJytiKyciJysoYj09Yz8nIHNlbGVjdGVkPSJzZWxlY3RlZCInOiIiKSsiPiIrYisiPC9vcHRpb24+IjtqKz0iPC9zZWxlY3Q+In1qKz10aGlzLl9nZXQoYSwieWVhclN1ZmZpeCIpO2lmKHUpais9KGh8fCEoayYmbCk/IiYjeGEwOyI6IiIpK287ais9IjwvZGl2PiI7cmV0dXJuIGp9LF9hZGp1c3RJbnN0RGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGU9CmEuZHJhd1llYXIrKGM9PSJZIj9iOjApLGY9YS5kcmF3TW9udGgrKGM9PSJNIj9iOjApO2I9TWF0aC5taW4oYS5zZWxlY3RlZERheSx0aGlzLl9nZXREYXlzSW5Nb250aChlLGYpKSsoYz09IkQiP2I6MCk7ZT10aGlzLl9yZXN0cmljdE1pbk1heChhLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUsZixiKSkpO2Euc2VsZWN0ZWREYXk9ZS5nZXREYXRlKCk7YS5kcmF3TW9udGg9YS5zZWxlY3RlZE1vbnRoPWUuZ2V0TW9udGgoKTthLmRyYXdZZWFyPWEuc2VsZWN0ZWRZZWFyPWUuZ2V0RnVsbFllYXIoKTtpZihjPT0iTSJ8fGM9PSJZIil0aGlzLl9ub3RpZnlDaGFuZ2UoYSl9LF9yZXN0cmljdE1pbk1heDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2dldE1pbk1heERhdGUoYSwibWluIik7YT10aGlzLl9nZXRNaW5NYXhEYXRlKGEsIm1heCIpO2I9YyYmYjxjP2M6YjtyZXR1cm4gYj1hJiZiPmE/YTpifSxfbm90aWZ5Q2hhbmdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldChhLAoib25DaGFuZ2VNb250aFllYXIiKTtpZihiKWIuYXBwbHkoYS5pbnB1dD9hLmlucHV0WzBdOm51bGwsW2Euc2VsZWN0ZWRZZWFyLGEuc2VsZWN0ZWRNb250aCsxLGFdKX0sX2dldE51bWJlck9mTW9udGhzOmZ1bmN0aW9uKGEpe2E9dGhpcy5fZ2V0KGEsIm51bWJlck9mTW9udGhzIik7cmV0dXJuIGE9PW51bGw/WzEsMV06dHlwZW9mIGE9PSJudW1iZXIiP1sxLGFdOmF9LF9nZXRNaW5NYXhEYXRlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUoYSx0aGlzLl9nZXQoYSxiKyJEYXRlIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbihhLGIpe3JldHVybiAzMi0obmV3IERhdGUoYSxiLDMyKSkuZ2V0RGF0ZSgpfSxfZ2V0Rmlyc3REYXlPZk1vbnRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuKG5ldyBEYXRlKGEsYiwxKSkuZ2V0RGF5KCl9LF9jYW5BZGp1c3RNb250aDpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZj10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhhKTsKYz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShjLGUrKGI8MD9iOmZbMF0qZlsxXSksMSkpO2I8MCYmYy5zZXREYXRlKHRoaXMuX2dldERheXNJbk1vbnRoKGMuZ2V0RnVsbFllYXIoKSxjLmdldE1vbnRoKCkpKTtyZXR1cm4gdGhpcy5faXNJblJhbmdlKGEsYyl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9nZXRNaW5NYXhEYXRlKGEsIm1pbiIpO2E9dGhpcy5fZ2V0TWluTWF4RGF0ZShhLCJtYXgiKTtyZXR1cm4oIWN8fGIuZ2V0VGltZSgpPj1jLmdldFRpbWUoKSkmJighYXx8Yi5nZXRUaW1lKCk8PWEuZ2V0VGltZSgpKX0sX2dldEZvcm1hdENvbmZpZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl9nZXQoYSwic2hvcnRZZWFyQ3V0b2ZmIik7Yj10eXBlb2YgYiE9InN0cmluZyI/YjoobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KGIsMTApO3JldHVybntzaG9ydFllYXJDdXRvZmY6YixkYXlOYW1lc1Nob3J0OnRoaXMuX2dldChhLAoiZGF5TmFtZXNTaG9ydCIpLGRheU5hbWVzOnRoaXMuX2dldChhLCJkYXlOYW1lcyIpLG1vbnRoTmFtZXNTaG9ydDp0aGlzLl9nZXQoYSwibW9udGhOYW1lc1Nob3J0IiksbW9udGhOYW1lczp0aGlzLl9nZXQoYSwibW9udGhOYW1lcyIpfX0sX2Zvcm1hdERhdGU6ZnVuY3Rpb24oYSxiLGMsZSl7aWYoIWIpe2EuY3VycmVudERheT1hLnNlbGVjdGVkRGF5O2EuY3VycmVudE1vbnRoPWEuc2VsZWN0ZWRNb250aDthLmN1cnJlbnRZZWFyPWEuc2VsZWN0ZWRZZWFyfWI9Yj90eXBlb2YgYj09Im9iamVjdCI/Yjp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShlLGMsYikpOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGEuY3VycmVudFllYXIsYS5jdXJyZW50TW9udGgsYS5jdXJyZW50RGF5KSk7cmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLl9nZXQoYSwiZGF0ZUZvcm1hdCIpLGIsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGEpKX19KTtkLmZuLmRhdGVwaWNrZXI9CmZ1bmN0aW9uKGEpe2lmKCFkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQpe2QoZG9jdW1lbnQpLm1vdXNlZG93bihkLmRhdGVwaWNrZXIuX2NoZWNrRXh0ZXJuYWxDbGljaykuZmluZCgiYm9keSIpLmFwcGVuZChkLmRhdGVwaWNrZXIuZHBEaXYpO2QuZGF0ZXBpY2tlci5pbml0aWFsaXplZD10cnVlfXZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZih0eXBlb2YgYT09InN0cmluZyImJihhPT0iaXNEaXNhYmxlZCJ8fGE9PSJnZXREYXRlInx8YT09IndpZGdldCIpKXJldHVybiBkLmRhdGVwaWNrZXJbIl8iK2ErIkRhdGVwaWNrZXIiXS5hcHBseShkLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChiKSk7aWYoYT09Im9wdGlvbiImJmFyZ3VtZW50cy5sZW5ndGg9PTImJnR5cGVvZiBhcmd1bWVudHNbMV09PSJzdHJpbmciKXJldHVybiBkLmRhdGVwaWNrZXJbIl8iK2ErIkRhdGVwaWNrZXIiXS5hcHBseShkLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChiKSk7CnJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0eXBlb2YgYT09InN0cmluZyI/ZC5kYXRlcGlja2VyWyJfIithKyJEYXRlcGlja2VyIl0uYXBwbHkoZC5kYXRlcGlja2VyLFt0aGlzXS5jb25jYXQoYikpOmQuZGF0ZXBpY2tlci5fYXR0YWNoRGF0ZXBpY2tlcih0aGlzLGEpfSl9O2QuZGF0ZXBpY2tlcj1uZXcgSztkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ZmFsc2U7ZC5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZC5kYXRlcGlja2VyLnZlcnNpb249IjEuOC42Ijt3aW5kb3dbIkRQX2pRdWVyeV8iK3ldPWR9KShqUXVlcnkpOwo7Ci8qIFVJIEVmZmVjdHMgMS43ICovCmpRdWVyeS5lZmZlY3RzfHxmdW5jdGlvbihmLGope2Z1bmN0aW9uIG0oYyl7dmFyIGE7aWYoYyYmYy5jb25zdHJ1Y3Rvcj09QXJyYXkmJmMubGVuZ3RoPT0zKXJldHVybiBjO2lmKGE9L3JnYlwoXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccypcKS8uZXhlYyhjKSlyZXR1cm5bcGFyc2VJbnQoYVsxXSwxMCkscGFyc2VJbnQoYVsyXSwxMCkscGFyc2VJbnQoYVszXSwxMCldO2lmKGE9L3JnYlwoXHMqKFswLTldKyg/OlwuWzAtOV0rKT8pXCVccyosXHMqKFswLTldKyg/OlwuWzAtOV0rKT8pXCVccyosXHMqKFswLTldKyg/OlwuWzAtOV0rKT8pXCVccypcKS8uZXhlYyhjKSlyZXR1cm5bcGFyc2VGbG9hdChhWzFdKSoyLjU1LHBhcnNlRmxvYXQoYVsyXSkqMi41NSxwYXJzZUZsb2F0KGFbM10pKjIuNTVdO2lmKGE9LyMoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KShbYS1mQS1GMC05XXsyfSkvLmV4ZWMoYykpcmV0dXJuW3BhcnNlSW50KGFbMV0sCjE2KSxwYXJzZUludChhWzJdLDE2KSxwYXJzZUludChhWzNdLDE2KV07aWYoYT0vIyhbYS1mQS1GMC05XSkoW2EtZkEtRjAtOV0pKFthLWZBLUYwLTldKS8uZXhlYyhjKSlyZXR1cm5bcGFyc2VJbnQoYVsxXSthWzFdLDE2KSxwYXJzZUludChhWzJdK2FbMl0sMTYpLHBhcnNlSW50KGFbM10rYVszXSwxNildO2lmKC9yZ2JhXCgwLCAwLCAwLCAwXCkvLmV4ZWMoYykpcmV0dXJuIG4udHJhbnNwYXJlbnQ7cmV0dXJuIG5bZi50cmltKGMpLnRvTG93ZXJDYXNlKCldfWZ1bmN0aW9uIHMoYyxhKXt2YXIgYjtkb3tiPWYuY3VyQ1NTKGMsYSk7aWYoYiE9IiImJmIhPSJ0cmFuc3BhcmVudCJ8fGYubm9kZU5hbWUoYywiYm9keSIpKWJyZWFrO2E9ImJhY2tncm91bmRDb2xvciJ9d2hpbGUoYz1jLnBhcmVudE5vZGUpO3JldHVybiBtKGIpfWZ1bmN0aW9uIG8oKXt2YXIgYz1kb2N1bWVudC5kZWZhdWx0Vmlldz9kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMsbnVsbCk6dGhpcy5jdXJyZW50U3R5bGUsCmE9e30sYixkO2lmKGMmJmMubGVuZ3RoJiZjWzBdJiZjW2NbMF1dKWZvcih2YXIgZT1jLmxlbmd0aDtlLS07KXtiPWNbZV07aWYodHlwZW9mIGNbYl09PSJzdHJpbmciKXtkPWIucmVwbGFjZSgvXC0oXHcpL2csZnVuY3Rpb24oZyxoKXtyZXR1cm4gaC50b1VwcGVyQ2FzZSgpfSk7YVtkXT1jW2JdfX1lbHNlIGZvcihiIGluIGMpaWYodHlwZW9mIGNbYl09PT0ic3RyaW5nIilhW2JdPWNbYl07cmV0dXJuIGF9ZnVuY3Rpb24gcChjKXt2YXIgYSxiO2ZvcihhIGluIGMpe2I9Y1thXTtpZihiPT1udWxsfHxmLmlzRnVuY3Rpb24oYil8fGEgaW4gdHx8L3Njcm9sbGJhci8udGVzdChhKXx8IS9jb2xvci9pLnRlc3QoYSkmJmlzTmFOKHBhcnNlRmxvYXQoYikpKWRlbGV0ZSBjW2FdfXJldHVybiBjfWZ1bmN0aW9uIHUoYyxhKXt2YXIgYj17XzowfSxkO2ZvcihkIGluIGEpaWYoY1tkXSE9YVtkXSliW2RdPWFbZF07cmV0dXJuIGJ9ZnVuY3Rpb24gayhjLGEsYixkKXtpZih0eXBlb2YgYz09Im9iamVjdCIpe2Q9CmE7Yj1udWxsO2E9YztjPWEuZWZmZWN0fWlmKGYuaXNGdW5jdGlvbihhKSl7ZD1hO2I9bnVsbDthPXt9fWlmKHR5cGVvZiBhPT0ibnVtYmVyInx8Zi5meC5zcGVlZHNbYV0pe2Q9YjtiPWE7YT17fX1pZihmLmlzRnVuY3Rpb24oYikpe2Q9YjtiPW51bGx9YT1hfHx7fTtiPWJ8fGEuZHVyYXRpb247Yj1mLmZ4Lm9mZj8wOnR5cGVvZiBiPT0ibnVtYmVyIj9iOmYuZnguc3BlZWRzW2JdfHxmLmZ4LnNwZWVkcy5fZGVmYXVsdDtkPWR8fGEuY29tcGxldGU7cmV0dXJuW2MsYSxiLGRdfWZ1bmN0aW9uIGwoYyl7aWYoIWN8fHR5cGVvZiBjPT09Im51bWJlciJ8fGYuZnguc3BlZWRzW2NdKXJldHVybiB0cnVlO2lmKHR5cGVvZiBjPT09InN0cmluZyImJiFmLmVmZmVjdHNbY10pcmV0dXJuIHRydWU7cmV0dXJuIGZhbHNlfWYuZWZmZWN0cz17fTtmLmVhY2goWyJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJCb3R0b21Db2xvciIsImJvcmRlckxlZnRDb2xvciIsImJvcmRlclJpZ2h0Q29sb3IiLCJib3JkZXJUb3BDb2xvciIsCiJib3JkZXJDb2xvciIsImNvbG9yIiwib3V0bGluZUNvbG9yIl0sZnVuY3Rpb24oYyxhKXtmLmZ4LnN0ZXBbYV09ZnVuY3Rpb24oYil7aWYoIWIuY29sb3JJbml0KXtiLnN0YXJ0PXMoYi5lbGVtLGEpO2IuZW5kPW0oYi5lbmQpO2IuY29sb3JJbml0PXRydWV9Yi5lbGVtLnN0eWxlW2FdPSJyZ2IoIitNYXRoLm1heChNYXRoLm1pbihwYXJzZUludChiLnBvcyooYi5lbmRbMF0tYi5zdGFydFswXSkrYi5zdGFydFswXSwxMCksMjU1KSwwKSsiLCIrTWF0aC5tYXgoTWF0aC5taW4ocGFyc2VJbnQoYi5wb3MqKGIuZW5kWzFdLWIuc3RhcnRbMV0pK2Iuc3RhcnRbMV0sMTApLDI1NSksMCkrIiwiK01hdGgubWF4KE1hdGgubWluKHBhcnNlSW50KGIucG9zKihiLmVuZFsyXS1iLnN0YXJ0WzJdKStiLnN0YXJ0WzJdLDEwKSwyNTUpLDApKyIpIn19KTt2YXIgbj17YXF1YTpbMCwyNTUsMjU1XSxhenVyZTpbMjQwLDI1NSwyNTVdLGJlaWdlOlsyNDUsMjQ1LDIyMF0sYmxhY2s6WzAsMCwwXSxibHVlOlswLAowLDI1NV0sYnJvd246WzE2NSw0Miw0Ml0sY3lhbjpbMCwyNTUsMjU1XSxkYXJrYmx1ZTpbMCwwLDEzOV0sZGFya2N5YW46WzAsMTM5LDEzOV0sZGFya2dyZXk6WzE2OSwxNjksMTY5XSxkYXJrZ3JlZW46WzAsMTAwLDBdLGRhcmtraGFraTpbMTg5LDE4MywxMDddLGRhcmttYWdlbnRhOlsxMzksMCwxMzldLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDddLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMF0sZGFya29yY2hpZDpbMTUzLDUwLDIwNF0sZGFya3JlZDpbMTM5LDAsMF0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjJdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMV0sZnVjaHNpYTpbMjU1LDAsMjU1XSxnb2xkOlsyNTUsMjE1LDBdLGdyZWVuOlswLDEyOCwwXSxpbmRpZ286Wzc1LDAsMTMwXSxraGFraTpbMjQwLDIzMCwxNDBdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzBdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTVdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0XSxsaWdodGdyZXk6WzIxMSwyMTEsMjExXSwKbGlnaHRwaW5rOlsyNTUsMTgyLDE5M10sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0XSxsaW1lOlswLDI1NSwwXSxtYWdlbnRhOlsyNTUsMCwyNTVdLG1hcm9vbjpbMTI4LDAsMF0sbmF2eTpbMCwwLDEyOF0sb2xpdmU6WzEyOCwxMjgsMF0sb3JhbmdlOlsyNTUsMTY1LDBdLHBpbms6WzI1NSwxOTIsMjAzXSxwdXJwbGU6WzEyOCwwLDEyOF0sdmlvbGV0OlsxMjgsMCwxMjhdLHJlZDpbMjU1LDAsMF0sc2lsdmVyOlsxOTIsMTkyLDE5Ml0sd2hpdGU6WzI1NSwyNTUsMjU1XSx5ZWxsb3c6WzI1NSwyNTUsMF0sdHJhbnNwYXJlbnQ6WzI1NSwyNTUsMjU1XX0scT1bImFkZCIsInJlbW92ZSIsInRvZ2dsZSJdLHQ9e2JvcmRlcjoxLGJvcmRlckJvdHRvbToxLGJvcmRlckNvbG9yOjEsYm9yZGVyTGVmdDoxLGJvcmRlclJpZ2h0OjEsYm9yZGVyVG9wOjEsYm9yZGVyV2lkdGg6MSxtYXJnaW46MSxwYWRkaW5nOjF9O2YuZWZmZWN0cy5hbmltYXRlQ2xhc3M9ZnVuY3Rpb24oYyxhLGIsZCl7aWYoZi5pc0Z1bmN0aW9uKGIpKXtkPQpiO2I9bnVsbH1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Zih0aGlzKSxnPWUuYXR0cigic3R5bGUiKXx8IiAiLGg9cChvLmNhbGwodGhpcykpLHIsdj1lLmF0dHIoImNsYXNzTmFtZSIpO2YuZWFjaChxLGZ1bmN0aW9uKHcsaSl7Y1tpXSYmZVtpKyJDbGFzcyJdKGNbaV0pfSk7cj1wKG8uY2FsbCh0aGlzKSk7ZS5hdHRyKCJjbGFzc05hbWUiLHYpO2UuYW5pbWF0ZSh1KGgsciksYSxiLGZ1bmN0aW9uKCl7Zi5lYWNoKHEsZnVuY3Rpb24odyxpKXtjW2ldJiZlW2krIkNsYXNzIl0oY1tpXSl9KTtpZih0eXBlb2YgZS5hdHRyKCJzdHlsZSIpPT0ib2JqZWN0Iil7ZS5hdHRyKCJzdHlsZSIpLmNzc1RleHQ9IiI7ZS5hdHRyKCJzdHlsZSIpLmNzc1RleHQ9Z31lbHNlIGUuYXR0cigic3R5bGUiLGcpO2QmJmQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9KX07Zi5mbi5leHRlbmQoe19hZGRDbGFzczpmLmZuLmFkZENsYXNzLGFkZENsYXNzOmZ1bmN0aW9uKGMsYSxiLGQpe3JldHVybiBhPwpmLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmFwcGx5KHRoaXMsW3thZGQ6Y30sYSxiLGRdKTp0aGlzLl9hZGRDbGFzcyhjKX0sX3JlbW92ZUNsYXNzOmYuZm4ucmVtb3ZlQ2xhc3MscmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYyxhLGIsZCl7cmV0dXJuIGE/Zi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5hcHBseSh0aGlzLFt7cmVtb3ZlOmN9LGEsYixkXSk6dGhpcy5fcmVtb3ZlQ2xhc3MoYyl9LF90b2dnbGVDbGFzczpmLmZuLnRvZ2dsZUNsYXNzLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIHR5cGVvZiBhPT0iYm9vbGVhbiJ8fGE9PT1qP2I/Zi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5hcHBseSh0aGlzLFthP3thZGQ6Y306e3JlbW92ZTpjfSxiLGQsZV0pOnRoaXMuX3RvZ2dsZUNsYXNzKGMsYSk6Zi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5hcHBseSh0aGlzLFt7dG9nZ2xlOmN9LGEsYixkXSl9LHN3aXRjaENsYXNzOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIGYuZWZmZWN0cy5hbmltYXRlQ2xhc3MuYXBwbHkodGhpcywKW3thZGQ6YSxyZW1vdmU6Y30sYixkLGVdKX19KTtmLmV4dGVuZChmLmVmZmVjdHMse3ZlcnNpb246IjEuOC42IixzYXZlOmZ1bmN0aW9uKGMsYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSE9PW51bGwmJmMuZGF0YSgiZWMuc3RvcmFnZS4iK2FbYl0sY1swXS5zdHlsZVthW2JdXSl9LHJlc3RvcmU6ZnVuY3Rpb24oYyxhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdIT09bnVsbCYmYy5jc3MoYVtiXSxjLmRhdGEoImVjLnN0b3JhZ2UuIithW2JdKSl9LHNldE1vZGU6ZnVuY3Rpb24oYyxhKXtpZihhPT0idG9nZ2xlIilhPWMuaXMoIjpoaWRkZW4iKT8ic2hvdyI6ImhpZGUiO3JldHVybiBhfSxnZXRCYXNlbGluZTpmdW5jdGlvbihjLGEpe3ZhciBiO3N3aXRjaChjWzBdKXtjYXNlICJ0b3AiOmI9MDticmVhaztjYXNlICJtaWRkbGUiOmI9MC41O2JyZWFrO2Nhc2UgImJvdHRvbSI6Yj0xO2JyZWFrO2RlZmF1bHQ6Yj1jWzBdL2EuaGVpZ2h0fXN3aXRjaChjWzFdKXtjYXNlICJsZWZ0IjpjPQowO2JyZWFrO2Nhc2UgImNlbnRlciI6Yz0wLjU7YnJlYWs7Y2FzZSAicmlnaHQiOmM9MTticmVhaztkZWZhdWx0OmM9Y1sxXS9hLndpZHRofXJldHVybnt4OmMseTpifX0sY3JlYXRlV3JhcHBlcjpmdW5jdGlvbihjKXtpZihjLnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikpcmV0dXJuIGMucGFyZW50KCk7dmFyIGE9e3dpZHRoOmMub3V0ZXJXaWR0aCh0cnVlKSxoZWlnaHQ6Yy5vdXRlckhlaWdodCh0cnVlKSwiZmxvYXQiOmMuY3NzKCJmbG9hdCIpfSxiPWYoIjxkaXY+PC9kaXY+IikuYWRkQ2xhc3MoInVpLWVmZmVjdHMtd3JhcHBlciIpLmNzcyh7Zm9udFNpemU6IjEwMCUiLGJhY2tncm91bmQ6InRyYW5zcGFyZW50Iixib3JkZXI6Im5vbmUiLG1hcmdpbjowLHBhZGRpbmc6MH0pO2Mud3JhcChiKTtiPWMucGFyZW50KCk7aWYoYy5jc3MoInBvc2l0aW9uIik9PSJzdGF0aWMiKXtiLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pO2MuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSl9ZWxzZXtmLmV4dGVuZChhLAp7cG9zaXRpb246Yy5jc3MoInBvc2l0aW9uIiksekluZGV4OmMuY3NzKCJ6LWluZGV4Iil9KTtmLmVhY2goWyJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiXSxmdW5jdGlvbihkLGUpe2FbZV09Yy5jc3MoZSk7aWYoaXNOYU4ocGFyc2VJbnQoYVtlXSwxMCkpKWFbZV09ImF1dG8ifSk7Yy5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOjAsbGVmdDowfSl9cmV0dXJuIGIuY3NzKGEpLnNob3coKX0scmVtb3ZlV3JhcHBlcjpmdW5jdGlvbihjKXtpZihjLnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikpcmV0dXJuIGMucGFyZW50KCkucmVwbGFjZVdpdGgoYyk7cmV0dXJuIGN9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oYyxhLGIsZCl7ZD1kfHx7fTtmLmVhY2goYSxmdW5jdGlvbihlLGcpe3VuaXQ9Yy5jc3NVbml0KGcpO2lmKHVuaXRbMF0+MClkW2ddPXVuaXRbMF0qYit1bml0WzFdfSk7cmV0dXJuIGR9fSk7Zi5mbi5leHRlbmQoe2VmZmVjdDpmdW5jdGlvbihjKXt2YXIgYT0Kay5hcHBseSh0aGlzLGFyZ3VtZW50cyksYj17b3B0aW9uczphWzFdLGR1cmF0aW9uOmFbMl0sY2FsbGJhY2s6YVszXX07YT1iLm9wdGlvbnMubW9kZTt2YXIgZD1mLmVmZmVjdHNbY107aWYoZi5meC5vZmZ8fCFkKXJldHVybiBhP3RoaXNbYV0oYi5kdXJhdGlvbixiLmNhbGxiYWNrKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtiLmNhbGxiYWNrJiZiLmNhbGxiYWNrLmNhbGwodGhpcyl9KTtyZXR1cm4gZC5jYWxsKHRoaXMsYil9LF9zaG93OmYuZm4uc2hvdyxzaG93OmZ1bmN0aW9uKGMpe2lmKGwoYykpcmV0dXJuIHRoaXMuX3Nob3cuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIGE9ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YVsxXS5tb2RlPSJzaG93IjtyZXR1cm4gdGhpcy5lZmZlY3QuYXBwbHkodGhpcyxhKX19LF9oaWRlOmYuZm4uaGlkZSxoaWRlOmZ1bmN0aW9uKGMpe2lmKGwoYykpcmV0dXJuIHRoaXMuX2hpZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIGE9CmsuYXBwbHkodGhpcyxhcmd1bWVudHMpO2FbMV0ubW9kZT0iaGlkZSI7cmV0dXJuIHRoaXMuZWZmZWN0LmFwcGx5KHRoaXMsYSl9fSxfX3RvZ2dsZTpmLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24oYyl7aWYobChjKXx8dHlwZW9mIGM9PT0iYm9vbGVhbiJ8fGYuaXNGdW5jdGlvbihjKSlyZXR1cm4gdGhpcy5fX3RvZ2dsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZXt2YXIgYT1rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthWzFdLm1vZGU9InRvZ2dsZSI7cmV0dXJuIHRoaXMuZWZmZWN0LmFwcGx5KHRoaXMsYSl9fSxjc3NVbml0OmZ1bmN0aW9uKGMpe3ZhciBhPXRoaXMuY3NzKGMpLGI9W107Zi5lYWNoKFsiZW0iLCJweCIsIiUiLCJwdCJdLGZ1bmN0aW9uKGQsZSl7aWYoYS5pbmRleE9mKGUpPjApYj1bcGFyc2VGbG9hdChhKSxlXX0pO3JldHVybiBifX0pO2YuZWFzaW5nLmpzd2luZz1mLmVhc2luZy5zd2luZztmLmV4dGVuZChmLmVhc2luZyx7ZGVmOiJlYXNlT3V0UXVhZCIsc3dpbmc6ZnVuY3Rpb24oYywKYSxiLGQsZSl7cmV0dXJuIGYuZWFzaW5nW2YuZWFzaW5nLmRlZl0oYyxhLGIsZCxlKX0sZWFzZUluUXVhZDpmdW5jdGlvbihjLGEsYixkLGUpe3JldHVybiBkKihhLz1lKSphK2J9LGVhc2VPdXRRdWFkOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuLWQqKGEvPWUpKihhLTIpK2J9LGVhc2VJbk91dFF1YWQ6ZnVuY3Rpb24oYyxhLGIsZCxlKXtpZigoYS89ZS8yKTwxKXJldHVybiBkLzIqYSphK2I7cmV0dXJuLWQvMiooLS1hKihhLTIpLTEpK2J9LGVhc2VJbkN1YmljOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIGQqKGEvPWUpKmEqYStifSxlYXNlT3V0Q3ViaWM6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4gZCooKGE9YS9lLTEpKmEqYSsxKStifSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbihjLGEsYixkLGUpe2lmKChhLz1lLzIpPDEpcmV0dXJuIGQvMiphKmEqYStiO3JldHVybiBkLzIqKChhLT0yKSphKmErMikrYn0sZWFzZUluUXVhcnQ6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4gZCoKKGEvPWUpKmEqYSphK2J9LGVhc2VPdXRRdWFydDpmdW5jdGlvbihjLGEsYixkLGUpe3JldHVybi1kKigoYT1hL2UtMSkqYSphKmEtMSkrYn0sZWFzZUluT3V0UXVhcnQ6ZnVuY3Rpb24oYyxhLGIsZCxlKXtpZigoYS89ZS8yKTwxKXJldHVybiBkLzIqYSphKmEqYStiO3JldHVybi1kLzIqKChhLT0yKSphKmEqYS0yKStifSxlYXNlSW5RdWludDpmdW5jdGlvbihjLGEsYixkLGUpe3JldHVybiBkKihhLz1lKSphKmEqYSphK2J9LGVhc2VPdXRRdWludDpmdW5jdGlvbihjLGEsYixkLGUpe3JldHVybiBkKigoYT1hL2UtMSkqYSphKmEqYSsxKStifSxlYXNlSW5PdXRRdWludDpmdW5jdGlvbihjLGEsYixkLGUpe2lmKChhLz1lLzIpPDEpcmV0dXJuIGQvMiphKmEqYSphKmErYjtyZXR1cm4gZC8yKigoYS09MikqYSphKmEqYSsyKStifSxlYXNlSW5TaW5lOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuLWQqTWF0aC5jb3MoYS9lKihNYXRoLlBJLzIpKStkK2J9LGVhc2VPdXRTaW5lOmZ1bmN0aW9uKGMsCmEsYixkLGUpe3JldHVybiBkKk1hdGguc2luKGEvZSooTWF0aC5QSS8yKSkrYn0sZWFzZUluT3V0U2luZTpmdW5jdGlvbihjLGEsYixkLGUpe3JldHVybi1kLzIqKE1hdGguY29zKE1hdGguUEkqYS9lKS0xKStifSxlYXNlSW5FeHBvOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIGE9PTA/YjpkKk1hdGgucG93KDIsMTAqKGEvZS0xKSkrYn0sZWFzZU91dEV4cG86ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4gYT09ZT9iK2Q6ZCooLU1hdGgucG93KDIsLTEwKmEvZSkrMSkrYn0sZWFzZUluT3V0RXhwbzpmdW5jdGlvbihjLGEsYixkLGUpe2lmKGE9PTApcmV0dXJuIGI7aWYoYT09ZSlyZXR1cm4gYitkO2lmKChhLz1lLzIpPDEpcmV0dXJuIGQvMipNYXRoLnBvdygyLDEwKihhLTEpKStiO3JldHVybiBkLzIqKC1NYXRoLnBvdygyLC0xMCotLWEpKzIpK2J9LGVhc2VJbkNpcmM6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4tZCooTWF0aC5zcXJ0KDEtKGEvPWUpKmEpLTEpK2J9LGVhc2VPdXRDaXJjOmZ1bmN0aW9uKGMsCmEsYixkLGUpe3JldHVybiBkKk1hdGguc3FydCgxLShhPWEvZS0xKSphKStifSxlYXNlSW5PdXRDaXJjOmZ1bmN0aW9uKGMsYSxiLGQsZSl7aWYoKGEvPWUvMik8MSlyZXR1cm4tZC8yKihNYXRoLnNxcnQoMS1hKmEpLTEpK2I7cmV0dXJuIGQvMiooTWF0aC5zcXJ0KDEtKGEtPTIpKmEpKzEpK2J9LGVhc2VJbkVsYXN0aWM6ZnVuY3Rpb24oYyxhLGIsZCxlKXtjPTEuNzAxNTg7dmFyIGc9MCxoPWQ7aWYoYT09MClyZXR1cm4gYjtpZigoYS89ZSk9PTEpcmV0dXJuIGIrZDtnfHwoZz1lKjAuMyk7aWYoaDxNYXRoLmFicyhkKSl7aD1kO2M9Zy80fWVsc2UgYz1nLygyKk1hdGguUEkpKk1hdGguYXNpbihkL2gpO3JldHVybi0oaCpNYXRoLnBvdygyLDEwKihhLT0xKSkqTWF0aC5zaW4oKGEqZS1jKSoyKk1hdGguUEkvZykpK2J9LGVhc2VPdXRFbGFzdGljOmZ1bmN0aW9uKGMsYSxiLGQsZSl7Yz0xLjcwMTU4O3ZhciBnPTAsaD1kO2lmKGE9PTApcmV0dXJuIGI7aWYoKGEvPWUpPT0xKXJldHVybiBiKwpkO2d8fChnPWUqMC4zKTtpZihoPE1hdGguYWJzKGQpKXtoPWQ7Yz1nLzR9ZWxzZSBjPWcvKDIqTWF0aC5QSSkqTWF0aC5hc2luKGQvaCk7cmV0dXJuIGgqTWF0aC5wb3coMiwtMTAqYSkqTWF0aC5zaW4oKGEqZS1jKSoyKk1hdGguUEkvZykrZCtifSxlYXNlSW5PdXRFbGFzdGljOmZ1bmN0aW9uKGMsYSxiLGQsZSl7Yz0xLjcwMTU4O3ZhciBnPTAsaD1kO2lmKGE9PTApcmV0dXJuIGI7aWYoKGEvPWUvMik9PTIpcmV0dXJuIGIrZDtnfHwoZz1lKjAuMyoxLjUpO2lmKGg8TWF0aC5hYnMoZCkpe2g9ZDtjPWcvNH1lbHNlIGM9Zy8oMipNYXRoLlBJKSpNYXRoLmFzaW4oZC9oKTtpZihhPDEpcmV0dXJuLTAuNSpoKk1hdGgucG93KDIsMTAqKGEtPTEpKSpNYXRoLnNpbigoYSplLWMpKjIqTWF0aC5QSS9nKStiO3JldHVybiBoKk1hdGgucG93KDIsLTEwKihhLT0xKSkqTWF0aC5zaW4oKGEqZS1jKSoyKk1hdGguUEkvZykqMC41K2QrYn0sZWFzZUluQmFjazpmdW5jdGlvbihjLGEsYixkLGUsZyl7aWYoZz09CmopZz0xLjcwMTU4O3JldHVybiBkKihhLz1lKSphKigoZysxKSphLWcpK2J9LGVhc2VPdXRCYWNrOmZ1bmN0aW9uKGMsYSxiLGQsZSxnKXtpZihnPT1qKWc9MS43MDE1ODtyZXR1cm4gZCooKGE9YS9lLTEpKmEqKChnKzEpKmErZykrMSkrYn0sZWFzZUluT3V0QmFjazpmdW5jdGlvbihjLGEsYixkLGUsZyl7aWYoZz09ailnPTEuNzAxNTg7aWYoKGEvPWUvMik8MSlyZXR1cm4gZC8yKmEqYSooKChnKj0xLjUyNSkrMSkqYS1nKStiO3JldHVybiBkLzIqKChhLT0yKSphKigoKGcqPTEuNTI1KSsxKSphK2cpKzIpK2J9LGVhc2VJbkJvdW5jZTpmdW5jdGlvbihjLGEsYixkLGUpe3JldHVybiBkLWYuZWFzaW5nLmVhc2VPdXRCb3VuY2UoYyxlLWEsMCxkLGUpK2J9LGVhc2VPdXRCb3VuY2U6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4oYS89ZSk8MS8yLjc1P2QqNy41NjI1KmEqYStiOmE8Mi8yLjc1P2QqKDcuNTYyNSooYS09MS41LzIuNzUpKmErMC43NSkrYjphPDIuNS8yLjc1P2QqKDcuNTYyNSoKKGEtPTIuMjUvMi43NSkqYSswLjkzNzUpK2I6ZCooNy41NjI1KihhLT0yLjYyNS8yLjc1KSphKzAuOTg0Mzc1KStifSxlYXNlSW5PdXRCb3VuY2U6ZnVuY3Rpb24oYyxhLGIsZCxlKXtpZihhPGUvMilyZXR1cm4gZi5lYXNpbmcuZWFzZUluQm91bmNlKGMsYSoyLDAsZCxlKSowLjUrYjtyZXR1cm4gZi5lYXNpbmcuZWFzZU91dEJvdW5jZShjLGEqMi1lLDAsZCxlKSowLjUrZCowLjUrYn19KX0oalF1ZXJ5KTsKOwovKiBVSSBFZmZlY3RzIEJsaW5kICovCihmdW5jdGlvbihiKXtiLmVmZmVjdHMuYmxpbmQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgYT1iKHRoaXMpLGc9WyJwb3NpdGlvbiIsInRvcCIsImxlZnQiXSxmPWIuZWZmZWN0cy5zZXRNb2RlKGEsYy5vcHRpb25zLm1vZGV8fCJoaWRlIiksZD1jLm9wdGlvbnMuZGlyZWN0aW9ufHwidmVydGljYWwiO2IuZWZmZWN0cy5zYXZlKGEsZyk7YS5zaG93KCk7dmFyIGU9Yi5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoYSkuY3NzKHtvdmVyZmxvdzoiaGlkZGVuIn0pLGg9ZD09InZlcnRpY2FsIj8iaGVpZ2h0Ijoid2lkdGgiO2Q9ZD09InZlcnRpY2FsIj9lLmhlaWdodCgpOmUud2lkdGgoKTtmPT0ic2hvdyImJmUuY3NzKGgsMCk7dmFyIGk9e307aVtoXT1mPT0ic2hvdyI/ZDowO2UuYW5pbWF0ZShpLGMuZHVyYXRpb24sYy5vcHRpb25zLmVhc2luZyxmdW5jdGlvbigpe2Y9PSJoaWRlIiYmYS5oaWRlKCk7Yi5lZmZlY3RzLnJlc3RvcmUoYSxnKTtiLmVmZmVjdHMucmVtb3ZlV3JhcHBlcihhKTsKYy5jYWxsYmFjayYmYy5jYWxsYmFjay5hcHBseShhWzBdLGFyZ3VtZW50cyk7YS5kZXF1ZXVlKCl9KX0pfX0pKGpRdWVyeSk7CjsKLyogVUkgRWZmZWN0cyBGYWRlICovCihmdW5jdGlvbihiKXtiLmVmZmVjdHMuZmFkZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBjPWIodGhpcyksZD1iLmVmZmVjdHMuc2V0TW9kZShjLGEub3B0aW9ucy5tb2RlfHwiaGlkZSIpO2MuYW5pbWF0ZSh7b3BhY2l0eTpkfSx7cXVldWU6ZmFsc2UsZHVyYXRpb246YS5kdXJhdGlvbixlYXNpbmc6YS5vcHRpb25zLmVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpe2EuY2FsbGJhY2smJmEuY2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2MuZGVxdWV1ZSgpfX0pfSl9fSkoalF1ZXJ5KTsKOwovKiBVSSBFZmZlY3RzIEhpZ2hsaWdodCAqLwooZnVuY3Rpb24oYil7Yi5lZmZlY3RzLmhpZ2hsaWdodD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBhPWIodGhpcyksZT1bImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRDb2xvciIsIm9wYWNpdHkiXSxkPWIuZWZmZWN0cy5zZXRNb2RlKGEsYy5vcHRpb25zLm1vZGV8fCJzaG93IiksZj17YmFja2dyb3VuZENvbG9yOmEuY3NzKCJiYWNrZ3JvdW5kQ29sb3IiKX07aWYoZD09ImhpZGUiKWYub3BhY2l0eT0wO2IuZWZmZWN0cy5zYXZlKGEsZSk7YS5zaG93KCkuY3NzKHtiYWNrZ3JvdW5kSW1hZ2U6Im5vbmUiLGJhY2tncm91bmRDb2xvcjpjLm9wdGlvbnMuY29sb3J8fCIjZmZmZjk5In0pLmFuaW1hdGUoZix7cXVldWU6ZmFsc2UsZHVyYXRpb246Yy5kdXJhdGlvbixlYXNpbmc6Yy5vcHRpb25zLmVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpe2Q9PSJoaWRlIiYmYS5oaWRlKCk7Yi5lZmZlY3RzLnJlc3RvcmUoYSxlKTtkPT0ic2hvdyImJiFiLnN1cHBvcnQub3BhY2l0eSYmCnRoaXMuc3R5bGUucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKTtjLmNhbGxiYWNrJiZjLmNhbGxiYWNrLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLmRlcXVldWUoKX19KX0pfX0pKGpRdWVyeSk7CjsKLyogVUkgRWZmZWN0cyBQdWxzYXRlICovCihmdW5jdGlvbihkKXtkLmVmZmVjdHMucHVsc2F0ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBiPWQodGhpcyksYz1kLmVmZmVjdHMuc2V0TW9kZShiLGEub3B0aW9ucy5tb2RlfHwic2hvdyIpO3RpbWVzPShhLm9wdGlvbnMudGltZXN8fDUpKjItMTtkdXJhdGlvbj1hLmR1cmF0aW9uP2EuZHVyYXRpb24vMjpkLmZ4LnNwZWVkcy5fZGVmYXVsdC8yO2lzVmlzaWJsZT1iLmlzKCI6dmlzaWJsZSIpO2FuaW1hdGVUbz0wO2lmKCFpc1Zpc2libGUpe2IuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCk7YW5pbWF0ZVRvPTF9aWYoYz09ImhpZGUiJiZpc1Zpc2libGV8fGM9PSJzaG93IiYmIWlzVmlzaWJsZSl0aW1lcy0tO2ZvcihjPTA7Yzx0aW1lcztjKyspe2IuYW5pbWF0ZSh7b3BhY2l0eTphbmltYXRlVG99LGR1cmF0aW9uLGEub3B0aW9ucy5lYXNpbmcpO2FuaW1hdGVUbz0oYW5pbWF0ZVRvKzEpJTJ9Yi5hbmltYXRlKHtvcGFjaXR5OmFuaW1hdGVUb30sZHVyYXRpb24sCmEub3B0aW9ucy5lYXNpbmcsZnVuY3Rpb24oKXthbmltYXRlVG89PTAmJmIuaGlkZSgpO2EuY2FsbGJhY2smJmEuY2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7Yi5xdWV1ZSgiZngiLGZ1bmN0aW9uKCl7Yi5kZXF1ZXVlKCl9KS5kZXF1ZXVlKCl9KX19KShqUXVlcnkpOwo7Cgo=]]>
		</Resource>
		<Resource ID="3ef16f3c-9863-9597-f341-8f9913c99c11" Name="vdom_functions" Type="js">
			<![CDATA[Ci8qIDNlZjE2ZjNjLTk4NjMtOTU5Ny1mMzQxLThmOTkxM2M5OWMxMS5yZXMgKi8KCmlmKCF3aW5kb3cuY29uc29sZXx8IWNvbnNvbGUuZmlyZWJ1Zyl7dmFyIG5hbWVzPVsibG9nIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwiYXNzZXJ0IiwiZGlyIiwiZGlyeG1sIiwiZ3JvdXAiLCJncm91cEVuZCIsInRpbWUiLCJ0aW1lRW5kIiwiY291bnQiLCJ0cmFjZSIsInByb2ZpbGUiLCJwcm9maWxlRW5kIl07d2luZG93LmNvbnNvbGU9e307Zm9yKHZhciBpPTA7aTxuYW1lcy5sZW5ndGg7KytpKXdpbmRvdy5jb25zb2xlW25hbWVzW2ldXT1mdW5jdGlvbigpe319CgpmdW5jdGlvbiBmdW5jdGlvbl9leGlzdHMoZnVuY3Rpb25fbmFtZSkgewogICAgaWYgKHR5cGVvZiBmdW5jdGlvbl9uYW1lID09ICdzdHJpbmcnKXsKICAgICAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3dbZnVuY3Rpb25fbmFtZV0gPT0gJ2Z1bmN0aW9uJyk7CiAgICB9IGVsc2V7CiAgICAgICAgcmV0dXJuIChmdW5jdGlvbl9uYW1lIGluc3RhbmNlb2YgRnVuY3Rpb24pOwogICAgfQp9CgovKioKICogZm54IDQgSFRNTENvbnRhaW5lcgogKiBsbWQ6IDIwMTEtMDEtMTAKICovCgpmdW5jdGlvbiB3aW5kb3dIZWlnaHQoKQp7CiAgICB2YXIgZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICByZXR1cm4gc2VsZi5pbm5lckhlaWdodCB8fCAoZGUgJiYgZGUuY2xpZW50SGVpZ2h0KSB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKfQoKZnVuY3Rpb24gd2luZG93V2lkdGgoKQp7CiAgICB2YXIgZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICByZXR1cm4gc2VsZi5pbm5lcldpZHRoIHx8IChkZSAmJiBkZS5jbGllbnRXaWR0aCkgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKfQoKdmFyIGhjaHcgPSBoY2htbCA9IGhjaGNlbnRlcmVkID0gMDsKCmZ1bmN0aW9uIGhjaFNob3dQYWdlKHBjKQp7CgloY2hjZW50ZXJlZCA9IHBhcnNlSW50KHBjKSA+IDAgPyAxIDogMDsKCXZhciBoID0gdyA9IGRpdncgPSBkaXZoID0gMTsKCXZhciBhYSA9IG5ldyBBcnJheSgpOwoJalF1ZXJ5KCIjY29udGFpbmVyPmRpdiIpLmVhY2goZnVuY3Rpb24oaSl7CgkJdmFyIHQgPSBqUXVlcnkodGhpcyk7CgkJZGl2aCA9IHQuaGVpZ2h0KCkgICsgKHBhcnNlSW50KHQub2Zmc2V0KCkudG9wKSB8fCAwKTsKCQloID0gZGl2aCA+IGggPyBkaXZoIDogaDsKCQlkaXZ3ID0gdC53aWR0aCgpICsgKHBhcnNlSW50KHQuY3NzKCdsZWZ0JykpIHx8IDApOwoJCXcgPSBkaXZ3ID4gdyA/IGRpdncgOiB3OwoJCWFhW2ldID0gdzsvL2ZhbnRhc3RpYyB0cmljawoJfSk7CglqUXVlcnkoIiNjb250YWluZXIiKS5oZWlnaHQoaCkud2lkdGgodykuY3NzKHsgd2lkdGg6IHcgfSk7Cgl3ID0gYWFbaV07CgloY2h3ID0gdzsKCWhjaG1sID0gKHcgLyAyKSAqICgtMSk7CgloY2hGaXhDZW50ZXJlZCgpOwovLwlqUXVlcnkod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXsKLy8JCQloY2hGaXhDZW50ZXJlZCgpOwovLwl9KTsKCWpRdWVyeSgiZGl2W3JlbCQ9Zm9vdGVyXSIpLmNzcygidG9wIiwgaCk7Cn0KCmZ1bmN0aW9uIGhjaEZpeENlbnRlcmVkKCkKewovLwlpZiAoaGNoY2VudGVyZWQgPiAwICYmIHdpbmRvd1dpZHRoKCkgPiBoY2h3KSB7Ci8vCQlqUXVlcnkoIiNjb250YWluZXIiKS5jc3MoeyBsZWZ0OiAnNTAlJywgbWFyZ2luTGVmdDogaGNobWwgfSk7CglpZiAoaGNoY2VudGVyZWQgPiAwKSB7CgkJalF1ZXJ5KCIjY29udGFpbmVyIikuY3NzKHsgcG9zaXRpb246ICdyZWxhdGl2ZScsIG1hcmdpbjogJzAgYXV0bycgfSk7Cgl9IGVsc2UgewoJCWpRdWVyeSgiI2NvbnRhaW5lciIpLmNzcyh7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiAwLCBtYXJnaW5MZWZ0OiAwIH0pOwoJfQp9CgpmdW5jdGlvbiBoY2hJbml0KGNlbixjb2wpCnsKCWhjaGNlbnRlcmVkID0gcGFyc2VJbnQoY2VuKSA+IDAgPyB0cnVlIDogZmFsc2U7CglpZiAoaGNoY2VudGVyZWQpIHsKCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOwoJCWRvY3VtZW50LndyaXRlKCc8ZGl2IGlkPSJoY2hfbG9hIiBzdHlsZT0iei1pbmRleDo5OTk5OTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDonK3dpbmRvd1dpZHRoKCkrJ3B4O2hlaWdodDonK3dpbmRvd0hlaWdodCgpKydweDt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjonK2NvbCsnIj48L2Rpdj4nKTsKCX0KCWpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7CgkJaGNoU2hvd1BhZ2UoY2VuKTsKCQlpZiAoaGNoY2VudGVyZWQpIHsKCQkJJCgnI2hjaF9sb2EnKS5oaWRlKCk7CgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwoJCX0KCQlpZiAodHlwZW9mIHZkb21fdWlfYWZ0ZXJJbml0ID09PSAnZnVuY3Rpb24nKSB2ZG9tX3VpX2FmdGVySW5pdCgpOwoJfSk7Cn0KCmZ1bmN0aW9uIG9ubG9hZEluaXQoKQp7CglqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7Ci8vICAgICAgICBleGVjRXZlbnRCaW5kZWQoQVBQTElDQVRJT05fSUQucmVwbGFjZSgvXC0vZywgIl8iKSwgJ29ubG9hZCcpOwovKgogICAgICAgIGZvciAodmFyIGk9MDsgaTxvLmV2ZW50RW5naW5lLmV2ZW50RGlzcGF0Y2hlci5ldmVudEFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChvLmV2ZW50RW5naW5lLmV2ZW50RGlzcGF0Y2hlci5ldmVudEFycmF5W2ldLmV2ZW50U3JjID09ICJvXyIrc3JjSUQrIjoiK2V2dE5hbWUpIHsKICAgICAgICAgICAgICAgIHZhciBuZXYgPSBuZXcgVkRPTV9FdmVudCgpOwogICAgICAgICAgICAgICAgbmV2LnNyY09iaiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvXyIrc3JjSUQpOwogICAgICAgICAgICAgICAgbmV2Lm5hbWUgPSBldnROYW1lOwogICAgICAgICAgICAgICAgaWYgKHBhcmFtcyAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV2LmFkZFBhcmFtZXRlcihrZXksIHBhcmFtc1trZXldKTsKICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7aTxwYXJhbXMubGVuZ3RoO2krKykgewovLyAgICAgICAgICAgICAgICAgICAgICAgIG5ldi5hZGRQYXJhbWV0ZXIocGFyYW1zW2ldLk5hbWUsIHBhcmFtc1tpXS5WYWx1ZSk7Ci8vICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgby5ldmVudEVuZ2luZS5wcm9jZXNzRXZlbnQobmV2KTsKICAgICAgICAgICAgfQogICAgICAgIH0KKi8KICAgIH0pOwp9CgoKLyoqCiAqIEUyVkRPTTogVUkgaGVscGVycyBmb3IgY2xpZW50IGFjdGlvbnMKICogbG1kOiAyMDA5LTAyLTEwCiAqLwoKZnVuY3Rpb24gdmRvbV9ldnRfc2V0dmFsdWUobywgdmFsdWUpCnsKICAgIGpRdWVyeShvLmRvbUNvbnQpLnZhbCh2YWx1ZSk7CiAgICB2YXIgdmUgPSBuZXcgVkRPTV9FdmVudCgpOwogICAgdmUuc3JjT2JqID0gby5kb21Db250OwogICAgdmUubmFtZSA9ICd2YWx1ZWNoYW5nZSc7CiAgICB2ZS5hZGRQYXJhbWV0ZXIoJ2l0ZW1WYWx1ZScsIHZhbHVlKTsKICAgIG8uZXhlY0V2ZW50KHZlKTsKfQoKZnVuY3Rpb24gdmRvbV91aV9oaWRlKG9iaiwgZmFkZSwgemksIHRvcGFyZW50KQp7CiAgICBpZiAoalF1ZXJ5KG9iaikuY3NzKCdkaXNwbGF5JykhPSdub25lJykgewogICAgICAgIGlmIChwYXJzZUludChmYWRlKSA+IDApIHsKICAgICAgICAgICAgdmFyIG4gPSBqUXVlcnkob2JqKS5xdWV1ZSgnZngnKTsKICAgICAgICAgICAgaWYgKG4ubGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgICAgIHZhciBubiA9IHBhcnNlSW50KGZhZGUpOwogICAgICAgICAgICAgICAgalF1ZXJ5KG9iaikuZmFkZU91dChubik7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvYmouc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9CiAgICAgICAgaWYgKHppICE9IHVuZGVmaW5lZCAmJiBwYXJzZUludCh6aSkgPiAwKSB7CiAgICAgICAgICAgIGlmICh0b3BhcmVudCAhPSB1bmRlZmluZWQgJiYgcGFyc2VJbnQodG9wYXJlbnQpID4gMCkgewogICAgICAgICAgICAgICAgdmFyIG8gPSBvYmoucGFyZW50Tm9kZS5zdHlsZS56SW5kZXg7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgbyA9IG9iai5zdHlsZS56SW5kZXg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbyA9IHppOwogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gdmRvbV91aV9zaG93KG9iaiwgZmFkZSwgemksIHRvcGFyZW50KQp7CiAgICBpZiAoalF1ZXJ5KG9iaikuY3NzKCdkaXNwbGF5Jyk9PSdub25lJykgewogICAgICAgIGlmIChwYXJzZUludChmYWRlKSA+IDApIHsKICAgICAgICAgICAgdmFyIG4gPSBqUXVlcnkob2JqKS5xdWV1ZSgnZngnKTsKICAgICAgICAgICAgaWYgKG4ubGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgICAgIHZhciBubiA9IHBhcnNlSW50KGZhZGUpOwogICAgICAgICAgICAgICAgalF1ZXJ5KG9iaikuc3RvcCgpLmZhZGVJbihubik7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvYmouc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgfQogICAgLy8gICAgalF1ZXJ5KG9iaikucGFyZW50KCkuY3NzKCd6LWluZGV4JywgJzk5OTk5Jyk7CiAgICAgICAgaWYgKHppICE9IHVuZGVmaW5lZCAmJiBwYXJzZUludCh6aSkgPiAwKSB7CiAgICAgICAgICAgIGlmICh0b3BhcmVudCAhPSB1bmRlZmluZWQgJiYgcGFyc2VJbnQodG9wYXJlbnQpID4gMCkgewogICAgICAgICAgICAgICAgdmFyIG8gPSBqUXVlcnkob2JqKS5wYXJlbnQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBvID0galF1ZXJ5KG9iaik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgby5jc3MoJ3otaW5kZXgnLCB6aSk7CiAgICAgICAgfQogICAgfQp9CgpmdW5jdGlvbiB2ZG9tX3VpX21vdmVaaW5kZXhUbyhvYmosIG5ld3opCnsKICAgIG9iai5zdHlsZS56aW5kZXggPSBwYXJzZUludChuZXd6KTsKfQoKZnVuY3Rpb24gdmRvbV91aV9tb3ZlVG8ob2JqLCBuZXdYLCBuZXdZLCBFZmZlY3QpCnsKICAgIHZhciB4eCA9IHBhcnNlSW50KG5ld1gpICsgInB4IjsKICAgIHZhciB5eSA9IHBhcnNlSW50KG5ld1kpICsgInB4IjsKICAgIGlmIChwYXJzZUludChFZmZlY3QpID4gMCkgewogICAgICAgIHZhciBuID0galF1ZXJ5KG9iaikucXVldWUoJ2Z4Jyk7CiAgICAgICAgaWYgKG4ubGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgdmFyIG51bSA9IHBhcnNlSW50KEVmZmVjdCk7CiAgICAgICAgICAgIGpRdWVyeShvYmopLmFuaW1hdGUoIHsgbGVmdDp4eCwgdG9wOnl5IH0sIG51bSApCiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBvYmouc3R5bGUubGVmdCA9IHh4OwogICAgICAgIG9iai5zdHlsZS50b3AgPSB5eTsKICAgIH0KfQoKZnVuY3Rpb24gdmRvbV91aV9hZGRJdGVtKG9iaiwgaXRlbSwgaXRlbVZhbHVlLCBzZWxlY3RlZCkKewogICAgdmFyIHggPSBvYmouYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpOwogICAgeC52YWx1ZSA9IGpRdWVyeS50cmltKGl0ZW1WYWx1ZSk7CiAgICB4LmlubmVySFRNTCA9IGl0ZW07CiAgICBpZiAocGFyc2VJbnQoc2VsZWN0ZWQpID4gMCkgewogICAgICAgIHguc2VsZWN0ZWQgPSB0cnVlOwogICAgfQp9CgpmdW5jdGlvbiB2ZG9tX3VpX3JlbW92ZUl0ZW0ob2JqLCBpdGVtLCBpdGVtVmFsdWUpCnsKICAgIGlmIChvYmoubGVuZ3RoID4gMCAmJiAoaXRlbSAhPT0gJycgfHwgaXRlbVZhbHVlICE9PSAnJykpIHsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBub2RlID0gb2JqW2ldOwogICAgICAgICAgICBpZiAobm9kZSkgewogICAgICAgICAgICAgICAgaWYgKC9vcHRpb24vaS50ZXN0KG5vZGUubm9kZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHgxID0gaXRlbSAhPT0gJycgPyAoaXRlbSA9PSBub2RlLmlubmVySFRNTCA/IHRydWUgOiBmYWxzZSkgOiB0cnVlOwogICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IGl0ZW1WYWx1ZSAhPT0gJycgPyAoaXRlbVZhbHVlID09IG5vZGUudmFsdWUgPyB0cnVlIDogZmFsc2UpIDogdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoeDEgJiYgeDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlbW92ZUNoaWxkKG5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIHZkb21fdWlfc29ydEl0ZW0ob2JqLCBzb3J0KQp7CiAgICB2YXIgbGIgPSBvYmo7CiAgICB2YXIgb2xkVmFsdWUgPSBsYltvYmouc2VsZWN0ZWRJbmRleF0udmFsdWU7CiAgICBhcnJUZXh0cyA9IG5ldyBBcnJheSgpOwogICAgZm9yKGk9MDsgaSA8IGxiLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYXJyVGV4dHNbaV0gPSBsYi5vcHRpb25zW2ldLnRleHQrJzonK2xiLm9wdGlvbnNbaV0udmFsdWU7CiAgICB9CiAgICBhcnJUZXh0cy5zb3J0KCk7CiAgICB2YXIgeHggPSBzb3J0ID4gMCA/IGxiLmxlbmd0aCAtIDEgOiAwOwogICAgZm9yIChpPTA7IGkgPCBsYi5sZW5ndGg7IGkrKykgewogICAgICAgIG9wID0gbGIub3B0aW9uc1t4eCAtICh4eC1pIDwgMCA/IDAgOiB4eC1pKV07CiAgICAgICAgZWwgPSBhcnJUZXh0c1tpXS5zcGxpdCgnOicpOwogICAgICAgIG9wLnRleHQgPSBlbFswXTsKICAgICAgICBvcC52YWx1ZSA9IGVsWzFdOwogICAgICAgIGlmIChvbGRWYWx1ZSA9PSBvcC52YWx1ZSkgewogICAgICAgICAgICBvcC5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3Auc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIHZkb21fdWlfc2V0QnV0dG9uSW1hZ2Uob2JqLCByZXNvdXJjZVVybCkKewogICAgdmFyIG9iID0galF1ZXJ5KG9iaikuZmluZCgnaW1nOmZpcnN0Jyk7CiAgICB2YXIgaXcgPSBqUXVlcnkob2IpLmF0dHIoJ3dpZHRoJyk7CiAgICB2YXIgaWggPSBqUXVlcnkob2IpLmF0dHIoJ2hlaWdodCcpOwogICAgdmFyIGlzcmMgPSByZXNvdXJjZVVybDsKICAgIHZhciBzcmNvdmVyID0galF1ZXJ5KG9iKS5hdHRyKCJzcmNvdmVyIik7CiAgICB2YXIgaW92ZXIgPSAidGhpcy5zcmM9JyIgKyBzcmNvdmVyICsgIiciOwogICAgdmFyIGlvdXQgPSAidGhpcy5zcmM9JyIgKyByZXNvdXJjZVVybCArICInIjsKICAgIGpRdWVyeShvYikucmVwbGFjZVdpdGgoJzxpbWcgd2lkdGg9IicraXcrJyIgaGVpZ2h0PSInK2loKyciIGJvcmRlcj0iMCIgYWx0PSIiIHNyYz0iJytpc3JjKyciIHNyY292ZXI9Iicrc3Jjb3ZlcisnIiBvbm1vdXNlb3Zlcj0iJytpb3ZlcisnIiBvbm1vdXNlb3V0PSInK2lvdXQrJyIgLz4nKTsKfQoKZnVuY3Rpb24gdmRvbV91aV9zZXRCdXR0b25Sb2xsb3ZlcihvYmosIHJlc291cmNlVXJsKQp7CiAgICB2YXIgb2IgPSBqUXVlcnkob2JqKS5maW5kKCdpbWc6Zmlyc3QnKTsKICAgIHZhciBpdyA9IGpRdWVyeShvYikuYXR0cignd2lkdGgnKTsKICAgIHZhciBpaCA9IGpRdWVyeShvYikuYXR0cignaGVpZ2h0Jyk7CiAgICB2YXIgaXNyYyA9IGpRdWVyeShvYikuYXR0cigic3JjIik7CiAgICB2YXIgc3Jjb3ZlciA9IHJlc291cmNlVXJsOwogICAgdmFyIGlvdmVyID0gInRoaXMuc3JjPSciICsgcmVzb3VyY2VVcmwgKyAiJyI7CiAgICB2YXIgaW91dCA9ICJ0aGlzLnNyYz0nIiArIGlzcmMgKyAiJyI7CiAgICBqUXVlcnkob2IpLnJlcGxhY2VXaXRoKCc8aW1nIHdpZHRoPSInK2l3KyciIGhlaWdodD0iJytpaCsnIiBib3JkZXI9IjAiIGFsdD0iIiBzcmM9IicraXNyYysnIiBzcmNvdmVyPSInK3NyY292ZXIrJyIgb25tb3VzZW92ZXI9IicraW92ZXIrJyIgb25tb3VzZW91dD0iJytpb3V0KyciIC8+Jyk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfc2V0TGluayhvYmosIGNvbnRhaW5lclVybCkKewogICAgdmFyIG9iID0galF1ZXJ5KG9iaikuZmluZCgnYTpmaXJzdCcpOwogICAgalF1ZXJ5KG9iKS5hdHRyKCdocmVmJywgY29udGFpbmVyVXJsKTsKfQoKZnVuY3Rpb24gdmRvbV91aV91bnNlbGVjdChvYmopCnsKICAgIHZhciBhID0gb2JqLmNoaWxkTm9kZXM7CiAgICBpZiAoYS5sZW5ndGgpIHsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoYVtpXS50eXBlID09ICdjaGVja2JveCcpIHsKICAgICAgICAgICAgICAgIGFbaV0uY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgpmdW5jdGlvbiB2ZG9tX3VpX3NlbGVjdChvYmopCnsKICAgIHZhciBhID0gb2JqLmNoaWxkTm9kZXM7CiAgICBpZiAoYS5sZW5ndGgpIHsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoYVtpXS50eXBlID09ICdjaGVja2JveCcpIHsKICAgICAgICAgICAgICAgIGFbaV0uY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIHZkb21fdWlfYWRkSFRNTChvYmosIHZhbHVlKQp7CiAgICB0dCA9IGpRdWVyeShvYmopLmh0bWwodmFsdWUpICsgdmFsdWU7CiAgICBqUXVlcnkob2JqKS5odG1sKHR0KTsKfQoKZnVuY3Rpb24gdmRvbV91aV9yZXNpemVUbyhvYmosIHdpZHRoLCBoZWlnaHQpCnsKICAgIG9iai5zdHlsZS53aWR0aCA9IHBhcnNlSW50KG5ld1ppbmRleCk7CiAgICBvYmouc3R5bGUuaGVpZ2h0ID0gcGFyc2VJbnQobmV3WmluZGV4KTsKfQoKLyogZHJhZyAqLwoKZnVuY3Rpb24gdmRvbV91aV9kcmFnU3RhcnQob2JqKQp7CiAgICBpZiAoZHJhZ19jdXJyZW50X29iaiAhPT0gbnVsbCkgewogICAgICAgIGRyYWdTdG9wXygpOwogICAgfQogICAgZHJhZ19jdXJyZW50X29iaiA9IG9iajsKICAgIGRyYWdJbml0XyhvYmopOwp9CgpmdW5jdGlvbiB2ZG9tX3VpX2RyYWdTdG9wKCkKewogICAgZHJhZ1N0b3BfKCk7Cn0KCi8qKi8KCmZ1bmN0aW9uIHZkb21fdWlfc2V0TWVudUhpZGUob2JqLCBtc2VjLCB6aSwgdG9wYXJlbnQpCnsKICAgIGpRdWVyeSgnIycrb2JqLmlkKS5zdG9wVGltZShvYmouaWQpOwogICAgalF1ZXJ5KCcjJytvYmouaWQpLm1vdXNlb3ZlcihmdW5jdGlvbihlKXsKICAgICAgICBqUXVlcnkoJyMnK29iai5pZCkuc3RvcFRpbWUob2JqLmlkKTsKICAgIH0pLm1vdXNlb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgalF1ZXJ5KCcjJytvYmouaWQpLm9uZVRpbWUobXNlYywgb2JqLmlkLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgalF1ZXJ5KCcjJytvYmouaWQpLmhpZGUoKQogICAgICAgICAgICBpZiAoemkgIT0gdW5kZWZpbmVkICYmIHBhcnNlSW50KHppKSA+IDApIHsKICAgICAgICAgICAgICAgIGlmICh0b3BhcmVudCAhPSB1bmRlZmluZWQgJiYgcGFyc2VJbnQodG9wYXJlbnQpID4gMCkgewogICAgICAgICAgICAgICAgICAgIHZhciBvID0galF1ZXJ5KG9iaikucGFyZW50KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBvID0galF1ZXJ5KG9iaik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvLmNzcygnei1pbmRleCcsIHppKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7CiAgICBqUXVlcnkoJyMnK29iai5pZCkub25lVGltZShtc2VjLCBvYmouaWQsIGZ1bmN0aW9uKCkgewogICAgICAgIGpRdWVyeSgnIycrb2JqLmlkKS5oaWRlKCk7CiAgICAgICAgaWYgKHppICE9IHVuZGVmaW5lZCAmJiBwYXJzZUludCh6aSkgPiAwKSB7CiAgICAgICAgICAgIGlmICh0b3BhcmVudCAhPSB1bmRlZmluZWQgJiYgcGFyc2VJbnQodG9wYXJlbnQpID4gMCkgewogICAgICAgICAgICAgICAgdmFyIG8gPSBqUXVlcnkob2JqKS5wYXJlbnQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBvID0galF1ZXJ5KG9iaik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgby5jc3MoJ3otaW5kZXgnLCB6aSk7CiAgICAgICAgfQogICAgfSk7Cn0KCi8qIHJlc2l6ZSAqLwoKZnVuY3Rpb24gdmRvbV91aV9zdGFydFJlc2l6ZVhZKG9iaikKewovL1RPRE86IHJlc2V0IHJlc2l6YWJsZSBpZiBhbHJlYWR5IGJpbmRlZAogICAgalF1ZXJ5KG9iaikucmVzaXphYmxlKHsKICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZQogICAgfSk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfc3RhcnRSZXNpemVYKG9iaikKewogICAgdmFyIHRoID0galF1ZXJ5KG9iaikuaGVpZ2h0KCk7CiAgICBqUXVlcnkob2JqKS5yZXNpemFibGUoewogICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLAogICAgICAgIG1pbkhlaWdodDogdGgsCiAgICAgICAgbWF4SGVpZ2h0OiB0aAogICAgfSk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfc3RhcnRSZXNpemVZKG9iaikKewogICAgdmFyIHR3ID0galF1ZXJ5KG9iaikud2lkdGgoKTsKICAgIGpRdWVyeShvYmopLnJlc2l6YWJsZSh7CiAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsCiAgICAgICAgbWluV2lkdGg6IHR3LAogICAgICAgIG1heFdpZHRoOiB0dwogICAgfSk7Cn0KCi8qIHRpbWVyICovCgpmdW5jdGlvbiB2ZG9tX3VpX3RpbWVyU3RhcnQob2JqLCBpbnRlcnZhbCkKewogICAgaWYgKGludGVydmFsID09IHVuZGVmaW5lZCkgaW50ZXJ2YWwgPSA1MDA7CiAgICBqUXVlcnkob2JqKS5zdG9wVGltZSgpOwogICAgb2JqLnRpbWVyZnJlZXplID0gMDsKICAgIGpRdWVyeShvYmopLmV2ZXJ5VGltZShpbnRlcnZhbCwgZnVuY3Rpb24oaSl7CiAgICAgICAgaWYgKHBhcnNlSW50KG9iai50aW1lcmZyZWV6ZSkgPT0gMCkgewogICAgICAgICAgICB2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKICAgICAgICAgICAgdmRvbUV2ZW50LnNyY09iaiA9IG9iai5kb21Db250OwogICAgICAgICAgICB2ZG9tRXZlbnQubmFtZSA9ICd0aW1lY2hhbmdlJzsKICAgICAgICAJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignY291bnQnLCBpKTsKICAgICAgICAJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigndGltZScsIG5ldyBEYXRlKTsKICAgICAgICAgICAgb2JqLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwogICAgICAgIH0KICAgIH0pOwp9CgpmdW5jdGlvbiB2ZG9tX3VpX3RpbWVyU3RvcChvYmopCnsKICAgIGpRdWVyeShvYmopLnN0b3BUaW1lKCk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfdGltZXJGcmVlemUob2JqLCBmcmVlemUpCnsKICAgIG9iai50aW1lcmZyZWV6ZSA9IHBhcnNlSW50KGZyZWV6ZSk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfdGltZXJTZXRJbnRlcnZhbChvYmosIGludGVydmFsKQp7CiAgICB2ZG9tX3VpX3RpbWVyU3RhcnQob2JqLCBpbnRlcnZhbCk7Cn0KCi8qIGNhbGVuZGFyICovCgpmdW5jdGlvbiB2ZG9tX3VpX2NhbGVuZGFyRGF0ZUNoYW5nZShvLGQsbSx5KQp7CiAgICBleGVjRXZlbnRCaW5kZWQobywgJ2RhdGVjaGFuZ2UnLCB7IGRheTogZCwgbW9udGg6IG0sIHllYXI6IHkgfSk7Cn0KCi8qCiogQGF1dGhvciBpTmlscwoqIEB2ZXJzaW9uIDEuMiAoMjAuMDcuMDcpCiogQGFkZHMgTGVvOiBjb29yZHMgaW4gc3R5bGVzIGFkZGVkCiovCmZ1bmN0aW9uIHNob3dGbGFzaChvKXsKCXZhciBiZyxxLHMsdjsKCWlmKG8uYmdjb2xvcil7Ymc9by5iZ2NvbG9yO31lbHNle2JnPSIjRkZGRkZGIjt9CglpZihvLnF1YWxpdHkpe3E9by5xdWFsaXR5O31lbHNle3E9ImhpZ2giO30KCWlmKG8uc2NhbGUpe3M9by5zY2FsZTt9ZWxzZXtzPSJub3NjYWxlIjt9CiAgICB4PShvLngpP28ueDowOwogICAgeT0oby55KT9vLnk6MDsKCXN0eT0oby54fHxvLnkpPydzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDonK3grJ3B4O3RvcDonK3krJ3B4O3dpZHRoOicrby53aWR0aCsncHg7aGVpZ2h0Oicrby5oZWlnaHQrJ3B4Iic6Jyc7CglpZihvLm5vY2FjaGU9PSJ0cnVlIil7by5uYW1lKz0iPyIrbmV3IERhdGUoKS5nZXRUaW1lKCk7fQoJaWYoby52ZXIpe3Y9by52ZXI7fWVsc2V7dj0nOSwwLDAsMCc7fQoJdmFyIHN0cj0nPG9iamVjdCAnK3N0eSsnIGNsYXNzaWQ9ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIgY29kZWJhc2U9Imh0dHA6Ly9kb3dubG9hZC5tYWNyb21lZGlhLmNvbS9wdWIvc2hvY2t3YXZlL2NhYnMvZmxhc2gvc3dmbGFzaC5jYWIjdmVyc2lvbj0nK3YrJyIgJzsKCXN0cis9J2lkPSInK28uaWQrJyIgJzsKCWlmKG8uYWxpZ24pe3N0cis9J2FsaWduPSInK28uYWxpZ24rJyIgJzt9CglzdHIrPSd3aWR0aD0iJytvLndpZHRoKyciIGhlaWdodD0iJytvLmhlaWdodCsnIj48cGFyYW0gbmFtZT0ibW92aWUiIHZhbHVlPSInK28ubmFtZSsnIi8+PHBhcmFtIG5hbWU9ImJnY29sb3IiIHZhbHVlPSInK2JnKyciLz48cGFyYW0gbmFtZT0icXVhbGl0eSIgdmFsdWU9IicrcSsnIi8+JzsKCWlmKG8uYmFzZSl7c3RyKz0nPHBhcmFtIG5hbWU9ImJhc2UiIHZhbHVlPSInK28uYmFzZSsnIi8+Jzt9CglpZihvLmZsYXNodmFycyl7c3RyKz0nPHBhcmFtIG5hbWU9ImZsYXNodmFycyIgdmFsdWU9Iicrby5mbGFzaHZhcnMrJyIvPic7fQoJaWYoby5hbGxvd1NjcmlwdEFjY2Vzcyl7c3RyKz0nPHBhcmFtIG5hbWU9ImFsbG93U2NyaXB0QWNjZXNzIiB2YWx1ZT0iJytvLmFsbG93U2NyaXB0QWNjZXNzKyciLz4nO30KCWlmKG8uc2FsaWduKXtzdHIrPSc8cGFyYW0gbmFtZT0ic2FsaWduIiB2YWx1ZT0iJytvLnNhbGlnbisnIi8+Jzt9CglpZihvLndtb2RlKXtzdHIrPSc8cGFyYW0gbmFtZT0id21vZGUiIHZhbHVlPSInK28ud21vZGUrJyIvPic7fQoJc3RyKz0nPHBhcmFtIG5hbWU9InNjYWxlIiB2YWx1ZT0iJytzKyciLz48ZW1iZWQgJytzdHkrJyB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgcGx1Z2luc3BhZ2U9Imh0dHA6Ly93d3cubWFjcm9tZWRpYS5jb20vZ28vZ2V0Zmxhc2hwbGF5ZXIiIG5hbWU9Iicrby5pZCsnIiBzcmM9Iicrby5uYW1lKyciIGJnY29sb3I9IicrYmcrJyIgJzsKCWlmKG8uZmxhc2h2YXJzKXtzdHIrPSdmbGFzaHZhcnM9Iicrby5mbGFzaHZhcnMrJyIgJzt9CglpZihvLnN3TGl2ZUNvbm5lY3Qpe3N0cis9J3N3TGl2ZUNvbm5lY3Q9Iicrby5zd0xpdmVDb25uZWN0KyciICc7fQoJaWYoby5hbGxvd1NjcmlwdEFjY2Vzcyl7c3RyKz0nYWxsb3dTY3JpcHRBY2Nlc3M9Iicrby5hbGxvd1NjcmlwdEFjY2VzcysnIiAnO30KCXN0cis9J3F1YWxpdHk9IicrcSsnIiAnOwoJaWYoby5iYXNlKXtzdHIrPSdiYXNlPSInK28uYmFzZSsnIiAnO30KCWlmKG8ud21vZGUpe3N0cis9J3dtb2RlPSInK28ud21vZGUrJyIgJzt9CglpZihvLnNhbGlnbil7c3RyKz0nc2FsaWduPSInK28uc2FsaWduKyciICc7fQoJc3RyKz0nc2NhbGU9IicrcysnIiB3aWR0aD0iJytvLndpZHRoKyciIGhlaWdodD0iJytvLmhlaWdodCsnIj48L2VtYmVkPjwvb2JqZWN0Pic7Ci8vCWRvY3VtZW50LndyaXRlbG4oc3RyKTsKICAgIGpRdWVyeSgnYm9keScpLmFwcGVuZChzdHIpOwp9Cgpkb2N1bWVudC5hdHRhY2hDUCA9IFtdOwpkb2N1bWVudC5hdHRhY2hDUC5sZW5ndGggPSAwOwoKZnVuY3Rpb24gYXR0YWNoUGlja0NvbG9yKGlkKQp7CiAgICBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7CiAgICAgICAgYXR0YWNoUGlja0NvbG9yRG8oaWQpOwogICAgfSk7Cn0KCmZ1bmN0aW9uIGF0dGFjaFBpY2tDb2xvckRvKGlkKQp7CiAgICBpZihqUXVlcnkuaW5BcnJheShpZCxkb2N1bWVudC5hdHRhY2hDUCk8MCl7CiAgICAgICAgZG9jdW1lbnQuYXR0YWNoQ1AubGVuZ3RoKys7ZG9jdW1lbnQuYXR0YWNoQ1BbZG9jdW1lbnQuYXR0YWNoQ1AubGVuZ3RoLTFdPWlkOwogICAgICAgIHZhciBjcD1qUXVlcnkoJyMnK2lkKTsKICAgICAgICBjcC5jb2xvcnBpY2tlcmVkID0gdHJ1ZTsKICAgICAgICBjcC5Db2xvclBpY2tlcih7CiAgICAgICAgICAgIG9uU2hvdzpmdW5jdGlvbihjcCl7alF1ZXJ5KGNwKS5jc3MoJ3otaW5kZXgnLDk5OTkpLmZhZGVJbigxMDApO3JldHVybiBmYWxzZTt9LAogICAgICAgICAgICBvblN1Ym1pdDpmdW5jdGlvbihoc2IsaGV4LHJnYil7CiAgICAgICAgICAgICAgICBqUXVlcnkoJyMnK2lkKS5jc3MoJ2JhY2tncm91bmRDb2xvcicsJyMnK2hleCk7CiAgICAgICAgICAgICAgICBleGVjRXZlbnRCaW5kZWQoaWQuc3Vic3RyaW5nKDIsIGlkLmxlbmd0aCksJ2NoYW5nZWNvbG9yJyx7Y29sb3I6JyMnK2hleH0pOwogICAgICAgICAgICAgICAgalF1ZXJ5KCcjJytpZCsnPnNwYW4nKS50ZXh0KCcjJytoZXgpOwogICAgICAgICAgICAgICAgalF1ZXJ5KCcjJytpZCkuQ29sb3JQaWNrZXJIaWRlUGlja2VyKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjcC5Db2xvclBpY2tlclNldENvbG9yKCcjJytjcC5maW5kKCdzcGFuJykudGV4dCgpKTsKICAgIH0KfQoKZnVuY3Rpb24gdmRvbV91aV9mb3JtU3VibWl0KG8pCnsKICAgIGlmIChvLmFscmVhZHlTdWJtaXR0ZWQgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAJby5hbHJlYWR5U3VibWl0dGVkID0gdHJ1ZTsKICAgIAlyZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQo=]]>
		</Resource>
		<Resource ID="3e932470-0e08-446c-a866-30c00e6d812a" Name="fn_printArea" Type="js">
			<![CDATA[KGZ1bmN0aW9uKEIpe3ZhciBBPTA7Qi5mbi5wcmludEFyZWE9ZnVuY3Rpb24oKXt2YXIgSD1CKHRoaXMpO3ZhciBHPSJwcmludEFyZWFfIjtDKEcrQSk7QSsrO3ZhciBKPUcrQTt2YXIgRj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJJRlJBTUUiKTtCKEYpLmF0dHIoInN0eWxlIiwicG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MHB4O2hlaWdodDowcHg7bGVmdDotNTAwcHg7dG9wOi01MDBweDsiKTtCKEYpLmF0dHIoImlkIixKKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEYpO3ZhciBJPUYuY29udGVudFdpbmRvdy5kb2N1bWVudDt2YXIgRD13aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKTtmb3IodmFyIEU9MDtFPEQubGVuZ3RoO0UrKyl7aWYoRFtFXS5yZWwudG9Mb3dlckNhc2UoKT09InN0eWxlc2hlZXQiKXtJLndyaXRlKCc8bGluayB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInK0RbRV0uaHJlZisnIj48L2xpbms+Jyl9fUkud3JpdGUoJzxkaXYgY2xhc3M9IicrQihIKS5hdHRyKCJjbGFzcyIpKyciPicrQihIKS5odG1sKCkrIjwvZGl2PiIpO0kuY2xvc2UoKTtGLmNvbnRlbnRXaW5kb3cuZm9jdXMoKTtGLmNvbnRlbnRXaW5kb3cucHJpbnQoKX07dmFyIEM9ZnVuY3Rpb24oRCl7QigiaWZyYW1lIyIrRCkucmVtb3ZlKCl9fSkoalF1ZXJ5KTs=]]>
		</Resource>
		<Resource ID="1c378464-5553-3eb4-8e12-ebcec2bbee33" Name="emptygif" Type="gif">
			<![CDATA[R0lGODlhAQABAKEAAPT29AAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==]]>
		</Resource>
		<Resource ID="0b3e0dc0-6429-eb14-26d6-2d30c535b707" Name="ie_fixpng_pngfix" Type="js">
			<![CDATA[LyogaWZpeHBuZyBpbXByb3ZlZCAzLjEuMiAoMjAwOC8wOS8wMSkgQ29weXJpZ2h0IChjKSBLdXNoIE0uLCBZZXJldGggSmFuc2VuICovCjsoZnVuY3Rpb24oJCl7JC5pZml4cG5nPWZ1bmN0aW9uKGN1c3RvbVBpeGVsKXskLmlmaXhwbmcucGl4ZWw9Y3VzdG9tUGl4ZWw7fTsKJC5pZml4cG5nLnJlZ2V4cD17Ymc6L151cmxcKFsiJ10/KC4qXC5wbmcoWz9dLiopPylbIiddP1wpJC9pLAppbWc6Ly4qXC5wbmcoWz9dLiopPyQvaX0sCiQuaWZpeHBuZy5nZXRQaXhlbD1mdW5jdGlvbigpe3JldHVybiAkLmlmaXhwbmcucGl4ZWx8fCcvMWMzNzg0NjQtNTU1My0zZWI0LThlMTItZWJjZWMyYmJlZTMzLnJlcyc7fTsKdmFyIGhhY2s9e2Jhc2U6JCgnYmFzZScpLmF0dHIoJ2hyZWYnKSxsdGllNzokLmJyb3dzZXIubXNpZSYmJC5icm93c2VyLnZlcnNpb248NyxmaWx0ZXI6ZnVuY3Rpb24oc3JjKXtyZXR1cm4gInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKGVuYWJsZWQ9dHJ1ZSxzaXppbmdNZXRob2Q9Y3JvcCxzcmM9JyIrc3JjKyInKSI7fX07CiQuZm4uaWZpeHBuZz1oYWNrLmx0aWU3P2Z1bmN0aW9uKCl7ZnVuY3Rpb24gZml4SW1hZ2UoaW1hZ2Usc291cmNlLHdpZHRoLGhlaWdodCxoaWRkZW4pe2ltYWdlLmNzcyh7ZmlsdGVyOmhhY2suZmlsdGVyKHNvdXJjZSksd2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodH0pLmF0dHIoe3NyYzokLmlmaXhwbmcuZ2V0UGl4ZWwoKX0pLnBvc2l0aW9uRml4KCk7fQpyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICQkPSQodGhpcyk7aWYgKCQkLmlzKCdpbWcnKXx8JCQuaXMoJ2lucHV0Jykpe3ZhciBzb3VyY2UsaW1nO2lmKHRoaXMuc3JjJiZ0aGlzLnNyYy5tYXRjaCgkLmlmaXhwbmcucmVnZXhwLmltZykpe3NvdXJjZT0oaGFjay5iYXNlJiZ0aGlzLnNyYy5zdWJzdHJpbmcoMCwxKSE9Jy8nJiZ0aGlzLnNyYy5pbmRleE9mKGhhY2suYmFzZSk9PT0tMSk/aGFjay5iYXNlK3RoaXMuc3JjOnRoaXMuc3JjO2lmKCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHQpewokKG5ldyBJbWFnZSgpKS5vbmUoJ2xvYWQnLGZ1bmN0aW9uKCl7Zml4SW1hZ2UoJCQsc291cmNlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpOwokKHRoaXMpLnJlbW92ZSgpO30pLmF0dHIoJ3NyYycsc291cmNlKTt9ZWxzZSBmaXhJbWFnZSgkJCxzb3VyY2UsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7fX1lbHNlIGlmICh0aGlzLnN0eWxlKXt2YXIgaW1hZ2VTcmM9JCQuY3NzKCdiYWNrZ3JvdW5kSW1hZ2UnKTtpZihpbWFnZVNyYyYmaW1hZ2VTcmMubWF0Y2goJC5pZml4cG5nLnJlZ2V4cC5iZykmJnRoaXMuY3VycmVudFN0eWxlLmJhY2tncm91bmRSZXBlYXQ9PSduby1yZXBlYXQnKXtpbWFnZVNyYz1SZWdFeHAuJDE7dmFyIHg9dGhpcy5jdXJyZW50U3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uWHx8MCx5PXRoaXMuY3VycmVudFN0eWxlLmJhY2tncm91bmRQb3NpdGlvbll8fDA7CmlmKHh8fHkpe3ZhciBjc3M9e30saW1nO2lmKHR5cGVvZiB4IT0ndW5kZWZpbmVkJyl7aWYoeD09J2xlZnQnKWNzcy5sZWZ0PTA7IAplbHNlIGlmKHg9PSdyaWdodCcpIGNzcy5yaWdodD0kJC53aWR0aCgpJTI9PT0xPy0xOjA7ZWxzZSBjc3MubGVmdD14O30KaWYodHlwZW9mIHkhPSd1bmRlZmluZWQnKXtpZih5PT0nYm90dG9tJykgY3NzLmJvdHRvbT0kJC5oZWlnaHQoKSUyPT09MT8tMTowOyAKZWxzZSBpZih5PT0ndG9wJyljc3MudG9wPTA7ZWxzZSBjc3MudG9wPXk7fQppbWc9bmV3IEltYWdlKCk7JChpbWcpLm9uZSgnbG9hZCcsZnVuY3Rpb24oKXt2YXIgeCx5LGV4cHI9e30scHJvcDtpZigvY2VudGVyfCUvLnRlc3QoY3NzLnRvcCkpewpleHByLnRvcD0iKHRoaXMucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQtdGhpcy5vZmZzZXRIZWlnaHQpKiIrKGNzcy50b3A9PSdjZW50ZXInPzAuNToocGFyc2VJbnQoY3NzLnRvcCkvMTAwKSk7CmRlbGV0ZSBjc3MudG9wO31pZigvY2VudGVyfCUvLnRlc3QoY3NzLmxlZnQpKXtleHByLmxlZnQ9Iih0aGlzLnBhcmVudE5vZGUub2Zmc2V0V2lkdGgtdGhpcy5vZmZzZXRXaWR0aCkqIisoY3NzLmxlZnQ9PSdjZW50ZXInPzAuNToocGFyc2VJbnQoY3NzLmxlZnQpLzEwMCkpO2RlbGV0ZSBjc3MubGVmdDt9CiQkLnBvc2l0aW9uRml4KCkuY3NzKHtiYWNrZ3JvdW5kSW1hZ2U6J25vbmUnfSkucHJlcGVuZCgkKCc8ZGl2PjwvZGl2PicpLmNzcyhjc3MpLmNzcyh7d2lkdGg6dGhpcy53aWR0aCwKaGVpZ2h0OnRoaXMuaGVpZ2h0LHBvc2l0aW9uOidhYnNvbHV0ZScsZmlsdGVyOmhhY2suZmlsdGVyKGltYWdlU3JjKX0pKTsKaWYoZXhwci50b3B8fGV4cHIubGVmdCl7dmFyIGVsZW09JCQuY2hpbGRyZW4oJzpmaXJzdCcpWzBdO2Zvcihwcm9wIGluIGV4cHIpIGVsZW0uc3R5bGUuc2V0RXhwcmVzc2lvbihwcm9wLCBleHByW3Byb3BdLCdKYXZhU2NyaXB0Jyk7fSQodGhpcykucmVtb3ZlKCk7fSk7aW1nLnNyYz1pbWFnZVNyYzt9ZWxzZXskJC5jc3Moe2JhY2tncm91bmRJbWFnZTonbm9uZScsZmlsdGVyOmhhY2suZmlsdGVyKGltYWdlU3JjKX0pO319fX0pO306ZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9OyQuZm4ucG9zaXRpb25GaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICQkPSQodGhpcyk7aWYgKCQkLmNzcygncG9zaXRpb24nKSE9J2Fic29sdXRlJykgJCQuY3NzKHtwb3NpdGlvbjoncmVsYXRpdmUnfSk7fSk7fTsKfSkoalF1ZXJ5KTsKCi8qIFBORyBGaXggdjEuMiAoYykgMjAwNyBQYXVsIENhbXBiZWxsIChwYXVsamFtZXNjYW1wYmVsbC5jby51aykgKi8KKGZ1bmN0aW9uKCQpeyQuZm4ucG5nZml4PWZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBlbGVtZW50cz10aGlzO3ZhciBzZXR0aW5ncz0kLmV4dGVuZCh7aW1hZ2VGaXhTcmM6ZmFsc2Usc2l6aW5nTWV0aG9kOmZhbHNlfSxvcHRpb25zKTsKaWYoISQuYnJvd3Nlci5tc2llLyp8fCgkLmJyb3dzZXIubXNpZSYmJC5icm93c2VyLnZlcnNpb24+NykqLyl7cmV0dXJuKGVsZW1lbnRzKTt9CmZ1bmN0aW9uIHNldEZpbHRlcihlbCxwYXRoLG1vZGUpe3ZhciBmcz1lbC5hdHRyKCJmaWx0ZXJzIik7dmFyIGFscGhhPSJEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyIjtpZihmc1thbHBoYV0pe2ZzW2FscGhhXS5lbmFibGVkPXRydWU7ZnNbYWxwaGFdLnNyYz1wYXRoO2ZzW2FscGhhXS5zaXppbmdNZXRob2Q9bW9kZTt9ZWxzZXtlbC5jc3MoImZpbHRlciIsJ3Byb2dpZDonK2FscGhhKycoZW5hYmxlZD0idHJ1ZSIsc2l6aW5nTWV0aG9kPSInK21vZGUrJyIsc3JjPSInK3BhdGgrJyIpJyk7fX1mdW5jdGlvbiBzZXRET01FbGVtZW50V2lkdGgoZWwpe2lmKGVsLmNzcygid2lkdGgiKT09ImF1dG8iJmVsLmNzcygiaGVpZ2h0Iik9PSJhdXRvIil7ZWwuY3NzKCJ3aWR0aCIsZWwuYXR0cigib2Zmc2V0V2lkdGgiKSsicHgiKTt9fXJldHVybihlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGVsPSQodGhpcyk7aWYoZWwuYXR0cigidGFnTmFtZSIpLnRvVXBwZXJDYXNlKCk9PSJJTUciJiYoL1wucG5nL2kpLnRlc3QoZWwuYXR0cigic3JjIikpKXtpZighc2V0dGluZ3MuaW1hZ2VGaXhTcmMpe2VsLndyYXAoIjxzcGFuPjwvc3Bhbj4iKTt2YXIgcGFyPWVsLnBhcmVudCgpO3Bhci5jc3Moe2hlaWdodDplbC5oZWlnaHQoKSx3aWR0aDplbC53aWR0aCgpLGRpc3BsYXk6ImlubGluZS1ibG9jayJ9KTtzZXRGaWx0ZXIocGFyLGVsLmF0dHIoInNyYyIpLCJzY2FsZSIpO2VsLnJlbW92ZSgpO31lbHNlIGlmKCgvXC5naWYvaSkudGVzdChzZXR0aW5ncy5pbWFnZUZpeFNyYykpe3NldERPTUVsZW1lbnRXaWR0aChlbCk7c2V0RmlsdGVyKGVsLGVsLmF0dHIoInNyYyIpLCJpbWFnZSIpO2VsLmF0dHIoInNyYyIsc2V0dGluZ3MuaW1hZ2VGaXhTcmMpO319ZWxzZXt2YXIgYmc9bmV3IFN0cmluZyhlbC5jc3MoImJhY2tncm91bmRJbWFnZSIpKTt2YXIgbWF0Y2hlcz1iZy5tYXRjaCgvXnVybFwoIiguKikiXCkkLyk7aWYobWF0Y2hlcyYmbWF0Y2hlcy5sZW5ndGgpe3NldERPTUVsZW1lbnRXaWR0aChlbCk7ZWwuY3NzKCJiYWNrZ3JvdW5kSW1hZ2UiLCJub25lIik7dmFyIHNjPSJjcm9wIjtpZihzZXR0aW5ncy5zaXppbmdNZXRob2Qpe3NjPXNldHRpbmdzLnNpemluZ01ldGhvZDt9c2V0RmlsdGVyKGVsLG1hdGNoZXNbMV0sc2MpO2VsLmZpbmQoImEiKS5lYWNoKGZ1bmN0aW9uKCl7JCh0aGlzKS5jc3MoInBvc2l0aW9uIiwicmVsYXRpdmUiKTt9KTt9fX0pKTt9fSkoalF1ZXJ5KQo=]]>
		</Resource>
	</Resources>
	<SourceCode>
		<![CDATA[

import e2vdom

def on_compile(application, object, action_name, context, objects):
	result=objects
	for xobject in object.get_objects_list():
		result.append({"object": xobject})
	return result

class VDOM_htmlcontainer(VDOM_object):

	def render(self, parent, contents=""):
		if self.visible == "1":

			if "" != self.securitycode:
				code = str(request.session.value("SecurityCode"))
				redir = False
				if not code or code not in self.securitycode.split(";"):
					redir = True
				if redir and "" == self.deniedlink:
					result = "<html></html>"
					return VDOM_object.render(self, parent, contents=result)
				elif redir:
					# request.redirect("/" + self.deniedlink + ".vdom")	# obsolete - page_guid.vdom
					request.redirect("/" + request.application().search_object(self.deniedlink).name + ".vdom")

			e2vdom.process(self, parent)
			libraries, declarations, registrations=e2vdom.generate(self)
			javascript="%s\n%s\n"%(declarations, registrations)

			clean_id = (request.application_id).replace('-', '_')

			style=self.style
			style += " margin: 0 auto;"

			if self.bgcolor:
				style += " background-color: #%s;"%(self.bgcolor)
			style += " color: #%s; font-family: Tahoma; font-size: 12px;"%(self.textcolor)
			if self.image:
				style += " background-image: url('/%s.res'); background-repeat: %s;"%(self.image, self.bgrepeat)

			style2 = ""
			if self.linkcolor:
				style2 += " link=\"#" + self.linkcolor + "\""
			if self.activelinkcolor:
				style2 += " alink=\"#" + self.activelinkcolor + "\""
			if self.visitedlinkcolor:
				style2 += " vlink=\"#" + self.visitedlinkcolor + "\""
			metas = ""
			if self.metadescription:
				metas += '<meta name="description" content="%s">\n' % self.metadescription
			if self.metakeywords:
				metas += '<meta name="keywords" content="%s">\n' % self.metakeywords

			jqui = ""
			if self.jqui == "1":
				jqui = "<script type=\"text/javascript\" src=\"/b67cfe82-a508-63ba-37ca-6c27d82c5112.res\"></script>"

			if self.testClasses == "":
				testClasses = "<script type='text/javascript' src='/1b055baa-6376-4582-b527-1ee364c19e88.res?v20110108'></script>"
			else:
				testClasses = self.testClasses

			if self.testFunc == "":
				testFunc = "<script type='text/javascript' src='/3ef16f3c-9863-9597-f341-8f9913c99c11.res'></script>"
			else:
				testFunc = self.testFunc

			if self.cssclass == "":
				cssclass = ""
			else:
				cssclass = ' class="%s" ' % self.cssclass

			if self.position == "center":
				centr = "1"
			else:
				centr = "0"

			if self.noscript != "":
				noscript="<noscript>"+self.noscript+"</noscript>"
			else:
				noscript=""

			css='<style type="text/css">\n%s\n</style>'%self.css
			doctype="""<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">"""

			result="%(doctype)s\n"\
				"<html xmlns=\"http://www.w3.org/1999/xhtml\">\n"\
				"<head>\n"\
				"<title>%(title)s</title>\n"\
				"<meta http-equiv=\"Content-Type\" content=\"text/html;charset=UTF-8\">\n"\
				"%(metas)s"\
				"<script type=\"text/javascript\">\n"\
				"var APPLICATION_ID=\"%(application)s\";\n"\
				"var SESSION_ID=\"%(session)s\";\n"\
				"var SERVER_URL=\"/e2vdom.py\";\n"\
				"</script>\n"\
				"<script type=\"text/javascript\" src=\"/113513d0-ebae-42c4-9bdf-44ebf7828910.res\"></script>\n"\
				"%(jqui)s"\
				"%(testFunc)s\n"\
				"<script type=\"text/javascript\" src=\"/3e932470-0e08-446c-a866-30c00e6d812a.res\"></script>\n"\
				"%(testClasses)s\n"\
				"%(pagestyle)s"\
				"%(libraries)s"\
				"</head>\n"\
				"<body style=\"%(style)s;\" %(style2)s %(cssclass)s >\n"\
				"%(noscript)s"\
				"<div id='container'>\n"\
				"%(contents)s\n"\
				"<script type=\"text/javascript\">\n%(javascript)s</script>\n"\
				"</div>\n"\
				"<!--[if lt IE 7]>\n<script type=\"text/javascript\" src=\"/0b3e0dc0-6429-eb14-26d6-2d30c535b707.res\"></script>\n"\
				"<script type=\"text/javascript\">jQuery(document).ready(function($){$(\'img,input\').ifixpng();});</script>\n<![endif]-->\n"\
				"<script type=\"text/javascript\">hchInit(%(centr)s,'#%(bgcolor)s');</script>\n"\
				"</body>\n"\
				"</html>"%\
				{"doctype": doctype, "testClasses": testClasses, "testFunc": testFunc, "jqui": jqui, "clean_id": clean_id,
				"application": request.application_id, "title": self.title, "session": request.session.id(), "metas": metas,
				"noscript": noscript, "style": style,
				"javascript": javascript, "style2": style2, "cssclass": cssclass,
				"libraries": libraries, "contents": contents, "bgcolor": self.bgcolor, "centr": centr, "pagestyle": css}
		else:
			result="<html></html>"

		return VDOM_object.render(self, parent, contents=result)


	def wysiwyg(self, parent, contents=""):
		result="<container id=\"%s\" visible=\"%s\" zindex=\"%s\" hierarchy=\"%s\" order=\"%s\" backgroundcolor=\"#%s\" backgroundimage=\"%s\" backgroundrepeat=\"%s\" >%s</container>"%(
			self.id, self.visible, self.zindex, self.hierarchy, self.order, self.bgcolor, self.image, self.bgrepeat, contents)
		return VDOM_object.wysiwyg(self, parent, contents=result)

		]]>
	</SourceCode>
	<Libraries>
		<!--<Library Target="HTML"><![CDATA[<script language='javascript' type='text/javascript' src='/e3dd01f6-5d9b-4c0f-994c-9bb476a16b41.res'></script>]]></Library>-->
	</Libraries>
	<E2vdom>
		<Events>
			<Userinterfaceevents>
				<Event Name="mousemove">
					<Parameters>
						<Parameter Help="#Lang(105)" Name="X" Order="" VbType=""/>
						<Parameter Help="#Lang(104)" Name="Y" Order="" VbType=""/>
					</Parameters>
				</Event>
				<Event Name="mousedown">
					<Parameters>
						<Parameter Help="#Lang(105)" Name="X" Order="" VbType=""/>
						<Parameter Help="#Lang(104)" Name="Y" Order="" VbType=""/>
					</Parameters>
				</Event>
				<Event Name="mouseup">
					<Parameters>
						<Parameter Help="#Lang(105)" Name="X" Order="" VbType=""/>
						<Parameter Help="#Lang(104)" Name="Y" Order="" VbType=""/>
					</Parameters>
				</Event>
				<Event Name="mouseover">
					<Parameters>
						<Parameter Help="#Lang(105)" Name="X" Order="" VbType=""/>
						<Parameter Help="#Lang(104)" Name="Y" Order="" VbType=""/>
					</Parameters>
				</Event>
				<Event Name="mouseout">
					<Parameters>
						<Parameter Help="#Lang(745)" Name="X" Order="" VbType=""/>
						<Parameter Help="#Lang(745)" Name="Y" Order="" VbType=""/>
					</Parameters>
				</Event>
				<Event Name="click">
					<Parameters>
						<Parameter Help="#Lang(105)" Name="X" Order="" VbType=""/>
						<Parameter Help="#Lang(104)" Name="Y" Order="" VbType=""/>
					</Parameters>
				</Event>
				<Event Name="dblclick">
					<Parameters>
						<Parameter Help="#Lang(105)" Name="X" Order="" VbType=""/>
						<Parameter Help="#Lang(104)" Name="Y" Order="" VbType=""/>
					</Parameters>
				</Event>
				<Event Name="ctrlclick">
					<Parameters>
						<Parameter Help="#Lang(105)" Name="X" Order="" VbType=""/>
						<Parameter Help="#Lang(104)" Name="Y" Order="" VbType=""/>
					</Parameters>
				</Event>
			</Userinterfaceevents>
		</Events>
		<Actions>
			<Container ID="2330fe83-8cd6-4ed5-907d-11874e7ebcf4">
				<Action Description="#Lang(102)" InterfaceName="#Lang(102)" MethodName="hide">
					<Parameters>
						<Parameter DefaultValue="0" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="fade"/>
					</Parameters>
					<Sourcecode><![CDATA[
vdom_ui_hide(this.domCont, fade);
					]]></Sourcecode>
				</Action>
				<Action Description="#Lang(102)" InterfaceName="#Lang(102)" MethodName="show">
					<Parameters>
						<Parameter DefaultValue="0" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="fade"/>
					</Parameters>
					<Sourcecode><![CDATA[
vdom_ui_show(this.domCont, fade);
					]]></Sourcecode>
				</Action>
				<Action Description="#Lang(102)" InterfaceName="#Lang(102)" MethodName="moveZindexTo">
					<Parameters>
						<Parameter DefaultValue="0" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="newZindex"/>
					</Parameters>
					<Sourcecode><![CDATA[
this.domCont.style.zindex = parseInt(newZindex);
					]]></Sourcecode>
				</Action>
				<Action Description="#Lang(102)" InterfaceName="#Lang(102)" MethodName="moveTo">
					<Parameters>
						<Parameter DefaultValue="0" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="newX"/>
						<Parameter DefaultValue="0" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="newY"/>
						<Parameter DefaultValue="0" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="Effect"/>
					</Parameters>
					<Sourcecode><![CDATA[
vdom_ui_moveTo(this.domCont, newX, newY, Effect);
					]]></Sourcecode>
				</Action>
				<Action Description="#Lang(102)" InterfaceName="#Lang(102)" MethodName="loadHTML">
					<Parameters>
						<Parameter DefaultValue="0" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="value"/>
					</Parameters>
					<Sourcecode><![CDATA[
jQuery(this.domCont).html(value);
					]]></Sourcecode>
				</Action>
				<Action Description="#Lang(102)" InterfaceName="#Lang(102)" MethodName="addHTML">
					<Parameters>
						<Parameter DefaultValue="0" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="value"/>
					</Parameters>
					<Sourcecode><![CDATA[
vdom_ui_addHTML(this.domCont, value);
					]]></Sourcecode>
				</Action>
				<Action Description="#Lang(102)" InterfaceName="#Lang(102)" MethodName="changeCursor">
					<Parameters>
						<Parameter DefaultValue="" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="cursorType"/>
					</Parameters>
					<Sourcecode><![CDATA[
this.domCont.style.cursor = cursorType;
					]]></Sourcecode>
				</Action>
				<Action Description="#Lang(102)" InterfaceName="#Lang(102)" MethodName="goTo">
					<Parameters>
						<Parameter DefaultValue="" Help="#Lang(202)" Interface="" InterfaceName="#Lang(202)" RegularExpressionValidation=".*" ScriptName="url"/>
					</Parameters>
					<Sourcecode><![CDATA[
document.location.href=url; return false;
					]]></Sourcecode>
				</Action>
			</Container>
		</Actions>
	</E2vdom>
</Type>