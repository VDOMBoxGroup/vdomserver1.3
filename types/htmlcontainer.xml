<?xml version="1.0" encoding="utf-8"?>
<Type>
  <Information>
    <Name>htmlcontainer</Name>
    <DisplayName>#Lang(002)</DisplayName>
    <Description>#Lang(001)</Description>
    <ClassName>VDOM_htmlcontainer</ClassName>
    <ID>2330fe83-8cd6-4ed5-907d-11874e7ebcf4</ID>
    <Icon>#Res(135aaf50-6055-4db3-8c14-7d9ac93dd30f)</Icon>
    <EditorIcon>#Res(67a38932-aa05-4c6c-9b20-0398c6a53333)</EditorIcon>
    <StructureIcon>#Res(e33a6604-253c-4723-a7ac-123532bc1a5f)</StructureIcon>
    <Moveable>0</Moveable>
    <Resizable>0</Resizable>
    <Container>3</Container>
    <Category>Standard</Category>
    <Dynamic>1</Dynamic>
    <Version>2</Version>
    <InterfaceType>1</InterfaceType>
    <OptimizationPriority>1</OptimizationPriority>
    <Containers/>
    <Languages>en_US ,ru_RU ,fr_FR</Languages>
    <RenderType>HTML</RenderType>
    <HTTPContentType>text/html</HTTPContentType>
    <Handlers/>
    <RemoteMethods/>
    <WCAG/>
    <XMLScriptName/>
  </Information>
  <Attributes>
    <Attribute>
      <Name>hierarchy</Name>
      <DisplayName>#Lang(101)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>0</Visible>
      <Help>#Lang(201)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(2)</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(301)</ErrorValidationMessage>
      <RegularExpressionValidation>^\d+$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>visible</Name>
      <DisplayName>#Lang(102)</DisplayName>
      <DefaultValue>1</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(202)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(401)|0)|(#Lang(402)|1))</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(302)</ErrorValidationMessage>
      <RegularExpressionValidation>^[01]$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>zindex</Name>
      <DisplayName>#Lang(103)</DisplayName>
      <DefaultValue>0</DefaultValue>
      <Visible>0</Visible>
      <Help>#Lang(203)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(2)</CodeInterface>
      <Colorgroup>1</Colorgroup>
      <ErrorValidationMessage>#Lang(303)</ErrorValidationMessage>
      <RegularExpressionValidation>^\d{1,2}$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>title</Name>
      <DisplayName>#Lang(104)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(204)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(500)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(304)</ErrorValidationMessage>
      <RegularExpressionValidation>^.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>description</Name>
      <DisplayName>#Lang(105)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(205)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>MultiLine(100)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(305)</ErrorValidationMessage>
      <RegularExpressionValidation>.*</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>image</Name>
      <DisplayName>#Lang(106)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(206)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>File()</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(306)</ErrorValidationMessage>
      <RegularExpressionValidation>^.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>bgrepeat</Name>
      <DisplayName>#Lang(107)</DisplayName>
      <DefaultValue>repeat</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(207)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(403)|repeat)|(#Lang(404)|no-repeat)|(#Lang(405)|repeat-x)|(#Lang(406)|repeat-y))</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(307)</ErrorValidationMessage>
      <RegularExpressionValidation>^.+$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>metakeywords</Name>
      <DisplayName>#Lang(108)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(208)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>MultiLine(10000)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(308)</ErrorValidationMessage>
      <RegularExpressionValidation>.*</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>testFunc</Name>
      <DisplayName>#Lang(109)</DisplayName>
      <DefaultValue/>
      <Visible>0</Visible>
      <Help>#Lang(209)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>MultiLine(10000)</CodeInterface>
      <Colorgroup>3</Colorgroup>
      <ErrorValidationMessage>#Lang(309)</ErrorValidationMessage>
      <RegularExpressionValidation>.*</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>metadescription</Name>
      <DisplayName>#Lang(111)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(211)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>MultiLine(10000)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(311)</ErrorValidationMessage>
      <RegularExpressionValidation>^.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>noscript</Name>
      <DisplayName>#Lang(112)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(212)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>MultiLine(1000)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(312)</ErrorValidationMessage>
      <RegularExpressionValidation>.*</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>securitycode</Name>
      <DisplayName>#Lang(113)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(213)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(100)</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(313)</ErrorValidationMessage>
      <RegularExpressionValidation>^.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>deniedlink</Name>
      <DisplayName>#Lang(114)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(214)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>PageLink()</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(314)</ErrorValidationMessage>
      <RegularExpressionValidation>^.*$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>jqui</Name>
      <DisplayName>#Lang(115)</DisplayName>
      <DefaultValue>1</DefaultValue>
      <Visible>0</Visible>
      <Help>#Lang(215)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(407)|1)|(#Lang(408)|0))</CodeInterface>
      <Colorgroup>2</Colorgroup>
      <ErrorValidationMessage>#Lang(315)</ErrorValidationMessage>
      <RegularExpressionValidation>^[01]$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>position</Name>
      <DisplayName>#Lang(116)</DisplayName>
      <DefaultValue>left</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(216)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>DropDown((#Lang(409)|left)|(#Lang(411)|center))</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(316)</ErrorValidationMessage>
      <RegularExpressionValidation>^(left|center)$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>style</Name>
      <DisplayName>#Lang(117)</DisplayName>
      <DefaultValue/>
      <Visible>0</Visible>
      <Help>#Lang(217)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(100)</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(317)</ErrorValidationMessage>
      <RegularExpressionValidation>.+</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>testClasses</Name>
      <DisplayName>#Lang(118)</DisplayName>
      <DefaultValue/>
      <Visible>0</Visible>
      <Help>#Lang(218)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>MultiLine(10000)</CodeInterface>
      <Colorgroup>3</Colorgroup>
      <ErrorValidationMessage>#Lang(318)</ErrorValidationMessage>
      <RegularExpressionValidation>.*</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>textcolor</Name>
      <DisplayName>#Lang(119)</DisplayName>
      <DefaultValue>000000</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(219)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>Color()</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(319)</ErrorValidationMessage>
      <RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>linkcolor</Name>
      <DisplayName>#Lang(121)</DisplayName>
      <DefaultValue>000000</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(221)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>Color()</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(321)</ErrorValidationMessage>
      <RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>activelinkcolor</Name>
      <DisplayName>#Lang(122)</DisplayName>
      <DefaultValue>000000</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(222)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>Color()</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(322)</ErrorValidationMessage>
      <RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>visitedlinkcolor</Name>
      <DisplayName>#Lang(123)</DisplayName>
      <DefaultValue>000000</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(223)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>Color()</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(323)</ErrorValidationMessage>
      <RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>bgcolor</Name>
      <DisplayName>#Lang(124)</DisplayName>
      <DefaultValue>FFFFFF</DefaultValue>
      <Visible>1</Visible>
      <Help>#Lang(224)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>Color()</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(324)</ErrorValidationMessage>
      <RegularExpressionValidation>^(#?[0-9A-Fa-f]{6})?$</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>css</Name>
      <DisplayName>#Lang(125)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(225)</Help>
      <InterfaceType>3</InterfaceType>
      <CodeInterface>MultiLine(10000)</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(325)</ErrorValidationMessage>
      <RegularExpressionValidation>.*</RegularExpressionValidation>
    </Attribute>
    <Attribute>
      <Name>cssclass</Name>
      <DisplayName>#Lang(126)</DisplayName>
      <DefaultValue/>
      <Visible>1</Visible>
      <Help>#Lang(226)</Help>
      <InterfaceType>0</InterfaceType>
      <CodeInterface>TextField(1000)</CodeInterface>
      <Colorgroup>4</Colorgroup>
      <ErrorValidationMessage>#Lang(326)</ErrorValidationMessage>
      <RegularExpressionValidation>^.*$</RegularExpressionValidation>
    </Attribute>
  </Attributes>
  <Languages>
    <Language Code="en_US">
      <Sentence ID="001">HTML Container</Sentence>
      <Sentence ID="002">HTML Container</Sentence>
      <Sentence ID="003"></Sentence>
      <Sentence ID="501">Visibility</Sentence>
      <Sentence ID="601">Visibility</Sentence>
      <Sentence ID="701">Incorrect value, must be string</Sentence>
      <Sentence ID="801">Incorrect value, must be string</Sentence>
      <Sentence ID="502">Visibility</Sentence>
      <Sentence ID="602">Visibility</Sentence>
      <Sentence ID="702">Incorrect value, must be string</Sentence>
      <Sentence ID="802">Incorrect value, must be string</Sentence>
      <Sentence ID="503">Visibility</Sentence>
      <Sentence ID="603">Visibility</Sentence>
      <Sentence ID="703">Incorrect value, must be string</Sentence>
      <Sentence ID="803">Incorrect value, must be string</Sentence>
      <Sentence ID="504">Visibility</Sentence>
      <Sentence ID="604">Visibility</Sentence>
      <Sentence ID="704">Incorrect value, must be string</Sentence>
      <Sentence ID="804">Incorrect value, must be string</Sentence>
      <Sentence ID="705">Incorrect value, must be string</Sentence>
      <Sentence ID="805">Incorrect value, must be string</Sentence>
      <Sentence ID="706">Incorrect value, must be string</Sentence>
      <Sentence ID="806">Incorrect value, must be string</Sentence>
      <Sentence ID="505">Visibility</Sentence>
      <Sentence ID="605">Visibility</Sentence>
      <Sentence ID="707">Incorrect value, must be string</Sentence>
      <Sentence ID="807">Incorrect value, must be string</Sentence>
      <Sentence ID="506">Visibility</Sentence>
      <Sentence ID="606">Visibility</Sentence>
      <Sentence ID="708">Incorrect value, must be string</Sentence>
      <Sentence ID="808">Incorrect value, must be string</Sentence>
      <Sentence ID="507">Visibility</Sentence>
      <Sentence ID="607">Visibility</Sentence>
      <Sentence ID="709">Incorrect value, must be string</Sentence>
      <Sentence ID="809">Incorrect value, must be string</Sentence>
      <Sentence ID="508">Visibility</Sentence>
      <Sentence ID="608">Visibility</Sentence>
      <Sentence ID="711">Incorrect value, must be string</Sentence>
      <Sentence ID="811">Incorrect value, must be string</Sentence>
      <Sentence ID="509">Visibility</Sentence>
      <Sentence ID="609">Visibility</Sentence>
      <Sentence ID="712">Incorrect value, must be string</Sentence>
      <Sentence ID="812">Incorrect value, must be string</Sentence>
      <Sentence ID="101">Hierarchy</Sentence>
      <Sentence ID="201">Show or not object</Sentence>
      <Sentence ID="301">Incorrect value</Sentence>
      <Sentence ID="102">Visibility</Sentence>
      <Sentence ID="202">Title of the container</Sentence>
      <Sentence ID="302">Incorrect value, must be string</Sentence>
      <Sentence ID="401">Invisible</Sentence>
      <Sentence ID="402">Visible</Sentence>
      <Sentence ID="103">Z-index</Sentence>
      <Sentence ID="203">Distance from the top edge of the parent object in pixels</Sentence>
      <Sentence ID="303">Incorrect value, must be positive integer</Sentence>
      <Sentence ID="104">Title</Sentence>
      <Sentence ID="204">Distance from the left edge of the parent object in pixels</Sentence>
      <Sentence ID="304">Incorrect value, must be positive integer</Sentence>
      <Sentence ID="105">Description</Sentence>
      <Sentence ID="205">Description of the container</Sentence>
      <Sentence ID="305">Incorrect value, must be string</Sentence>
      <Sentence ID="106">Background image</Sentence>
      <Sentence ID="206">Background image</Sentence>
      <Sentence ID="306">Incorrect value</Sentence>
      <Sentence ID="107">Background repeat</Sentence>
      <Sentence ID="207">Background repeat</Sentence>
      <Sentence ID="307">Incorrect value</Sentence>
      <Sentence ID="403">Repeat</Sentence>
      <Sentence ID="404">No-repeat</Sentence>
      <Sentence ID="405">Repeat-X</Sentence>
      <Sentence ID="406">Repeat-Y</Sentence>
      <Sentence ID="108">Meta keywords</Sentence>
      <Sentence ID="208">Meta keywords of the page</Sentence>
      <Sentence ID="308">Incorrect value</Sentence>
      <Sentence ID="109">testFunc</Sentence>
      <Sentence ID="209">testFunc</Sentence>
      <Sentence ID="309">HTML Container</Sentence>
      <Sentence ID="111">Meta description</Sentence>
      <Sentence ID="211">Meta description of the page</Sentence>
      <Sentence ID="311">Incorrect value</Sentence>
      <Sentence ID="112">NoScript</Sentence>
      <Sentence ID="212">NoScript alert</Sentence>
      <Sentence ID="312">Incorrect value, must be string</Sentence>
      <Sentence ID="113">Security code</Sentence>
      <Sentence ID="213">Security code</Sentence>
      <Sentence ID="313">Incorrect value</Sentence>
      <Sentence ID="114">Denied link</Sentence>
      <Sentence ID="214">Denied link</Sentence>
      <Sentence ID="314">Incorrect value</Sentence>
      <Sentence ID="115">jQuery.UI</Sentence>
      <Sentence ID="215">Use jQuery.UI</Sentence>
      <Sentence ID="315">Incorrect value</Sentence>
      <Sentence ID="407">Yes</Sentence>
      <Sentence ID="408">No</Sentence>
      <Sentence ID="116">Positioning</Sentence>
      <Sentence ID="216">Positioning</Sentence>
      <Sentence ID="316">Incorrect value</Sentence>
      <Sentence ID="409">Left</Sentence>
      <Sentence ID="411">Center</Sentence>
      <Sentence ID="117">Style</Sentence>
      <Sentence ID="217">Style</Sentence>
      <Sentence ID="317">Incorrect value</Sentence>
      <Sentence ID="118">testClasses</Sentence>
      <Sentence ID="218">testClasses</Sentence>
      <Sentence ID="318">HTML Container</Sentence>
      <Sentence ID="119">Text color</Sentence>
      <Sentence ID="219">Text color</Sentence>
      <Sentence ID="319">Incorrect value</Sentence>
      <Sentence ID="121">Link color</Sentence>
      <Sentence ID="221">Link color</Sentence>
      <Sentence ID="321">Incorrect value</Sentence>
      <Sentence ID="122">Active link color</Sentence>
      <Sentence ID="222">Active link color</Sentence>
      <Sentence ID="322">Incorrect value</Sentence>
      <Sentence ID="123">Visited link color</Sentence>
      <Sentence ID="223">Visited link color</Sentence>
      <Sentence ID="323">Incorrect value</Sentence>
      <Sentence ID="124">Background color</Sentence>
      <Sentence ID="224">Background color</Sentence>
      <Sentence ID="324">Incorrect value</Sentence>
      <Sentence ID="125">CSS</Sentence>
      <Sentence ID="225">Style sheet of the page</Sentence>
      <Sentence ID="325">Incorrect value</Sentence>
      <Sentence ID="126">Class</Sentence>
      <Sentence ID="226">CSS class for body</Sentence>
      <Sentence ID="326">Incorrect value</Sentence>
      <Sentence ID="901">Description</Sentence>
      <Sentence ID="902">Title</Sentence>
      <Sentence ID="903">Description</Sentence>
      <Sentence ID="904">Title</Sentence>
      <Sentence ID="905">Description</Sentence>
      <Sentence ID="906">Title</Sentence>
      <Sentence ID="907">Description</Sentence>
      <Sentence ID="908">Title</Sentence>
      <Sentence ID="909"></Sentence>
      <Sentence ID="911"></Sentence>
      <Sentence ID="912">Description</Sentence>
      <Sentence ID="913">Title</Sentence>
      <Sentence ID="914">Description</Sentence>
      <Sentence ID="915">Title</Sentence>
      <Sentence ID="916">Description</Sentence>
      <Sentence ID="917">Title</Sentence>
      <Sentence ID="918">Description</Sentence>
    </Language>
    <Language Code="ru_RU">
      <Sentence ID="001">Контейнер</Sentence>
      <Sentence ID="002">HTML Контейнер</Sentence>
      <Sentence ID="003"></Sentence>
      <Sentence ID="501">Z-Индекс</Sentence>
      <Sentence ID="601">Z-Индекс</Sentence>
      <Sentence ID="701">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="801">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="502">Z-Индекс</Sentence>
      <Sentence ID="602">Z-Индекс</Sentence>
      <Sentence ID="702">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="802">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="503">Z-Индекс</Sentence>
      <Sentence ID="603">Z-Индекс</Sentence>
      <Sentence ID="703">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="803">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="504">Z-Индекс</Sentence>
      <Sentence ID="604">Z-Индекс</Sentence>
      <Sentence ID="704">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="804">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="705">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="805">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="706">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="806">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="505">Z-Индекс</Sentence>
      <Sentence ID="605">Z-Индекс</Sentence>
      <Sentence ID="707">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="807">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="506">Z-Индекс</Sentence>
      <Sentence ID="606">Z-Индекс</Sentence>
      <Sentence ID="708">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="808">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="507">Z-Индекс</Sentence>
      <Sentence ID="607">Z-Индекс</Sentence>
      <Sentence ID="709">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="809">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="508">Z-Индекс</Sentence>
      <Sentence ID="608">Z-Индекс</Sentence>
      <Sentence ID="711">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="811">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="509">Z-Индекс</Sentence>
      <Sentence ID="609">Z-Индекс</Sentence>
      <Sentence ID="712">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="812">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="101">Отображение</Sentence>
      <Sentence ID="201">Отображается объект или нет</Sentence>
      <Sentence ID="301">Неправильное значение</Sentence>
      <Sentence ID="102">Z-Индекс</Sentence>
      <Sentence ID="202">Заголовок контейнера</Sentence>
      <Sentence ID="302">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="401">Не отображается</Sentence>
      <Sentence ID="402">Отображается</Sentence>
      <Sentence ID="103">Верх</Sentence>
      <Sentence ID="203">Расстояние от верхней границы родительского контейнера до объекта в пикселях</Sentence>
      <Sentence ID="303">Неправильное значение, должно быть целое положительное число</Sentence>
      <Sentence ID="104">Заголовок</Sentence>
      <Sentence ID="204">Заголовок контейнера</Sentence>
      <Sentence ID="304">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="105">Описание</Sentence>
      <Sentence ID="205">Описание контейнера</Sentence>
      <Sentence ID="305">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="106">Фоновая картинка</Sentence>
      <Sentence ID="206">Фоновая картинка</Sentence>
      <Sentence ID="306">Неправильное значение</Sentence>
      <Sentence ID="107">Повторение фоновой картинки</Sentence>
      <Sentence ID="207">Способ повторения фоновой картинки</Sentence>
      <Sentence ID="307">Неправильное значение</Sentence>
      <Sentence ID="403">Повторять</Sentence>
      <Sentence ID="404">Не повторять</Sentence>
      <Sentence ID="405">Повторять по X</Sentence>
      <Sentence ID="406">Повторять по Y</Sentence>
      <Sentence ID="108">Ключевые слова</Sentence>
      <Sentence ID="208">Ключевые слова документа для поисковых систем</Sentence>
      <Sentence ID="308">Неправильное значение</Sentence>
      <Sentence ID="109">testFunc</Sentence>
      <Sentence ID="209">testFunc</Sentence>
      <Sentence ID="309">HTML Контейнер</Sentence>
      <Sentence ID="111">Описание</Sentence>
      <Sentence ID="211">Описание документа для поисковых систем</Sentence>
      <Sentence ID="311">Неправильное значение</Sentence>
      <Sentence ID="112">NoScript</Sentence>
      <Sentence ID="212">NoScript alert</Sentence>
      <Sentence ID="312">Неправильное значение, должна быть строка</Sentence>
      <Sentence ID="113">Код безопасности</Sentence>
      <Sentence ID="213">Код безопасности</Sentence>
      <Sentence ID="313">Неправильное значение</Sentence>
      <Sentence ID="114">Ссылка при отказе</Sentence>
      <Sentence ID="214">Ссылка при отказе</Sentence>
      <Sentence ID="314">Неправильное значение</Sentence>
      <Sentence ID="115">jQuery.UI</Sentence>
      <Sentence ID="215">Use jQuery.UI</Sentence>
      <Sentence ID="315">Неправильное значение</Sentence>
      <Sentence ID="407">Yes</Sentence>
      <Sentence ID="408">No</Sentence>
      <Sentence ID="116">Позиционирование</Sentence>
      <Sentence ID="216">Позиционирование</Sentence>
      <Sentence ID="316">Неправильное значение</Sentence>
      <Sentence ID="409">Left</Sentence>
      <Sentence ID="411">Center</Sentence>
      <Sentence ID="117">Стиль</Sentence>
      <Sentence ID="217">Стиль</Sentence>
      <Sentence ID="317">Неправильное значение</Sentence>
      <Sentence ID="118">testClasses</Sentence>
      <Sentence ID="218">testClasses</Sentence>
      <Sentence ID="318">HTML Контейнер</Sentence>
      <Sentence ID="119">Цвет текста</Sentence>
      <Sentence ID="219">Цвет текста</Sentence>
      <Sentence ID="319">Неправильное значение</Sentence>
      <Sentence ID="121">Цвет ссылки</Sentence>
      <Sentence ID="221">Цвет ссылки</Sentence>
      <Sentence ID="321">Неправильное значение</Sentence>
      <Sentence ID="122">Цвет активной ссылки</Sentence>
      <Sentence ID="222">Цвет активной ссылки</Sentence>
      <Sentence ID="322">Неправильное значение</Sentence>
      <Sentence ID="123">Цвет посещенной ссылки</Sentence>
      <Sentence ID="223">Цвет посещенной ссылки</Sentence>
      <Sentence ID="323">Неправильное значение</Sentence>
      <Sentence ID="124">Цвет фона</Sentence>
      <Sentence ID="224">Цвет фона</Sentence>
      <Sentence ID="324">Неправильное значение</Sentence>
      <Sentence ID="125">CSS</Sentence>
      <Sentence ID="225">Таблицы стилей для страницы</Sentence>
      <Sentence ID="325">Неправильное значение</Sentence>
      <Sentence ID="126">Class</Sentence>
      <Sentence ID="226">CSS class for body</Sentence>
      <Sentence ID="326">Неправильное значение</Sentence>
      <Sentence ID="901">Описание</Sentence>
      <Sentence ID="902">Заголовок</Sentence>
      <Sentence ID="903">Описание</Sentence>
      <Sentence ID="904">Заголовок</Sentence>
      <Sentence ID="905">Описание</Sentence>
      <Sentence ID="906">Заголовок</Sentence>
      <Sentence ID="907">Описание</Sentence>
      <Sentence ID="908">Заголовок</Sentence>
      <Sentence ID="909"></Sentence>
      <Sentence ID="911"></Sentence>
      <Sentence ID="912">Описание</Sentence>
      <Sentence ID="913">Заголовок</Sentence>
      <Sentence ID="914">Описание</Sentence>
      <Sentence ID="915">Заголовок</Sentence>
      <Sentence ID="916">Описание</Sentence>
      <Sentence ID="917">Заголовок</Sentence>
      <Sentence ID="918">Описание</Sentence>
    </Language>
    <Language Code="fr_FR">
      <Sentence ID="001">Conteneur HTML</Sentence>
      <Sentence ID="002">Conteneur HTML</Sentence>
      <Sentence ID="003"></Sentence>
      <Sentence ID="501">Visibilité</Sentence>
      <Sentence ID="601">Visibilité</Sentence>
      <Sentence ID="701">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="801">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="502">Visibilité</Sentence>
      <Sentence ID="602">Visibilité</Sentence>
      <Sentence ID="702">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="802">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="503">Visibilité</Sentence>
      <Sentence ID="603">Visibilité</Sentence>
      <Sentence ID="703">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="803">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="504">Visibilité</Sentence>
      <Sentence ID="604">Visibilité</Sentence>
      <Sentence ID="704">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="804">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="705">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="805">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="706">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="806">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="505">Visibilité</Sentence>
      <Sentence ID="605">Visibilité</Sentence>
      <Sentence ID="707">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="807">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="506">Visibilité</Sentence>
      <Sentence ID="606">Visibilité</Sentence>
      <Sentence ID="708">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="808">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="507">Visibilité</Sentence>
      <Sentence ID="607">Visibilité</Sentence>
      <Sentence ID="709">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="809">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="508">Visibilité</Sentence>
      <Sentence ID="608">Visibilité</Sentence>
      <Sentence ID="711">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="811">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="509">Visibilité</Sentence>
      <Sentence ID="609">Visibilité</Sentence>
      <Sentence ID="712">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="812">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="101">Hiérarchie</Sentence>
      <Sentence ID="201">Afficher ou cacher l'objet</Sentence>
      <Sentence ID="301">Incorrect value</Sentence>
      <Sentence ID="102">Visibilité</Sentence>
      <Sentence ID="202">Titre du conteneur</Sentence>
      <Sentence ID="302">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="401">Invisible</Sentence>
      <Sentence ID="402">Visible</Sentence>
      <Sentence ID="103">Z-index</Sentence>
      <Sentence ID="203">Distance depuis le bord haut de l'objet parent en pixels</Sentence>
      <Sentence ID="303">Valeur Incorrecte, doit être positive</Sentence>
      <Sentence ID="104">Titre</Sentence>
      <Sentence ID="204">Distance depuis le bord gauche de l'objet parent en pixels</Sentence>
      <Sentence ID="304">Valeur Incorrecte, doit être positive</Sentence>
      <Sentence ID="105">Description</Sentence>
      <Sentence ID="205">Description du container</Sentence>
      <Sentence ID="305">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="106">Image de fond</Sentence>
      <Sentence ID="206">Image d'arrière plan de la page</Sentence>
      <Sentence ID="306">Valeur Incorrecte</Sentence>
      <Sentence ID="107">Répéter l'image de fond</Sentence>
      <Sentence ID="207">Répéter ou non l'image d'arrière plan sous forme de mosaïque</Sentence>
      <Sentence ID="307">Valeur Incorrecte</Sentence>
      <Sentence ID="403">Répéter</Sentence>
      <Sentence ID="404">Ne pas répéter</Sentence>
      <Sentence ID="405">Répéter-horizontal</Sentence>
      <Sentence ID="406">Répéter-vertical</Sentence>
      <Sentence ID="108">Meta keywords</Sentence>
      <Sentence ID="208">Meta keywords de la page</Sentence>
      <Sentence ID="308">Valeur Incorrecte</Sentence>
      <Sentence ID="109">testFunc</Sentence>
      <Sentence ID="209">testFunc</Sentence>
      <Sentence ID="309">Conteneur HTML</Sentence>
      <Sentence ID="111">Meta description</Sentence>
      <Sentence ID="211">Meta description de la page</Sentence>
      <Sentence ID="311">Valeur Incorrecte</Sentence>
      <Sentence ID="112">NoScript</Sentence>
      <Sentence ID="212">NoScript alert</Sentence>
      <Sentence ID="312">Valeur Incorrecte, doit être une chaîne de caractères</Sentence>
      <Sentence ID="113">Code de securité</Sentence>
      <Sentence ID="213">Code de Securité</Sentence>
      <Sentence ID="313">Valeur Incorrecte</Sentence>
      <Sentence ID="114">Lien refusé</Sentence>
      <Sentence ID="214">Lien refusé</Sentence>
      <Sentence ID="314">Valeur Incorrecte</Sentence>
      <Sentence ID="115">jQuery.UI</Sentence>
      <Sentence ID="215">Use jQuery.UI</Sentence>
      <Sentence ID="315">Valeur Incorrecte</Sentence>
      <Sentence ID="407">Yes</Sentence>
      <Sentence ID="408">No</Sentence>
      <Sentence ID="116">Position</Sentence>
      <Sentence ID="216">Position du container à l'intèrieur de la fenetre du navigateur</Sentence>
      <Sentence ID="316">Valeur Incorrecte</Sentence>
      <Sentence ID="409">Gauche</Sentence>
      <Sentence ID="411">Centrer</Sentence>
      <Sentence ID="117">Style</Sentence>
      <Sentence ID="217">Style</Sentence>
      <Sentence ID="317">Valeur Incorrecte</Sentence>
      <Sentence ID="118">testClasses</Sentence>
      <Sentence ID="218">testClasses</Sentence>
      <Sentence ID="318">Conteneur HTML</Sentence>
      <Sentence ID="119">Couleur Texte</Sentence>
      <Sentence ID="219">Couleur par défaut du texte de la page</Sentence>
      <Sentence ID="319">Valeur Incorrecte</Sentence>
      <Sentence ID="121">Couleur liens</Sentence>
      <Sentence ID="221">Couleur par défaut des liens de la page</Sentence>
      <Sentence ID="321">Valeur Incorrecte</Sentence>
      <Sentence ID="122">Couleur Liens Actif</Sentence>
      <Sentence ID="222">Couleur par défaut des liens Actifs de la page</Sentence>
      <Sentence ID="322">Valeur Incorrecte</Sentence>
      <Sentence ID="123">Couleur Liens Visités</Sentence>
      <Sentence ID="223">Couleur par défaut des liens Visité de la page</Sentence>
      <Sentence ID="323">Valeur Incorrecte</Sentence>
      <Sentence ID="124">Couleur de fond</Sentence>
      <Sentence ID="224">Couleur d'arrière plan de la page</Sentence>
      <Sentence ID="324">Valeur Incorrecte</Sentence>
      <Sentence ID="125">CSS</Sentence>
      <Sentence ID="225">Style sheet of the page</Sentence>
      <Sentence ID="325">Incorrect value</Sentence>
      <Sentence ID="126">Class</Sentence>
      <Sentence ID="226">CSS class for body</Sentence>
      <Sentence ID="326">Valeur Incorrecte</Sentence>
      <Sentence ID="901">Description</Sentence>
      <Sentence ID="902">Titre</Sentence>
      <Sentence ID="903">Description</Sentence>
      <Sentence ID="904">Titre</Sentence>
      <Sentence ID="905">Description</Sentence>
      <Sentence ID="906">Titre</Sentence>
      <Sentence ID="907">Description</Sentence>
      <Sentence ID="908">Titre</Sentence>
      <Sentence ID="909"></Sentence>
      <Sentence ID="911"></Sentence>
      <Sentence ID="912">Description</Sentence>
      <Sentence ID="913">Titre</Sentence>
      <Sentence ID="914">Description</Sentence>
      <Sentence ID="915">Titre</Sentence>
      <Sentence ID="916">Description</Sentence>
      <Sentence ID="917">Titre</Sentence>
      <Sentence ID="918">Description</Sentence>
    </Language>
  </Languages>
  <Resources>
    <Resource ID="135aaf50-6055-4db3-8c14-7d9ac93dd30f" Name="Icon" Type="png"><![CDATA[iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAFpZJREFUeNrUW+tzG9d1/y12sXgRJEiCT5EUXyL1cGzqLduxREeJx47tsZ0mbfOlcaYzTdt8SfsPOJ7p92Y67Uw/ZGJnph/qZiJ5aseJ4jaS7Fi2bEWRaErUg6RIEXwCIEHi/dhFzzm7C4KUZFOO3aaQrxdY7C7u7/7O+Z1z7r1U8AW/nn322W46VLfq15TT3njjjakvsh/KFwBsiA7PUztGbdgwDGQyWRilErJ0rH75/D6omgY/H1WVT52hdpba6wT80h8dUJu1F6l9p5AvdCeTSSRWVunhCjQC0tTcJNeF6urg1t3yvlgoIrG6Ku+jS1GUaCDK9C9UX4dgMAjdozPDP6X26ufBtvI5AHyJQcZjccRjy9LJbe3taGpqgj/gv6/nZdIZRKNRzM7NgQerMdxArZG/epXay38IYOUzAgzZAH/AAGNLMbS1tWHHjh33De6TQN+8eRPz8/MIN4cdwD+yASe+cKAEcpgOrySTqe6pySm0E8CHhh6C2+3e8jPK5TIUZWs/XSwWcfnSZcwR4O7ebrKYGmb1uwT2zP30W71PkP9I4vKvs5G5UDwaw+HDh4RFW0i2AlF8sVgqwCybcLlcnwqYn92+rR0NDQ24PnYN2VwuVFMTeHHnzp3KjRs3znyujNqm+gqp5/PTxKKue3Bs+Oh9scjqWyoVobgUuDUdhmmIEjMQFqytdIXZPXvmHRQKeWwndkmtX7fZTfzBQG2Qpwnk0I2xG+js7LgvUy0Tc0UCyObq1tzEorrBhBm8aZoE1r0ly3BMeWYmgoFdAwyWw9DjnwZW3QpIEpyh8evjqKPwcPjI4S2CdMy0SAA06HSPorg2jjKZLYNjEy4ZDNj4VHPm6zlczc8vYH52nsNVq9/vf3JwcPA1MuXcve5zfUpv2VyHZqYjAm6r5spmms/nxQ89uhea+smmyeD4OmY7T2bJLPNA3evl9IXvm5qc5oSEk5RXPhOjLDz0gBfZXLnjR4jJUCi0BTMtCDPcGTbHraqrA5jZN8ySWAPfy+fuxWwtxWw24ZX4CmpDdTsfeGDPPQVKvVcIYXWdvDlBjl+Q4P+lBx/4g8x0y+oo5qwRQOVTzTlYG6QEI4ZUKoVMKo2GxoZhUuOzBHbqU4HafvlLDiGcxvHr4KEDCAQCd+3YiZMn0NvbK5apuz1QyfxOnDyJcFMYp06dwti1sQ0tGoti+/btch/f0xRuqjxrLbmGX7z1C7m3JlAD6rAAqQvVVRjf7AIBSlCmp6ZJpErkKmXSkdph8tefbvZX7S59f4mTgaWFJSs/JXNlRu+lppFZy3+r1ZTPMYBvvPAN6diJkz/H4UOHsW1bBxxi2IcvXbqEXTt3V6yCP/N5ypflDKeB/GL/ZZfg7zarM/eN+5hIJMB9DtWHuimp4Kzt7+4pRnbu+gPOeJwXB+s7zbQoouGAWwepVEacTZcZEBbolCL+t37O4/VIiy/H4ZLzKuW4s+jr6xNmq5ljs2Vr4QFlcy4U8zLQd+uj3fcf2FjuyehLnLs6I2qNWPiuQZ9H2fGb2dlZ7o3VNfscg7IQQqoYAWgzEV1aknP9/f0YGxtDS0sLJsbH0dzULM9Mks8xeH5fLjsDWJbB8OgcigwZaGZX43BT1UfuO2Og3JhZ/e4djDql1hzFpuqXo7Q8ijyaPKo8usyYIzhz83OYIzZm7aM8mDogWQ+DY4FhRl3WZzZ5BjE4MIiJiXE5NzE5QenkgGUJ9vWWVSg2487vuSRc8UCzUDHgzdHAxvBiNavVjL64mU0nZvGLsxevxys/xD8uDNrsPfLIo8KQYp879/45AekwzJdZoUO136tCUn19A7xeL2KxGGYiM3jm6WfofVRYtBIJi1EeIM6iqhv1SAY8l89Waty7sMo18g83++h3uJ68t+xzU21wlimqtm/yUVWd5qrEOQ4TmmrdIwxrqhz53vpQvXze3t2NCxcviBLzPT6fT0Kay76PWeRnin+zObsUuy+fnEHZWL6zwXR5+kNmBtaSd02HxWQUy4Q0zeqoNaqoArXexFSqPjPbbIqabcozM7eJzXp5v29oL0ZGRkh9d8m1XNcuRZesAaJ7WJgipAHSiHVOmNgiZNBcasWKNr8YC2Oyp3asOEpx569JnoeduFmtdh0dHZQ4+0mIilaaJp3VpFMO2J6enkrOKj9Oo97b01tRWf7c3t5ORXmgEvzZbBsaGyW74c+HDh6qsOQjc2bAPEAcUhKJFWmcGPR099jPsEjgsJNJZ3Fr8taGweeXP+Djvi9ytuT46LHNIJ0wkMvlhEnYCbh0hgWCjuwbw8eGUaKKQnFTCKDPzMLxrxy3fday+QP7D1bUl187+ndUQhX37avHvyqZLXc03NqARqo9+X03DSAPEKu9222lk5wUlEkvzDI/35S+cB+ZYcVQREscwIyJ/PRYtRgNZzKZTTmnKgCXFpfQ1dUpSshssUAwGJftP26qJT0eD6lfgYQhLz7GjFt+pNwRdpQKxErmYb2no1pnYG1vDMWLAeiLup0gaCJY3HeOnQpfz880yzC5T/TEpaUl+U2qcOU3eWAYrI1pWICyBPMXrFROEu0A5RYlf7F8wRIEC6RrI2A66routWKeRresl+Hze+U6B2wFZLU/VYGEu4zahzMwim7c9ERR56lFvdYgfeEqSNTWZICmABQ2TQijPIvIjIrVGEolSjAmxsYYmdFunnd1QDpMOkDZVObm5ijfDFqK6cQ212bQCjQyLy8xyiOZpiSbfZLZroSZO3Is+//0n3coiUyC/G2STtUASz1L0G/pCMXq4TJd0nHTFh5hE9YATk9PyyCIFdE/ZnXDJBtho5TQAmqUjA0gHbFR7ZAwOTGJfQeHJIw4jFttI6t8DJgFhAM6luEW8ShRsl1LVYaVCt4FKv1XrEkhPrcK1etCeMiHBVZ/KkkjnRFhqSHeSGDZ/wgwM2n7JrN3jTKrmkDIVt87y17TEOAWUEdwNoDU1tW1WCzIA48+1mL7KV9rCVKARrCjsIb6Uga1hTR8xRxK5DklbwDLbj+mMmuIplbgp7jp9QdQ9PjWO0EsrWUSKATjqGlVEdimQne5EUwHkcllZBAirRHyyTKa4k0Ejs3VAshmOzE+wZNlCNVpVSA3Is1lc1z9CFCrBqwO+jZIjpkc9Pnz9WvX8NCD+zDQGESfsYamQg4NBE6nsFOkDpWYGdM6GuRTqteHJl8A4QYPiCvcXElBXUmjx6uhRBnNzFIcC5yA7FPQsJPqT41FpIycSR3TAlg0bNumNh+eh6EYaItTyFGsqdJELCHlGQ+6TK4pd58CU+zCXYC67NChVfJTGyQ9YL8rjQPlJM6Ycbx87p+hHTqOUrBeAAk4aqbdJDGz3yscirgDlHjX6R7sra3D+Nwirq2mUM7GRLhqHg9AGfTIUgSDdLSq3kP1ZxVQ/j4ZTgrYzuUu8v8UroyO0qM1EUGzbAhY5S5u4bLdRXNQV1I2zWKUQTLgv0+OIkCCNsIKV6Cq//1fwzj8BEwCK6CwESB/dvlr4PL6UVbdMDjsUClWoIDflMsiRwBuFSmB2OPBWr+Osg3QLnTg1fz0AG0jUBIbXdNRaihhJH0ZyZGkjAiD8+hWgWFNmW4UOBZzh1H+/5TP561K4SyAFqsa0vSDKyQMGerQUr6MVRKEwvXLEs9ctQ5Y6qJbhxIIQmtshqumFiVSXiOdRDkRh7IShUI+R0FC/NJVp2Dl4SCxaMIwrWYaHCPJhKk1+OrJXGA1w2pZGiQ+fpj6EOfD56VvHMOdtFSr6rdaJaZeqnkZIw/D1OZcVdXWGzNguCwzzbIPknMX52bgXvg3+B44gMajT8MIb0PBE8BaZBpKTR3XaMjOTiM1f9sycdPqc4GOvHCY7PXARQOncNPWY6xXpU6VqSjnOSM7pDAzBUrzLs5dRFAPot3fDnevGx8Y7+Pg8kEr75VJcFVMvPLPrnLs3NsCqnt0u0KwAVb8VENOIfEwShZQAl1i0AoLDh0/voD85DV4Bx+Et3sAwWf+AuP/+TPk06mKDzPILB1TdEOa3s9t8yJX0uGaJXOsoUyGnsdhRfW44FOD4lO6qqO9ph2RlQgmohMYiYwglUvhke5HRHX7Qn0IDARw/up5tKhNtmBqdvKBDeUcYxOgvBRHmYMsMygVUdJs5VVRqm1AKRGjThsWo2ULLCcgblZYjpUXz0G/PoJA1yCyK8swyYz5OmZwhQAukzmu1HehbvdetBl5DAYDaGnvwszsEmbTN5FQJhBsLiNYG0KhnEMiF8P88jxOXjwpAB0h4LDiIvNisAPhAXj3ePH+jffQrLUKKQ44J5Ny2UkQY3Ry3TMerz5s0PBXs8qjVCBBcQUJ7HJ0ndGyBdR5L0cCjJtXcPuN16C2dqLc0IJEfQtiBFAZOoqvPU7FOZnZ1K1xMdTm5haZOtlf3o2J23P45flT8JamkAuuYSETgVHySsJhKZ0FlM25Guye1j1Y257AxeTv8LD2KDTTBmtagF1WQX6mOqk/6/V5h7OZXMVPnVBTcOnwt7eiNBWlGGeZrGEzKnqhrINVVhPCYp7qxpuTt3FBacbYg+34h2f7MHo7QTbqxo1rnO24kPRso86TCJH/FfMuKrVa8OOfvI1n/6wOC5hFh/egZEeO8urUDwFpWiD5yK0p2IT67kZ8cPN9HDAPQi2rApT9m8iDvVWgAvR1KrleKuSLm9RXFUb9xGjZ4yfTzW4AVjna56hoBAkzmSs5heHF2+FD2NPSjclYnnpqxdRby0UOsnAlVIupkj1ivkZcuxVC2+kc1vbcQnvtvg1AuYIRJh2wkh1Ro3Jt//Z96GzvxGtvv4YDroMiaqapSpxlbJUZBt4YQbY8xfWkZEgutSJORQJqUkzUQo0gvsV82VedI6uyNHqfiseE0XnKIj7096NQ04axmIIrCyXyRQ9mcz6slNxI0KgvmW4sFHU656Xv3Dg9ToVFTQs+vEyMrPgIY84CareAK3Ano6TQDHRqYRrvXHpH0sZzxfeQdeXg9vBcs2vK2fRRPWf0Uy6knZzXYbZIJsNASb7g7d9dAZmzjxlzHfhaLCpAE/T+RnCQWGpA3l2PE6M5/HZOwQIxs6ZRlkMqFveUESMXGkuX8doVAzM5Kln8YVLmEOau+6EzG1VAQ57Quo+aFsDYcgyXxy/j57/8OfKreQpLHvjLfhSVgoQbe7PHHbOArxLAl5yZBGe6skjmVqaclbMcb2cvBfcy1q6Piq+6Xes+KyFnbU2ARtR6GFRPKtTgC6GohzBJXywmqTNmCT63iri7hJVkCWmqbrJetwwKsgm6J4h8pg6ZQmqD6da6aysgeRvPR6MfYfzaOLqVLrS3tmM+Po+9dWTCgQ6Ku0VJC+1NHhvnde0dH68qLmeGz5pwLlE1oVAlwv5lkp96u/oQ3LPvrmacIR8vcLxV2B+9NBJUqVAF4yL/0oOUpdTTANbSTzYSI20avM2UwoWoYqmh3/JY10Ijsy0EMLN8m8KXW8AySAZoFAyMjo/ixJsnqGLqwJMPP4nF1AJqyBq+1fWn2BHstybJrRxkw7adzUteL3NJa00aqwI2SQV0gfM8jUedmCUz1ts6UTd0CHnKSavBsq8W7FjL2ZHVuDIhIDpZipfyU59LAPvCKtwBThQU+U7RrGutZlDqmaJioK5itrPzs3j3w3ehx3V86+i38PHqx7h6/SoebHwIQ01D8NnrqzKvZAqbL99z7cUegR9xyuUsIdz4+GO89eoruH3zBq5euoRUOiNgOacNEdiC5lkXJtMCGiqlJXQ4TeIaoTdJpAyivJAykV+jHJckmixZvitLumdIUwNFRLOLKGaLVgE+G0FiLoHhXcOIlqM4/fvT+Hrv03hu4DlonB9XTQbki7KI9qPNe5LuWDYcHBw8T8H2z8k/Q5wQa5TBMLNZqtSvxlcosS9hNZlGZGoKQUqvAs1tSJEIcSXPJdsq9VWnzl4mMzIpZID8tOwOEpskdDrlr9HbArgc6KSqhrKtuIEctUKCCu10VFqg+zRZTwr5W2WUciUq27ho92I8Mo5j/cP45r5vIjoXxdi1KwhRQd9EiQe/0pk0zwgywG9vXja8AyhfQGAvl0rFF31UPHsbGuHp6UcnFd3+plbcujWJElUle3btwuTyKtZIgNK5PMxCXsLiGjFUIl+GqiDi64TCfqd6YSo+yYgMAspMlvRtAjQXY6BFlJMEMrUIr28UtR2jyBs5pMYLIkCZbAZH+o/gr45/Dz6KzxcunJd6dmBgJ9rbtlkzCTz/u7rCGdELxOa1La1484rxwMBAiB52JEgllyzTk9zXh8Po/9IQ1shXL8+RCFDR2xYKwUuymCYl5PndFDEaaGnFl594HFOoRSxZFL8zKT3jGT4zNgMjR+br2oY8A12mAUrGCSQ9r7SM7z3VAFNLIZKKID9fxN62ffj+09/HruaduPi7C5idnUFf3wAGdgxKfs4mz4vAi0sLvOrOu8peve/tN5Tsn/R4PM/39fRJJc8P5qRC93iQTK5iZOQSZSw+PPrIl+GLLyJ94yp82/vQ8/gT8AYokyqa+Nt/OYvrKxqjpzjZCCU+RokRhaxth1EuUsaUXyW5jiNoLOOHf7IDh/oaZe0lsjqDuYV5dNV14YMPzuH27Sl0d/eiq2s7DRoNFC8YF4rIEtuTZGW5fI53hL7wmbbfkAmfMgzjSRqp1traOmHWTczytGZtba2sVvMS4MXf/w6uUAN2fe3raKFzPBB8bY3fh2cf7sfK8grGJinHLeWgrM2QwJCgKW7bJxexs6GEf/rLAxjqaawk5X7Vj5mbt/HOO2dkr8KRQw+jtaXNMn+eoOZ5WwI6OxehyJDk7OeFT9p+s+UNVX6ff2jP7j3w+f0yV8vM8jQGg2J/+eijD2Rp4LHHjmFgcNC+RqdrdDnOLqfxqwvTOPXfp5EjMart2I29vWHsJwYf290qLPJsPx9vTU7i7f/6tYjg3r37RXCKBWtp37kmk05jZHSE55C3tKHqvrbIBQKB53cO7pJ9eR6PXgHqgFogU3vv3LtiXsePfxXhcBO8/J1Ht01fx2/ffUfmcY4eHZZpVGfPAh95I8dbb72JhfkFHDx0GN3beyxwYqYFMVde+I3Hl3H16hUKdaktb5Hb0m5FNglqr/X09CjR6NIwVzWNpMbOPj6ZSKMWJrF68EsPycrX2bOnBVhnR6cImWX2bkRmIlLv8qqYzL5T45n9M2d+gzfffIPcZScN0tcQbgyLifL3cqTGx0lie/TKKPskC8/ffJK5fubdnbz8tmPHjrOxeGw4vhwPceHMSxCaDZSBM7u9vX2y3MgqOTJyWeIcWwF/Pz1txfGu7d3U8RLOnXsPP/uPf5eVueee+wYJTo/ktoYNjPcv8ZHD2DkSpenb01ME/oV7qevnAtQJPbyPJ5vNescnxo+kyVcaGxtlFa16gi1UX4+9+/aT32bxm9+8Db6ug9jlxVxO0bjzP/nJjxGNLuKpJ5/G/v0HxTIEWMkCyG2Vivnz58/j/IfnmXnemPztu8XJ/7Wt5hR30d+3g5Xa8lnbL1mMaFDwq1NvyV4FZpYXhng95tFHH8M+EhtZhbNFxvFZ3nzFO7CvX7/2f7fV/JP+eIDCTvd2EqOdlDmx+TY3N1v+SWxNTI7j9ZMnRJW//tQz1r4h3lpHQJeiUczMzGBs7KoMxOrq6h/PHw9s5c9BeApElvUpLHXIzjFrSp7j5WxkVtI7XpZk1v/o/xzk/8Mf+PyPAAMA1h52NxfieK4AAAAASUVORK5CYII=]]></Resource>
    <Resource ID="67a38932-aa05-4c6c-9b20-0398c6a53333" Name="Icon" Type="jpg"><![CDATA[/9j/4AAQSkZJRgABAgEASABIAAD/7QUaUGhvdG9zaG9wIDMuMAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQNAAAAAAAEAAAAeDhCSU0D8wAAAAAACAAAAAAAAAAAOEJJTQQKAAAAAAABAAA4QklNJxAAAAAAAAoAAQAAAAAAAAACOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBBQAAAAAAAQAAAADOEJJTQQMAAAAAAOKAAAAAQAAABgAAAAYAAAASAAABsAAAANuABgAAf/Y/+AAEEpGSUYAAQIBAEgASAAA/+4ADkFkb2JlAGSAAAAAAf/bAIQADAgICAkIDAkJDBELCgsRFQ8MDA8VGBMTFRMTGBEMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAENCwsNDg0QDg4QFA4ODhQUDg4ODhQRDAwMDAwREQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgAGAAYAwEiAAIRAQMRAf/dAAQAAv/EAT8AAAEFAQEBAQEBAAAAAAAAAAMAAQIEBQYHCAkKCwEAAQUBAQEBAQEAAAAAAAAAAQACAwQFBgcICQoLEAABBAEDAgQCBQcGCAUDDDMBAAIRAwQhEjEFQVFhEyJxgTIGFJGhsUIjJBVSwWIzNHKC0UMHJZJT8OHxY3M1FqKygyZEk1RkRcKjdDYX0lXiZfKzhMPTdePzRieUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9jdHV2d3h5ent8fX5/cRAAICAQIEBAMEBQYHBwYFNQEAAhEDITESBEFRYXEiEwUygZEUobFCI8FS0fAzJGLhcoKSQ1MVY3M08SUGFqKygwcmNcLSRJNUoxdkRVU2dGXi8rOEw9N14/NGlKSFtJXE1OT0pbXF1eX1VmZ2hpamtsbW5vYnN0dXZ3eHl6e3x//aAAwDAQACEQMRAD8AyusdY6xR1jOxcXOyMXFxci3Hx8fHtfVWyup7qamNqpcxn0GIuJlfWLJxH309XzH2VmHUfaLd22PpD9IlmO6dX17rBzqn2zm3+nsMR+lt3T761f6T+y7Mjdh49rHtHueSdoB/e/Su+ks+c5GZue5PXVypzkZkcdakVZtq9F6r1XI6riYuXmX5WNk3MovoyLH21vrsc2uxrq7XOb9FySsVHEs+s/T34w/7V0eo8fRc71Ge5o/79+ekme7Lg4eM1x99NmP3JcHz/p8PFfg//9Cp1XovVcnquZl4uJdk42VfZfRfRW6yt9dr3W1ubZU1zfoPU6cH6x1YhxG9Oym1uMuIosDjP5u7b9FeZJLLy+3xzrj3Pb5XFy+3xz+fc3w1/hPqfS+l9Tx+p4mVlYl2NjY1zL77763VsYytzbLHOssa1v0WpLyxJD9R7H6d8f8AVquFZ+o9j9OuPwu6f//ZOEJJTQQGAAAAAAAHAAgBAQABAQD/4gIkSUNDX1BST0ZJTEUAAQEAAAIUQURCRQIQAABtbnRyUkdCIFhZWiAH0QADABoACQASADRhY3NwTVNGVAAAAABub25lAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLUFEQkUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApjcHJ0AAAA/AAAACRkZXNjAAABIAAAAGB3dHB0AAABgAAAABRia3B0AAABlAAAABRyVFJDAAABqAAAAA5nVFJDAAABuAAAAA5iVFJDAAAByAAAAA5yWFlaAAAB2AAAABRnWFlaAAAB7AAAABRiWFlaAAACAAAAABR0ZXh0AAAAAChjKSAyMDAxIEFkb2JlIFN5c3RlbXMgSW5jLgBkZXNjAAAAAAAAAAVzUkdCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYWVogAAAAAAAA81EAAQAAAAEWzFhZWiAAAAAAAAAAAAAAAAAAAAAAY3VydgAAAAAAAAABAjMAAGN1cnYAAAAAAAAAAQIzAABjdXJ2AAAAAAAAAAECMwAAWFlaIAAAAAAAAHRLAAA97QAAA9BYWVogAAAAAAAAWnMAAKx0AAAXM1hZWiAAAAAAAAAoGAAAFZ4AALgq/+4AIUFkb2JlAGRAAAAAAQMAEAMCAwYAAAAAAAAAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAQEBAQICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//CABEIABgAGAMBEQACEQEDEQH/xACRAAEAAwAAAAAAAAAAAAAAAAAGBQcIAQACAwEAAAAAAAAAAAAAAAAFBgEHCAMQAAMBAQADAQAAAAAAAAAAAAUGBwgEAQMJAhEAAAcBAAMBAAMAAAAAAAAAAQIDBAUGBwgRExQSABUJEgACAgEDAwMDBAMAAAAAAAABAhEDBBIFBgAhMUEiFTITFFGBQpIjJBb/2gAMAwEBAhEDEQAAAMC5mxK/rxDdyHA8ymsgKxFBFynXt1Q1lWtjFJ//2gAIAQIAAQUAp9Pb/e4fhweSI+cVygDX51JAvS5BSS10EhBoMSqtcnD+NoPWq0zwHj0epXdSv//aAAgBAwABBQCg0NhXGH1vlJLCkeqOxZ0oZdb56AumFHqLAWEAWtdTR3Qs79qTYPAGSyWghqF//9oACAEBAAEFANe692IibDlFM+idVlWMNUampWqbD351Xt5ZR/OX2d/VOqUMH061LjPVFO1Kmwz6NqsqzFmLS030t//aAAgBAgIGPwDkGVlb9kPlvkWFnNjambUe579z1l5uByTIbIqbvSLbNemJ1CG7n9Fj3QYJaFPD8rC5RmLkfJY6g/dcxrtVCRLEAgN2PoeuULvWJbd/tOE0EiId9UxYnn2x58Hx6n4bacqu5FOqwsdCg+j/AOdgdRHZdLEkaohSy8R+HWR8tiixwfZY/wCRXLII/s4MWH3AfzflGFlcO3L8hMy2QuPa8S5IBKKwmD3EyOsjZcTh25pi2uWcrh5AdgQAVLaPpMCe0kDSTpJU8KxMThW5m87njsA2PagIS1HYBnRRMKYEyT2HX//aAAgBAwIGPwDc9m2bcrMbbsWxqq66mKIqoSqgKpA8DufJPc9+s7P2vluW+XQ/uoW60WaInUsN3J7wse7SwUlwEPFtm3bfsjL2rO3DHxrqbrHtreq+1KnBR2InSxKtEq0EGR1zOvkGDdePzbBX9skaYssDzFtfn2x58Hx6n/n9izasitSXtLMK0UjsHnIYHURCrpYkjVEIWXgp2FZX5vCFtikfbts/Lqlq1j9mcHTY3uC+bLN/3XZuLbhm7Vl5Nl1V2Pj3X1PXa5dCtlSMs6WErMqZVgCI6yuPYPAt4rwbrCzsuBlCxwQAUZhX9BAEiNRA0FtBKniW8bvxHcsLacLccfJuuyce2imumi5LbGay1EWdCHSs6naFUEkDr//aAAgBAQEGPwDqbI8j6n6Hw3HsO6I2PC8jyPC9h0THcxoeYY5oljzujwEDSM7sddrrVZvXa63F48FuZ5IvDKunKqq6pzjab9Sv9D+yrFaadLAhKZij1JvitocQHxEcjNxwm0Qxn7lZUxyt2ZUfLsrdcqKp3JSNlee8j2HpPdtyyLadhzbF9VyjcdZvuuZxeM71O5wlJt8NNUy/T87BKuFoSaVM0eFRK7YOiproKJqEKb+f6OK77QLXdxkO2ukVKmNYeOmn9Z6941Y06L/5rnUfZ9v0s/V+vo8eo/j1+R/YP8QxvU61NREc5UlrTITUmnXIuNeJrFI0nfbqMy1eklF24A3aGaOjKKpe4EwK3OslyHNZdHeoB6y52C3TzFwkFdtNlDZ6ed1LwjBNAPyJvIldPiK+iTX8rkS8id286U2HI+edk2XItv3jWdvynVMbzW46lnd5zjW79YL/AEydg7fSISbgnCrmAn0AdtRWB2wdgo3cJprJnIElkEVxt1FD1malnEpNvo/mXY2tilUXjZFq7h3soSrARaJdJtkwVAEgXUSJ6DKi3EyJuf8AXNdwDYMYyTGNhzbY9T1PY81uWXZ9Ss9y65Qt2ts3OW67Q0LBt1G8JCrA1agsZ0+dGTbt01FlCEH/2Q==]]></Resource>
    <Resource ID="e33a6604-253c-4723-a7ac-123532bc1a5f" Name="Icon" Type="png"><![CDATA[iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgFQTFRF8vLy+/v7m5uby8vK2dnZ/f398fLyo6Ojvb283t7d7+/v3d3c1iYA0NHQ2djY3NzbqRYAh5inyMjJiKS/q6urx8bF1dXVwsPBAGjHcH9ufKV84kIdhISEAGMBc01QjT841SsChj0x4+TjB2jFlBQA2traLV8t3N3du7u7NCM7sJmVV7ovrBwEFFQK5OTkPKspZKncI22wMX4x297gplZIuLi4jlRM9Pb0j797xSYBA2G57OzsUrYpzMvMKcHZPZQhysnKAG8AZZJ2lMqUndCdfGRfH6PFm7Wb4+PjD18I/fv7tbW0bnE8UyYx7fXq6m5OYYlg5+bmNGI0UBoe+PLx0tTWzs7NElVX39/exsbGsbGxx7Ctx8fGysrK5eXk7kwlqJeTpicPwsLCra2t6ToQPHk8oqKhsc6t8/Pz4d3cOFk3LG26Am/R9/f3i4uLsFFAG1AT0dnTozch9PT019fWX5JfX6ZRjqWzaCIH5OTj6OjohKPDFWGx/P381CYEW53Ml6aWKGhKo6OisLCw0dHQoSIKnBoDfqF+09PSVaxCyDgas7Kxy8LBFIfAnFBBAIQAG6LYKIoo393c2NjXwkQpth8Ap6eoGW5BwcHB4N/f/Pz8nJycuTES4pmGyMfHsrex3VIyElWYubm5yMjIJpcY6urp6tLNtx0A09TV8PDv////biqk6gAAAKt0Uk5T//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8Atyo9bAAAAPBJREFUeNpiWAUGcczMlRAWA5gIK2Fcxd9SDBPw5lgkkhSlx940mREksDQmjb15BosMU55pBgcXUKDDdhrL4lixZCaN2Q6RnEABVYbAFWyrWFf5pQt5rIwACkwKWbVMq8drlcUSl1XWIBVz/ePruvLlfbT1+53NZwIF5iikLJiiU2Fv0+k4UUoJKFA0lUe6TU6w3KlM1qi0HSjQ17rcMtiw3iC70TM1IMidYZWZSaKApoSbXU64rlpWQy3DqmhXRRVfq94JytMLJMVzQU5nFU3IFF5YU104vwruOV62UGN1Pka4b1fN4u6exwXxPkCAAQAKGmjQCtuOowAAAABJRU5ErkJggt1B15Bk2fluNXh+z4Zkg7Jh2cBs6LvN0Zn7Sw6WdRl9mWtX6kAqLNZ0D5nKDkNlUHIJlGLv81bs3znsY8533O9XbG1fl+4uZ0MXhq+cI8+dMaxlVV7bajk6L71cWdwp0ztZc0HZE1bsqkdsZbHPx1SlPMS5a/YV2TVA2VDVoOWynClQMeC12cDBcKKS1UpGT6xl081Z/OLqxbamWgXMHs5E3cmWRhnw2iFXnKOsc47isFxShFwG7MpZVFxrcnsFqyfcz9SK4y9yP7l+2OdR9kXxSyW5KrjYw/Yp3hE/UsUF1klN4p9l71virSUA8BurYpg8yOC043C0flHBWKi1e5F2f1FilJc/xMrAavKukU9IhpM3WVhVbcta9szWZUSteq9WSbZavqo4rqjOuWr190v+7AY8y/ZVRbU/K0fw6hdjYUzO0k6J0ee4o79b8l5dXUV9fT2xJwkZSQ6TbnDi4dFs2a5ltTQBwe46rDJb7tZhs5JJ2XKKEQo8PAdV05xjJkxYzhyTwviC7UqwvErhbeT1q0su0GO8xrO2HOORy+UEk3AKcOEfVLUwWF7/Mbn9oo5C8pDP0HvJqWJKsnX27X/SHbItSdbpZqDS9Av2vkETLzq50+e18zTL16LPTYuvb4q58ByZYcmQBFhXbYyJ5HusktHBTCazpua0I97i7UV0dXUKa9oBQXJYtSXtoV7SS5PIU6mYo0n5/X4RFat9tcymVPbMOxhV6gys7o2heDEI7bYmUhn3qj6fz2abWJT4fL4m+anJc6IrLi4uit9J+hK/kw3DYB1MgwIoh2A+wJHKLaJdoDyi0UXHF+zc6Eq3CjBtNZIU94p5sq6lWfAHfKVgVQWyUr4VIOGxUHskA6Powbg3ijpvLerVBluSls2SZTJAUwAUbJJSmVFeRWRGhWoMqZQlGBNjY4zMaDfXiS5Il0kXKEtlbm4OdeGQHRQckLK8FjT5D4V5HzHKlkxTkR0IBgXbUqWfVsfbUtT1DSSRSRSQmaSPaqic61mEdlNDOEbxwbT9z3RjALMJ24DT09PCCEJF9MOsVi2yEbZQqMYGauhGFUj+UilikqUmb0xi34GBchVTGtWs8jZoFtAU1LAEj+gq9KKOWuoyRLslSXdNLcWaFOJzK1B8MpoG/Fjg6E81fKQzIlhqiDcSWPY/AsxMOr7J7I2NjqImGC4FwbXWNO3a2AbqBpwqkKpS2i8WC+KCRx/dVE7cih2QgmTBjgJFZj2D2kIa/mIOFB+h+4JY8gQwlVlFNLWMQLgevkAQRa+/PAliaTWTQCEUR02rguBmBZrsQSgdQiaXEUaItEbIJ6nMizcTOJarDZBle2PiBi+WIVynVoCsRprL5kiNdQKo3QNWVjUOSFVVSjnu2tgYHtqzD32NIfQaq2gu5NBA4DQqC4s0IZ2ZMe2tQT6l+Pxo9gfR1OAFcYXx5RSU5TR6fCp0qmhmFuNYoAJE2iehYQdVWyoHEQs5kyamBnHbcLRNY75pHoZkoC3eRnO1U0oilsD01LQwulhck+6+BCY5jbsAKjupQy0lewckXWC/nMbDVhKnzTheOfcvUA8+Dj1ULwAJcJZdqJi2Ckv7EqcinoDqQR2Vjntr6zAxdxtjKylY2ZgIXDWPBSH1e0VyYZBurKr31gEVQPl4sikpwHYudZH/p3BlZIQurYogaFqGACvdxS1kx11UF3WpglGd6kRVBeB/SI4gSAFtmCNcgbr+T38H49CTMAmsAIVqgPxeDtRA9gVgKR4YnHaWqIZOLKM5l0WOANwsSmjf7cXqNkr+DkAn1cKnBugCajVQCjaaqkFv0DGcvozkcFJYhMFx/c0ZwV4yrQ5wHMxdRvn/Kb/ft6ZccwZ9OU2/cJkCQ4YmtJi3sEIBoXDtsshncq0Llqbo0SAFQ1AbWyDX1EKnyGukk7AScUjLUUjkc1zJsF/KdRKWj4SIRVMUBTxMg3MkSZhGg7+e5AJ7GPbIkpF4ez51HkNNQ5A9dg53y1K1Yt5KRTD1+byiTWUzTN1Rq6rlwQwYsi3TLPsgOXdxbgaehX+H/4GH0Xj0GRhNm1HwBrEamYZUQ7Ijf8/OTiM1f8uWuGnPuUBbXpxJbqUuiAwn8VDLOdan0KQsGV5eM3JSCjNT0Au4OHcRIS2E9kA7PFs9OG8M4cDSAbvuFYvgit0MuD9OCemsFdtANa9WLs7VSj9VkZNU0eAKoARaZ9ASBxzafnkB+ckx+Pr3wNfdh9CP/woT//Ur5NOpkg8zyCxtU/SFNO3PbfYhp2uQZ0mONVTJ0PU4rSheGX4lJHxKUzS017QjshzBjegNDEeGkcql8IPuH4io2xvuRaAvgKGrQ9ikNDsBU3WKD1R1PIxNAOVbcVQ5iNsMUikoqU7kVaDXNkBPxGjShs2oZYPlAsTDEZZz5cVz0K4NI9jVj+zyEkySMZ/HDC4TwCWS43J9F+p27UWbkUd/KIhN7V2YmV3EbHocCekGQi0WQrVhFKwcErkY5pfm8fbFtwVANxBwWpFJXgy2r6kP/t1+fHr9E7SorYKUcjtnV1KyUwQxRrfWPe31aYMGmb+SVbZSgQKKHCKwS9Eyo5YN1N0XWwKM8Su49e5JKK2dsBo2IVG/CTECKA0cxROPPULsKZi6OSGE2tKyCS3NLdhv7cKNW3P4zdAH8OlTyIVWsZCJwNB9ouCwI53TnpGcXbA8drfuxuqWBC4mv8AR9RHqBxywptP52DedT1cW9Wd8ft9gNpO7o58syBoC7a3Qp6KU42zJGg6jIl5IZbDSSkKwmI/MYHzyFi5ILRjd045/PN6LkVsJ0qgH18e42pGR9G6myVMQIv8r5mVk0pvwy9c+xPG/qMMCZtHhOyCqIzfyajQPAdK0GZUse7851Iz67kZ8Nv4pHjYPQLEUAVSsiPiEbM9UAn2HWq6XC/niHc0yMxogRi1vgKSbrQJW2jqfIZEABWaSKzmF4cOHTQexe1M3JmN5mqmdU28uFTnJQk4oNlO6YzF/I8ZuhtF2KofV3TfRXruvCih3MEK2DlhXwgx4/5Z96GzvxMkPT+Jh+YAIaqapiDzL2EorDPxgBGl5ivvJ8tqPHZyKBNSknKiGG0F8C/myr7pbjspi0H4qHhOMzlMVcT6wDYWaNozGJFxZ0MkXvZjN+bGse5Agqy+aHiwUNfrMR8c8ODVBjUXNJpy/TIws+wljzgbqjKAcrGaUhkwRmoFOLUzj7KWzomw8V/wEWTkHj5fv3MlT7kMflYtjb3IjXV6utJktkmQYKIUv+LbtKoHMOduMWQa+GosKoAnavx7qJ5YakPfU462RHP4wJ2GBmFlVqcqhKBb3WoiRC42mLZy8YmAmRy1LoIkicxhz1wLQmI0KoGFvuOyjzCiBjC3FcHniMn79m18jv5KntORFwAqgKBVEunEe9rhjcewNAviyu5LgrtIVSW4W1axc5fg6t1Jyt7B6bUT4qkcu+6xIOaurAmhEqYdB/aREA/4wiloYk3TgdpImY+rwexTEPTqWkzrS1N1kfR5hFGQT9J0Q8pk6ZAqpKunWempLIPkxns9HPsfE2AS6pS60t7ZjPj6PvXUk4WAH5d2iKAudhzyqlzudJz7ekJxe012b1ambkKgTYf8yyU99Xb0I7d53VxlnyMcLnG8l9kcfWYI6FepgZPIvLURVSj0ZsJZ+ZSMx06bC10IlXJg6lhr6XV77XKgk20IQM0u3KH15BFgGyQCNgoGRiRG89d5baFxtxFNHnsLt1AJqSA0vdP05toe2iTk7RW/VYztrV+pf4ZZWNNbOInKSGugC13kqW52YJRlrbZ2oGziIPNWklWDZVwtOruXqyB7cmRAQjZTio/rULwvA/iYFniAXCpI4Jqn2ufYwqPRMUTNQV5Lt7PwsPj7/MbS4hheOvoCJ/ASuXruKPY0PYaB5AH7n/qpYVzIFm6+se0vCscCrXHLJDqPXv/wS77/xOm6NX8fVS5eQSmcEWK5pwwS2oHrLgcm0gYb1tEgd7hB5jdCbFKQMoryQMpFfpRqXQjQpWRyzRLlniKEEi4hmb6OYLdoN+GwEibkEBncOImpFceqPp/B0z9N4tu9ZqJZatRiQL4qb3q+ufSbpjvuj/f39Q5Rs/5L8M8wFsUoVDDObpU79anyZCnsdK8k0IlNTCFF5FWxpQ4qCEHfy3LKt0Fw1muxlkpFJKQPkp5YnRGxSoNOofo3eEoCtYCd1NVRtxQ3kaBQS1Gino2IEu0+RelLI37Sg53Rq27hp92EiMoFj2wbxk30/QWwuhtGxKwhTQ99MhQe/0pk0rwgywJ+uvc1/B1A+gcBe1vXiCT81z76GRnh7tqGTmu5Acytu3pyETl3J7p07Mbm0ItZ907k8zEJepMVVYkgnX4YiIeLvhMR+p/hgSn5RERkElJnUtc0CaC7GQIuwkgQydRs+/whqO0aQN3JITRREAMpkMzi87TD+9vGfwU/5+cKFIdHP9vXtQHvbZnslIZ9HYmWZK6Lnic2xDd3x5jvGfX19YbrY4RC1XOI2PYX7+qYmbHtwAKvkq5fnKAhQ09sWDsNHYTFNkZDXd1PEaHBTK3745GOYQi1iyaLwO5PKM17hM2MzMHIkX3kz8gx0iQyUjBNIup6+hJ893QBTTSGSiiA/X8Tetn34+TM/x86WHbj4xQXMzs6gt7cPfdv7RX3Oki9S5L69uMAL3fxU2Rv3/fgNFftve73e53p7ekUnzxfmokLzepFMrmB4+BJVLH488oMfwh+/jfT1q/Bv6UXPY0/CF6RKqmji7//1DK4tq4ye8mQjpPgoFUaUsjYfglWkiim/QuE6jpCxhF/82XYc7G0UjxNEVmYwtzCPrroufPbZOdy6NYXu7q3o6tpCRiNDEYOFQhFZYnuSVJbL5/iJ0Oe/1uM3JOEPDMN4iizVWltbJ5j1ELO8rFlbW4udO3aJ5xYu/vELyOEG7HziR9hEn7Eh+NyagB/Hj2zD8tIyRiepxtVzkFZnKMBQQJM8jk/exo4GHf/8Nw9joKexVJQHlABmxm/h7NnT4lmFwwePoHVTmy1/XqDmdVsCOjsXocyQ5Orn+a96/GbDD1QF/IGB3bt2wx8IiLVaZpaXMRgU+8vnn38mbg08+ugx9PX3O+dodI4mtrNLafz2wjQ++O9TyFEwqu3Yhb1bm7CfGHx0V6tgkVf7eXtzchIf/v53Igju3btfBJwiHycW3XMy6TSGR4Z5DXlDD1Td1yNywWDwuR39O8VzeV6vVgLqglogqX1y7mMhr8cf/xM0NTWLeybc/GoO4D98fFas4xw9OiiWUXnyvKLO2yhF7/fffw8L8ws4cPAQurf02OCETAtCrnzjNx5fwtWrVyjVpTb8iNyGnlZkSdA42dPTI0Wji4Pc1TRSNHaf4xMLaTSaKFjtefAhamKWcebMKQGss6NTBDJb9h5EZiKi3+3p7rFX32nwyv7p0x/hvffeJXfZQUZ6Ak2NTUKifFxsnTt3k8T2yJUR9kkOPH/3VXL92k938sNK27dvPxOLxwbjS/EwN858C0J1gDJwZnfr1l50dHSIKDk8fFnkOVYBH5+etvN415ZumriOc+c+wa/+8z/Enblnn/1TCjg9orZ1b0nyLUPecho7R0Fp+tb0FIF/fr3o+q0AdVMPBak3s9msb+LGxOE0+UpjY6O4i1a5wBaur8feffvJb7P46KMPwed1ELsRasq5ROPJv/baLxGN3sbTTz2D/fsPCGUIYLoNkMcKNfNDQ0MYOj/EzPODyT+9W578X3vUnPIutvVu50ht+6zjlxyMyCj47QfvIxaLCWb5xhDfj3nkkUexj4KNuAvnBBnXZ0fHRsUT2Neujf3fPWr+VX88QGmnewsFox1UObF8W1pabP8ktm5MTuCdt98SUflHT//Yfm6I72YT0MVoFDMzMxgdvSoMsbKy8v3544GN/DkIL4G0t7cjQGmpY3OHc7/UXpKcjcyK8o5vSzLr3/s/B/n/8Ac+/yPAAGG2Gt6hLzCTAAAAAElFTkSuQmCCWwF/Pz1txfGu7d3U8RLOnXsPP/uPf5eVueee+wYJTo/ktoYNjPcv8ZHD2DkSpenb01ME/oV7qevnAtQJPbyPJ5vNescnxo+kyVcaGxtlFa16gi1UX4+9+/aT32bxm9+8Db6ug9jlxVxO0bjzP/nJjxGNLuKpJ5/G/v0HxTIEWMkCyG2Vivnz58/j/IfnmXnemPztu8XJ/7Wt5hR30d+3g5Xa8lnbL1mMaFDwq1NvyV4FZpYXhng95tFHH8M+EhtZhbNFxvFZ3nzFO7CvX7/2f7fV/JP+eIDCTvd2EqOdlDmx+TY3N1v+SWxNTI7j9ZMnRJW//tQz1r4h3lpHQJeiUczMzGBs7KoMxOrq6h/PHw9s5c9BeApElvUpLHXIzjFrSp7j5WxkVtI7XpZk1v/o/xzk/8Mf+PyPAAMA1h52NxfieK4AAAAASUVORK5CYII=]]></Resource>
    <Resource ID="1b055baa-6376-4582-b527-1ee364c19e88" Name="vdom_classes" Type="js"><![CDATA[LyogdmRvbV9jbGFzc2VzIEAgMjAxMS0wOC0wMiAqLwoKLyogeG1sRE9NIHYxLjAgKiBodHRwOi8vb3V0d2VzdG1lZGlhLmNvbS9qcXVlcnktcGx1Z2lucy94bWxkb20vICogMjAwOS0wNC0wNiAqIDEuMCAqLwooZnVuY3Rpb24oYSl7aWYod2luZG93LkRPTVBhcnNlcj09dW5kZWZpbmVkJiZ3aW5kb3cuQWN0aXZlWE9iamVjdCl7RE9NUGFyc2VyPWZ1bmN0aW9uKCl7fTtET01QYXJzZXIucHJvdG90eXBlLnBhcnNlRnJvbVN0cmluZz1mdW5jdGlvbihjKXt2YXIgYj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpO2IuYXN5bmM9ImZhbHNlIjtiLmxvYWRYTUwoYyk7cmV0dXJuIGJ9fWEueG1sRE9NPWZ1bmN0aW9uKGIsaCl7dHJ5e3ZhciBkPShuZXcgRE9NUGFyc2VyKCkpLnBhcnNlRnJvbVN0cmluZyhiLCJ0ZXh0L3htbCIpO2lmKGEuaXNYTUxEb2MoZCkpe3ZhciBjPWEoInBhcnNlcmVycm9yIixkKTtpZihjLmxlbmd0aD09MSl7dGhyb3cgKCJFcnJvcjogIithKGQpLnRleHQoKSl9fWVsc2V7dGhyb3cgKCJVbmFibGUgdG8gcGFyc2UgWE1MIil9fWNhdGNoKGYpe3ZhciBnPShmLm5hbWU9PXVuZGVmaW5lZD9mOmYubmFtZSsiOiAiK2YubWVzc2FnZSk7aWYoYS5pc0Z1bmN0aW9uKGgpKXtoKGcpfWVsc2V7YShkb2N1bWVudCkudHJpZ2dlcigieG1sUGFyc2VFcnJvciIsW2ddKX1yZXR1cm4gYShbXSl9cmV0dXJuIGEoZCl9fSkoalF1ZXJ5KTsKCnZhcgoJJGogPSBqUXVlcnksCgkvKiBhamF4IGxvYWRlciBzdHlsZSAqLwoJY3NzMSA9IHsKCQkncG9zaXRpb24nOiAnYWJzb2x1dGUnLAoJCSdsZWZ0JzogMCwKCQknYm90dG9tJzogMCwKCQkncGFkZGluZyc6ICc1cHggMTBweCcsCgkJJ2JhY2tncm91bmQnOiAnbmF2eScsCgkJJ2JvcmRlcic6ICcxcHggc29saWQgI2ZmZicsCgkJJ2NvbG9yJzogJyNmZmYnCgl9LAoJLyogYWpheCBlcnJvciBzdHlsZSAqLwoJY3NzMiA9IHsKCQkncG9zaXRpb24nOiAnYWJzb2x1dGUnLAoJCSdsZWZ0JzogMCwKCQknYm90dG9tJzogMCwKCQkncGFkZGluZyc6ICc1cHggMTBweCcsCgkJJ2JhY2tncm91bmQnOiAnI2YwMCcsCgkJJ2JvcmRlcic6ICcxcHggc29saWQgI2ZmZicsCgkJJ2NvbG9yJzogJyNmZmYnCgl9LAoJZTJ2ZG9tZXJyd2luID0gJzxkaXYgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6NXB4O2JvdHRvbToyMHB4O2JvcmRlcjoxcHggc29saWQgcmVkO3BhZGRpbmc6MjBweCAxMHB4IDEwcHggMTBweDttYXgtd2lkdGg6NzAlO3doaXRlLXNwYWNlOnByZTtmb250LWZhbWlseTpjb3VyaWVyIG5ldyxtb25vc3BhY2UsY291cmllcjtiYWNrZ3JvdW5kOiNmZmU7b3BhY2l0eTowLjk1Oy1tb3otYm94LXNoYWRvdzowIDAgMTBweCByZ2JhKDAsMCwwLDAuNSk7LW1vei13ZWJraXQtc2hhZG93OjAgMCAxMHB4IHJnYmEoMCwwLDAsMC41KTtib3gtc2hhZG93OjAgMCAxMHB4IHJnYmEoMCwwLDAsMC41KTtkaXNwbGF5Om5vbmUiIGlkPSJlMnZkb21lcnJ3aW4iPjxhIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MnB4O2xlZnQ6MnB4O2ZvbnQtd2VpZ2h0OmJvbGQ7b3V0bGluZTpub25lIiBocmVmPSIjIiBvbmNsaWNrPSIkaih0aGlzKS5wYXJlbnQoKS5mYWRlT3V0KCk7cmV0dXJuIGZhbHNlIj5jbG9zZTwvYT48L2Rpdj4nLAoJZTJ2ZG9tdGV4dDEgPSAnTG9hZGluZy4uLicsCgllMnZkb210ZXh0MiA9ICdFcnJvciEnLAoJZTJ2ZG9tbG9hZGluZ2lkID0gJ2UydmRvbWxvYWRpbmcnLAoJZTJ2ZG9tbG9hZGluZyA9ICI8ZGl2IGlkPSciK2UydmRvbWxvYWRpbmdpZCsiJz48L2Rpdj4iLAoJZTJ2ZG9tbG9hZGluZ19lcnIgPSBmdW5jdGlvbihlKXsKCQlpZiAoJGooJyMnICsgZTJ2ZG9tbG9hZGluZ2lkKS5zaXplKCkgPiAwKSAkaignIycgKyBlMnZkb21sb2FkaW5naWQpLnJlbW92ZSgpOwoJCXZhciBvID0gJGooZTJ2ZG9tbG9hZGluZyk7CgkJby5oaWRlKCkuYXBwZW5kVG8oJ2JvZHknKS5jc3MoY3NzMikudGV4dChlMnZkb210ZXh0Mik7CgkJdmFyIHggPSBlIHx8ICcnOwoJCWlmIChlICE9ICcnKSB7CgkJCSRqKGUydmRvbWVycndpbikuYXBwZW5kKGUpLmFwcGVuZFRvKCdib2R5Jyk7CgkJCSRqKCIgPGEgaHJlZj0nIycgb25jbGljaz0ndmFyIG89JGooXCIjZTJ2ZG9tZXJyd2luOnZpc2libGVcIik7aWYoby5zaXplKCk+PTEpe28uZmFkZU91dCgpO31lbHNleyRqKFwiI2UydmRvbWVycndpblwiKS5zaG93KCk7fTtyZXR1cm4gZmFsc2UnIHN0eWxlPSdjb2xvcjojZmYwO3BhZGRpbmctbGVmdDoxMHB4O291dGxpbmU6bm9uZSc+c2hvdzwvYT4iKS5hcHBlbmRUbyhvKTsKCQl9CgkJby5mYWRlSW4oKTsKCX0KCTsKLyogYWpheCBsb2FkZXIgKi8KJGooZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7CgkkaihlMnZkb21sb2FkaW5nKQoJCS5oaWRlKCkuYXBwZW5kVG8oJ2JvZHknKS5jc3MoY3NzMSkKCQkuYWpheFN0YXJ0KGZ1bmN0aW9uKCl7CgkJCSQodGhpcykudGV4dChlMnZkb210ZXh0MSkuY3NzKGNzczEpLmZhZGVJbigpOwoJCX0pCgkJLmFqYXhTdWNjZXNzKGZ1bmN0aW9uKCl7CgkJCSQodGhpcykuZmFkZU91dCgpOwoJCX0pCgkJLmFqYXhFcnJvcihmdW5jdGlvbigpewoJCQkkKHRoaXMpLnRleHQoZTJ2ZG9tdGV4dDIpLmNzcyhjc3MyKS5mYWRlSW4oKTsKCQkJc2V0VGltZW91dCggZnVuY3Rpb24oKXsgJGooJyNlMnZkb21sb2FkaW5nJykuZmFkZU91dCgpOyB9ICwgNTAwMCk7CgkJfSkKCQk7Cn0pOwoKdmFyIGRyYWdfY3VycmVudF9vYmogPSBudWxsOwp2YXIgZHJhZ19jdXJyZW50X2V2ZW50ID0gbnVsbDsKdmFyIGRyYWdfbW91c2VfZG93biA9IGZhbHNlOwp2YXIgZHJhZ19sYXN0TW91c2VYID0gMDsKdmFyIGRyYWdfbGFzdE1vdXNlWSA9IDA7CnZhciBkcmFnX21heE1vdXNlWCA9IDA7CnZhciBkcmFnX21heE1vdXNlWSA9IDA7CnZhciBkcmFnX21pbk1vdXNlWCA9IDA7CnZhciBkcmFnX21pbk1vdXNlWSA9IDA7Cgp2YXIgYm9yZGVyX2xhc3QgPSAnJzsKdmFyIGNvcm5lcl9sYXN0ID0gJyc7Cgp2YXIgaGlnaGVzdFppbmRleCA9IDA7CgoKLyoqCiAqIEhFTFBFUlMKICovCgpBcnJheS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7Cgl2YXIgaSwgcmVzdWx0ID0gIiI7Cglmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewoJCXJlc3VsdCArPSB0aGlzW2ldICsiLCAiOwoJfQoJaWYgKHJlc3VsdCAhPT0gIiIpIHsKCQlyZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgLTIpOwoJfQoJcmV0dXJuIHJlc3VsdDsKfTsKCmZ1bmN0aW9uIHN1YnN0ciggZl9zdHJpbmcsIGZfc3RhcnQsIGZfbGVuZ3RoICkgewoJaWYoZl9zdGFydCA8IDApIHsgZl9zdGFydCArPSBmX3N0cmluZy5sZW5ndGg7IH0KCWlmKGZfbGVuZ3RoID09IHVuZGVmaW5lZCkgeyBmX2xlbmd0aCA9IGZfc3RyaW5nLmxlbmd0aDsKCX0gZWxzZSBpZihmX2xlbmd0aCA8IDApeyAgZl9sZW5ndGggKz0gZl9zdHJpbmcubGVuZ3RoOwoJfSBlbHNlIHsgZl9sZW5ndGggKz0gZl9zdGFydDsgfQoJaWYoZl9sZW5ndGggPCBmX3N0YXJ0KSB7IGZfbGVuZ3RoID0gZl9zdGFydDsgfQoJcmV0dXJuIGZfc3RyaW5nLnN1YnN0cmluZyhmX3N0YXJ0LCBmX2xlbmd0aCk7Cn0KCmZ1bmN0aW9uIGJpbmQob2JqLCBmdW5jKQp7CglyZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZ1bmMuYXBwbHkob2JqLCBhcmd1bWVudHMpOyB9Owp9CgovKioKICogdmRvbVJlZ2lzdGVyRXZlbnRMaXN0ZW5lcgogKiBhdHRhY2hlcyBhbiBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiB0byBET00gb2JqZWN0CiAqIEB2ZG9tICAgICAgICAgICAgcmVmZXJlbmNlIHRvIGEgVkRPTSBvYmplY3QKICogQGVUeXBlICAgICAgICAgICBzdHJpbmcsIHJlcHJlc2VudGluZyBhbiBldmVudChvbmxvYWQsIG9ubW91c2Vkb3duLCBldGMpCiAqIEBlTGlzdGVuZXIgICAgICAgZnVuY3Rpb24gdG8gYmUgYXR0YWNoZWQKICogQHVzZUNhcHR1cmUgICAgICBldmVudHMgbXVzdCBiZSBjYXB0dXJlZCBhdCBkZXNjZW5kaW5nIHBoYXNlCiAqLwpmdW5jdGlvbiB2ZG9tUmVnaXN0ZXJFdmVudExpc3RlbmVyKHZkb20sIGVUeXBlLCBlTGlzdGVuZXIsIHVzZUNhcHR1cmUpCnsKCXZhciBvYmogPSB2ZG9tLmRvbUNvbnQ7CgllVHlwZSA9IGVUeXBlLnRvTG93ZXJDYXNlKCk7CglpZiAoL29wZXJhLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSkpIHsKCQlvYmouYWRkRXZlbnRMaXN0ZW5lcihlVHlwZSwgYmluZCh2ZG9tLCBlTGlzdGVuZXIpLCBmYWxzZSk7Cgl9IGVsc2UgaWYgKG9iai5hdHRhY2hFdmVudCkgeyAvL2llCgkJb2JqLmF0dGFjaEV2ZW50KCdvbicrZVR5cGUsIGJpbmQodmRvbSwgZUxpc3RlbmVyKSk7Cgl9IGVsc2UgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7IC8vdHJ1ZSBicm93c2VycwoJCW9iai5hZGRFdmVudExpc3RlbmVyKGVUeXBlLCBiaW5kKHZkb20sIGVMaXN0ZW5lciksIHVzZUNhcHR1cmUpOwoJfQovKgkkaihvYmopLmJpbmQoIGVUeXBlLCBiaW5kKHZkb20sIGVMaXN0ZW5lcikgKTsgKi8KfQoKZnVuY3Rpb24gZGVmUG9zaXRpb24oZXZlbnQpCnsKCXZhciB4ID0gMCwgeSA9IDA7CglpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQgIT09IG51bGwpIHsgLy8gaWUgJiBPcGVyYQoJCXggPSB3aW5kb3cuZXZlbnQuY2xpZW50WCArIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IDogZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0KTsKCQl5ID0gd2luZG93LmV2ZW50LmNsaWVudFkgKyAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7Cgl9IGVsc2UgaWYgKCFkb2N1bWVudC5hdHRhY2hFdmVudCAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7IC8vIEdlY2tvCgkJeCA9IGV2ZW50LmNsaWVudFggKyB3aW5kb3cuc2Nyb2xsWDsKCQl5ID0gZXZlbnQuY2xpZW50WSArIHdpbmRvdy5zY3JvbGxZOwoJfSBlbHNlIHsKCX0KCXJldHVybiB7eDp4LCB5Onl9Owp9CgpmdW5jdGlvbiBhdHRhY2hTY3JpcHQoaW5uZXIpCnsKCXZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CglzLnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKCXMuaW5uZXJIVE1MID0gaW5uZXI7Cglkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKHMpOwp9CgpmdW5jdGlvbiBzdHJfZXhwbG9kZShkZWxpbWl0ZXIsIHN0cmluZykKewoJdmFyIGVtcHR5QXJyYXkgPSB7IDA6ICcnIH07CglpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyIHx8IHR5cGVvZiBhcmd1bWVudHNbMF0gPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGFyZ3VtZW50c1sxXSA9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gbnVsbDsgfQoJaWYgKGRlbGltaXRlciA9PT0gJycgfHwgZGVsaW1pdGVyID09PSBmYWxzZSB8fCBkZWxpbWl0ZXIgPT09IG51bGwpIHsgcmV0dXJuIGZhbHNlOyB9CglpZiAodHlwZW9mIGRlbGltaXRlciA9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBkZWxpbWl0ZXIgPT0gJ29iamVjdCcgfHwgdHlwZW9mIHN0cmluZyA9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBzdHJpbmcgPT0gJ29iamVjdCcpIHsgcmV0dXJuIGVtcHR5QXJyYXk7IH0KCWlmIChkZWxpbWl0ZXIgPT09IHRydWUpIHsgZGVsaW1pdGVyID0gJzEnOyB9CglyZXR1cm4gc3RyaW5nLnRvU3RyaW5nKCkuc3BsaXQoZGVsaW1pdGVyLnRvU3RyaW5nKCkpOwp9CgoKLyoqCiAqIENMQVNTRVMKICovCgovKioKICogVkRPTV9FdmVudExpbmsgZGVjbGFyYXRpb24KICovCmZ1bmN0aW9uIFZET01fRXZlbnRMaW5rKGV2dFNyYywgYWN0VGd0LCBhY3RQYXJhbXMpCnsKCXRoaXMuZXZlbnRTcmMgPSBldnRTcmM7Cgl0aGlzLmFjdGlvblRndCA9IGFjdFRndDsKCXRoaXMuYWN0aW9uUGFyYW1zID0gYWN0UGFyYW1zOwp9CgovKioKICogVkRPTV9FdmVudERpc3BhdGNoZXIKICovCgpmdW5jdGlvbiBWRE9NX0V2ZW50RGlzcGF0Y2hlcigpCnsKCXRoaXMuZXZlbnRBcnJheSA9IFtdOwp9CgovKioKICogZXZlbnRTcmMgICAgICBvYmplY3RuYW1lOmV2ZW50bmFtZSAoaS5lLiB2ZG9tb2JqMTptb3VzZXVwKQogKiBhY3Rpb25UZ3QgICAgIG5vdGF0aW9uOgogKiBhY3Rpb25QYXJhbXMgIHBhcmFtZXRlcnMgZm9yIGFjdGlvbnMsIGluIGFycmF5IFtdCiAqLwpWRE9NX0V2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYWRkRGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50U3JjLCBhY3Rpb25UZ3QsIGFjdGlvblBhcmFtcykKewoJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50QXJyYXkubGVuZ3RoOyBpKyspIHsKCQlpZiAodGhpcy5ldmVudEFycmF5W2ldLmV2ZW50U3JjID09IGV2ZW50U3JjICYmIHRoaXMuZXZlbnRBcnJheVtpXS5hY3Rpb25UZ3QgPT0gYWN0aW9uVGd0KSB7CgkJCXJldHVybjsKCQl9Cgl9Cgl0aGlzLmV2ZW50QXJyYXkucHVzaCggbmV3IFZET01fRXZlbnRMaW5rKGV2ZW50U3JjLCBhY3Rpb25UZ3QsIGFjdGlvblBhcmFtcykgKTsKfTsKCi8qKgogKiBQdXRzIGFsbCB0aGUgYWN0aW9ucywgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBldmVudFNyYyBpbnRvIGFjdExpc3QgYXJyYXkKICovClZET01fRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5nZXRBY3Rpb25MaXN0ID0gZnVuY3Rpb24oZVNyYykKewoJdmFyIGFjdExpc3QgPSBbXTsKCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmVudEFycmF5Lmxlbmd0aDsgaSsrKSB7CgkJaWYgKHRoaXMuZXZlbnRBcnJheVtpXS5ldmVudFNyYyA9PSBlU3JjKSB7CgkJCWFjdExpc3QucHVzaCh0aGlzLmV2ZW50QXJyYXlbaV0uYWN0aW9uVGd0KTsKCQl9Cgl9CglyZXR1cm4gYWN0TGlzdDsKfTsKCgovKioKICogVkRPTV9FdmVudEVuZ2luZQogKi8KCmZ1bmN0aW9uIFZET01fRXZlbnRFbmdpbmUoQURpc3BhdGNoZXIsIEFRdWV1ZSkKewoJdGhpcy5ldmVudERpc3BhdGNoZXIgPSBBRGlzcGF0Y2hlcjsKCXRoaXMuQWN0aXZlID0gZmFsc2U7Cgl0aGlzLkV2dFF1ZXVlID0gQVF1ZXVlOwp9CgpWRE9NX0V2ZW50RW5naW5lLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkKewoJdGhpcy5BY3RpdmUgPSB0cnVlOwp9OwoKVkRPTV9FdmVudEVuZ2luZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkKewoJdGhpcy5BY3RpdmUgPSBmYWxzZTsKfTsKCgovKioKICogZXZudCAtIFZET01fZXZlbnQgb2JqZWN0CiAqLwpWRE9NX0V2ZW50RW5naW5lLnByb3RvdHlwZS5zZW5kVG9TZXJ2ZXIgPSBmdW5jdGlvbihldm50KQp7CglpZiAoIXRoaXMuQWN0aXZlKSB7IHJldHVybiBmYWxzZTsgfQoJaWYgKCF0aGlzLkV2dFF1ZXVlKSB7IHJldHVybiBmYWxzZTsgfQoJdGhpcy5FdnRRdWV1ZS5hZGRFdmVudChldm50KTsKfTsKClZET01fRXZlbnRFbmdpbmUucHJvdG90eXBlLnBhcnNlUGFyYW1zID0gZnVuY3Rpb24odmRvbUV2ZW50LCBwYXJhbVN0ciwgcGFyYW1BcnJheSkKewoJaWYgKHBhcmFtU3RyID09ICIiKSB7IHJldHVybjsgfQoJaWYgKHBhcmFtU3RyID09ICIoKSIpIHsgcmV0dXJuOyB9CglwYXJhbVN0ciA9IHBhcmFtU3RyLnJlcGxhY2UoL15cKC9nLCAiIik7CglwYXJhbVN0ciA9IHBhcmFtU3RyLnJlcGxhY2UoL1wpJC9nLCAiIik7CglwYXJhbVN0ciA9IHBhcmFtU3RyLnJlcGxhY2UoL1xcXCIvZywgIiIpOwoJdmFyIHRlbXBBcnJheSA9IHBhcmFtU3RyLnNwbGl0KCcsJyk7Cgl2YXIgaSwgY3VyX3BhcmFtLCBldnRfcGFyYW07Cglmb3IgKGkgPSAwOyBpIDwgdGVtcEFycmF5Lmxlbmd0aDsgaSsrKSB7CgkJY3VyX3BhcmFtID0gdGVtcEFycmF5W2ldOwoJCWN1cl9wYXJhbSA9IGN1cl9wYXJhbS5yZXBsYWNlKC9eXHMrfFxzKyQvZywgIiIpOy8vdHJpbSBzcGFjZXMKCQlldnRfcGFyYW0gPSBmdW5jdGlvbiAocGFyYW1fbmFtZSkgewoJCQlpZiAocGFyYW1fbmFtZSA9PSAiZXZ0X25hbWUiKSB7CgkJCQlyZXR1cm4gdmRvbUV2ZW50Lm5hbWU7CgkJCX0gZWxzZSBpZiAocGFyYW1fbmFtZSA9PSAiZXZ0X3NyYyIpIHsKCQkJCXJldHVybiB2ZG9tRXZlbnQuc3JjT2JqOwoJCQl9IGVsc2UgaWYgKHBhcmFtX25hbWUgPT0gImV2dF9yZWYiKSB7CgkJCQlyZXR1cm4gdmRvbUV2ZW50OwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHZkb21FdmVudC5wYXJhbUJ5TmFtZShwYXJhbV9uYW1lKTsKCQkJfQoJCX07CgkJaWYgKGN1cl9wYXJhbSAhPSAnKCknKSB7CgkJCXBhcmFtQXJyYXkucHVzaChldmFsKGN1cl9wYXJhbSkpOwoJCX0KCX0KfTsKClZET01fRXZlbnRFbmdpbmUucHJvdG90eXBlLmV4ZWN1dGVBY3Rpb24gPSBmdW5jdGlvbihhY3Rfc3RyLCBldm50KQp7CgkvKmFjdF9zdHIgPSBhY3Rpb24gc3RyaW5nIGluICI6IiBub3RhdGlvbiBmcm9tIGRpc3BhdGNoZXIsIGxpa2Ugb2JqZWN0OmFjdGlvbihwYXJhbXMpCglldm50IC0gVkRPTV9ldmVudCBvYmplY3QqLwoJaWYgKCF0aGlzLkFjdGl2ZSkgeyByZXR1cm4gZmFsc2U7IH0KCXZhciByZSA9IC9eKFx3KylcOihcdyspXCgoLiopXCkkL2c7CglyZS5sYXN0SW5kZXggPSAwOwoJdmFyIG0gPSByZS5leGVjKGFjdF9zdHIpOwoJaWYgKG0gIT09IG51bGwpIHsKCQl2YXIgdmRvbU9iaiA9ICh0eXBlb2YgbVsxXSA9PT0gJ3VuZGVmaW5lZCcpID8gbnVsbCA6IGV2YWwobVsxXSk7CgkJaWYgKHZkb21PYmogPT09IG51bGwgfHwgdHlwZW9mIHZkb21PYmogPT09ICd1bmRlZmluZWQnKSB7CgkJCWdlbmVyYXRlRXJyb3JFdmVudCgiRVJST1IgZXhlY3V0ZUFjdGlvbjogT2JqZWN0ICciK21bMV0rIicgZG9lcyBub3QgZXhpc3QgISIpOwoJCQlyZXR1cm47CgkJfQoJCXZhciBhY3ROYW1lID0gbVsyXTsKCQl2YXIgcGFyYW1zID0gW107CgkJdGhpcy5wYXJzZVBhcmFtcyhldm50LCBtWzNdLCBwYXJhbXMpOwoJCS8qZXhlY3V0aW5nIGFjdGlvbiB3aXRoIHBhcnNlZCBwYXJhbXMqLwoJCS8vdmRvbU9ialthY3ROYW1lXS5hcHBseSh2ZG9tT2JqLCBwYXJhbXMpOwoJCXRyeSB7CgkJCXZkb21PYmpbYWN0TmFtZV0uYXBwbHkodmRvbU9iaiwgcGFyYW1zKTsKCQl9IGNhdGNoKGV4KSB7CgkJCS8qZ2VuZXJhdGVFcnJvckV2ZW50KCdFUlJPUiBleGVjdXRlQWN0aW9uIFt2ZG9tb2JqXTogJyt2ZG9tb2JqKTsqLwoJCQlnZW5lcmF0ZUVycm9yRXZlbnQoJ0VSUk9SIFtleGVjdXRlQWN0aW9uXSB1bnJlY29nbml6ZWQgdmRvbW9iaicpOwoJCX0KCgl9IGVsc2UgewoJCWdlbmVyYXRlRXJyb3JFdmVudCgiSW52YWxpZCBhY3Rpb24gbmFtZTogIithY3Rfc3RyKTsKCX0KfTsKClZET01fRXZlbnRFbmdpbmUucHJvdG90eXBlLnByb2Nlc3NFdmVudCA9IGZ1bmN0aW9uKGV2bnQpCnsKCS8qIGV2bnQgaGFzIHR5cGUgb2YgVkRPTV9FdmVudCAqLwoJaWYgKCF0aGlzLkFjdGl2ZSkgeyByZXR1cm4gZmFsc2U7IH0KCS8qIHZhciBhY3RMaXN0ID0gbmV3IEFycmF5KCk7ICovCgl2YXIgYWN0X3N0ciwgYWN0TGlzdCA9IHRoaXMuZXZlbnREaXNwYXRjaGVyLmdldEFjdGlvbkxpc3QoZXZudC5nZXRFdmVudFN0cigpKTsKCWZvciAodmFyIGkgPSAwOyBpIDwgYWN0TGlzdC5sZW5ndGg7IGkrKykgewoJCWFjdF9zdHIgPSBhY3RMaXN0W2ldOwoJCWRyYWdfY3VycmVudF9ldmVudCA9IGV2bnQ7CgkJc3dpdGNoIChhY3Rfc3RyKSB7CgkJCWNhc2UgInNlcnZlciI6CgkJCQl0aGlzLnNlbmRUb1NlcnZlcihldm50KTsKCQkJCWJyZWFrOwoJCQlkZWZhdWx0OgoJCQkJdGhpcy5leGVjdXRlQWN0aW9uKGFjdF9zdHIsIGV2bnQpOwoJCQkJYnJlYWs7CgkJfQoJfQp9OwoKCi8qKgogKiBWRE9NX1BhcmFtCiAqLwoKZnVuY3Rpb24gVkRPTV9QYXJhbShuYW1lLCB2YWx1ZSkKewogIHRoaXMuTmFtZSA9IG5hbWU7CiAgdGhpcy5WYWx1ZSA9IHZhbHVlOwp9CgoKLyoqCiAqIFZET01fRXZlbnQKICogc3JjT2JqICAgICAvLyBGaWVsZCBjb250YWlucyBhIHJlZmVyZW5jZSB0byBET00gb2JqZWN0IChub3QgaWQpCiAqIG5hbWUgICAgICAgLy8gRmllbGQgY29udGFpbnMgYSBzdHJpbmcgLSBuYW1lIG9mIGV2ZW50CiAqIHBhcmFtZXRlcnMgLy8gT2J2aW91c2x5IHRoaXMgaXMgYXJyYXkgb2YgcGFyYW1ldGVycwogKi8KCmZ1bmN0aW9uIFZET01fRXZlbnQoKQp7Cgl0aGlzLnNyY09iaiA9ICIiOwoJdGhpcy5uYW1lID0gIiI7Cgl0aGlzLnBhcmFtZXRlcnMgPSBuZXcgQXJyYXkoKTsKfQoKVkRPTV9FdmVudC5wcm90b3R5cGUuYWRkUGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpCnsKCXRoaXMucGFyYW1ldGVycy5wdXNoKCBuZXcgVkRPTV9QYXJhbShuYW1lLCB2YWx1ZSkgKTsKfTsKCi8qKgogKiByZXR1cm4gYSBuYW1lIG9mIGV2ZW50IGluICI6IiBub3RhdGlvbgogKiBldmVudCBkaXNwYXRjaGVyIHNob3VsZCBzdG9yZSBldmVudHMgaW4gdGhpcyBub3RhdGlvbgogKi8KVkRPTV9FdmVudC5wcm90b3R5cGUuZ2V0RXZlbnRTdHIgPSBmdW5jdGlvbigpCnsKCXJldHVybiB0aGlzLnNyY09iai5pZCArICc6Jyt0aGlzLm5hbWU7Cn07CgpWRE9NX0V2ZW50LnByb3RvdHlwZS5wYXJhbUJ5TmFtZSA9IGZ1bmN0aW9uIChBTmFtZSkKewoJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspewoJCWlmICh0aGlzLnBhcmFtZXRlcnNbaV0uTmFtZSA9PSBBTmFtZSkgewoJCQlyZXR1cm4gdGhpcy5wYXJhbWV0ZXJzW2ldLlZhbHVlOwoJCX0KCX0KCXJldHVybiBudWxsOwp9OwoKCi8qKgogKiBWRE9NX09iamVjdAogKi8KCmZ1bmN0aW9uIFZET01fT2JqZWN0KGNvbnRJZCwgZUVuZ2luZSkKewoJdmFyIGRvbUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250SWQpIHx8IG51bGw7CglpZiAoZG9tRWxlbWVudCAhPT0gbnVsbCkgewoJCXRoaXMuZG9tQ29udCA9IGRvbUVsZW1lbnQ7CgkJdGhpcy5ldmVudEVuZ2luZSA9IGVFbmdpbmU7CgkJdGhpc1snbmFtZSddID0gY29udElkOwoJCS8qdGhpcy5ldnRBc3NvY2lhdGlvbiA9IG5ldyBBcnJheSgpOyovCgkJdGhpcy5ldnRBc3NvY2lhdGlvbiA9IFtdOwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24ubW91c2Vtb3ZlICAgPSB7ZXZ0bmFtZTonbW91c2Vtb3ZlJywgZXZ0ZnVuYzp0aGlzLm1vdXNlbW92ZSwgZXZ0dHlwOidtb3VzZW1vdmUnfTsKCQl0aGlzLmV2dEFzc29jaWF0aW9uLm1vdXNlZG93biAgID0ge2V2dG5hbWU6J21vdXNlZG93bicsIGV2dGZ1bmM6dGhpcy5tb3VzZWRvd24sIGV2dHR5cDonbW91c2Vkb3duJ307CgkJdGhpcy5ldnRBc3NvY2lhdGlvbi5tb3VzZXVwICAgICA9IHtldnRuYW1lOidtb3VzZXVwJywgZXZ0ZnVuYzp0aGlzLm1vdXNldXAsIGV2dHR5cDonbW91c2V1cCd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24ubW91c2VvdmVyICAgPSB7ZXZ0bmFtZTonbW91c2VvdmVyJywgZXZ0ZnVuYzp0aGlzLm1vdXNlb3ZlciwgZXZ0dHlwOidtb3VzZW92ZXInfTsKCQl0aGlzLmV2dEFzc29jaWF0aW9uLm1vdXNlb3V0ICAgID0ge2V2dG5hbWU6J21vdXNlb3V0JywgZXZ0ZnVuYzp0aGlzLm1vdXNlb3V0LCBldnR0eXA6J21vdXNlb3V0J307CgkJdGhpcy5ldnRBc3NvY2lhdGlvbi5jbGljayAgICAgICA9IHtldnRuYW1lOidjbGljaycsIGV2dGZ1bmM6dGhpcy5jbGljaywgZXZ0dHlwOidjbGljayd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24uZGJsY2xpY2sgICAgPSB7ZXZ0bmFtZTonZGJsY2xpY2snLCBldnRmdW5jOnRoaXMuZGJsY2xpY2ssIGV2dHR5cDonZGJsY2xpY2snfTsKCQl0aGlzLmV2dEFzc29jaWF0aW9uLmtleWRvd24gICAgID0ge2V2dG5hbWU6J2tleWRvd24nLCBldnRmdW5jOnRoaXMua2V5ZG93biwgZXZ0dHlwOidrZXlkb3duJ307CgkJdGhpcy5ldnRBc3NvY2lhdGlvbi5rZXl1cCAgICAgICA9IHtldnRuYW1lOidrZXl1cCcsIGV2dGZ1bmM6dGhpcy5rZXl1cCwgZXZ0dHlwOidrZXl1cCd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24ua2V5cHJlc3MgICAgPSB7ZXZ0bmFtZTona2V5cHJlc3MnLCBldnRmdW5jOnRoaXMua2V5cHJlc3MsIGV2dHR5cDona2V5cHJlc3MnfTsKCQl0aGlzLmV2dEFzc29jaWF0aW9uLmN0cmxjbGljayAgID0ge2V2dG5hbWU6J2N0cmxjbGljaycsIGV2dGZ1bmM6dGhpcy5jdHJsY2xpY2ssIGV2dHR5cDonY2xpY2snfTsKCQl0aGlzLmV2dEFzc29jaWF0aW9uLmJvcmRlciAgICAgID0ge2V2dG5hbWU6J2JvcmRlcicsIGV2dGZ1bmM6dGhpcy5ib3JkZXIsIGV2dHR5cDonbW91c2Vtb3ZlJ307CgkJdGhpcy5ldnRBc3NvY2lhdGlvbi5jb3JuZXIgICAgICA9IHtldnRuYW1lOidjb3JuZXInLCBldnRmdW5jOnRoaXMuYm9yZGVyLCBldnR0eXA6J21vdXNlbW92ZSd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24uZHJhZ3N0YXJ0ICAgPSB7ZXZ0bmFtZTonZHJhZ3N0YXJ0JywgZXZ0ZnVuYzp0aGlzLm1vdXNlbW92ZSwgZXZ0dHlwOidtb3VzZW1vdmUnfTsKCQl0aGlzLmV2dEFzc29jaWF0aW9uLmRyYWdzdG9wICAgID0ge2V2dG5hbWU6J2RyYWdzdG9wJywgZXZ0ZnVuYzp0aGlzLm1vdXNldXAsIGV2dHR5cDonbW91c2V1cCd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24uY2hhbmdlICAgICAgPSB7ZXZ0bmFtZTonY2hhbmdlJywgZXZ0ZnVuYzp0aGlzLmNoYW5nZSwgZXZ0dHlwOidjaGFuZ2UnfTsKCQl0aGlzLmV2dEFzc29jaWF0aW9uLmNoYW5nZWNvbG9yID0ge2V2dG5hbWU6J2NoYW5nZScsIGV2dGZ1bmM6dGhpcy5jaGFuZ2UsIGV2dHR5cDonY2hhbmdlJ307CgkJdGhpcy5ldnRBc3NvY2lhdGlvbi5zZWxlY3QgICAgICA9IHtldnRuYW1lOidzZWxlY3QnLCBldnRmdW5jOnRoaXMuY2hhbmdlLCBldnR0eXA6J2NoYW5nZSd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24udW5zZWxlY3QgICAgPSB7ZXZ0bmFtZTondW5zZWxlY3QnLCBldnRmdW5jOnRoaXMuY2hhbmdlLCBldnR0eXA6J2NoYW5nZSd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24udmFsdWVjaGFuZ2UgPSB7ZXZ0bmFtZTondmFsdWVjaGFuZ2UnLCBldnRmdW5jOnRoaXMuY2hhbmdlLCBldnR0eXA6J2NoYW5nZSd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24udGltZWNoYW5nZSAgPSB7ZXZ0bmFtZTondGltZWNoYW5nZScsIGV2dGZ1bmM6dGhpcy50aW1lY2hhbmdlLCBldnR0eXA6J2NoYW5nZSd9OwoJCXRoaXMuZXZ0QXNzb2NpYXRpb24ubG9hZCAgICAgICAgPSB7ZXZ0bmFtZTonbG9hZCcsIGV2dGZ1bmM6dGhpcy50aW1lY2hhbmdlLCBldnR0eXA6J2NoYW5nZSd9OwoJfQp9CgpWRE9NX09iamVjdC5wcm90b3R5cGUuZXhlY0V2ZW50ID0gZnVuY3Rpb24oZSkKewoJaWYgKHRoaXMuZXZlbnRFbmdpbmUgIT09IG51bGwpIHsKCQl0aGlzLmV2ZW50RW5naW5lLnByb2Nlc3NFdmVudChlLCB0aGlzKTsKCX0gZWxzZSB7CgkJd2luZG93LnN0YXR1cyA9ICdFUlJPUlsnK3RoaXMubmFtZSsnLicrZS5uYW1lKyddOiBldmVudEVuZ2luZSAtIGJhZCBvYmplY3QgcmVmZXJlbmNlJzsKCX0KfTsKClZET01fT2JqZWN0LnByb3RvdHlwZS50aW1lY2hhbmdlID0gZnVuY3Rpb24oZXZudCkKewoJdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7Cgl2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwoJdmRvbUV2ZW50Lm5hbWUgPSAndGltZWNoYW5nZSc7Cgl2YXIgdCA9IG5ldyBEYXRlKCk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd0aW1lJywgdCk7Cgl0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwp9OwoKVkRPTV9PYmplY3QucHJvdG90eXBlLm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGV2bnQpCnsKCXZhciBldnQgPSBldm50IHx8IHdpbmRvdy5ldmVudDsKCXZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwoJdmRvbUV2ZW50LnNyY09iaiA9IHRoaXMuZG9tQ29udDsKCXZkb21FdmVudC5uYW1lID0gJ21vdXNlbW92ZSc7CgkJdmFyIHggPSBldnQubGF5ZXJYID8gZXZ0LmxheWVyWCA6IGV2dC5vZmZzZXRYOwoJCXZhciB5ID0gZXZ0LmxheWVyWSA/IGV2dC5sYXllclkgOiBldnQub2Zmc2V0WTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCB4KTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCB5KTsKCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CgkvKiBkcmFnICovCglpZiAoZHJhZ19jdXJyZW50X29iaiAhPT0gbnVsbCAmJiBkcmFnX21vdXNlX2Rvd24gPT09IHRydWUpIHsKCQlkcmFnX2N1cnJlbnRfZXZlbnQgPSBldnQ7Cgl9Cn07CgpWRE9NX09iamVjdC5wcm90b3R5cGUubW91c2Vkb3duID0gZnVuY3Rpb24oZXZudCkKewoJdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwoJCXZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwoJdmRvbUV2ZW50LnNyY09iaiA9IHRoaXMuZG9tQ29udDsKCXZkb21FdmVudC5uYW1lID0gJ21vdXNlZG93bic7CgkJdmFyIHggPSBldnQubGF5ZXJYID8gZXZ0LmxheWVyWCA6IGV2dC5vZmZzZXRYOwoJCXZhciB5ID0gZXZ0LmxheWVyWSA/IGV2dC5sYXllclkgOiBldnQub2Zmc2V0WTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCB4KTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCB5KTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2J1dHRvbicsIGV2dC5idXR0b24pOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignYWx0S2V5JywgZXZ0LmFsdEtleSk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdjdHJsS2V5JywgZXZ0LmN0cmxLZXkpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignc2hpZnRLZXknLCBldnQuc2hpZnRLZXkpOwoJdGhpcy5leGVjRXZlbnQodmRvbUV2ZW50KTsKCglkcmFnX2N1cnJlbnRfZXZlbnQgPSBldnQ7Cn07CgpWRE9NX09iamVjdC5wcm90b3R5cGUubW91c2V1cCA9IGZ1bmN0aW9uKGV2bnQpCnsKCXZhciBldnQgPSBldm50IHx8IHdpbmRvdy5ldmVudDsKCXZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwoJdmRvbUV2ZW50LnNyY09iaiA9IHRoaXMuZG9tQ29udDsKCXZkb21FdmVudC5uYW1lID0gJ21vdXNldXAnOwoJCXZhciB4ID0gZXZ0LmxheWVyWCA/IGV2dC5sYXllclggOiBldnQub2Zmc2V0WDsKCQl2YXIgeSA9IGV2dC5sYXllclkgPyBldnQubGF5ZXJZIDogZXZ0Lm9mZnNldFk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd4JywgeCk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd5JywgeSk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdidXR0b24nLCBldnQuYnV0dG9uKTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2FsdEtleScsIGV2dC5hbHRLZXkpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignY3RybEtleScsIGV2dC5jdHJsS2V5KTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3NoaWZ0S2V5JywgZXZ0LnNoaWZ0S2V5KTsKCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CgoJZHJhZ19tb3VzZV9kb3duID0gZmFsc2U7Cn07CgpWRE9NX09iamVjdC5wcm90b3R5cGUubW91c2VvdmVyID0gZnVuY3Rpb24oZXZudCkKewoJdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwoJdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7Cgl2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwoJdmRvbUV2ZW50Lm5hbWUgPSAnbW91c2VvdmVyJzsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCBldnQubGF5ZXJYID8gZXZ0LmxheWVyWCA6IGV2dC5vZmZzZXRYKTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCBldnQubGF5ZXJZID8gZXZ0LmxheWVyWSA6IGV2dC5vZmZzZXRZKTsKCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7Cn07CgpWRE9NX09iamVjdC5wcm90b3R5cGUubW91c2VvdXQgPSBmdW5jdGlvbihldm50KQp7Cgl2YXIgZXZ0ID0gZXZudCB8fCB3aW5kb3cuZXZlbnQ7Cgl2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKCXZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7Cgl2ZG9tRXZlbnQubmFtZSA9ICdtb3VzZW91dCc7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd4JywgZXZ0LmxheWVyWCA/IGV2dC5sYXllclggOiBldnQub2Zmc2V0WCk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd5JywgZXZ0LmxheWVyWSA/IGV2dC5sYXllclkgOiBldnQub2Zmc2V0WSk7Cgl0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwp9OwoKVkRPTV9PYmplY3QucHJvdG90eXBlLmNsaWNrID0gZnVuY3Rpb24oZXZudCkKewoJdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwoJdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7Cgl2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwoJdmRvbUV2ZW50Lm5hbWUgPSAnY2xpY2snOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneCcsIGV2dC5sYXllclggPyBldnQubGF5ZXJYIDogZXZ0Lm9mZnNldFgpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneScsIGV2dC5sYXllclkgPyBldnQubGF5ZXJZIDogZXZ0Lm9mZnNldFkpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignYnV0dG9uJywgZXZ0LmJ1dHRvbik7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdhbHRLZXknLCBldnQuYWx0S2V5KTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2N0cmxLZXknLCBldnQuY3RybEtleSk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdzaGlmdEtleScsIGV2dC5zaGlmdEtleSk7Cgl0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwp9OwoKVkRPTV9PYmplY3QucHJvdG90eXBlLmRibGNsaWNrID0gZnVuY3Rpb24oZXZudCkKewoJdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwoJdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7Cgl2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwoJdmRvbUV2ZW50Lm5hbWUgPSAnZGJsY2xpY2snOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneCcsIGV2dC5sYXllclggPyBldnQubGF5ZXJYIDogZXZ0Lm9mZnNldFgpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneScsIGV2dC5sYXllclkgPyBldnQubGF5ZXJZIDogZXZ0Lm9mZnNldFkpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignYnV0dG9uJywgZXZ0LmJ1dHRvbik7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdhbHRLZXknLCBldnQuYWx0S2V5KTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2N0cmxLZXknLCBldnQuY3RybEtleSk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdzaGlmdEtleScsIGV2dC5zaGlmdEtleSk7Cgl0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwp9OwoKVkRPTV9PYmplY3QucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbihldm50KQp7Cgl2YXIgZXZ0ID0gZXZudCB8fCB3aW5kb3cuZXZlbnQ7Cgl2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKCXZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7Cgl2ZG9tRXZlbnQubmFtZSA9ICdrZXlkb3duJzsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2tleUNvZGUnLCBldnQua2V5Q29kZSk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdhbHRLZXknLCBldnQuYWx0S2V5KTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2N0cmxLZXknLCBldnQuY3RybEtleSk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdzaGlmdEtleScsIGV2dC5zaGlmdEtleSk7Cgl0aGlzLmV4ZWNFdmVudCh2ZG9tRXZlbnQpOwp9OwoKVkRPTV9PYmplY3QucHJvdG90eXBlLmtleXVwID0gZnVuY3Rpb24oZXZudCkKewoJdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwoJdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7Cgl2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwoJdmRvbUV2ZW50Lm5hbWUgPSAna2V5dXAnOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigna2V5Q29kZScsIGV2dC5rZXlDb2RlKTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2FsdEtleScsIGV2dC5hbHRLZXkpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignY3RybEtleScsIGV2dC5jdHJsS2V5KTsKCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3NoaWZ0S2V5JywgZXZ0LnNoaWZ0S2V5KTsKCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7Cn07CgpWRE9NX09iamVjdC5wcm90b3R5cGUua2V5cHJlc3MgPSBmdW5jdGlvbihldm50KQp7Cgl2YXIgZXZ0ID0gZXZudCB8fCB3aW5kb3cuZXZlbnQ7Cgl2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKCXZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7Cgl2ZG9tRXZlbnQubmFtZSA9ICdrZXlwcmVzcyc7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdrZXlDb2RlJywgZXZ0LmtleUNvZGUpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignYWx0S2V5JywgZXZ0LmFsdEtleSk7Cgl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdjdHJsS2V5JywgZXZ0LmN0cmxLZXkpOwoJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignc2hpZnRLZXknLCBldnQuc2hpZnRLZXkpOwoJdGhpcy5leGVjRXZlbnQodmRvbUV2ZW50KTsKfTsKClZET01fT2JqZWN0LnByb3RvdHlwZS5jaGFuZ2UgPSBmdW5jdGlvbihldm50KQp7Cgl2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKCXZkb21FdmVudC5zcmNPYmogPSB0aGlzLmRvbUNvbnQ7CglpZiAodGhpcy5kb21Db250LmZpcnN0Q2hpbGQgJiYgdGhpcy5kb21Db250LmZpcnN0Q2hpbGQudHlwZSA9PSAnY2hlY2tib3gnKSB7CgkJdmRvbUV2ZW50Lm5hbWUgPSB0aGlzLmRvbUNvbnQuZmlyc3RDaGlsZC5jaGVja2VkID8gJ3NlbGVjdCcgOiAndW5zZWxlY3QnOwoJCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7Cgl9IGVsc2UKCWlmICh0aGlzLmRvbUNvbnQudGFnTmFtZSA9PSAnU0VMRUNUJykgewoJCXZkb21FdmVudC5uYW1lID0gJ3ZhbHVlY2hhbmdlJzsKCQl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdpdGVtJywgJycpOyAvKiAhISEgKi8KCQl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdpdGVtVmFsdWUnLCB0aGlzLmRvbUNvbnQudmFsdWUpOwoJCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7Cgl9IGVsc2UgewoJCXZkb21FdmVudC5uYW1lID0gJ3ZhbHVlY2hhbmdlJzsKCQl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdpdGVtVmFsdWUnLCB0aGlzLmRvbUNvbnQudmFsdWUpOwoJCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7Cgl9Cn07CgovKiBDVVNUT00gRVZFTlRTICovCgpWRE9NX09iamVjdC5wcm90b3R5cGUuY3RybGNsaWNrID0gZnVuY3Rpb24oZXZudCkKewoJdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwoJaWYgKGV2dC5jdHJsS2V5ID09IDEpIHsKCQl2YXIgdmRvbUV2ZW50ID0gbmV3IFZET01fRXZlbnQoKTsKCQl2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwoJCXZkb21FdmVudC5uYW1lID0gJ2N0cmxjbGljayc7CgkJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigneCcsIGV2dC5sYXllclggPyBldnQubGF5ZXJYIDogZXZ0Lm9mZnNldFgpOwoJCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCBldnQubGF5ZXJZID8gZXZ0LmxheWVyWSA6IGV2dC5vZmZzZXRZKTsKCQl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdrZXlDb2RlJywgZXZ0LmtleUNvZGUpOwoJCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2FsdEtleScsIGV2dC5hbHRLZXkpOwoJCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ2N0cmxLZXknLCBldnQuY3RybEtleSk7CgkJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcignc2hpZnRLZXknLCBldnQuc2hpZnRLZXkpOwoJCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7Cgl9Cn07CgpWRE9NX09iamVjdC5wcm90b3R5cGUuYm9yZGVyID0gZnVuY3Rpb24oZXZudCkKewoJdmFyIGV2dCA9IGV2bnQgfHwgd2luZG93LmV2ZW50OwoJdmFyIHZkb21FdmVudCA9IG5ldyBWRE9NX0V2ZW50KCk7Cgl2ZG9tRXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwoJdmFyIHggPSBldnQubGF5ZXJYID8gZXZ0LmxheWVyWCA6IGV2dC5vZmZzZXRYOwoJdmFyIHkgPSBldnQubGF5ZXJZID8gZXZ0LmxheWVyWSA6IGV2dC5vZmZzZXRZOwoJdmFyIHJpZ2h0ICA9ICh4IDw9IHRoaXMuZG9tQ29udC5jbGllbnRXaWR0aCkgJiYgKHggPiB0aGlzLmRvbUNvbnQuY2xpZW50V2lkdGggLSA0KTsKCXZhciBsZWZ0ICAgPSAoeCA+PSAwKSAmJiAoeCA8IDQpOwoJdmFyIHRvcCAgICA9ICh5ID49IDApICYmICh5IDwgNCk7Cgl2YXIgYm90dG9tID0gKHkgPD0gdGhpcy5kb21Db250LmNsaWVudEhlaWdodCkgJiYgKHkgPiB0aGlzLmRvbUNvbnQuY2xpZW50SGVpZ2h0IC0gNCk7CglpZiAodG9wIHx8IGJvdHRvbSB8fCBsZWZ0IHx8IHJpZ2h0KSB7CgkJdmFyIGNvcm5lcjEgPSBsZWZ0ICYmIHRvcDsKCQl2YXIgY29ybmVyMiA9IHJpZ2h0ICYmIHRvcDsKCQl2YXIgY29ybmVyMyA9IHJpZ2h0ICYmIGJvdHRvbTsKCQl2YXIgY29ybmVyNCA9IGxlZnQgJiYgYm90dG9tOwoJCWlmIChjb3JuZXIxIHx8IGNvcm5lcjIgfHwgY29ybmVyMyB8fCBjb3JuZXI0KSB7CgkJCXZhciBwb3MgPSBjb3JuZXIxID8gMSA6IChjb3JuZXIyID8gMiA6IChjb3JuZXIzID8gMyA6IChjb3JuZXI0ID8gNCA6IDApKSk7CgkJCWlmIChwb3MgPiAwKSB7CgkJCQlpZiAoY29ybmVyX2xhc3QgIT0gcG9zKSB7CgkJCQkJY29ybmVyX2xhc3QgPSBwb3M7CgkJCQkJdmRvbUV2ZW50Lm5hbWUgPSAnY29ybmVyJzsKCQkJCQl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdwb3MnLCBwb3MpOwoJCQkJCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCB4KTsKCQkJCQl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd5JywgeSk7CgkJCQkJdGhpcy5leGVjRXZlbnQodmRvbUV2ZW50KTsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCXZhciBwb3MgPSByaWdodCA/ICdyaWdodCcgOiAobGVmdCA/ICdsZWZ0JyA6ICh0b3AgPyAndG9wJyA6IChib3R0b20gPyAnYm90dG9tJyA6ICcnKSkpOwoJCQlpZiAocG9zICE9ICcnICYmIGJvcmRlcl9sYXN0ICE9IHBvcykgewoJCQkJYm9yZGVyX2xhc3QgPSBwb3M7CgkJCQl2ZG9tRXZlbnQubmFtZSA9ICdib3JkZXInOwoJCQkJdmRvbUV2ZW50LmFkZFBhcmFtZXRlcigncG9zJywgcG9zKTsKCQkJCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3gnLCB4KTsKCQkJCXZkb21FdmVudC5hZGRQYXJhbWV0ZXIoJ3knLCB5KTsKCQkJCXRoaXMuZXhlY0V2ZW50KHZkb21FdmVudCk7CgkJCX0KCQl9Cgl9Cn07CgovKioKICogcmFzZSBldmVudCB0byBsZXZlbCB1cAogKi8KVkRPTV9PYmplY3QucHJvdG90eXBlLnJpc2VFdmVudCA9IGZ1bmN0aW9uKGVOYW1lLCBlUGFyYW1zLCBlRW5naW5lKQp7Cgl2YXIgbmV3RXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwoJbmV3RXZlbnQuc3JjT2JqID0gdGhpcy5kb21Db250OwoJbmV3RXZlbnQubmFtZSA9IGVOYW1lOwoJZm9yICh2YXIgaSA9IDA7IGkgPCBlUGFyYW1zLmxlbmd0aDsgaSsrKSB7CgkJbmV3RXZlbnQuYWRkUGFyYW1ldGVyKGVQYXJhbXNbaV0uTmFtZSwgZVBhcmFtc1tpXS5WYWx1ZSk7Cgl9CgllRW5naW5lLnByb2Nlc3NFdmVudChuZXdFdmVudCk7Cn07CgovKioKICogcmVnaXN0ZXJFdmVudHMgcHJvY2VkdXJlIHByb3RvdHlwZQogKi8KVkRPTV9PYmplY3QucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnRzID0gZnVuY3Rpb24oZXZlbnRzKQp7Cglmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykgewoJCXZhciBldnRuYW1lID0gZXZlbnRzW2ldOwoJCWlmICh0eXBlb2YgdGhpcy5ldnRBc3NvY2lhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKCQkJaWYgKHR5cGVvZiB0aGlzLmV2dEFzc29jaWF0aW9uW2V2dG5hbWVdICE9PSAndW5kZWZpbmVkJykgewoJCQkJdmFyIGV2dE9iaiA9IHRoaXMuZXZ0QXNzb2NpYXRpb25bZXZ0bmFtZV07CgkJCQlpZiAodHlwZW9mKGV2dE9iaikgPT0gIm9iamVjdCIpIHsKCQkJCQl2ZG9tUmVnaXN0ZXJFdmVudExpc3RlbmVyKHRoaXMsIGV2dE9iai5ldnR0eXAsIGV2dE9iai5ldnRmdW5jLCB0cnVlKTsKCQkJCX0KCQkJfQoJCX0KCX0KfTsKCi8qIGZ1bmN0aW9uIHZkb21SZWdpc3RlckV2ZW50TGlzdGVuZXIodmRvbU9iamVjdCwgZXZlbnRUeXBlLCBldmVudExpc3RlbmVyLCB1c2VDYXB0dXJlKSAqLwpjdXN0b21SZWdpc3RlckV2ZW50cyA9IGZ1bmN0aW9uKHBhLG9iLGV2LGFjKQp7Cgl2YXIgbz1mYWxzZSxvcz0nT2JqXycrcGErJ19EaXNwYXRjaGVyJzsKCWV2YWwoImlmICh0eXBlb2YgIitvcysiICE9ICd1bmRlZmluZWQnKSBvPXRydWU7Iik7CglpZiAobykgewoJCWV2YWwoJ29zLmFkZERpc3BhdGNoRXZlbnQoIm9fJytvYisnOicrZXYrJyIsInNlcnZlciIpOycpOwoJfQovKgpDb250YWluZXJfYWExYmMyZjVfYWRmM180YjVkXzg2NzhfZmViMTMwOTgwZjQzX0Rpc3BhdGNoZXI9bmV3IFZET01fRXZlbnREaXNwYXRjaGVyKCk7CkNvbnRhaW5lcl9hYTFiYzJmNV9hZGYzXzRiNWRfODY3OF9mZWIxMzA5ODBmNDNfRGlzcGF0Y2hlci5hZGREaXNwYXRjaEV2ZW50KCJvX2U2MmZmOTAyXzViMWJfNGVlMl85Mjg2XzNhODM5N2VjNjY2YjpjbGljayIsICJzZXJ2ZXIiKQoqLwp9OwoKCi8qKgogKiBWRE9NX0V2ZW50UXVldWUKICovCgpmdW5jdGlvbiBWRE9NX0V2ZW50UXVldWUoKQp7Cgl0aGlzLmV2ZW50UXVldWUgPSBbXTsKCXRoaXMuc2VuZEF2YWlsYWJsZSA9IHRydWU7IC8qIFNob3dzIGlmIHRoZSBxdWV1ZSBpcyByZWFkeSB0byBzZW5kIGV2ZW50cyAqLwp9CgpWRE9NX0V2ZW50UXVldWUucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKCkKewoJaWYgKHRoaXMuZXZlbnRRdWV1ZS5sZW5ndGggPT09IDApIHsgcmV0dXJuICIiOyB9CgkJdmFyIHJlc3VsdFN0ciA9ICI8RVZFTlRTPjxBUFBMSUNBVElPTiBJRD0nIitBUFBMSUNBVElPTl9JRCsiJy8+PFNFU1NJT04gSUQ9JyIrU0VTU0lPTl9JRCsiJy8+IjsKCWZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmVudFF1ZXVlLmxlbmd0aDsgaSsrKSB7CgkJdmFyIGV2bnQgPSB0aGlzLmV2ZW50UXVldWVbaV07CgkJdmFyIHN0ciA9ICI8RVZFTlQgb2JqU3JjSUQ9JyIrZXZudC5zcmNPYmouaWQrIicgbmFtZT0nIitldm50Lm5hbWUrIic+IjsKCQlmb3IgKHZhciBqID0gMDsgaiA8IGV2bnQucGFyYW1ldGVycy5sZW5ndGg7IGorKykgewoJCQl2YXIgcGFyYW0gPSBldm50LnBhcmFtZXRlcnNbal07CgkJCXN0ciArPSAiPFBBUkFNRVRFUiBuYW1lPSciK3BhcmFtLk5hbWUrIic+PCEiKyJbQ0RBVEFbIitwYXJhbS5WYWx1ZSsiXSIrIl0+PC9QQVJBTUVURVI+IjsKCQl9CgkJc3RyKz0iPC9FVkVOVD4iOwoJCXJlc3VsdFN0ciArPSBzdHI7Cgl9CglyZXN1bHRTdHIgKz0gIjwvRVZFTlRTPiI7Cgl0aGlzLmV2ZW50UXVldWUubGVuZ3RoID0gMDsKCXJldHVybiByZXN1bHRTdHI7Cn07CgpWRE9NX0V2ZW50UXVldWUucHJvdG90eXBlLnNlbmRSZXF1ZXN0ID0gZnVuY3Rpb24oc3RyKQp7CgkvKiBzZW5kaW5nIG9mIHRoZSBzZXJpYWxpemVkIHF1ZXVlIHRvIHRoZSBzZXJ2ZXIgKi8KCWlmIChzdHIgIT0gIiIpIHsKCQl0aGlzLnNlbmRBdmFpbGFibGUgPSBmYWxzZTsKCQkvKiBzZW5kRm9ybShzdHIsIGJpbmQodGhpcywgdGhpcy5yZWNlaXZlQW5zd2VyKSk7ICovCgkJdmFyIGZ1bmMgPSBiaW5kKHRoaXMsIHRoaXMucmVjZWl2ZUFuc3dlcik7CgkJJGoucG9zdCgKCQkJU0VSVkVSX1VSTCwKCQkJeyAnZGF0YWZpZWxkJzogc3RyIH0sCgkJCWZ1bmN0aW9uKGQsIHN0YXR1cykgewoJCQkJLyp2YXIgeCA9IGQvLy5yZXBsYWNlKC9cPFwhXFtDREFUQVxbL2dpLCcnKS5yZXBsYWNlKC9cXVxdXD4vZ2ksJycpOyovCgkJCQkvKnZhciB6ID0gJGooJzxkaXYvPicpLmFwcGVuZCh4KTsqLwoJCQkJdmFyIHggPSAnPHJlcz4nICsgZCArICc8L3Jlcz4nOwoJCQkJZnVuYygKCQkJCQkkLnhtbERPTSggeCwgZnVuY3Rpb24oZXJyb3IpewoJCQkJCQkJY29uc29sZS5pbmZvKCd4bWxET00gcGFyc2UgZXJyb3I6ICcgKyBlcnJvcik7CgkJCQkJfSkKCQkJCSk7CgkJCX0sCgkJCSd0ZXh0JwoJCSk7Cgl9Cn07CgoKVkRPTV9FdmVudFF1ZXVlLnByb3RvdHlwZS5yZWNlaXZlQW5zd2VyID0gZnVuY3Rpb24oZG9jKQp7CglpZiAoIWRvYykgeyByZXR1cm47IH0KCglpZiAoJGooJ1NFU1NJT05JU09WRVInLGRvYykuc2l6ZSgpID4gMCkgewoJCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKCQlyZXR1cm47Cgl9CgoJdmFyIGVlID0gJGooJ0VSUk9SJyxkb2MpOwoJaWYgKGVlLnNpemUoKSA+IDApIHsKCQllMnZkb21sb2FkaW5nX2VycihlZS50ZXh0KCkpOwoJCXJldHVybjsKCX0KCgl2YXIgb2JqTGlzdCA9ICRqKCdPQkpFQ1QnLGRvYyk7Cgl2YXIgaSwgcywgcGFwYSwgb2JqSXRlbSwgb2JqVmFsdWUsIG9hLCBvYmpJRCwgb2JqVHlwZSwgb2JqUGFyZW50LCBvYmpDb250YWluZXIsIGVsZW07CgoJZm9yIChpID0gMDsgaSA8IG9iakxpc3QubGVuZ3RoOyBpKyspIHsKCQlvYmpJdGVtID0gb2JqTGlzdFtpXTsKCQlvYmpWYWx1ZSA9ICRqKG9iakl0ZW0pLnRleHQoKTsKCgkJb2EgPSAkaihvYmpMaXN0W2ldKTsKCQlvYmpJRCA9IG9hLmF0dHIoJ0lEJyk7CgkJb2JqVHlwZSA9IG9hLmF0dHIoJ1RZUEUnKTsKCQlvYmpQYXJlbnQgPSBvYS5hdHRyKCdQQVJFTlQnKTsKCQlvYmpDb250YWluZXIgPSBvYS5hdHRyKCdDT05UQUlORVInKTsKCgkJZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvXycrb2JqSUQpOwoJCWlmIChlbGVtKSB7CgoJCQkvL2VsZW0uaW5uZXJIVE1MID0gb2JqVmFsdWU7IC8vIHdyb25nLCBpbWhvIC0gdGFnIG11c3QgYmUgcmVwbGFjZWQgL0xlbwoKCQkJLy8gb3RoZXIgd2F5LCBidXQgdGhpcyBraWxscyBldmVudHMgbGlua3MgZm9yIG9iamVjdAoJCQlwYXBhID0gZWxlbS5wYXJlbnROb2RlOwoJCQlpZiAocGFwYSkgewoJCQkJLy9wYXBhLnJlbW92ZUNoaWxkKGVsZW0pOwoJCQkJJGooZWxlbSkucmVtb3ZlKCk7CgkJCQlzID0gW107CgkJCQkkaignc2NyaXB0JyxvYmpWYWx1ZSkuZWFjaChmdW5jdGlvbigpewoJCQkJCXMucHVzaCggJGoodGhpcykuaHRtbCgpICk7CgkJCQl9KTsKCgkJCQkvKiByZWNyZWF0ZSB2ZG9tIG9iaiAqLwoJCQkJJGooJ3NjcmlwdCcsb2JqVmFsdWUpLnJlbW92ZSgpOwovKgovL09iamVjdF8yZTFiYjY1Y181YWYzXzRkYTdfYWU4NV8wOTFjODQ1ODI4NGU9bmV3IFZET01fVHlwZV85MWExMjI4MV9jOWE4XzQzMGFfOGEyZF85MzkwM2I0YTI2NGYoIm9fMmUxYmI2NWNfNWFmM180ZGE3X2FlODVfMDkxYzg0NTgyODRlIiwgQ29udGFpbmVyX2YyZmE0MjQwX2U3ZGRfNGJmYl9hMTgzXzE5Nzk1M2FmNmNkYl9FdmVudEVuZ2luZSk7CgoJCQkJaWYgKG9ialBhcmVudCAhPSAnJykgewoJCQkJCQlpZiAob2JqQ29udGFpbmVyID09ICcxJykgewoJCQkJCQkJCWV2YWwoJ09iamVjdF8nK29iaklEKyc9bmV3IFZET01fVHlwZV8nK29ialR5cGUrJygib18nK29iaklEKyciLENvbnRhaW5lcl8nK29ialBhcmVudCsnX0V2ZW50RW5naW5lKTsnKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQlldmFsKCdPYmplY3RfJytvYmpJRCsnPW5ldyBWRE9NX1R5cGVfJytvYmpUeXBlKycoIm9fJytvYmpJRCsnIixDb250YWluZXJfJytvYmpQYXJlbnQrJ19FdmVudEVuZ2luZSk7Jyk7CgkJCQkJCX0KCQkJCX0KKi8KCQkJCSRqKHBhcGEpLmFwcGVuZChvYmpWYWx1ZSk7CgoJCQkJLy9pZiAocy5sZW5ndGg+MCkgewoJCQkJLy8JJGouZWFjaChzLGZ1bmN0aW9uKCl7CgkJCQkvLwkJYXR0YWNoU2NyaXB0KHRoaXMpOwoJCQkJLy8JfSk7CgkJCQkvL30KCQkJfQoKCQkJLy8gdG9kbzogdHJ5IHVwZGF0ZSBwYXJhbWV0ZXJzIGZvciBvYmplY3RzCgkJfQoJCWluaXRFMlZET00oKTsKCX0KCgkvKgoJcHJvY2Vzc2luZyBFWEVDVVRFIGZyb20gc2VydmVyIGFuc3dlcgoKCTxFWEVDVVRFIFNSQ19JRD0iIiBEU1RfSUQ9IiIgQUNUX05BTUU9IiI+PFBBUkFNPjwgISBbIENEQVRBWyAuLi4gXSBdID48L1BBUkFNPjxQQVJBTT48ICEgWyBDREFUQVsgLi4uIF0gXSA+PC9QQVJBTT4uLi48L0VYRUNVVEU+CgkqLwoJdmFyIGEsIGFuYW1lLCBhcGFycywgYWRlc3QsIGpzbjsKCWRvYy5maW5kKCdFWEVDVVRFJykuZWFjaChmdW5jdGlvbigpIHsKCQlhID0gJGoodGhpcyk7CgkJYW5hbWUgPSBhLmF0dHIoJ0FDVF9OQU1FJyk7CgkJYWRlc3QgPSBhLmF0dHIoJ0RTVF9JRCcpOwoJCS8vYXBhcnMgPSBbIGEudGV4dCgpIF07CgkJYXBhcnMgPSBbXTsKCQkkaignUEFSQU0nLGEpLmVhY2goZnVuY3Rpb24oeCx2KXsKCQkJaWYgKCQodikuYXR0cigndHlwZScpICE9ICdvYmonKSB7CgkJCQlhcGFycy5wdXNoKCciJyskKHYpLnRleHQoKS5yZXBsYWNlKC9cIi9nLCAnXCInKSsnIicpOwoJCQl9IGVsc2UgewoJCQkJYXBhcnMucHVzaCgkKHYpLnRleHQoKSk7CgkJCX0KCQl9KTsKCQlleGVjQWN0aW9uRGlyZWN0KGFuYW1lLCBhcGFycywgYWRlc3QpOwoJfSk7CgoJLyoKCXByb2Nlc3NpbmcgTElTVEVORVIgZnJvbSBzZXJ2ZXIgYW5zd2VyCgoJPExJU1RFTkVSCgkJQ09OVEFJTkVSICAgPSAiYWExYmMyZjVfYWRmM180YjVkXzg2NzhfZmViMTMwOTgwZjQzIgoJCVNSQ19JRCAgICAgID0gIjRhNDQ1MGM5XzEyZWJfNDhiMl84ZWEyX2Y0MDg1MjVkZTIwOSIKCQlFVkVOVF9OQU1FICA9ICJjbGljayIKCQlEU1RfSUQgICAgICA9ICI3MDg1YmQyNl9lNjUzXzQ5MGJfOTA4Zl82MTIwOGMyNjBhODYiCgkJQUNUX05BTUUgICAgPSAiY2xpZW50X2FjdGlvbl9mdW5jdGlvbl9uYW1lIgoJCVBBUkFNUyAgICAgID0gIjEsdHJ1ZSwnc3RyaW5nc3RyaW5nJyIKCS8+CgkqLwoJdmFyIG9iakxpc3QzID0gJGooJ0xJU1RFTkVSJywgZG9jKTsKCXZhciBvLCBvcywgYWN0LCBhYWN0OwoJZm9yIChpID0gMDsgaSA8IG9iakxpc3QzLmxlbmd0aDsgaSsrKSB7CgkJYSA9ICRqKG9iakxpc3QzW2ldKTsKCQlhYWN0ID0gYS5hdHRyKCdBQ1RfTkFNRScpfHwnJzsKCQlvID0gZmFsc2U7CgkJb3MgPSAnQ29udGFpbmVyXycgKyBhLmF0dHIoJ0NPTlRBSU5FUicpICsgJ19EaXNwYXRjaGVyJzsKCQlldmFsKCJpZiAodHlwZW9mICIgKyBvcyArICIgIT0gJ3VuZGVmaW5lZCcpIG89dHJ1ZTsiKTsKCQlpZiAobykgewoJCQlhY3QgPSAoYWFjdCA9PSAnc2VydmVyJykgPyAnc2VydmVyJyA6ICdPYmpfJyArIGEuYXR0cignRFNUX0lEJykgKyAnOicgKyBhYWN0ICsgJygnICsgYS5hdHRyKCdQQVJBTVMnKSArICcpJzsKCQkJZXZhbChvcyArICcuYWRkRGlzcGF0Y2hFdmVudCgib18nICsgYS5hdHRyKCdTUkNfSUQnKSArICc6JyArIGEuYXR0cignRVZFTlRfTkFNRScpICsgJyIsIicgKyBhY3QgKyAnIik7Jyk7CgkJfQoKLy9Db250YWluZXJfZjJmYTQyNDBfZTdkZF80YmZiX2ExODNfMTk3OTUzYWY2Y2RiX0Rpc3BhdGNoZXIuYWRkRGlzcGF0Y2hFdmVudCgib185NTE4MjY4MV9jMTY1XzQzZjZfYTM2Y182ODkyZjFjODBjZDI6Y2xpY2siLCAiT2JqZWN0X2IwMDhhOGU2XzY0YTFfNDBkMl85YThlXzk3NDFmNjVjYzc5ODpzZXRIVE1MKCdjb3Vjb3UnKSIpOwoKLy9WRE9NX0V2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYWRkRGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50U3JjLCBhY3Rpb25UZ3QpIHsKLy9ldmVudFNyYyBtdXN0IGJlIGluICI6IiBub3RhdGlvbiBsaWtlIG9iamVjdG5hbWU6ZXZlbnRuYW1lIC0gKGkuZSB2ZG9tb2JqMTptb3VzZXVwKQovL2FjdGlvblRndCBtdXN0IGJlIGluICI6IiBub3RhdGlvbiBhbHNvCgoJfQoKCS8vZW5kIG9mIHByb2Nlc3NpbmcgdGhlIHNlcnZlciBhbnN3ZXIsIHRyeWluZyB0byBzZW5kIGEgcXVldWUKCXRoaXMuc2VuZEF2YWlsYWJsZSA9IHRydWU7Cgl0aGlzLmNoZWNrRm9yU2VuZGluZygpOwp9OwoKVkRPTV9FdmVudFF1ZXVlLnByb3RvdHlwZS5hZGRFdmVudCA9IGZ1bmN0aW9uKHZlKQp7Cgl0aGlzLmV2ZW50UXVldWUucHVzaCh2ZSk7Cgl0aGlzLmNoZWNrRm9yU2VuZGluZygpOwp9OwoKVkRPTV9FdmVudFF1ZXVlLnByb3RvdHlwZS5jaGVja0ZvclNlbmRpbmcgPSBmdW5jdGlvbigpCnsKCWlmICh0aGlzLnNlbmRBdmFpbGFibGUgJiYgdGhpcy5ldmVudFF1ZXVlLmxlbmd0aCA+IDApIHsKCQl2YXIgc3RyID0gdGhpcy5zZXJpYWxpemUoKTsKCQl0aGlzLnNlbmRSZXF1ZXN0KHN0cik7Cgl9Cn07CgoKLyoqCiAqIERSQUcvRFJPUAogKi8KCi8qKgogKiB3ZSByZXNwZWN0IGV2ZXJ5IGluZGl2aWR1YWwsIHdlIHVuZGVyc3RhbmQgdGhlaXIgdHJhaXRzLi4KICovCmZ1bmN0aW9uIGRyYWdGaXhFXyhlKQp7CglpZiAodHlwZW9mIGUgPT0gJ3VuZGVmaW5lZCcpIHsgZSA9IHdpbmRvdy5ldmVudDsgfQoJaWYgKHR5cGVvZiBlLmxheWVyWCA9PSAndW5kZWZpbmVkJykgeyBlLmxheWVyWCA9IGUub2Zmc2V0WDsgfQoJaWYgKHR5cGVvZiBlLmxheWVyWSA9PSAndW5kZWZpbmVkJykgeyBlLmxheWVyWSA9IGUub2Zmc2V0WTsgfQoJcmV0dXJuIGU7Cn0KCmZ1bmN0aW9uIGRyYWdJbml0XyhvLCBldnQpCnsKCWRyYWdfY3VycmVudF9vYmogPSBvOwoJdmFyIG9Sb290ID0gZG9jdW1lbnQ7CglvLnJvb3QgPSBvUm9vdCAhPT0gbnVsbCA/IG9Sb290IDogbzsKCglkcmFnU3RhcnRfKCk7CgoJZG9jdW1lbnQub25tb3VzZW1vdmUgPSBkcmFnRHJhZ187Cglkb2N1bWVudC5vbm1vdXNldXAgPSBkcmFnU3RvcF87Cn0KCmZ1bmN0aW9uIGRyYWdTdGFydF8oKQp7Cgl2YXIgZSA9IGRyYWdfY3VycmVudF9ldmVudDsKCWUgPSBkcmFnRml4RV8oZSk7CgoJdmFyIHkgPSBwYXJzZUludChkcmFnX2N1cnJlbnRfb2JqLnN0eWxlLnRvcCwgMTApOwoJdmFyIHggPSBwYXJzZUludChkcmFnX2N1cnJlbnRfb2JqLnN0eWxlLmxlZnQsIDEwKTsKCWRyYWdfY3VycmVudF9vYmouc3R5bGUuekluZGV4ID0gKytoaWdoZXN0WmluZGV4OwoKCWRyYWdfbGFzdE1vdXNlWCA9IGRlZlBvc2l0aW9uKGUpLng7CglkcmFnX2xhc3RNb3VzZVkgPSBkZWZQb3NpdGlvbihlKS55OwoKCWRyYWdfbWF4TW91c2VYID0gZS5jbGllbnRYICsgeDsKCWRyYWdfbWF4TW91c2VZID0gZS5jbGllbnRYICsgeDsKCWRyYWdfbWluTW91c2VYID0gZS5jbGllbnRZICsgeTsKCWRyYWdfbWluTW91c2VZID0gZS5jbGllbnRZICsgeTsKCglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGRyYWdEcmFnXyhlKQp7CgllID0gZHJhZ0ZpeEVfKGUpOwoKCXZhciBleSA9IGRlZlBvc2l0aW9uKGUpLnk7Cgl2YXIgZXggPSBkZWZQb3NpdGlvbihlKS54OwoKCXZhciB5ID0gcGFyc2VJbnQoZHJhZ19jdXJyZW50X29iai5zdHlsZS50b3AsIDEwKTsKCXZhciB4ID0gcGFyc2VJbnQoZHJhZ19jdXJyZW50X29iai5zdHlsZS5sZWZ0LCAxMCk7CgoJdmFyIG54ID0geCAtIChleCAtIGRyYWdfbGFzdE1vdXNlWCkgKiAoLTEpOwoJdmFyIG55ID0geSAtIChleSAtIGRyYWdfbGFzdE1vdXNlWSkgKiAoLTEpOwoKCWRyYWdfY3VycmVudF9vYmouc3R5bGUudG9wID0gbnkgKyAicHgiOwoJZHJhZ19jdXJyZW50X29iai5zdHlsZS5sZWZ0ID0gbnggKyAicHgiOwoJZHJhZ19sYXN0TW91c2VYID0gZXg7CglkcmFnX2xhc3RNb3VzZVkgPSBleTsKCglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGRyYWdTdG9wXygpCnsKCWRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDsKCWRvY3VtZW50Lm9ubW91c2V1cCAgID0gbnVsbDsKCWRyYWdfY3VycmVudF9vYmogPSBudWxsOwoJZHJhZ19tb3VzZV9kb3duID0gZmFsc2U7CglkcmFnX2xhc3RNb3VzZVggPSBkcmFnX2xhc3RNb3VzZVkgPSAwOwp9CgovKioKICogZmluZCBkaXYgd2l0aCBtYXggekluZGV4LgogKiB0aGlzIGluZm8gbmVlZGVkIGluIGRyYWcnbidkcm9wCiAqLwp2YXIgYSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKTsKZm9yICh2YXIgaXogPSAwOyBpeiA8IGEubGVuZ3RoOyBpeisrKSB7CglpZiAoYVtpel0uc3R5bGUuekluZGV4KSB7CgkJaWYgKGFbaXpdLnN0eWxlLnpJbmRleCA+IGhpZ2hlc3RaaW5kZXgpIHsKCQkJaGlnaGVzdFppbmRleCA9IGFbaXpdLnN0eWxlLnpJbmRleDsKCQl9Cgl9Cn0KCmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JFdmVudChtc2cpCnsKCWNvbnNvbGUud2Fybihtc2cpOwovKgoJdmFyIHBybSA9IHsgbXNnOiBtc2cgfTsKCWV4ZWNFdmVudEN1c3RvbSgnZXJyb3JldmVudGVuZ2luZScsIHRoaXMsIHBybSwgdGhpcyk7CiovCn0KCi8qKgogKiBnZW5lcmF0ZSBzaW5nbGUgZXZlbnQKICovCmZ1bmN0aW9uIGV4ZWNFdmVudEN1c3RvbShldnROYW1lLCBzcmNwLCBwYXJhbXMsIHRhcmdldCkKewoJdmFyIG5ldiA9IG5ldyBWRE9NX0V2ZW50KCk7CgluZXYuc3JjT2JqID0gKHNyY3AuZG9tQ29udCkgPyBzcmNwLmRvbUNvbnQgOiBzcmNwOwoJbmV2Lm5hbWUgPSBldnROYW1lOwoJZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKCQluZXYuYWRkUGFyYW1ldGVyKHBhcmFtc1tpXS5OYW1lLCBwYXJhbXNbaV0uVmFsdWUpOwoJfQoJaWYgKHRhcmdldC5ldmVudEVuZ2luZSkgewoJCXRhcmdldC5ldmVudEVuZ2luZS5wcm9jZXNzRXZlbnQobmV2KTsKCX0KfQoKLyoqCiAqIGNhbGwgYmluZGVkIGV2ZW50CiAqLwpmdW5jdGlvbiBleGVjRXZlbnRCaW5kZWQoc3JjSUQsIGV2dE5hbWUsIHBhcmFtcykKewoJdmFyIG8gPSBldmFsKCJPYmpfIitzcmNJRCsiIHx8IG51bGw7Iik7Ci8vCXZhciBlZSA9IGV2YWwoIk9ial8iK3NyY0lEKyIuZXZlbnRFbmdpbmUgfHwgbnVsbDsiKTsKCWlmIChvLyogJiYgZWUqLykgewoKCQlmb3IgKHZhciBpID0gMDsgaSA8IG8uZXZlbnRFbmdpbmUuZXZlbnREaXNwYXRjaGVyLmV2ZW50QXJyYXkubGVuZ3RoOyBpKyspIHsKCQkJaWYgKG8uZXZlbnRFbmdpbmUuZXZlbnREaXNwYXRjaGVyLmV2ZW50QXJyYXlbaV0uZXZlbnRTcmMgPT0gIm9fIitzcmNJRCsiOiIrZXZ0TmFtZSkgewoJCQkJdmFyIGV2ID0gbmV3IFZET01fRXZlbnQoKTsKCQkJCWV2LnNyY09iaiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvXyIrc3JjSUQpOwoJCQkJZXYubmFtZSA9IGV2dE5hbWU7CgkJCQlpZiAocGFyYW1zICE9PSAndW5kZWZpbmVkJykgewoJCQkJCWZvciAodmFyIGsgaW4gcGFyYW1zKSB7CgkJCQkJCWlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkoaykpIHsKCQkJCQkJCWV2LmFkZFBhcmFtZXRlcihrLCBwYXJhbXNba10pOwoJCQkJCQl9CgkJCQkJfQovLwkJCQlmb3IgKHZhciBpPTA7aTxwYXJhbXMubGVuZ3RoO2krKykgewovLwkJCQkJZXYuYWRkUGFyYW1ldGVyKHBhcmFtc1tpXS5OYW1lLCBwYXJhbXNbaV0uVmFsdWUpOwovLwkJCQl9CgkJCQl9CgkJCQlvLmV2ZW50RW5naW5lLnByb2Nlc3NFdmVudChldik7CgkJCX0KCQl9CgoJfSBlbHNlIHsKCX0KfQoKLyoqCiAqIGV4ZWN1dGUgc2luZ2xlIGFjdGlvbiBkaXJlY3RseQogKi8KZnVuY3Rpb24gZXhlY0FjdGlvbkRpcmVjdChhY3ROYW1lLCBwYXJhbXMsIHRhcmdldCkKewoJdmFyIGYgPSAiT2JqXyIrdGFyZ2V0KyIuIithY3ROYW1lOwpjb25zb2xlLmluZm8oJ2V4ZWNBY3Rpb25EaXJlY3Q6Jyk7CmNvbnNvbGUuaW5mbyhwYXJhbXMpOwoJdmFyIHAgPSAocGFyYW1zIGluc3RhbmNlb2YgQXJyYXkpID8gcGFyYW1zLmpvaW4oIiwiKSA6IHBhcmFtczsKCXAgPSBwLnJlcGxhY2UoL1xuL2csICdcXG4nKTsKCXRyeSB7CmNvbnNvbGUuaW5mbyhmKyIoIitwKyIpOyIpOwoJCWV2YWwoZisiKCIrcCsiKTsiKTsKCX0gY2F0Y2goZXgpIHsKCQlnZW5lcmF0ZUVycm9yRXZlbnQoJ0VSUk9SIGV4ZWNBY3Rpb25EaXJlY3Qgb24gZXZhbDogJytmKyIoIitwKyIpOyIpOwoJfQp9Cg==]]></Resource>
    <Resource ID="113513d0-ebae-42c4-9bdf-44ebf7828910" Name="jquery_etc" Type="js"><![CDATA[LyogM3JkLnAubGlicywgbG1kOiAyMDExLTA0LTE5ICovCgovKiBqUXVlcnkgMS41LjIgaHR0cDovL2pxdWVyeS5jb20gKi8KKGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gY2koYSl7cmV0dXJuIGQuaXNXaW5kb3coYSk/YTphLm5vZGVUeXBlPT09OT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1mdW5jdGlvbiBjZihhKXtpZighYl9bYV0pe3ZhciBiPWQoIjwiK2ErIj4iKS5hcHBlbmRUbygiYm9keSIpLGM9Yi5jc3MoImRpc3BsYXkiKTtiLnJlbW92ZSgpO2lmKGM9PT0ibm9uZSJ8fGM9PT0iIiljPSJibG9jayI7Yl9bYV09Y31yZXR1cm4gYl9bYV19ZnVuY3Rpb24gY2UoYSxiKXt2YXIgYz17fTtkLmVhY2goY2QuY29uY2F0LmFwcGx5KFtdLGNkLnNsaWNlKDAsYikpLGZ1bmN0aW9uKCl7Y1t0aGlzXT1hfSk7cmV0dXJuIGN9ZnVuY3Rpb24gYiQoKXt0cnl7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX1mdW5jdGlvbiBiWigpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBiWSgpe2QoYSkudW5sb2FkKGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGJXKWJXW2FdKDAsMSl9KX1mdW5jdGlvbiBiUyhhLGMpe2EuZGF0YUZpbHRlciYmKGM9YS5kYXRhRmlsdGVyKGMsYS5kYXRhVHlwZSkpO3ZhciBlPWEuZGF0YVR5cGVzLGY9e30sZyxoLGk9ZS5sZW5ndGgsaixrPWVbMF0sbCxtLG4sbyxwO2ZvcihnPTE7ZzxpO2crKyl7aWYoZz09PTEpZm9yKGggaW4gYS5jb252ZXJ0ZXJzKXR5cGVvZiBoPT09InN0cmluZyImJihmW2gudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2hdKTtsPWssaz1lW2ddO2lmKGs9PT0iKiIpaz1sO2Vsc2UgaWYobCE9PSIqIiYmbCE9PWspe209bCsiICIrayxuPWZbbV18fGZbIiogIitrXTtpZighbil7cD1iO2ZvcihvIGluIGYpe2o9by5zcGxpdCgiICIpO2lmKGpbMF09PT1sfHxqWzBdPT09IioiKXtwPWZbalsxXSsiICIra107aWYocCl7bz1mW29dLG89PT0hMD9uPXA6cD09PSEwJiYobj1vKTticmVha319fX0hbiYmIXAmJmQuZXJyb3IoIk5vIGNvbnZlcnNpb24gZnJvbSAiK20ucmVwbGFjZSgiICIsIiB0byAiKSksbiE9PSEwJiYoYz1uP24oYyk6cChvKGMpKSl9fXJldHVybiBjfWZ1bmN0aW9uIGJSKGEsYyxkKXt2YXIgZT1hLmNvbnRlbnRzLGY9YS5kYXRhVHlwZXMsZz1hLnJlc3BvbnNlRmllbGRzLGgsaSxqLGs7Zm9yKGkgaW4gZylpIGluIGQmJihjW2dbaV1dPWRbaV0pO3doaWxlKGZbMF09PT0iKiIpZi5zaGlmdCgpLGg9PT1iJiYoaD1hLm1pbWVUeXBlfHxjLmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKSk7aWYoaClmb3IoaSBpbiBlKWlmKGVbaV0mJmVbaV0udGVzdChoKSl7Zi51bnNoaWZ0KGkpO2JyZWFrfWlmKGZbMF1pbiBkKWo9ZlswXTtlbHNle2ZvcihpIGluIGQpe2lmKCFmWzBdfHxhLmNvbnZlcnRlcnNbaSsiICIrZlswXV0pe2o9aTticmVha31rfHwoaz1pKX1qPWp8fGt9aWYoail7aiE9PWZbMF0mJmYudW5zaGlmdChqKTtyZXR1cm4gZFtqXX19ZnVuY3Rpb24gYlEoYSxiLGMsZSl7aWYoZC5pc0FycmF5KGIpJiZiLmxlbmd0aClkLmVhY2goYixmdW5jdGlvbihiLGYpe2N8fGJzLnRlc3QoYSk/ZShhLGYpOmJRKGErIlsiKyh0eXBlb2YgZj09PSJvYmplY3QifHxkLmlzQXJyYXkoZik/YjoiIikrIl0iLGYsYyxlKX0pO2Vsc2UgaWYoY3x8Yj09bnVsbHx8dHlwZW9mIGIhPT0ib2JqZWN0IillKGEsYik7ZWxzZSBpZihkLmlzQXJyYXkoYil8fGQuaXNFbXB0eU9iamVjdChiKSllKGEsIiIpO2Vsc2UgZm9yKHZhciBmIGluIGIpYlEoYSsiWyIrZisiXSIsYltmXSxjLGUpfWZ1bmN0aW9uIGJQKGEsYyxkLGUsZixnKXtmPWZ8fGMuZGF0YVR5cGVzWzBdLGc9Z3x8e30sZ1tmXT0hMDt2YXIgaD1hW2ZdLGk9MCxqPWg/aC5sZW5ndGg6MCxrPWE9PT1iSixsO2Zvcig7aTxqJiYoa3x8IWwpO2krKylsPWhbaV0oYyxkLGUpLHR5cGVvZiBsPT09InN0cmluZyImJigha3x8Z1tsXT9sPWI6KGMuZGF0YVR5cGVzLnVuc2hpZnQobCksbD1iUChhLGMsZCxlLGwsZykpKTsoa3x8IWwpJiYhZ1siKiJdJiYobD1iUChhLGMsZCxlLCIqIixnKSk7cmV0dXJuIGx9ZnVuY3Rpb24gYk8oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dHlwZW9mIGIhPT0ic3RyaW5nIiYmKGM9YixiPSIqIik7aWYoZC5pc0Z1bmN0aW9uKGMpKXt2YXIgZT1iLnRvTG93ZXJDYXNlKCkuc3BsaXQoYkQpLGY9MCxnPWUubGVuZ3RoLGgsaSxqO2Zvcig7ZjxnO2YrKyloPWVbZl0saj0vXlwrLy50ZXN0KGgpLGomJihoPWguc3Vic3RyKDEpfHwiKiIpLGk9YVtoXT1hW2hdfHxbXSxpW2o/InVuc2hpZnQiOiJwdXNoIl0oYyl9fX1mdW5jdGlvbiBicShhLGIsYyl7dmFyIGU9Yj09PSJ3aWR0aCI/Yms6YmwsZj1iPT09IndpZHRoIj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0O2lmKGM9PT0iYm9yZGVyIilyZXR1cm4gZjtkLmVhY2goZSxmdW5jdGlvbigpe2N8fChmLT1wYXJzZUZsb2F0KGQuY3NzKGEsInBhZGRpbmciK3RoaXMpKXx8MCksYz09PSJtYXJnaW4iP2YrPXBhcnNlRmxvYXQoZC5jc3MoYSwibWFyZ2luIit0aGlzKSl8fDA6Zi09cGFyc2VGbG9hdChkLmNzcyhhLCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwfSk7cmV0dXJuIGZ9ZnVuY3Rpb24gYmMoYSxiKXtiLnNyYz9kLmFqYXgoe3VybDpiLnNyYyxhc3luYzohMSxkYXRhVHlwZToic2NyaXB0In0pOmQuZ2xvYmFsRXZhbChiLnRleHR8fGIudGV4dENvbnRlbnR8fGIuaW5uZXJIVE1MfHwiIiksYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9ZnVuY3Rpb24gYmIoYSl7cmV0dXJuImdldEVsZW1lbnRzQnlUYWdOYW1lImluIGE/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOiJxdWVyeVNlbGVjdG9yQWxsImluIGE/YS5xdWVyeVNlbGVjdG9yQWxsKCIqIik6W119ZnVuY3Rpb24gYmEoYSxiKXtpZihiLm5vZGVUeXBlPT09MSl7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2IuY2xlYXJBdHRyaWJ1dGVzKCksYi5tZXJnZUF0dHJpYnV0ZXMoYSk7aWYoYz09PSJvYmplY3QiKWIub3V0ZXJIVE1MPWEub3V0ZXJIVE1MO2Vsc2UgaWYoYyE9PSJpbnB1dCJ8fGEudHlwZSE9PSJjaGVja2JveCImJmEudHlwZSE9PSJyYWRpbyIpe2lmKGM9PT0ib3B0aW9uIiliLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkO2Vsc2UgaWYoYz09PSJpbnB1dCJ8fGM9PT0idGV4dGFyZWEiKWIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlfWVsc2UgYS5jaGVja2VkJiYoYi5kZWZhdWx0Q2hlY2tlZD1iLmNoZWNrZWQ9YS5jaGVja2VkKSxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSk7Yi5yZW1vdmVBdHRyaWJ1dGUoZC5leHBhbmRvKX19ZnVuY3Rpb24gXyhhLGIpe2lmKGIubm9kZVR5cGU9PT0xJiZkLmhhc0RhdGEoYSkpe3ZhciBjPWQuZXhwYW5kbyxlPWQuZGF0YShhKSxmPWQuZGF0YShiLGUpO2lmKGU9ZVtjXSl7dmFyIGc9ZS5ldmVudHM7Zj1mW2NdPWQuZXh0ZW5kKHt9LGUpO2lmKGcpe2RlbGV0ZSBmLmhhbmRsZSxmLmV2ZW50cz17fTtmb3IodmFyIGggaW4gZylmb3IodmFyIGk9MCxqPWdbaF0ubGVuZ3RoO2k8ajtpKyspZC5ldmVudC5hZGQoYixoKyhnW2hdW2ldLm5hbWVzcGFjZT8iLiI6IiIpK2dbaF1baV0ubmFtZXNwYWNlLGdbaF1baV0sZ1toXVtpXS5kYXRhKX19fX1mdW5jdGlvbiAkKGEsYil7cmV0dXJuIGQubm9kZU5hbWUoYSwidGFibGUiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKTphfWZ1bmN0aW9uIFEoYSxiLGMpe2lmKGQuaXNGdW5jdGlvbihiKSlyZXR1cm4gZC5ncmVwKGEsZnVuY3Rpb24oYSxkKXt2YXIgZT0hIWIuY2FsbChhLGQsYSk7cmV0dXJuIGU9PT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gZC5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gYT09PWI9PT1jfSk7aWYodHlwZW9mIGI9PT0ic3RyaW5nIil7dmFyIGU9ZC5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT0xfSk7aWYoTC50ZXN0KGIpKXJldHVybiBkLmZpbHRlcihiLGUsIWMpO2I9ZC5maWx0ZXIoYixlKX1yZXR1cm4gZC5ncmVwKGEsZnVuY3Rpb24oYSxlKXtyZXR1cm4gZC5pbkFycmF5KGEsYik+PTA9PT1jfSl9ZnVuY3Rpb24gUChhKXtyZXR1cm4hYXx8IWEucGFyZW50Tm9kZXx8YS5wYXJlbnROb2RlLm5vZGVUeXBlPT09MTF9ZnVuY3Rpb24gSChhLGIpe3JldHVybihhJiZhIT09IioiP2ErIi4iOiIiKStiLnJlcGxhY2UodCwiYCIpLnJlcGxhY2UodSwiJiIpfWZ1bmN0aW9uIEcoYSl7dmFyIGIsYyxlLGYsZyxoLGksaixrLGwsbSxuLG8scD1bXSxxPVtdLHM9ZC5fZGF0YSh0aGlzLCJldmVudHMiKTtpZihhLmxpdmVGaXJlZCE9PXRoaXMmJnMmJnMubGl2ZSYmIWEudGFyZ2V0LmRpc2FibGVkJiYoIWEuYnV0dG9ufHxhLnR5cGUhPT0iY2xpY2siKSl7YS5uYW1lc3BhY2UmJihuPW5ldyBSZWdFeHAoIihefFxcLikiK2EubmFtZXNwYWNlLnNwbGl0KCIuIikuam9pbigiXFwuKD86LipcXC4pPyIpKyIoXFwufCQpIikpLGEubGl2ZUZpcmVkPXRoaXM7dmFyIHQ9cy5saXZlLnNsaWNlKDApO2ZvcihpPTA7aTx0Lmxlbmd0aDtpKyspZz10W2ldLGcub3JpZ1R5cGUucmVwbGFjZShyLCIiKT09PWEudHlwZT9xLnB1c2goZy5zZWxlY3Rvcik6dC5zcGxpY2UoaS0tLDEpO2Y9ZChhLnRhcmdldCkuY2xvc2VzdChxLGEuY3VycmVudFRhcmdldCk7Zm9yKGo9MCxrPWYubGVuZ3RoO2o8aztqKyspe209ZltqXTtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKXtnPXRbaV07aWYobS5zZWxlY3Rvcj09PWcuc2VsZWN0b3ImJighbnx8bi50ZXN0KGcubmFtZXNwYWNlKSkmJiFtLmVsZW0uZGlzYWJsZWQpe2g9bS5lbGVtLGU9bnVsbDtpZihnLnByZVR5cGU9PT0ibW91c2VlbnRlciJ8fGcucHJlVHlwZT09PSJtb3VzZWxlYXZlIilhLnR5cGU9Zy5wcmVUeXBlLGU9ZChhLnJlbGF0ZWRUYXJnZXQpLmNsb3Nlc3QoZy5zZWxlY3RvcilbMF07KCFlfHxlIT09aCkmJnAucHVzaCh7ZWxlbTpoLGhhbmRsZU9iajpnLGxldmVsOm0ubGV2ZWx9KX19fWZvcihqPTAsaz1wLmxlbmd0aDtqPGs7aisrKXtmPXBbal07aWYoYyYmZi5sZXZlbD5jKWJyZWFrO2EuY3VycmVudFRhcmdldD1mLmVsZW0sYS5kYXRhPWYuaGFuZGxlT2JqLmRhdGEsYS5oYW5kbGVPYmo9Zi5oYW5kbGVPYmosbz1mLmhhbmRsZU9iai5vcmlnSGFuZGxlci5hcHBseShmLmVsZW0sYXJndW1lbnRzKTtpZihvPT09ITF8fGEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7Yz1mLmxldmVsLG89PT0hMSYmKGI9ITEpO2lmKGEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlicmVha319cmV0dXJuIGJ9fWZ1bmN0aW9uIEUoYSxjLGUpe3ZhciBmPWQuZXh0ZW5kKHt9LGVbMF0pO2YudHlwZT1hLGYub3JpZ2luYWxFdmVudD17fSxmLmxpdmVGaXJlZD1iLGQuZXZlbnQuaGFuZGxlLmNhbGwoYyxmKSxmLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZlWzBdLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24geSgpe3JldHVybiEwfWZ1bmN0aW9uIHgoKXtyZXR1cm4hMX1mdW5jdGlvbiBpKGEpe2Zvcih2YXIgYiBpbiBhKWlmKGIhPT0idG9KU09OIilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBoKGEsYyxlKXtpZihlPT09YiYmYS5ub2RlVHlwZT09PTEpe2U9YS5nZXRBdHRyaWJ1dGUoImRhdGEtIitjKTtpZih0eXBlb2YgZT09PSJzdHJpbmciKXt0cnl7ZT1lPT09InRydWUiPyEwOmU9PT0iZmFsc2UiPyExOmU9PT0ibnVsbCI/bnVsbDpkLmlzTmFOKGUpP2cudGVzdChlKT9kLnBhcnNlSlNPTihlKTplOnBhcnNlRmxvYXQoZSl9Y2F0Y2goZil7fWQuZGF0YShhLGMsZSl9ZWxzZSBlPWJ9cmV0dXJuIGV9dmFyIGM9YS5kb2N1bWVudCxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRygpe2lmKCFkLmlzUmVhZHkpe3RyeXtjLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGEpe3NldFRpbWVvdXQoRywxKTtyZXR1cm59ZC5yZWFkeSgpfX12YXIgZD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgZC5mbi5pbml0KGEsYixnKX0sZT1hLmpRdWVyeSxmPWEuJCxnLGg9L14oPzpbXjxdKig8W1x3XFddKz4pW14+XSokfCMoW1x3XC1dKykkKS8saT0vXFMvLGo9L15ccysvLGs9L1xzKyQvLGw9L1xkLyxtPS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPik/JC8sbj0vXltcXSw6e31cc10qJC8sbz0vXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLHA9LyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLHE9Lyg/Ol58OnwsKSg/OlxzKlxbKSsvZyxyPS8od2Via2l0KVsgXC9dKFtcdy5dKykvLHM9LyhvcGVyYSkoPzouKnZlcnNpb24pP1sgXC9dKFtcdy5dKykvLHQ9Lyhtc2llKSAoW1x3Ll0rKS8sdT0vKG1vemlsbGEpKD86Lio/IHJ2OihbXHcuXSspKT8vLHY9bmF2aWdhdG9yLnVzZXJBZ2VudCx3LHgseSx6PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsQT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEI9QXJyYXkucHJvdG90eXBlLnB1c2gsQz1BcnJheS5wcm90b3R5cGUuc2xpY2UsRD1TdHJpbmcucHJvdG90eXBlLnRyaW0sRT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZixGPXt9O2QuZm49ZC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmQsaW5pdDpmdW5jdGlvbihhLGUsZil7dmFyIGcsaSxqLGs7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYS5ub2RlVHlwZSl7dGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xO3JldHVybiB0aGlzfWlmKGE9PT0iYm9keSImJiFlJiZjLmJvZHkpe3RoaXMuY29udGV4dD1jLHRoaXNbMF09Yy5ib2R5LHRoaXMuc2VsZWN0b3I9ImJvZHkiLHRoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYodHlwZW9mIGE9PT0ic3RyaW5nIil7Zz1oLmV4ZWMoYSk7aWYoIWd8fCFnWzFdJiZlKXJldHVybiFlfHxlLmpxdWVyeT8oZXx8ZikuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGUpLmZpbmQoYSk7aWYoZ1sxXSl7ZT1lIGluc3RhbmNlb2YgZD9lWzBdOmUsaz1lP2Uub3duZXJEb2N1bWVudHx8ZTpjLGo9bS5leGVjKGEpLGo/ZC5pc1BsYWluT2JqZWN0KGUpPyhhPVtjLmNyZWF0ZUVsZW1lbnQoalsxXSldLGQuZm4uYXR0ci5jYWxsKGEsZSwhMCkpOmE9W2suY3JlYXRlRWxlbWVudChqWzFdKV06KGo9ZC5idWlsZEZyYWdtZW50KFtnWzFdXSxba10pLGE9KGouY2FjaGVhYmxlP2QuY2xvbmUoai5mcmFnbWVudCk6ai5mcmFnbWVudCkuY2hpbGROb2Rlcyk7cmV0dXJuIGQubWVyZ2UodGhpcyxhKX1pPWMuZ2V0RWxlbWVudEJ5SWQoZ1syXSk7aWYoaSYmaS5wYXJlbnROb2RlKXtpZihpLmlkIT09Z1syXSlyZXR1cm4gZi5maW5kKGEpO3RoaXMubGVuZ3RoPTEsdGhpc1swXT1pfXRoaXMuY29udGV4dD1jLHRoaXMuc2VsZWN0b3I9YTtyZXR1cm4gdGhpc31pZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIGYucmVhZHkoYSk7YS5zZWxlY3RvciE9PWImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCk7cmV0dXJuIGQubWFrZUFycmF5KGEsdGhpcyl9LHNlbGVjdG9yOiIiLGpxdWVyeToiMS41LjIiLGxlbmd0aDowLHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gQy5jYWxsKHRoaXMsMCl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD90aGlzLnRvQXJyYXkoKTphPDA/dGhpc1t0aGlzLmxlbmd0aCthXTp0aGlzW2FdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMuY29uc3RydWN0b3IoKTtkLmlzQXJyYXkoYSk/Qi5hcHBseShlLGEpOmQubWVyZ2UoZSxhKSxlLnByZXZPYmplY3Q9dGhpcyxlLmNvbnRleHQ9dGhpcy5jb250ZXh0LGI9PT0iZmluZCI/ZS5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyh0aGlzLnNlbGVjdG9yPyIgIjoiIikrYzpiJiYoZS5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyIuIitiKyIoIitjKyIpIik7cmV0dXJuIGV9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5lYWNoKHRoaXMsYSxiKX0scmVhZHk6ZnVuY3Rpb24oYSl7ZC5iaW5kUmVhZHkoKSx4LmRvbmUoYSk7cmV0dXJuIHRoaXN9LGVxOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09LTE/dGhpcy5zbGljZShhKTp0aGlzLnNsaWNlKGEsK2ErMSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEMuYXBwbHkodGhpcyxhcmd1bWVudHMpLCJzbGljZSIsQy5jYWxsKGFyZ3VtZW50cykuam9pbigiLCIpKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Qixzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sZC5mbi5pbml0LnByb3RvdHlwZT1kLmZuLGQuZXh0ZW5kPWQuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYyxlLGYsZyxoLGk9YXJndW1lbnRzWzBdfHx7fSxqPTEsaz1hcmd1bWVudHMubGVuZ3RoLGw9ITE7dHlwZW9mIGk9PT0iYm9vbGVhbiImJihsPWksaT1hcmd1bWVudHNbMV18fHt9LGo9MiksdHlwZW9mIGkhPT0ib2JqZWN0IiYmIWQuaXNGdW5jdGlvbihpKSYmKGk9e30pLGs9PT1qJiYoaT10aGlzLC0taik7Zm9yKDtqPGs7aisrKWlmKChhPWFyZ3VtZW50c1tqXSkhPW51bGwpZm9yKGMgaW4gYSl7ZT1pW2NdLGY9YVtjXTtpZihpPT09Ziljb250aW51ZTtsJiZmJiYoZC5pc1BsYWluT2JqZWN0KGYpfHwoZz1kLmlzQXJyYXkoZikpKT8oZz8oZz0hMSxoPWUmJmQuaXNBcnJheShlKT9lOltdKTpoPWUmJmQuaXNQbGFpbk9iamVjdChlKT9lOnt9LGlbY109ZC5leHRlbmQobCxoLGYpKTpmIT09YiYmKGlbY109Zil9cmV0dXJuIGl9LGQuZXh0ZW5kKHtub0NvbmZsaWN0OmZ1bmN0aW9uKGIpe2EuJD1mLGImJihhLmpRdWVyeT1lKTtyZXR1cm4gZH0saXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihhKXthPT09ITAmJmQucmVhZHlXYWl0LS07aWYoIWQucmVhZHlXYWl0fHxhIT09ITAmJiFkLmlzUmVhZHkpe2lmKCFjLmJvZHkpcmV0dXJuIHNldFRpbWVvdXQoZC5yZWFkeSwxKTtkLmlzUmVhZHk9ITA7aWYoYSE9PSEwJiYtLWQucmVhZHlXYWl0PjApcmV0dXJuO3gucmVzb2x2ZVdpdGgoYyxbZF0pLGQuZm4udHJpZ2dlciYmZChjKS50cmlnZ2VyKCJyZWFkeSIpLnVuYmluZCgicmVhZHkiKX19LGJpbmRSZWFkeTpmdW5jdGlvbigpe2lmKCF4KXt4PWQuX0RlZmVycmVkKCk7aWYoYy5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIilyZXR1cm4gc2V0VGltZW91dChkLnJlYWR5LDEpO2lmKGMuYWRkRXZlbnRMaXN0ZW5lciljLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLHksITEpLGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZC5yZWFkeSwhMSk7ZWxzZSBpZihjLmF0dGFjaEV2ZW50KXtjLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLHkpLGEuYXR0YWNoRXZlbnQoIm9ubG9hZCIsZC5yZWFkeSk7dmFyIGI9ITE7dHJ5e2I9YS5mcmFtZUVsZW1lbnQ9PW51bGx9Y2F0Y2goZSl7fWMuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZiJiZHKCl9fX0saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gZC50eXBlKGEpPT09ImZ1bmN0aW9uIn0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gZC50eXBlKGEpPT09ImFycmF5In0saXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhPT09Im9iamVjdCImJiJzZXRJbnRlcnZhbCJpbiBhfSxpc05hTjpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbHx8IWwudGVzdChhKXx8aXNOYU4oYSl9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/U3RyaW5nKGEpOkZbei5jYWxsKGEpXXx8Im9iamVjdCJ9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7aWYoIWF8fGQudHlwZShhKSE9PSJvYmplY3QifHxhLm5vZGVUeXBlfHxkLmlzV2luZG93KGEpKXJldHVybiExO2lmKGEuY29uc3RydWN0b3ImJiFBLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIUEuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExO3ZhciBjO2ZvcihjIGluIGEpe31yZXR1cm4gYz09PWJ8fEEuY2FsbChhLGMpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfSxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBhfSxwYXJzZUpTT046ZnVuY3Rpb24oYil7aWYodHlwZW9mIGIhPT0ic3RyaW5nInx8IWIpcmV0dXJuIG51bGw7Yj1kLnRyaW0oYik7aWYobi50ZXN0KGIucmVwbGFjZShvLCJAIikucmVwbGFjZShwLCJdIikucmVwbGFjZShxLCIiKSkpcmV0dXJuIGEuSlNPTiYmYS5KU09OLnBhcnNlP2EuSlNPTi5wYXJzZShiKToobmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitiKSkoKTtkLmVycm9yKCJJbnZhbGlkIEpTT046ICIrYil9LHBhcnNlWE1MOmZ1bmN0aW9uKGIsYyxlKXthLkRPTVBhcnNlcj8oZT1uZXcgRE9NUGFyc2VyLGM9ZS5wYXJzZUZyb21TdHJpbmcoYiwidGV4dC94bWwiKSk6KGM9bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKSxlPWMuZG9jdW1lbnRFbGVtZW50LCghZXx8IWUubm9kZU5hbWV8fGUubm9kZU5hbWU9PT0icGFyc2VyZXJyb3IiKSYmZC5lcnJvcigiSW52YWxpZCBYTUw6ICIrYik7cmV0dXJuIGN9LG5vb3A6ZnVuY3Rpb24oKXt9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYSl7aWYoYSYmaS50ZXN0KGEpKXt2YXIgYj1jLmhlYWR8fGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8Yy5kb2N1bWVudEVsZW1lbnQsZT1jLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2Quc3VwcG9ydC5zY3JpcHRFdmFsKCk/ZS5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGEpKTplLnRleHQ9YSxiLmluc2VydEJlZm9yZShlLGIuZmlyc3RDaGlsZCksYi5yZW1vdmVDaGlsZChlKX19LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9VcHBlckNhc2UoKT09PWIudG9VcHBlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGMsZSl7dmFyIGYsZz0wLGg9YS5sZW5ndGgsaT1oPT09Ynx8ZC5pc0Z1bmN0aW9uKGEpO2lmKGUpe2lmKGkpe2ZvcihmIGluIGEpaWYoYy5hcHBseShhW2ZdLGUpPT09ITEpYnJlYWt9ZWxzZSBmb3IoO2c8aDspaWYoYy5hcHBseShhW2crK10sZSk9PT0hMSlicmVha31lbHNlIGlmKGkpe2ZvcihmIGluIGEpaWYoYy5jYWxsKGFbZl0sZixhW2ZdKT09PSExKWJyZWFrfWVsc2UgZm9yKHZhciBqPWFbMF07ZzxoJiZjLmNhbGwoaixnLGopIT09ITE7aj1hWysrZ10pe31yZXR1cm4gYX0sdHJpbTpEP2Z1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOkQuY2FsbChhKX06ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6KGErIiIpLnJlcGxhY2UoaiwiIikucmVwbGFjZShrLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107aWYoYSE9bnVsbCl7dmFyIGU9ZC50eXBlKGEpO2EubGVuZ3RoPT1udWxsfHxlPT09InN0cmluZyJ8fGU9PT0iZnVuY3Rpb24ifHxlPT09InJlZ2V4cCJ8fGQuaXNXaW5kb3coYSk/Qi5jYWxsKGMsYSk6ZC5tZXJnZShjLGEpfXJldHVybiBjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYil7aWYoYi5pbmRleE9mKXJldHVybiBiLmluZGV4T2YoYSk7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKGJbY109PT1hKXJldHVybiBjO3JldHVybi0xfSxtZXJnZTpmdW5jdGlvbihhLGMpe3ZhciBkPWEubGVuZ3RoLGU9MDtpZih0eXBlb2YgYy5sZW5ndGg9PT0ibnVtYmVyIilmb3IodmFyIGY9Yy5sZW5ndGg7ZTxmO2UrKylhW2QrK109Y1tlXTtlbHNlIHdoaWxlKGNbZV0hPT1iKWFbZCsrXT1jW2UrK107YS5sZW5ndGg9ZDtyZXR1cm4gYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZTtjPSEhYztmb3IodmFyIGY9MCxnPWEubGVuZ3RoO2Y8ZztmKyspZT0hIWIoYVtmXSxmKSxjIT09ZSYmZC5wdXNoKGFbZl0pO3JldHVybiBkfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU7Zm9yKHZhciBmPTAsZz1hLmxlbmd0aDtmPGc7ZisrKWU9YihhW2ZdLGYsYyksZSE9bnVsbCYmKGRbZC5sZW5ndGhdPWUpO3JldHVybiBkLmNvbmNhdC5hcHBseShbXSxkKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYyxlKXthcmd1bWVudHMubGVuZ3RoPT09MiYmKHR5cGVvZiBjPT09InN0cmluZyI/KGU9YSxhPWVbY10sYz1iKTpjJiYhZC5pc0Z1bmN0aW9uKGMpJiYoZT1jLGM9YikpLCFjJiZhJiYoYz1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGV8fHRoaXMsYXJndW1lbnRzKX0pLGEmJihjLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8Yy5ndWlkfHxkLmd1aWQrKyk7cmV0dXJuIGN9LGFjY2VzczpmdW5jdGlvbihhLGMsZSxmLGcsaCl7dmFyIGk9YS5sZW5ndGg7aWYodHlwZW9mIGM9PT0ib2JqZWN0Iil7Zm9yKHZhciBqIGluIGMpZC5hY2Nlc3MoYSxqLGNbal0sZixnLGUpO3JldHVybiBhfWlmKGUhPT1iKXtmPSFoJiZmJiZkLmlzRnVuY3Rpb24oZSk7Zm9yKHZhciBrPTA7azxpO2srKylnKGFba10sYyxmP2UuY2FsbChhW2tdLGssZyhhW2tdLGMpKTplLGgpO3JldHVybiBhfXJldHVybiBpP2coYVswXSxjKTpifSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdWFNYXRjaDpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTt2YXIgYj1yLmV4ZWMoYSl8fHMuZXhlYyhhKXx8dC5leGVjKGEpfHxhLmluZGV4T2YoImNvbXBhdGlibGUiKTwwJiZ1LmV4ZWMoYSl8fFtdO3JldHVybnticm93c2VyOmJbMV18fCIiLHZlcnNpb246YlsyXXx8IjAifX0sc3ViOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3JldHVybiBuZXcgYS5mbi5pbml0KGIsYyl9ZC5leHRlbmQoITAsYSx0aGlzKSxhLnN1cGVyY2xhc3M9dGhpcyxhLmZuPWEucHJvdG90eXBlPXRoaXMoKSxhLmZuLmNvbnN0cnVjdG9yPWEsYS5zdWJjbGFzcz10aGlzLnN1YmNsYXNzLGEuZm4uaW5pdD1mdW5jdGlvbiBiKGIsYyl7YyYmYyBpbnN0YW5jZW9mIGQmJiEoYyBpbnN0YW5jZW9mIGEpJiYoYz1hKGMpKTtyZXR1cm4gZC5mbi5pbml0LmNhbGwodGhpcyxiLGMsZSl9LGEuZm4uaW5pdC5wcm90b3R5cGU9YS5mbjt2YXIgZT1hKGMpO3JldHVybiBhfSxicm93c2VyOnt9fSksZC5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7RlsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KSx3PWQudWFNYXRjaCh2KSx3LmJyb3dzZXImJihkLmJyb3dzZXJbdy5icm93c2VyXT0hMCxkLmJyb3dzZXIudmVyc2lvbj13LnZlcnNpb24pLGQuYnJvd3Nlci53ZWJraXQmJihkLmJyb3dzZXIuc2FmYXJpPSEwKSxFJiYoZC5pbkFycmF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIEUuY2FsbChiLGEpfSksaS50ZXN0KCKgIikmJihqPS9eW1xzXHhBMF0rLyxrPS9bXHNceEEwXSskLyksZz1kKGMpLGMuYWRkRXZlbnRMaXN0ZW5lcj95PWZ1bmN0aW9uKCl7Yy5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix5LCExKSxkLnJlYWR5KCl9OmMuYXR0YWNoRXZlbnQmJih5PWZ1bmN0aW9uKCl7Yy5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIiYmKGMuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIseSksZC5yZWFkeSgpKX0pO3JldHVybiBkfSgpLGU9InRoZW4gZG9uZSBmYWlsIGlzUmVzb2x2ZWQgaXNSZWplY3RlZCBwcm9taXNlIi5zcGxpdCgiICIpLGY9W10uc2xpY2U7ZC5leHRlbmQoe19EZWZlcnJlZDpmdW5jdGlvbigpe3ZhciBhPVtdLGIsYyxlLGY9e2RvbmU6ZnVuY3Rpb24oKXtpZighZSl7dmFyIGM9YXJndW1lbnRzLGcsaCxpLGosaztiJiYoaz1iLGI9MCk7Zm9yKGc9MCxoPWMubGVuZ3RoO2c8aDtnKyspaT1jW2ddLGo9ZC50eXBlKGkpLGo9PT0iYXJyYXkiP2YuZG9uZS5hcHBseShmLGkpOmo9PT0iZnVuY3Rpb24iJiZhLnB1c2goaSk7ayYmZi5yZXNvbHZlV2l0aChrWzBdLGtbMV0pfXJldHVybiB0aGlzfSxyZXNvbHZlV2l0aDpmdW5jdGlvbihkLGYpe2lmKCFlJiYhYiYmIWMpe2Y9Znx8W10sYz0xO3RyeXt3aGlsZShhWzBdKWEuc2hpZnQoKS5hcHBseShkLGYpfWZpbmFsbHl7Yj1bZCxmXSxjPTB9fXJldHVybiB0aGlzfSxyZXNvbHZlOmZ1bmN0aW9uKCl7Zi5yZXNvbHZlV2l0aCh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LGlzUmVzb2x2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gY3x8Yn0sY2FuY2VsOmZ1bmN0aW9uKCl7ZT0xLGE9W107cmV0dXJuIHRoaXN9fTtyZXR1cm4gZn0sRGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5fRGVmZXJyZWQoKSxjPWQuX0RlZmVycmVkKCksZjtkLmV4dGVuZChiLHt0aGVuOmZ1bmN0aW9uKGEsYyl7Yi5kb25lKGEpLmZhaWwoYyk7cmV0dXJuIHRoaXN9LGZhaWw6Yy5kb25lLHJlamVjdFdpdGg6Yy5yZXNvbHZlV2l0aCxyZWplY3Q6Yy5yZXNvbHZlLGlzUmVqZWN0ZWQ6Yy5pc1Jlc29sdmVkLHByb21pc2U6ZnVuY3Rpb24oYSl7aWYoYT09bnVsbCl7aWYoZilyZXR1cm4gZjtmPWE9e319dmFyIGM9ZS5sZW5ndGg7d2hpbGUoYy0tKWFbZVtjXV09YltlW2NdXTtyZXR1cm4gYX19KSxiLmRvbmUoYy5jYW5jZWwpLmZhaWwoYi5jYW5jZWwpLGRlbGV0ZSBiLmNhbmNlbCxhJiZhLmNhbGwoYixiKTtyZXR1cm4gYn0sd2hlbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBpKGEpe3JldHVybiBmdW5jdGlvbihjKXtiW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9mLmNhbGwoYXJndW1lbnRzLDApOmMsLS1nfHxoLnJlc29sdmVXaXRoKGgsZi5jYWxsKGIsMCkpfX12YXIgYj1hcmd1bWVudHMsYz0wLGU9Yi5sZW5ndGgsZz1lLGg9ZTw9MSYmYSYmZC5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YTpkLkRlZmVycmVkKCk7aWYoZT4xKXtmb3IoO2M8ZTtjKyspYltjXSYmZC5pc0Z1bmN0aW9uKGJbY10ucHJvbWlzZSk/YltjXS5wcm9taXNlKCkudGhlbihpKGMpLGgucmVqZWN0KTotLWc7Z3x8aC5yZXNvbHZlV2l0aChoLGIpfWVsc2UgaCE9PWEmJmgucmVzb2x2ZVdpdGgoaCxlP1thXTpbXSk7cmV0dXJuIGgucHJvbWlzZSgpfX0pLGZ1bmN0aW9uKCl7ZC5zdXBwb3J0PXt9O3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5zdHlsZS5kaXNwbGF5PSJub25lIixiLmlubmVySFRNTD0iICAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJyBzdHlsZT0nY29sb3I6cmVkO2Zsb2F0OmxlZnQ7b3BhY2l0eTouNTU7Jz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiI7dmFyIGU9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdLGc9Yy5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxoPWcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksaT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdO2lmKGUmJmUubGVuZ3RoJiZmKXtkLnN1cHBvcnQ9e2xlYWRpbmdXaGl0ZXNwYWNlOmIuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTMsdGJvZHk6IWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoLGh0bWxTZXJpYWxpemU6ISFiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIikubGVuZ3RoLHN0eWxlOi9yZWQvLnRlc3QoZi5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLGhyZWZOb3JtYWxpemVkOmYuZ2V0QXR0cmlidXRlKCJocmVmIik9PT0iL2EiLG9wYWNpdHk6L14wLjU1JC8udGVzdChmLnN0eWxlLm9wYWNpdHkpLGNzc0Zsb2F0OiEhZi5zdHlsZS5jc3NGbG9hdCxjaGVja09uOmkudmFsdWU9PT0ib24iLG9wdFNlbGVjdGVkOmguc2VsZWN0ZWQsZGVsZXRlRXhwYW5kbzohMCxvcHREaXNhYmxlZDohMSxjaGVja0Nsb25lOiExLG5vQ2xvbmVFdmVudDohMCxub0Nsb25lQ2hlY2tlZDohMCxib3hNb2RlbDpudWxsLGlubGluZUJsb2NrTmVlZHNMYXlvdXQ6ITEsc2hyaW5rV3JhcEJsb2NrczohMSxyZWxpYWJsZUhpZGRlbk9mZnNldHM6ITAscmVsaWFibGVNYXJnaW5SaWdodDohMH0saS5jaGVja2VkPSEwLGQuc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZD1pLmNsb25lTm9kZSghMCkuY2hlY2tlZCxnLmRpc2FibGVkPSEwLGQuc3VwcG9ydC5vcHREaXNhYmxlZD0haC5kaXNhYmxlZDt2YXIgaj1udWxsO2Quc3VwcG9ydC5zY3JpcHRFdmFsPWZ1bmN0aW9uKCl7aWYoaj09PW51bGwpe3ZhciBiPWMuZG9jdW1lbnRFbGVtZW50LGU9Yy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxmPSJzY3JpcHQiK2Qubm93KCk7dHJ5e2UuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZSgid2luZG93LiIrZisiPTE7IikpfWNhdGNoKGcpe31iLmluc2VydEJlZm9yZShlLGIuZmlyc3RDaGlsZCksYVtmXT8oaj0hMCxkZWxldGUgYVtmXSk6aj0hMSxiLnJlbW92ZUNoaWxkKGUpfXJldHVybiBqfTt0cnl7ZGVsZXRlIGIudGVzdH1jYXRjaChrKXtkLnN1cHBvcnQuZGVsZXRlRXhwYW5kbz0hMX0hYi5hZGRFdmVudExpc3RlbmVyJiZiLmF0dGFjaEV2ZW50JiZiLmZpcmVFdmVudCYmKGIuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uIGwoKXtkLnN1cHBvcnQubm9DbG9uZUV2ZW50PSExLGIuZGV0YWNoRXZlbnQoIm9uY2xpY2siLGwpfSksYi5jbG9uZU5vZGUoITApLmZpcmVFdmVudCgib25jbGljayIpKSxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksYi5pbm5lckhUTUw9IjxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0ncmFkaW90ZXN0JyBjaGVja2VkPSdjaGVja2VkJy8+Ijt2YXIgbT1jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTttLmFwcGVuZENoaWxkKGIuZmlyc3RDaGlsZCksZC5zdXBwb3J0LmNoZWNrQ2xvbmU9bS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsZChmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF07aWYoYil7YS5zdHlsZS53aWR0aD1hLnN0eWxlLnBhZGRpbmdMZWZ0PSIxcHgiLGIuYXBwZW5kQ2hpbGQoYSksZC5ib3hNb2RlbD1kLnN1cHBvcnQuYm94TW9kZWw9YS5vZmZzZXRXaWR0aD09PTIsInpvb20iaW4gYS5zdHlsZSYmKGEuc3R5bGUuZGlzcGxheT0iaW5saW5lIixhLnN0eWxlLnpvb209MSxkLnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dD1hLm9mZnNldFdpZHRoPT09MixhLnN0eWxlLmRpc3BsYXk9IiIsYS5pbm5lckhUTUw9IjxkaXYgc3R5bGU9J3dpZHRoOjRweDsnPjwvZGl2PiIsZC5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3M9YS5vZmZzZXRXaWR0aCE9PTIpLGEuaW5uZXJIVE1MPSI8dGFibGU+PHRyPjx0ZCBzdHlsZT0ncGFkZGluZzowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZSc+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiI7dmFyIGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKTtkLnN1cHBvcnQucmVsaWFibGVIaWRkZW5PZmZzZXRzPWVbMF0ub2Zmc2V0SGVpZ2h0PT09MCxlWzBdLnN0eWxlLmRpc3BsYXk9IiIsZVsxXS5zdHlsZS5kaXNwbGF5PSJub25lIixkLnN1cHBvcnQucmVsaWFibGVIaWRkZW5PZmZzZXRzPWQuc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMmJmVbMF0ub2Zmc2V0SGVpZ2h0PT09MCxhLmlubmVySFRNTD0iIixjLmRlZmF1bHRWaWV3JiZjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUmJihhLnN0eWxlLndpZHRoPSIxcHgiLGEuc3R5bGUubWFyZ2luUmlnaHQ9IjAiLGQuc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0PShwYXJzZUludChjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSxudWxsKS5tYXJnaW5SaWdodCwxMCl8fDApPT09MCksYi5yZW1vdmVDaGlsZChhKS5zdHlsZS5kaXNwbGF5PSJub25lIixhPWU9bnVsbH19KTt2YXIgbj1mdW5jdGlvbihhKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2E9Im9uIithO2lmKCFiLmF0dGFjaEV2ZW50KXJldHVybiEwO3ZhciBkPWEgaW4gYjtkfHwoYi5zZXRBdHRyaWJ1dGUoYSwicmV0dXJuOyIpLGQ9dHlwZW9mIGJbYV09PT0iZnVuY3Rpb24iKTtyZXR1cm4gZH07ZC5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXM9bigic3VibWl0IiksZC5zdXBwb3J0LmNoYW5nZUJ1YmJsZXM9bigiY2hhbmdlIiksYj1lPWY9bnVsbH19KCk7dmFyIGc9L14oPzpcey4qXH18XFsuKlxdKSQvO2QuZXh0ZW5kKHtjYWNoZTp7fSx1dWlkOjAsZXhwYW5kbzoialF1ZXJ5IisoZC5mbi5qcXVlcnkrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksbm9EYXRhOntlbWJlZDohMCxvYmplY3Q6ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIsYXBwbGV0OiEwfSxoYXNEYXRhOmZ1bmN0aW9uKGEpe2E9YS5ub2RlVHlwZT9kLmNhY2hlW2FbZC5leHBhbmRvXV06YVtkLmV4cGFuZG9dO3JldHVybiEhYSYmIWkoYSl9LGRhdGE6ZnVuY3Rpb24oYSxjLGUsZil7aWYoZC5hY2NlcHREYXRhKGEpKXt2YXIgZz1kLmV4cGFuZG8saD10eXBlb2YgYz09PSJzdHJpbmciLGksaj1hLm5vZGVUeXBlLGs9aj9kLmNhY2hlOmEsbD1qP2FbZC5leHBhbmRvXTphW2QuZXhwYW5kb10mJmQuZXhwYW5kbztpZigoIWx8fGYmJmwmJiFrW2xdW2ddKSYmaCYmZT09PWIpcmV0dXJuO2x8fChqP2FbZC5leHBhbmRvXT1sPSsrZC51dWlkOmw9ZC5leHBhbmRvKSxrW2xdfHwoa1tsXT17fSxqfHwoa1tsXS50b0pTT049ZC5ub29wKSk7aWYodHlwZW9mIGM9PT0ib2JqZWN0Inx8dHlwZW9mIGM9PT0iZnVuY3Rpb24iKWY/a1tsXVtnXT1kLmV4dGVuZChrW2xdW2ddLGMpOmtbbF09ZC5leHRlbmQoa1tsXSxjKTtpPWtbbF0sZiYmKGlbZ118fChpW2ddPXt9KSxpPWlbZ10pLGUhPT1iJiYoaVtjXT1lKTtpZihjPT09ImV2ZW50cyImJiFpW2NdKXJldHVybiBpW2ddJiZpW2ddLmV2ZW50cztyZXR1cm4gaD9pW2NdOml9fSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGIsYyxlKXtpZihkLmFjY2VwdERhdGEoYikpe3ZhciBmPWQuZXhwYW5kbyxnPWIubm9kZVR5cGUsaD1nP2QuY2FjaGU6YixqPWc/YltkLmV4cGFuZG9dOmQuZXhwYW5kbztpZighaFtqXSlyZXR1cm47aWYoYyl7dmFyIGs9ZT9oW2pdW2ZdOmhbal07aWYoayl7ZGVsZXRlIGtbY107aWYoIWkoaykpcmV0dXJufX1pZihlKXtkZWxldGUgaFtqXVtmXTtpZighaShoW2pdKSlyZXR1cm59dmFyIGw9aFtqXVtmXTtkLnN1cHBvcnQuZGVsZXRlRXhwYW5kb3x8aCE9YT9kZWxldGUgaFtqXTpoW2pdPW51bGwsbD8oaFtqXT17fSxnfHwoaFtqXS50b0pTT049ZC5ub29wKSxoW2pdW2ZdPWwpOmcmJihkLnN1cHBvcnQuZGVsZXRlRXhwYW5kbz9kZWxldGUgYltkLmV4cGFuZG9dOmIucmVtb3ZlQXR0cmlidXRlP2IucmVtb3ZlQXR0cmlidXRlKGQuZXhwYW5kbyk6YltkLmV4cGFuZG9dPW51bGwpfX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkLmRhdGEoYSxiLGMsITApfSxhY2NlcHREYXRhOmZ1bmN0aW9uKGEpe2lmKGEubm9kZU5hbWUpe3ZhciBiPWQubm9EYXRhW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYilyZXR1cm4gYiE9PSEwJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09Yn1yZXR1cm4hMH19KSxkLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGMpe3ZhciBlPW51bGw7aWYodHlwZW9mIGE9PT0idW5kZWZpbmVkIil7aWYodGhpcy5sZW5ndGgpe2U9ZC5kYXRhKHRoaXNbMF0pO2lmKHRoaXNbMF0ubm9kZVR5cGU9PT0xKXt2YXIgZj10aGlzWzBdLmF0dHJpYnV0ZXMsZztmb3IodmFyIGk9MCxqPWYubGVuZ3RoO2k8ajtpKyspZz1mW2ldLm5hbWUsZy5pbmRleE9mKCJkYXRhLSIpPT09MCYmKGc9Zy5zdWJzdHIoNSksaCh0aGlzWzBdLGcsZVtnXSkpfX1yZXR1cm4gZX1pZih0eXBlb2YgYT09PSJvYmplY3QiKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkLmRhdGEodGhpcyxhKX0pO3ZhciBrPWEuc3BsaXQoIi4iKTtrWzFdPWtbMV0/Ii4iK2tbMV06IiI7aWYoYz09PWIpe2U9dGhpcy50cmlnZ2VySGFuZGxlcigiZ2V0RGF0YSIra1sxXSsiISIsW2tbMF1dKSxlPT09YiYmdGhpcy5sZW5ndGgmJihlPWQuZGF0YSh0aGlzWzBdLGEpLGU9aCh0aGlzWzBdLGEsZSkpO3JldHVybiBlPT09YiYma1sxXT90aGlzLmRhdGEoa1swXSk6ZX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ZCh0aGlzKSxlPVtrWzBdLGNdO2IudHJpZ2dlckhhbmRsZXIoInNldERhdGEiK2tbMV0rIiEiLGUpLGQuZGF0YSh0aGlzLGEsYyksYi50cmlnZ2VySGFuZGxlcigiY2hhbmdlRGF0YSIra1sxXSsiISIsZSl9KX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZC5yZW1vdmVEYXRhKHRoaXMsYSl9KX19KSxkLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe2lmKGEpe2I9KGJ8fCJmeCIpKyJxdWV1ZSI7dmFyIGU9ZC5fZGF0YShhLGIpO2lmKCFjKXJldHVybiBlfHxbXTshZXx8ZC5pc0FycmF5KGMpP2U9ZC5fZGF0YShhLGIsZC5tYWtlQXJyYXkoYykpOmUucHVzaChjKTtyZXR1cm4gZX19LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fCJmeCI7dmFyIGM9ZC5xdWV1ZShhLGIpLGU9Yy5zaGlmdCgpO2U9PT0iaW5wcm9ncmVzcyImJihlPWMuc2hpZnQoKSksZSYmKGI9PT0iZngiJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxlLmNhbGwoYSxmdW5jdGlvbigpe2QuZGVxdWV1ZShhLGIpfSkpLGMubGVuZ3RofHxkLnJlbW92ZURhdGEoYSxiKyJxdWV1ZSIsITApfX0pLGQuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGMpe3R5cGVvZiBhIT09InN0cmluZyImJihjPWEsYT0iZngiKTtpZihjPT09YilyZXR1cm4gZC5xdWV1ZSh0aGlzWzBdLGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGU9ZC5xdWV1ZSh0aGlzLGEsYyk7YT09PSJmeCImJmVbMF0hPT0iaW5wcm9ncmVzcyImJmQuZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2QuZGVxdWV1ZSh0aGlzLGEpfSl9LGRlbGF5OmZ1bmN0aW9uKGEsYil7YT1kLmZ4P2QuZnguc3BlZWRzW2FdfHxhOmEsYj1ifHwiZngiO3JldHVybiB0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oKXt2YXIgYz10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmRlcXVldWUoYyxiKX0sYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX19KTt2YXIgaj0vW1xuXHRccl0vZyxrPS9ccysvLGw9L1xyL2csbT0vXig/OmhyZWZ8c3JjfHN0eWxlKSQvLG49L14oPzpidXR0b258aW5wdXQpJC9pLG89L14oPzpidXR0b258aW5wdXR8b2JqZWN0fHNlbGVjdHx0ZXh0YXJlYSkkL2kscD0vXmEoPzpyZWEpPyQvaSxxPS9eKD86cmFkaW98Y2hlY2tib3gpJC9pO2QucHJvcHM9eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUiLHJlYWRvbmx5OiJyZWFkT25seSIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIscm93c3Bhbjoicm93U3BhbiIsY29sc3BhbjoiY29sU3BhbiIsdGFiaW5kZXg6InRhYkluZGV4Iix1c2VtYXA6InVzZU1hcCIsZnJhbWVib3JkZXI6ImZyYW1lQm9yZGVyIn0sZC5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5hY2Nlc3ModGhpcyxhLGIsITAsZC5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkLmF0dHIodGhpcyxhLCIiKSx0aGlzLm5vZGVUeXBlPT09MSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSl9KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoZC5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9ZCh0aGlzKTtjLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsYy5hdHRyKCJjbGFzcyIpKSl9KTtpZihhJiZ0eXBlb2YgYT09PSJzdHJpbmciKXt2YXIgYj0oYXx8IiIpLnNwbGl0KGspO2Zvcih2YXIgYz0wLGU9dGhpcy5sZW5ndGg7YzxlO2MrKyl7dmFyIGY9dGhpc1tjXTtpZihmLm5vZGVUeXBlPT09MSlpZihmLmNsYXNzTmFtZSl7dmFyIGc9IiAiK2YuY2xhc3NOYW1lKyIgIixoPWYuY2xhc3NOYW1lO2Zvcih2YXIgaT0wLGo9Yi5sZW5ndGg7aTxqO2krKylnLmluZGV4T2YoIiAiK2JbaV0rIiAiKTwwJiYoaCs9IiAiK2JbaV0pO2YuY2xhc3NOYW1lPWQudHJpbShoKX1lbHNlIGYuY2xhc3NOYW1lPWF9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXtpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1kKHRoaXMpO2MucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYixjLmF0dHIoImNsYXNzIikpKX0pO2lmKGEmJnR5cGVvZiBhPT09InN0cmluZyJ8fGE9PT1iKXt2YXIgYz0oYXx8IiIpLnNwbGl0KGspO2Zvcih2YXIgZT0wLGY9dGhpcy5sZW5ndGg7ZTxmO2UrKyl7dmFyIGc9dGhpc1tlXTtpZihnLm5vZGVUeXBlPT09MSYmZy5jbGFzc05hbWUpaWYoYSl7dmFyIGg9KCIgIitnLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoaiwiICIpO2Zvcih2YXIgaT0wLGw9Yy5sZW5ndGg7aTxsO2krKyloPWgucmVwbGFjZSgiICIrY1tpXSsiICIsIiAiKTtnLmNsYXNzTmFtZT1kLnRyaW0oaCl9ZWxzZSBnLmNsYXNzTmFtZT0iIn19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEsZT10eXBlb2YgYj09PSJib29sZWFuIjtpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZT1kKHRoaXMpO2UudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyxlLmF0dHIoImNsYXNzIiksYiksYil9KTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoYz09PSJzdHJpbmciKXt2YXIgZixnPTAsaD1kKHRoaXMpLGk9YixqPWEuc3BsaXQoayk7d2hpbGUoZj1qW2crK10paT1lP2k6IWguaGFzQ2xhc3MoZiksaFtpPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oZil9ZWxzZSBpZihjPT09InVuZGVmaW5lZCJ8fGM9PT0iYm9vbGVhbiIpdGhpcy5jbGFzc05hbWUmJmQuX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHxhPT09ITE/IiI6ZC5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIifSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPSIgIithKyIgIjtmb3IodmFyIGM9MCxkPXRoaXMubGVuZ3RoO2M8ZDtjKyspaWYoKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoaiwiICIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9LHZhbDpmdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aCl7dmFyIGM9dGhpc1swXTtpZihjKXtpZihkLm5vZGVOYW1lKGMsIm9wdGlvbiIpKXt2YXIgZT1jLmF0dHJpYnV0ZXMudmFsdWU7cmV0dXJuIWV8fGUuc3BlY2lmaWVkP2MudmFsdWU6Yy50ZXh0fWlmKGQubm9kZU5hbWUoYywic2VsZWN0Iikpe3ZhciBmPWMuc2VsZWN0ZWRJbmRleCxnPVtdLGg9Yy5vcHRpb25zLGk9Yy50eXBlPT09InNlbGVjdC1vbmUiO2lmKGY8MClyZXR1cm4gbnVsbDtmb3IodmFyIGo9aT9mOjAsaz1pP2YrMTpoLmxlbmd0aDtqPGs7aisrKXt2YXIgbT1oW2pdO2lmKG0uc2VsZWN0ZWQmJihkLnN1cHBvcnQub3B0RGlzYWJsZWQ/IW0uZGlzYWJsZWQ6bS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIik9PT1udWxsKSYmKCFtLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFkLm5vZGVOYW1lKG0ucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2E9ZChtKS52YWwoKTtpZihpKXJldHVybiBhO2cucHVzaChhKX19aWYoaSYmIWcubGVuZ3RoJiZoLmxlbmd0aClyZXR1cm4gZChoW2ZdKS52YWwoKTtyZXR1cm4gZ31pZihxLnRlc3QoYy50eXBlKSYmIWQuc3VwcG9ydC5jaGVja09uKXJldHVybiBjLmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PW51bGw/Im9uIjpjLnZhbHVlO3JldHVybihjLnZhbHVlfHwiIikucmVwbGFjZShsLCIiKX1yZXR1cm4gYn12YXIgbj1kLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1kKHRoaXMpLGU9YTtpZih0aGlzLm5vZGVUeXBlPT09MSl7biYmKGU9YS5jYWxsKHRoaXMsYixjLnZhbCgpKSksZT09bnVsbD9lPSIiOnR5cGVvZiBlPT09Im51bWJlciI/ZSs9IiI6ZC5pc0FycmF5KGUpJiYoZT1kLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOmErIiJ9KSk7aWYoZC5pc0FycmF5KGUpJiZxLnRlc3QodGhpcy50eXBlKSl0aGlzLmNoZWNrZWQ9ZC5pbkFycmF5KGMudmFsKCksZSk+PTA7ZWxzZSBpZihkLm5vZGVOYW1lKHRoaXMsInNlbGVjdCIpKXt2YXIgZj1kLm1ha2VBcnJheShlKTtkKCJvcHRpb24iLHRoaXMpLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkPWQuaW5BcnJheShkKHRoaXMpLnZhbCgpLGYpPj0wfSksZi5sZW5ndGh8fCh0aGlzLnNlbGVjdGVkSW5kZXg9LTEpfWVsc2UgdGhpcy52YWx1ZT1lfX0pfX0pLGQuZXh0ZW5kKHthdHRyRm46e3ZhbDohMCxjc3M6ITAsaHRtbDohMCx0ZXh0OiEwLGRhdGE6ITAsd2lkdGg6ITAsaGVpZ2h0OiEwLG9mZnNldDohMH0sYXR0cjpmdW5jdGlvbihhLGMsZSxmKXtpZighYXx8YS5ub2RlVHlwZT09PTN8fGEubm9kZVR5cGU9PT04fHxhLm5vZGVUeXBlPT09MilyZXR1cm4gYjtpZihmJiZjIGluIGQuYXR0ckZuKXJldHVybiBkKGEpW2NdKGUpO3ZhciBnPWEubm9kZVR5cGUhPT0xfHwhZC5pc1hNTERvYyhhKSxoPWUhPT1iO2M9ZyYmZC5wcm9wc1tjXXx8YztpZihhLm5vZGVUeXBlPT09MSl7dmFyIGk9bS50ZXN0KGMpO2lmKGM9PT0ic2VsZWN0ZWQiJiYhZC5zdXBwb3J0Lm9wdFNlbGVjdGVkKXt2YXIgaj1hLnBhcmVudE5vZGU7aiYmKGouc2VsZWN0ZWRJbmRleCxqLnBhcmVudE5vZGUmJmoucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX1pZigoYyBpbiBhfHxhW2NdIT09YikmJmcmJiFpKXtoJiYoYz09PSJ0eXBlIiYmbi50ZXN0KGEubm9kZU5hbWUpJiZhLnBhcmVudE5vZGUmJmQuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpLGU9PT1udWxsP2Eubm9kZVR5cGU9PT0xJiZhLnJlbW92ZUF0dHJpYnV0ZShjKTphW2NdPWUpO2lmKGQubm9kZU5hbWUoYSwiZm9ybSIpJiZhLmdldEF0dHJpYnV0ZU5vZGUoYykpcmV0dXJuIGEuZ2V0QXR0cmlidXRlTm9kZShjKS5ub2RlVmFsdWU7aWYoYz09PSJ0YWJJbmRleCIpe3ZhciBrPWEuZ2V0QXR0cmlidXRlTm9kZSgidGFiSW5kZXgiKTtyZXR1cm4gayYmay5zcGVjaWZpZWQ/ay52YWx1ZTpvLnRlc3QoYS5ub2RlTmFtZSl8fHAudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6Yn1yZXR1cm4gYVtjXX1pZighZC5zdXBwb3J0LnN0eWxlJiZnJiZjPT09InN0eWxlIil7aCYmKGEuc3R5bGUuY3NzVGV4dD0iIitlKTtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0fWgmJmEuc2V0QXR0cmlidXRlKGMsIiIrZSk7aWYoIWEuYXR0cmlidXRlc1tjXSYmKGEuaGFzQXR0cmlidXRlJiYhYS5oYXNBdHRyaWJ1dGUoYykpKXJldHVybiBiO3ZhciBsPSFkLnN1cHBvcnQuaHJlZk5vcm1hbGl6ZWQmJmcmJmk/YS5nZXRBdHRyaWJ1dGUoYywyKTphLmdldEF0dHJpYnV0ZShjKTtyZXR1cm4gbD09PW51bGw/YjpsfWgmJihhW2NdPWUpO3JldHVybiBhW2NdfX0pO3ZhciByPS9cLiguKikkLyxzPS9eKD86dGV4dGFyZWF8aW5wdXR8c2VsZWN0KSQvaSx0PS9cLi9nLHU9LyAvZyx2PS9bXlx3XHMufGBdL2csdz1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHYsIlxcJCYiKX07ZC5ldmVudD17YWRkOmZ1bmN0aW9uKGMsZSxmLGcpe2lmKGMubm9kZVR5cGUhPT0zJiZjLm5vZGVUeXBlIT09OCl7dHJ5e2QuaXNXaW5kb3coYykmJihjIT09YSYmIWMuZnJhbWVFbGVtZW50KSYmKGM9YSl9Y2F0Y2goaCl7fWlmKGY9PT0hMSlmPXg7ZWxzZSBpZighZilyZXR1cm47dmFyIGksajtmLmhhbmRsZXImJihpPWYsZj1pLmhhbmRsZXIpLGYuZ3VpZHx8KGYuZ3VpZD1kLmd1aWQrKyk7dmFyIGs9ZC5fZGF0YShjKTtpZighaylyZXR1cm47dmFyIGw9ay5ldmVudHMsbT1rLmhhbmRsZTtsfHwoay5ldmVudHM9bD17fSksbXx8KGsuaGFuZGxlPW09ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBkIT09InVuZGVmaW5lZCImJmQuZXZlbnQudHJpZ2dlcmVkIT09YS50eXBlP2QuZXZlbnQuaGFuZGxlLmFwcGx5KG0uZWxlbSxhcmd1bWVudHMpOmJ9KSxtLmVsZW09YyxlPWUuc3BsaXQoIiAiKTt2YXIgbixvPTAscDt3aGlsZShuPWVbbysrXSl7aj1pP2QuZXh0ZW5kKHt9LGkpOntoYW5kbGVyOmYsZGF0YTpnfSxuLmluZGV4T2YoIi4iKT4tMT8ocD1uLnNwbGl0KCIuIiksbj1wLnNoaWZ0KCksai5uYW1lc3BhY2U9cC5zbGljZSgwKS5zb3J0KCkuam9pbigiLiIpKToocD1bXSxqLm5hbWVzcGFjZT0iIiksai50eXBlPW4sai5ndWlkfHwoai5ndWlkPWYuZ3VpZCk7dmFyIHE9bFtuXSxyPWQuZXZlbnQuc3BlY2lhbFtuXXx8e307aWYoIXEpe3E9bFtuXT1bXTtpZighci5zZXR1cHx8ci5zZXR1cC5jYWxsKGMsZyxwLG0pPT09ITEpYy5hZGRFdmVudExpc3RlbmVyP2MuYWRkRXZlbnRMaXN0ZW5lcihuLG0sITEpOmMuYXR0YWNoRXZlbnQmJmMuYXR0YWNoRXZlbnQoIm9uIituLG0pfXIuYWRkJiYoci5hZGQuY2FsbChjLGopLGouaGFuZGxlci5ndWlkfHwoai5oYW5kbGVyLmd1aWQ9Zi5ndWlkKSkscS5wdXNoKGopLGQuZXZlbnQuZ2xvYmFsW25dPSEwfWM9bnVsbH19LGdsb2JhbDp7fSxyZW1vdmU6ZnVuY3Rpb24oYSxjLGUsZil7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtlPT09ITEmJihlPXgpO3ZhciBnLGgsaSxqLGs9MCxsLG0sbixvLHAscSxyLHM9ZC5oYXNEYXRhKGEpJiZkLl9kYXRhKGEpLHQ9cyYmcy5ldmVudHM7aWYoIXN8fCF0KXJldHVybjtjJiZjLnR5cGUmJihlPWMuaGFuZGxlcixjPWMudHlwZSk7aWYoIWN8fHR5cGVvZiBjPT09InN0cmluZyImJmMuY2hhckF0KDApPT09Ii4iKXtjPWN8fCIiO2ZvcihoIGluIHQpZC5ldmVudC5yZW1vdmUoYSxoK2MpO3JldHVybn1jPWMuc3BsaXQoIiAiKTt3aGlsZShoPWNbaysrXSl7cj1oLHE9bnVsbCxsPWguaW5kZXhPZigiLiIpPDAsbT1bXSxsfHwobT1oLnNwbGl0KCIuIiksaD1tLnNoaWZ0KCksbj1uZXcgUmVnRXhwKCIoXnxcXC4pIitkLm1hcChtLnNsaWNlKDApLnNvcnQoKSx3KS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKSkscD10W2hdO2lmKCFwKWNvbnRpbnVlO2lmKCFlKXtmb3Ioaj0wO2o8cC5sZW5ndGg7aisrKXtxPXBbal07aWYobHx8bi50ZXN0KHEubmFtZXNwYWNlKSlkLmV2ZW50LnJlbW92ZShhLHIscS5oYW5kbGVyLGopLHAuc3BsaWNlKGotLSwxKX1jb250aW51ZX1vPWQuZXZlbnQuc3BlY2lhbFtoXXx8e307Zm9yKGo9Znx8MDtqPHAubGVuZ3RoO2orKyl7cT1wW2pdO2lmKGUuZ3VpZD09PXEuZ3VpZCl7aWYobHx8bi50ZXN0KHEubmFtZXNwYWNlKSlmPT1udWxsJiZwLnNwbGljZShqLS0sMSksby5yZW1vdmUmJm8ucmVtb3ZlLmNhbGwoYSxxKTtpZihmIT1udWxsKWJyZWFrfX1pZihwLmxlbmd0aD09PTB8fGYhPW51bGwmJnAubGVuZ3RoPT09MSkoIW8udGVhcmRvd258fG8udGVhcmRvd24uY2FsbChhLG0pPT09ITEpJiZkLnJlbW92ZUV2ZW50KGEsaCxzLmhhbmRsZSksZz1udWxsLGRlbGV0ZSB0W2hdfWlmKGQuaXNFbXB0eU9iamVjdCh0KSl7dmFyIHU9cy5oYW5kbGU7dSYmKHUuZWxlbT1udWxsKSxkZWxldGUgcy5ldmVudHMsZGVsZXRlIHMuaGFuZGxlLGQuaXNFbXB0eU9iamVjdChzKSYmZC5yZW1vdmVEYXRhKGEsYiwhMCl9fX0sdHJpZ2dlcjpmdW5jdGlvbihhLGMsZSl7dmFyIGY9YS50eXBlfHxhLGc9YXJndW1lbnRzWzNdO2lmKCFnKXthPXR5cGVvZiBhPT09Im9iamVjdCI/YVtkLmV4cGFuZG9dP2E6ZC5leHRlbmQoZC5FdmVudChmKSxhKTpkLkV2ZW50KGYpLGYuaW5kZXhPZigiISIpPj0wJiYoYS50eXBlPWY9Zi5zbGljZSgwLC0xKSxhLmV4Y2x1c2l2ZT0hMCksZXx8KGEuc3RvcFByb3BhZ2F0aW9uKCksZC5ldmVudC5nbG9iYWxbZl0mJmQuZWFjaChkLmNhY2hlLGZ1bmN0aW9uKCl7dmFyIGI9ZC5leHBhbmRvLGU9dGhpc1tiXTtlJiZlLmV2ZW50cyYmZS5ldmVudHNbZl0mJmQuZXZlbnQudHJpZ2dlcihhLGMsZS5oYW5kbGUuZWxlbSl9KSk7aWYoIWV8fGUubm9kZVR5cGU9PT0zfHxlLm5vZGVUeXBlPT09OClyZXR1cm4gYjthLnJlc3VsdD1iLGEudGFyZ2V0PWUsYz1kLm1ha2VBcnJheShjKSxjLnVuc2hpZnQoYSl9YS5jdXJyZW50VGFyZ2V0PWU7dmFyIGg9ZC5fZGF0YShlLCJoYW5kbGUiKTtoJiZoLmFwcGx5KGUsYyk7dmFyIGk9ZS5wYXJlbnROb2RlfHxlLm93bmVyRG9jdW1lbnQ7dHJ5e2UmJmUubm9kZU5hbWUmJmQubm9EYXRhW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV18fGVbIm9uIitmXSYmZVsib24iK2ZdLmFwcGx5KGUsYyk9PT0hMSYmKGEucmVzdWx0PSExLGEucHJldmVudERlZmF1bHQoKSl9Y2F0Y2goail7fWlmKCFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmkpZC5ldmVudC50cmlnZ2VyKGEsYyxpLCEwKTtlbHNlIGlmKCFhLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgayxsPWEudGFyZ2V0LG09Zi5yZXBsYWNlKHIsIiIpLG49ZC5ub2RlTmFtZShsLCJhIikmJm09PT0iY2xpY2siLG89ZC5ldmVudC5zcGVjaWFsW21dfHx7fTtpZigoIW8uX2RlZmF1bHR8fG8uX2RlZmF1bHQuY2FsbChlLGEpPT09ITEpJiYhbiYmIShsJiZsLm5vZGVOYW1lJiZkLm5vRGF0YVtsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSl7dHJ5e2xbbV0mJihrPWxbIm9uIittXSxrJiYobFsib24iK21dPW51bGwpLGQuZXZlbnQudHJpZ2dlcmVkPWEudHlwZSxsW21dKCkpfWNhdGNoKHApe31rJiYobFsib24iK21dPWspLGQuZXZlbnQudHJpZ2dlcmVkPWJ9fX0saGFuZGxlOmZ1bmN0aW9uKGMpe3ZhciBlLGYsZyxoLGksaj1bXSxrPWQubWFrZUFycmF5KGFyZ3VtZW50cyk7Yz1rWzBdPWQuZXZlbnQuZml4KGN8fGEuZXZlbnQpLGMuY3VycmVudFRhcmdldD10aGlzLGU9Yy50eXBlLmluZGV4T2YoIi4iKTwwJiYhYy5leGNsdXNpdmUsZXx8KGc9Yy50eXBlLnNwbGl0KCIuIiksYy50eXBlPWcuc2hpZnQoKSxqPWcuc2xpY2UoMCkuc29ydCgpLGg9bmV3IFJlZ0V4cCgiKF58XFwuKSIrai5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKSksYy5uYW1lc3BhY2U9Yy5uYW1lc3BhY2V8fGouam9pbigiLiIpLGk9ZC5fZGF0YSh0aGlzLCJldmVudHMiKSxmPShpfHx7fSlbYy50eXBlXTtpZihpJiZmKXtmPWYuc2xpY2UoMCk7Zm9yKHZhciBsPTAsbT1mLmxlbmd0aDtsPG07bCsrKXt2YXIgbj1mW2xdO2lmKGV8fGgudGVzdChuLm5hbWVzcGFjZSkpe2MuaGFuZGxlcj1uLmhhbmRsZXIsYy5kYXRhPW4uZGF0YSxjLmhhbmRsZU9iaj1uO3ZhciBvPW4uaGFuZGxlci5hcHBseSh0aGlzLGspO28hPT1iJiYoYy5yZXN1bHQ9byxvPT09ITEmJihjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSkpO2lmKGMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlicmVha319fXJldHVybiBjLnJlc3VsdH0scHJvcHM6ImFsdEtleSBhdHRyQ2hhbmdlIGF0dHJOYW1lIGJ1YmJsZXMgYnV0dG9uIGNhbmNlbGFibGUgY2hhckNvZGUgY2xpZW50WCBjbGllbnRZIGN0cmxLZXkgY3VycmVudFRhcmdldCBkYXRhIGRldGFpbCBldmVudFBoYXNlIGZyb21FbGVtZW50IGhhbmRsZXIga2V5Q29kZSBsYXllclggbGF5ZXJZIG1ldGFLZXkgbmV3VmFsdWUgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHByZXZWYWx1ZSByZWxhdGVkTm9kZSByZWxhdGVkVGFyZ2V0IHNjcmVlblggc2NyZWVuWSBzaGlmdEtleSBzcmNFbGVtZW50IHRhcmdldCB0b0VsZW1lbnQgdmlldyB3aGVlbERlbHRhIHdoaWNoIi5zcGxpdCgiICIpLGZpeDpmdW5jdGlvbihhKXtpZihhW2QuZXhwYW5kb10pcmV0dXJuIGE7dmFyIGU9YTthPWQuRXZlbnQoZSk7Zm9yKHZhciBmPXRoaXMucHJvcHMubGVuZ3RoLGc7ZjspZz10aGlzLnByb3BzWy0tZl0sYVtnXT1lW2ddO2EudGFyZ2V0fHwoYS50YXJnZXQ9YS5zcmNFbGVtZW50fHxjKSxhLnRhcmdldC5ub2RlVHlwZT09PTMmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSwhYS5yZWxhdGVkVGFyZ2V0JiZhLmZyb21FbGVtZW50JiYoYS5yZWxhdGVkVGFyZ2V0PWEuZnJvbUVsZW1lbnQ9PT1hLnRhcmdldD9hLnRvRWxlbWVudDphLmZyb21FbGVtZW50KTtpZihhLnBhZ2VYPT1udWxsJiZhLmNsaWVudFghPW51bGwpe3ZhciBoPWMuZG9jdW1lbnRFbGVtZW50LGk9Yy5ib2R5O2EucGFnZVg9YS5jbGllbnRYKyhoJiZoLnNjcm9sbExlZnR8fGkmJmkuc2Nyb2xsTGVmdHx8MCktKGgmJmguY2xpZW50TGVmdHx8aSYmaS5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWEuY2xpZW50WSsoaCYmaC5zY3JvbGxUb3B8fGkmJmkuc2Nyb2xsVG9wfHwwKS0oaCYmaC5jbGllbnRUb3B8fGkmJmkuY2xpZW50VG9wfHwwKX1hLndoaWNoPT1udWxsJiYoYS5jaGFyQ29kZSE9bnVsbHx8YS5rZXlDb2RlIT1udWxsKSYmKGEud2hpY2g9YS5jaGFyQ29kZSE9bnVsbD9hLmNoYXJDb2RlOmEua2V5Q29kZSksIWEubWV0YUtleSYmYS5jdHJsS2V5JiYoYS5tZXRhS2V5PWEuY3RybEtleSksIWEud2hpY2gmJmEuYnV0dG9uIT09YiYmKGEud2hpY2g9YS5idXR0b24mMT8xOmEuYnV0dG9uJjI/MzphLmJ1dHRvbiY0PzI6MCk7cmV0dXJuIGF9LGd1aWQ6MWU4LHByb3h5OmQucHJveHksc3BlY2lhbDp7cmVhZHk6e3NldHVwOmQuYmluZFJlYWR5LHRlYXJkb3duOmQubm9vcH0sbGl2ZTp7YWRkOmZ1bmN0aW9uKGEpe2QuZXZlbnQuYWRkKHRoaXMsSChhLm9yaWdUeXBlLGEuc2VsZWN0b3IpLGQuZXh0ZW5kKHt9LGEse2hhbmRsZXI6RyxndWlkOmEuaGFuZGxlci5ndWlkfSkpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7ZC5ldmVudC5yZW1vdmUodGhpcyxIKGEub3JpZ1R5cGUsYS5zZWxlY3RvciksYSl9fSxiZWZvcmV1bmxvYWQ6e3NldHVwOmZ1bmN0aW9uKGEsYixjKXtkLmlzV2luZG93KHRoaXMpJiYodGhpcy5vbmJlZm9yZXVubG9hZD1jKX0sdGVhcmRvd246ZnVuY3Rpb24oYSxiKXt0aGlzLm9uYmVmb3JldW5sb2FkPT09YiYmKHRoaXMub25iZWZvcmV1bmxvYWQ9bnVsbCl9fX19LGQucmVtb3ZlRXZlbnQ9Yy5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfTpmdW5jdGlvbihhLGIsYyl7YS5kZXRhY2hFdmVudCYmYS5kZXRhY2hFdmVudCgib24iK2IsYyl9LGQuRXZlbnQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMucHJldmVudERlZmF1bHQpcmV0dXJuIG5ldyBkLkV2ZW50KGEpO2EmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fGEucmV0dXJuVmFsdWU9PT0hMXx8YS5nZXRQcmV2ZW50RGVmYXVsdCYmYS5nZXRQcmV2ZW50RGVmYXVsdCgpP3k6eCk6dGhpcy50eXBlPWEsdGhpcy50aW1lU3RhbXA9ZC5ub3coKSx0aGlzW2QuZXhwYW5kb109ITB9LGQuRXZlbnQucHJvdG90eXBlPXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXk7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O2EmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD15O3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDthJiYoYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCksYS5jYW5jZWxCdWJibGU9ITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPXksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX0saXNEZWZhdWx0UHJldmVudGVkOngsaXNQcm9wYWdhdGlvblN0b3BwZWQ6eCxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDp4fTt2YXIgej1mdW5jdGlvbihhKXt2YXIgYj1hLnJlbGF0ZWRUYXJnZXQ7dHJ5e2lmKGImJmIhPT1jJiYhYi5wYXJlbnROb2RlKXJldHVybjt3aGlsZShiJiZiIT09dGhpcyliPWIucGFyZW50Tm9kZTtiIT09dGhpcyYmKGEudHlwZT1hLmRhdGEsZC5ldmVudC5oYW5kbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1jYXRjaChlKXt9fSxBPWZ1bmN0aW9uKGEpe2EudHlwZT1hLmRhdGEsZC5ldmVudC5oYW5kbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtkLmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSxmdW5jdGlvbihhLGIpe2QuZXZlbnQuc3BlY2lhbFthXT17c2V0dXA6ZnVuY3Rpb24oYyl7ZC5ldmVudC5hZGQodGhpcyxiLGMmJmMuc2VsZWN0b3I/QTp6LGEpfSx0ZWFyZG93bjpmdW5jdGlvbihhKXtkLmV2ZW50LnJlbW92ZSh0aGlzLGIsYSYmYS5zZWxlY3Rvcj9BOnopfX19KSxkLnN1cHBvcnQuc3VibWl0QnViYmxlc3x8KGQuZXZlbnQuc3BlY2lhbC5zdWJtaXQ9e3NldHVwOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5ub2RlTmFtZSYmdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09ImZvcm0iKWQuZXZlbnQuYWRkKHRoaXMsImNsaWNrLnNwZWNpYWxTdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Yi50eXBlOyhjPT09InN1Ym1pdCJ8fGM9PT0iaW1hZ2UiKSYmZChiKS5jbG9zZXN0KCJmb3JtIikubGVuZ3RoJiZFKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX0pLGQuZXZlbnQuYWRkKHRoaXMsImtleXByZXNzLnNwZWNpYWxTdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Yi50eXBlOyhjPT09InRleHQifHxjPT09InBhc3N3b3JkIikmJmQoYikuY2xvc2VzdCgiZm9ybSIpLmxlbmd0aCYmYS5rZXlDb2RlPT09MTMmJkUoInN1Ym1pdCIsdGhpcyxhcmd1bWVudHMpfSk7ZWxzZSByZXR1cm4hMX0sdGVhcmRvd246ZnVuY3Rpb24oYSl7ZC5ldmVudC5yZW1vdmUodGhpcywiLnNwZWNpYWxTdWJtaXQiKX19KTtpZighZC5zdXBwb3J0LmNoYW5nZUJ1YmJsZXMpe3ZhciBCLEM9ZnVuY3Rpb24oYSl7dmFyIGI9YS50eXBlLGM9YS52YWx1ZTtiPT09InJhZGlvInx8Yj09PSJjaGVja2JveCI/Yz1hLmNoZWNrZWQ6Yj09PSJzZWxlY3QtbXVsdGlwbGUiP2M9YS5zZWxlY3RlZEluZGV4Pi0xP2QubWFwKGEub3B0aW9ucyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pLmpvaW4oIi0iKToiIjphLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0ic2VsZWN0IiYmKGM9YS5zZWxlY3RlZEluZGV4KTtyZXR1cm4gY30sRD1mdW5jdGlvbiBEKGEpe3ZhciBjPWEudGFyZ2V0LGUsZjtpZihzLnRlc3QoYy5ub2RlTmFtZSkmJiFjLnJlYWRPbmx5KXtlPWQuX2RhdGEoYywiX2NoYW5nZV9kYXRhIiksZj1DKGMpLChhLnR5cGUhPT0iZm9jdXNvdXQifHxjLnR5cGUhPT0icmFkaW8iKSYmZC5fZGF0YShjLCJfY2hhbmdlX2RhdGEiLGYpO2lmKGU9PT1ifHxmPT09ZSlyZXR1cm47aWYoZSE9bnVsbHx8ZilhLnR5cGU9ImNoYW5nZSIsYS5saXZlRmlyZWQ9YixkLmV2ZW50LnRyaWdnZXIoYSxhcmd1bWVudHNbMV0sYyl9fTtkLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtmaWx0ZXJzOntmb2N1c291dDpELGJlZm9yZWRlYWN0aXZhdGU6RCxjbGljazpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJyYWRpbyJ8fGM9PT0iY2hlY2tib3gifHxiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0ic2VsZWN0IikmJkQuY2FsbCh0aGlzLGEpfSxrZXlkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Yi50eXBlOyhhLmtleUNvZGU9PT0xMyYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09InRleHRhcmVhInx8YS5rZXlDb2RlPT09MzImJihjPT09ImNoZWNrYm94Inx8Yz09PSJyYWRpbyIpfHxjPT09InNlbGVjdC1tdWx0aXBsZSIpJiZELmNhbGwodGhpcyxhKX0sYmVmb3JlYWN0aXZhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7ZC5fZGF0YShiLCJfY2hhbmdlX2RhdGEiLEMoYikpfX0sc2V0dXA6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnR5cGU9PT0iZmlsZSIpcmV0dXJuITE7Zm9yKHZhciBjIGluIEIpZC5ldmVudC5hZGQodGhpcyxjKyIuc3BlY2lhbENoYW5nZSIsQltjXSk7cmV0dXJuIHMudGVzdCh0aGlzLm5vZGVOYW1lKX0sdGVhcmRvd246ZnVuY3Rpb24oYSl7ZC5ldmVudC5yZW1vdmUodGhpcywiLnNwZWNpYWxDaGFuZ2UiKTtyZXR1cm4gcy50ZXN0KHRoaXMubm9kZU5hbWUpfX0sQj1kLmV2ZW50LnNwZWNpYWwuY2hhbmdlLmZpbHRlcnMsQi5mb2N1cz1CLmJlZm9yZWFjdGl2YXRlfWMuYWRkRXZlbnRMaXN0ZW5lciYmZC5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGYoYSl7dmFyIGM9ZC5ldmVudC5maXgoYSk7Yy50eXBlPWIsYy5vcmlnaW5hbEV2ZW50PXt9LGQuZXZlbnQudHJpZ2dlcihjLG51bGwsYy50YXJnZXQpLGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmEucHJldmVudERlZmF1bHQoKX12YXIgZT0wO2QuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXtlKys9PT0wJiZjLmFkZEV2ZW50TGlzdGVuZXIoYSxmLCEwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLWU9PT0wJiZjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxmLCEwKX19fSksZC5lYWNoKFsiYmluZCIsIm9uZSJdLGZ1bmN0aW9uKGEsYyl7ZC5mbltjXT1mdW5jdGlvbihhLGUsZil7aWYodHlwZW9mIGE9PT0ib2JqZWN0Iil7Zm9yKHZhciBnIGluIGEpdGhpc1tjXShnLGUsYVtnXSxmKTtyZXR1cm4gdGhpc31pZihkLmlzRnVuY3Rpb24oZSl8fGU9PT0hMSlmPWUsZT1iO3ZhciBoPWM9PT0ib25lIj9kLnByb3h5KGYsZnVuY3Rpb24oYSl7ZCh0aGlzKS51bmJpbmQoYSxoKTtyZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTpmO2lmKGE9PT0idW5sb2FkIiYmYyE9PSJvbmUiKXRoaXMub25lKGEsZSxmKTtlbHNlIGZvcih2YXIgaT0wLGo9dGhpcy5sZW5ndGg7aTxqO2krKylkLmV2ZW50LmFkZCh0aGlzW2ldLGEsaCxlKTtyZXR1cm4gdGhpc319KSxkLmZuLmV4dGVuZCh7dW5iaW5kOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGEhPT0ib2JqZWN0Inx8YS5wcmV2ZW50RGVmYXVsdClmb3IodmFyIGU9MCxmPXRoaXMubGVuZ3RoO2U8ZjtlKyspZC5ldmVudC5yZW1vdmUodGhpc1tlXSxhLGIpO2Vsc2UgZm9yKHZhciBjIGluIGEpdGhpcy51bmJpbmQoYyxhW2NdKTtyZXR1cm4gdGhpc30sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMubGl2ZShiLGMsZCxhKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PT0wP3RoaXMudW5iaW5kKCJsaXZlIik6dGhpcy5kaWUoYixudWxsLGMsYSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZC5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe2lmKHRoaXNbMF0pe3ZhciBjPWQuRXZlbnQoYSk7Yy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksZC5ldmVudC50cmlnZ2VyKGMsYix0aGlzWzBdKTtyZXR1cm4gYy5yZXN1bHR9fSx0b2dnbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YXJndW1lbnRzLGM9MTt3aGlsZShjPGIubGVuZ3RoKWQucHJveHkoYSxiW2MrK10pO3JldHVybiB0aGlzLmNsaWNrKGQucHJveHkoYSxmdW5jdGlvbihlKXt2YXIgZj0oZC5fZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQpfHwwKSVjO2QuX2RhdGEodGhpcywibGFzdFRvZ2dsZSIrYS5ndWlkLGYrMSksZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBiW2ZdLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8ITF9KSl9LGhvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfX0pO3ZhciBGPXtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQiLG1vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifTtkLmVhY2goWyJsaXZlIiwiZGllIl0sZnVuY3Rpb24oYSxjKXtkLmZuW2NdPWZ1bmN0aW9uKGEsZSxmLGcpe3ZhciBoLGk9MCxqLGssbCxtPWd8fHRoaXMuc2VsZWN0b3Isbj1nP3RoaXM6ZCh0aGlzLmNvbnRleHQpO2lmKHR5cGVvZiBhPT09Im9iamVjdCImJiFhLnByZXZlbnREZWZhdWx0KXtmb3IodmFyIG8gaW4gYSluW2NdKG8sZSxhW29dLG0pO3JldHVybiB0aGlzfWQuaXNGdW5jdGlvbihlKSYmKGY9ZSxlPWIpLGE9KGF8fCIiKS5zcGxpdCgiICIpO3doaWxlKChoPWFbaSsrXSkhPW51bGwpe2o9ci5leGVjKGgpLGs9IiIsaiYmKGs9alswXSxoPWgucmVwbGFjZShyLCIiKSk7aWYoaD09PSJob3ZlciIpe2EucHVzaCgibW91c2VlbnRlciIraywibW91c2VsZWF2ZSIrayk7Y29udGludWV9bD1oLGg9PT0iZm9jdXMifHxoPT09ImJsdXIiPyhhLnB1c2goRltoXStrKSxoPWgrayk6aD0oRltoXXx8aCkraztpZihjPT09ImxpdmUiKWZvcih2YXIgcD0wLHE9bi5sZW5ndGg7cDxxO3ArKylkLmV2ZW50LmFkZChuW3BdLCJsaXZlLiIrSChoLG0pLHtkYXRhOmUsc2VsZWN0b3I6bSxoYW5kbGVyOmYsb3JpZ1R5cGU6aCxvcmlnSGFuZGxlcjpmLHByZVR5cGU6bH0pO2Vsc2Ugbi51bmJpbmQoImxpdmUuIitIKGgsbSksZil9cmV0dXJuIHRoaXN9fSksZC5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7ZC5mbltiXT1mdW5jdGlvbihhLGMpe2M9PW51bGwmJihjPWEsYT1udWxsKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMuYmluZChiLGEsYyk6dGhpcy50cmlnZ2VyKGIpfSxkLmF0dHJGbiYmKGQuYXR0ckZuW2JdPSEwKX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdShhLGIsYyxkLGUsZil7Zm9yKHZhciBnPTAsaD1kLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT1kW2ddO2lmKGkpe3ZhciBqPSExO2k9aVthXTt3aGlsZShpKXtpZihpLnNpemNhY2hlPT09Yyl7aj1kW2kuc2l6c2V0XTticmVha31pZihpLm5vZGVUeXBlPT09MSl7Znx8KGkuc2l6Y2FjaGU9YyxpLnNpenNldD1nKTtpZih0eXBlb2YgYiE9PSJzdHJpbmciKXtpZihpPT09Yil7aj0hMDticmVha319ZWxzZSBpZihrLmZpbHRlcihiLFtpXSkubGVuZ3RoPjApe2o9aTticmVha319aT1pW2FdfWRbZ109an19fWZ1bmN0aW9uIHQoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz0wLGg9ZC5sZW5ndGg7ZzxoO2crKyl7dmFyIGk9ZFtnXTtpZihpKXt2YXIgaj0hMTtpPWlbYV07d2hpbGUoaSl7aWYoaS5zaXpjYWNoZT09PWMpe2o9ZFtpLnNpenNldF07YnJlYWt9aS5ub2RlVHlwZT09PTEmJiFmJiYoaS5zaXpjYWNoZT1jLGkuc2l6c2V0PWcpO2lmKGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIpe2o9aTticmVha31pPWlbYV19ZFtnXT1qfX19dmFyIGE9LygoPzpcKCg/OlwoW14oKV0rXCl8W14oKV0rKStcKXxcWyg/OlxbW15cW1xdXSpcXXxbJyJdW14nIl0qWyciXXxbXlxbXF0nIl0rKStcXXxcXC58W14gPit+LChcW1xcXSspK3xbPit+XSkoXHMqLFxzKik/KCg/Oi58XHJ8XG4pKikvZyxlPTAsZj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGc9ITEsaD0hMCxpPS9cXC9nLGo9L1xXLztbMCwwXS5zb3J0KGZ1bmN0aW9uKCl7aD0hMTtyZXR1cm4gMH0pO3ZhciBrPWZ1bmN0aW9uKGIsZCxlLGcpe2U9ZXx8W10sZD1kfHxjO3ZhciBoPWQ7aWYoZC5ub2RlVHlwZSE9PTEmJmQubm9kZVR5cGUhPT05KXJldHVybltdO2lmKCFifHx0eXBlb2YgYiE9PSJzdHJpbmciKXJldHVybiBlO3ZhciBpLGosbixvLHEscixzLHQsdT0hMCx3PWsuaXNYTUwoZCkseD1bXSx5PWI7ZG97YS5leGVjKCIiKSxpPWEuZXhlYyh5KTtpZihpKXt5PWlbM10seC5wdXNoKGlbMV0pO2lmKGlbMl0pe289aVszXTticmVha319fXdoaWxlKGkpO2lmKHgubGVuZ3RoPjEmJm0uZXhlYyhiKSlpZih4Lmxlbmd0aD09PTImJmwucmVsYXRpdmVbeFswXV0paj12KHhbMF0reFsxXSxkKTtlbHNle2o9bC5yZWxhdGl2ZVt4WzBdXT9bZF06ayh4LnNoaWZ0KCksZCk7d2hpbGUoeC5sZW5ndGgpYj14LnNoaWZ0KCksbC5yZWxhdGl2ZVtiXSYmKGIrPXguc2hpZnQoKSksaj12KGIsail9ZWxzZXshZyYmeC5sZW5ndGg+MSYmZC5ub2RlVHlwZT09PTkmJiF3JiZsLm1hdGNoLklELnRlc3QoeFswXSkmJiFsLm1hdGNoLklELnRlc3QoeFt4Lmxlbmd0aC0xXSkmJihxPWsuZmluZCh4LnNoaWZ0KCksZCx3KSxkPXEuZXhwcj9rLmZpbHRlcihxLmV4cHIscS5zZXQpWzBdOnEuc2V0WzBdKTtpZihkKXtxPWc/e2V4cHI6eC5wb3AoKSxzZXQ6cChnKX06ay5maW5kKHgucG9wKCkseC5sZW5ndGg9PT0xJiYoeFswXT09PSJ+Inx8eFswXT09PSIrIikmJmQucGFyZW50Tm9kZT9kLnBhcmVudE5vZGU6ZCx3KSxqPXEuZXhwcj9rLmZpbHRlcihxLmV4cHIscS5zZXQpOnEuc2V0LHgubGVuZ3RoPjA/bj1wKGopOnU9ITE7d2hpbGUoeC5sZW5ndGgpcj14LnBvcCgpLHM9cixsLnJlbGF0aXZlW3JdP3M9eC5wb3AoKTpyPSIiLHM9PW51bGwmJihzPWQpLGwucmVsYXRpdmVbcl0obixzLHcpfWVsc2Ugbj14PVtdfW58fChuPWopLG58fGsuZXJyb3Iocnx8Yik7aWYoZi5jYWxsKG4pPT09IltvYmplY3QgQXJyYXldIilpZih1KWlmKGQmJmQubm9kZVR5cGU9PT0xKWZvcih0PTA7blt0XSE9bnVsbDt0Kyspblt0XSYmKG5bdF09PT0hMHx8blt0XS5ub2RlVHlwZT09PTEmJmsuY29udGFpbnMoZCxuW3RdKSkmJmUucHVzaChqW3RdKTtlbHNlIGZvcih0PTA7blt0XSE9bnVsbDt0Kyspblt0XSYmblt0XS5ub2RlVHlwZT09PTEmJmUucHVzaChqW3RdKTtlbHNlIGUucHVzaC5hcHBseShlLG4pO2Vsc2UgcChuLGUpO28mJihrKG8saCxlLGcpLGsudW5pcXVlU29ydChlKSk7cmV0dXJuIGV9O2sudW5pcXVlU29ydD1mdW5jdGlvbihhKXtpZihyKXtnPWgsYS5zb3J0KHIpO2lmKGcpZm9yKHZhciBiPTE7YjxhLmxlbmd0aDtiKyspYVtiXT09PWFbYi0xXSYmYS5zcGxpY2UoYi0tLDEpfXJldHVybiBhfSxrLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gayhhLG51bGwsbnVsbCxiKX0say5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gayhiLG51bGwsbnVsbCxbYV0pLmxlbmd0aD4wfSxrLmZpbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKCFhKXJldHVybltdO2Zvcih2YXIgZT0wLGY9bC5vcmRlci5sZW5ndGg7ZTxmO2UrKyl7dmFyIGcsaD1sLm9yZGVyW2VdO2lmKGc9bC5sZWZ0TWF0Y2hbaF0uZXhlYyhhKSl7dmFyIGo9Z1sxXTtnLnNwbGljZSgxLDEpO2lmKGouc3Vic3RyKGoubGVuZ3RoLTEpIT09IlxcIil7Z1sxXT0oZ1sxXXx8IiIpLnJlcGxhY2UoaSwiIiksZD1sLmZpbmRbaF0oZyxiLGMpO2lmKGQhPW51bGwpe2E9YS5yZXBsYWNlKGwubWF0Y2hbaF0sIiIpO2JyZWFrfX19fWR8fChkPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09InVuZGVmaW5lZCI/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOltdKTtyZXR1cm57c2V0OmQsZXhwcjphfX0say5maWx0ZXI9ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGYsZyxoPWEsaT1bXSxqPWMsbT1jJiZjWzBdJiZrLmlzWE1MKGNbMF0pO3doaWxlKGEmJmMubGVuZ3RoKXtmb3IodmFyIG4gaW4gbC5maWx0ZXIpaWYoKGY9bC5sZWZ0TWF0Y2hbbl0uZXhlYyhhKSkhPW51bGwmJmZbMl0pe3ZhciBvLHAscT1sLmZpbHRlcltuXSxyPWZbMV07Zz0hMSxmLnNwbGljZSgxLDEpO2lmKHIuc3Vic3RyKHIubGVuZ3RoLTEpPT09IlxcIiljb250aW51ZTtqPT09aSYmKGk9W10pO2lmKGwucHJlRmlsdGVyW25dKXtmPWwucHJlRmlsdGVyW25dKGYsaixkLGksZSxtKTtpZihmKXtpZihmPT09ITApY29udGludWV9ZWxzZSBnPW89ITB9aWYoZilmb3IodmFyIHM9MDsocD1qW3NdKSE9bnVsbDtzKyspaWYocCl7bz1xKHAsZixzLGopO3ZhciB0PWVeISFvO2QmJm8hPW51bGw/dD9nPSEwOmpbc109ITE6dCYmKGkucHVzaChwKSxnPSEwKX1pZihvIT09Yil7ZHx8KGo9aSksYT1hLnJlcGxhY2UobC5tYXRjaFtuXSwiIik7aWYoIWcpcmV0dXJuW107YnJlYWt9fWlmKGE9PT1oKWlmKGc9PW51bGwpay5lcnJvcihhKTtlbHNlIGJyZWFrO2g9YX1yZXR1cm4gan0say5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2F9O3ZhciBsPWsuc2VsZWN0b3JzPXtvcmRlcjpbIklEIiwiTkFNRSIsIlRBRyJdLG1hdGNoOntJRDovIygoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKS8sQ0xBU1M6L1wuKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxOQU1FOi9cW25hbWU9WyciXSooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKylbJyJdKlxdLyxBVFRSOi9cW1xzKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVxzKig/OihcUz89KVxzKig/OihbJyJdKSguKj8pXDN8KCM/KD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKil8KXwpXHMqXF0vLFRBRzovXigoPzpbXHdcdTAwYzAtXHVGRkZGXCpcLV18XFwuKSspLyxDSElMRDovOihvbmx5fG50aHxsYXN0fGZpcnN0KS1jaGlsZCg/OlwoXHMqKGV2ZW58b2RkfCg/OlsrXC1dP1xkK3woPzpbK1wtXT9cZCopP25ccyooPzpbK1wtXVxzKlxkKyk/KSlccypcKSk/LyxQT1M6LzoobnRofGVxfGd0fGx0fGZpcnN0fGxhc3R8ZXZlbnxvZGQpKD86XCgoXGQqKVwpKT8oPz1bXlwtXXwkKS8sUFNFVURPOi86KCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspKD86XCgoWyciXT8pKCg/OlwoW15cKV0rXCl8W15cKFwpXSopKylcMlwpKT8vfSxsZWZ0TWF0Y2g6e30sYXR0ck1hcDp7ImNsYXNzIjoiY2xhc3NOYW1lIiwiZm9yIjoiaHRtbEZvciJ9LGF0dHJIYW5kbGU6e2hyZWY6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJocmVmIil9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJ0eXBlIil9fSxyZWxhdGl2ZTp7IisiOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGI9PT0ic3RyaW5nIixkPWMmJiFqLnRlc3QoYiksZT1jJiYhZDtkJiYoYj1iLnRvTG93ZXJDYXNlKCkpO2Zvcih2YXIgZj0wLGc9YS5sZW5ndGgsaDtmPGc7ZisrKWlmKGg9YVtmXSl7d2hpbGUoKGg9aC5wcmV2aW91c1NpYmxpbmcpJiZoLm5vZGVUeXBlIT09MSl7fWFbZl09ZXx8aCYmaC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yj9ofHwhMTpoPT09Yn1lJiZrLmZpbHRlcihiLGEsITApfSwiPiI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXR5cGVvZiBiPT09InN0cmluZyIsZT0wLGY9YS5sZW5ndGg7aWYoZCYmIWoudGVzdChiKSl7Yj1iLnRvTG93ZXJDYXNlKCk7Zm9yKDtlPGY7ZSsrKXtjPWFbZV07aWYoYyl7dmFyIGc9Yy5wYXJlbnROb2RlO2FbZV09Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yj9nOiExfX19ZWxzZXtmb3IoO2U8ZjtlKyspYz1hW2VdLGMmJihhW2VdPWQ/Yy5wYXJlbnROb2RlOmMucGFyZW50Tm9kZT09PWIpO2QmJmsuZmlsdGVyKGIsYSwhMCl9fSwiIjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj1lKyssZz11O3R5cGVvZiBiPT09InN0cmluZyImJiFqLnRlc3QoYikmJihiPWIudG9Mb3dlckNhc2UoKSxkPWIsZz10KSxnKCJwYXJlbnROb2RlIixiLGYsYSxkLGMpfSwifiI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGY9ZSsrLGc9dTt0eXBlb2YgYj09PSJzdHJpbmciJiYhai50ZXN0KGIpJiYoYj1iLnRvTG93ZXJDYXNlKCksZD1iLGc9dCksZygicHJldmlvdXNTaWJsaW5nIixiLGYsYSxkLGMpfX0sZmluZDp7SUQ6ZnVuY3Rpb24oYSxiLGMpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09InVuZGVmaW5lZCImJiFjKXt2YXIgZD1iLmdldEVsZW1lbnRCeUlkKGFbMV0pO3JldHVybiBkJiZkLnBhcmVudE5vZGU/W2RdOltdfX0sTkFNRTpmdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlOYW1lIT09InVuZGVmaW5lZCIpe3ZhciBjPVtdLGQ9Yi5nZXRFbGVtZW50c0J5TmFtZShhWzFdKTtmb3IodmFyIGU9MCxmPWQubGVuZ3RoO2U8ZjtlKyspZFtlXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKT09PWFbMV0mJmMucHVzaChkW2VdKTtyZXR1cm4gYy5sZW5ndGg9PT0wP251bGw6Y319LFRBRzpmdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09InVuZGVmaW5lZCIpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYVsxXSl9fSxwcmVGaWx0ZXI6e0NMQVNTOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXthPSIgIithWzFdLnJlcGxhY2UoaSwiIikrIiAiO2lmKGYpcmV0dXJuIGE7Zm9yKHZhciBnPTAsaDsoaD1iW2ddKSE9bnVsbDtnKyspaCYmKGVeKGguY2xhc3NOYW1lJiYoIiAiK2guY2xhc3NOYW1lKyIgIikucmVwbGFjZSgvW1x0XG5ccl0vZywiICIpLmluZGV4T2YoYSk+PTApP2N8fGQucHVzaChoKTpjJiYoYltnXT0hMSkpO3JldHVybiExfSxJRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXS5yZXBsYWNlKGksIiIpfSxUQUc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVsxXS5yZXBsYWNlKGksIiIpLnRvTG93ZXJDYXNlKCl9LENISUxEOmZ1bmN0aW9uKGEpe2lmKGFbMV09PT0ibnRoIil7YVsyXXx8ay5lcnJvcihhWzBdKSxhWzJdPWFbMl0ucmVwbGFjZSgvXlwrfFxzKi9nLCIiKTt2YXIgYj0vKC0/KShcZCopKD86bihbK1wtXT9cZCopKT8vLmV4ZWMoYVsyXT09PSJldmVuIiYmIjJuInx8YVsyXT09PSJvZGQiJiYiMm4rMSJ8fCEvXEQvLnRlc3QoYVsyXSkmJiIwbisiK2FbMl18fGFbMl0pO2FbMl09YlsxXSsoYlsyXXx8MSktMCxhWzNdPWJbM10tMH1lbHNlIGFbMl0mJmsuZXJyb3IoYVswXSk7YVswXT1lKys7cmV0dXJuIGF9LEFUVFI6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWFbMV09YVsxXS5yZXBsYWNlKGksIiIpOyFmJiZsLmF0dHJNYXBbZ10mJihhWzFdPWwuYXR0ck1hcFtnXSksYVs0XT0oYVs0XXx8YVs1XXx8IiIpLnJlcGxhY2UoaSwiIiksYVsyXT09PSJ+PSImJihhWzRdPSIgIithWzRdKyIgIik7cmV0dXJuIGF9LFBTRVVETzpmdW5jdGlvbihiLGMsZCxlLGYpe2lmKGJbMV09PT0ibm90IilpZigoYS5leGVjKGJbM10pfHwiIikubGVuZ3RoPjF8fC9eXHcvLnRlc3QoYlszXSkpYlszXT1rKGJbM10sbnVsbCxudWxsLGMpO2Vsc2V7dmFyIGc9ay5maWx0ZXIoYlszXSxjLGQsITBeZik7ZHx8ZS5wdXNoLmFwcGx5KGUsZyk7cmV0dXJuITF9ZWxzZSBpZihsLm1hdGNoLlBPUy50ZXN0KGJbMF0pfHxsLm1hdGNoLkNISUxELnRlc3QoYlswXSkpcmV0dXJuITA7cmV0dXJuIGJ9LFBPUzpmdW5jdGlvbihhKXthLnVuc2hpZnQoITApO3JldHVybiBhfX0sZmlsdGVyczp7ZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExJiZhLnR5cGUhPT0iaGlkZGVuIn0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGVja2VkPT09ITB9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe2EucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7cmV0dXJuIGEuc2VsZWN0ZWQ9PT0hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiEhYS5maXJzdENoaWxkfSxlbXB0eTpmdW5jdGlvbihhKXtyZXR1cm4hYS5maXJzdENoaWxkfSxoYXM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiEhayhjWzNdLGEpLmxlbmd0aH0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybi9oXGQvaS50ZXN0KGEubm9kZU5hbWUpfSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIiksYz1hLnR5cGU7cmV0dXJuInRleHQiPT09YyYmKGI9PT1jfHxiPT09bnVsbCl9LHJhZGlvOmZ1bmN0aW9uKGEpe3JldHVybiJyYWRpbyI9PT1hLnR5cGV9LGNoZWNrYm94OmZ1bmN0aW9uKGEpe3JldHVybiJjaGVja2JveCI9PT1hLnR5cGV9LGZpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuImZpbGUiPT09YS50eXBlfSxwYXNzd29yZDpmdW5jdGlvbihhKXtyZXR1cm4icGFzc3dvcmQiPT09YS50eXBlfSxzdWJtaXQ6ZnVuY3Rpb24oYSl7cmV0dXJuInN1Ym1pdCI9PT1hLnR5cGV9LGltYWdlOmZ1bmN0aW9uKGEpe3JldHVybiJpbWFnZSI9PT1hLnR5cGV9LHJlc2V0OmZ1bmN0aW9uKGEpe3JldHVybiJyZXNldCI9PT1hLnR5cGV9LGJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4iYnV0dG9uIj09PWEudHlwZXx8YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImJ1dHRvbiJ9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybi9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2kudGVzdChhLm5vZGVOYW1lKX19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PT0wfSxsYXN0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiPT09ZC5sZW5ndGgtMX0sZXZlbjpmdW5jdGlvbihhLGIpe3JldHVybiBiJTI9PT0wfSxvZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiUyPT09MX0sbHQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPGNbM10tMH0sZ3Q6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPmNbM10tMH0sbnRoOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY1szXS0wPT09Yn0sZXE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjWzNdLTA9PT1ifX0sZmlsdGVyOntQU0VVRE86ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsxXSxmPWwuZmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpO2lmKGU9PT0iY29udGFpbnMiKXJldHVybihhLnRleHRDb250ZW50fHxhLmlubmVyVGV4dHx8ay5nZXRUZXh0KFthXSl8fCIiKS5pbmRleE9mKGJbM10pPj0wO2lmKGU9PT0ibm90Iil7dmFyIGc9YlszXTtmb3IodmFyIGg9MCxpPWcubGVuZ3RoO2g8aTtoKyspaWYoZ1toXT09PWEpcmV0dXJuITE7cmV0dXJuITB9ay5lcnJvcihlKX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iWzFdLGQ9YTtzd2l0Y2goYyl7Y2FzZSJvbmx5IjpjYXNlImZpcnN0Ijp3aGlsZShkPWQucHJldmlvdXNTaWJsaW5nKWlmKGQubm9kZVR5cGU9PT0xKXJldHVybiExO2lmKGM9PT0iZmlyc3QiKXJldHVybiEwO2Q9YTtjYXNlImxhc3QiOndoaWxlKGQ9ZC5uZXh0U2libGluZylpZihkLm5vZGVUeXBlPT09MSlyZXR1cm4hMTtyZXR1cm4hMDtjYXNlIm50aCI6dmFyIGU9YlsyXSxmPWJbM107aWYoZT09PTEmJmY9PT0wKXJldHVybiEwO3ZhciBnPWJbMF0saD1hLnBhcmVudE5vZGU7aWYoaCYmKGguc2l6Y2FjaGUhPT1nfHwhYS5ub2RlSW5kZXgpKXt2YXIgaT0wO2ZvcihkPWguZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylkLm5vZGVUeXBlPT09MSYmKGQubm9kZUluZGV4PSsraSk7aC5zaXpjYWNoZT1nfXZhciBqPWEubm9kZUluZGV4LWY7cmV0dXJuIGU9PT0wP2o9PT0wOmolZT09PTAmJmovZT49MH19LElEOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09IioiJiZhLm5vZGVUeXBlPT09MXx8YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn0sQ0xBU1M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIiAiKyhhLmNsYXNzTmFtZXx8YS5nZXRBdHRyaWJ1dGUoImNsYXNzIikpKyIgIikuaW5kZXhPZihiKT4tMX0sQVRUUjpmdW5jdGlvbihhLGIpe3ZhciBjPWJbMV0sZD1sLmF0dHJIYW5kbGVbY10/bC5hdHRySGFuZGxlW2NdKGEpOmFbY10hPW51bGw/YVtjXTphLmdldEF0dHJpYnV0ZShjKSxlPWQrIiIsZj1iWzJdLGc9Yls0XTtyZXR1cm4gZD09bnVsbD9mPT09IiE9IjpmPT09Ij0iP2U9PT1nOmY9PT0iKj0iP2UuaW5kZXhPZihnKT49MDpmPT09In49Ij8oIiAiK2UrIiAiKS5pbmRleE9mKGcpPj0wOmc/Zj09PSIhPSI/ZSE9PWc6Zj09PSJePSI/ZS5pbmRleE9mKGcpPT09MDpmPT09IiQ9Ij9lLnN1YnN0cihlLmxlbmd0aC1nLmxlbmd0aCk9PT1nOmY9PT0ifD0iP2U9PT1nfHxlLnN1YnN0cigwLGcubGVuZ3RoKzEpPT09ZysiLSI6ITE6ZSYmZCE9PSExfSxQT1M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsyXSxmPWwuc2V0RmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpfX19LG09bC5tYXRjaC5QT1Msbj1mdW5jdGlvbihhLGIpe3JldHVybiJcXCIrKGItMCsxKX07Zm9yKHZhciBvIGluIGwubWF0Y2gpbC5tYXRjaFtvXT1uZXcgUmVnRXhwKGwubWF0Y2hbb10uc291cmNlKy8oPyFbXlxbXSpcXSkoPyFbXlwoXSpcKSkvLnNvdXJjZSksbC5sZWZ0TWF0Y2hbb109bmV3IFJlZ0V4cCgvKF4oPzoufFxyfFxuKSo/KS8uc291cmNlK2wubWF0Y2hbb10uc291cmNlLnJlcGxhY2UoL1xcKFxkKykvZyxuKSk7dmFyIHA9ZnVuY3Rpb24oYSxiKXthPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsMCk7aWYoYil7Yi5wdXNoLmFwcGx5KGIsYSk7cmV0dXJuIGJ9cmV0dXJuIGF9O3RyeXtBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLDApWzBdLm5vZGVUeXBlfWNhdGNoKHEpe3A9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9Ynx8W107aWYoZi5jYWxsKGEpPT09IltvYmplY3QgQXJyYXldIilBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLGEpO2Vsc2UgaWYodHlwZW9mIGEubGVuZ3RoPT09Im51bWJlciIpZm9yKHZhciBlPWEubGVuZ3RoO2M8ZTtjKyspZC5wdXNoKGFbY10pO2Vsc2UgZm9yKDthW2NdO2MrKylkLnB1c2goYVtjXSk7cmV0dXJuIGR9fXZhciByLHM7Yy5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/cj1mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXtnPSEwO3JldHVybiAwfWlmKCFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9ufHwhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbilyZXR1cm4gYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj8tMToxO3JldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjQ/LTE6MX06KHI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9W10sZj1bXSxoPWEucGFyZW50Tm9kZSxpPWIucGFyZW50Tm9kZSxqPWg7aWYoYT09PWIpe2c9ITA7cmV0dXJuIDB9aWYoaD09PWkpcmV0dXJuIHMoYSxiKTtpZighaClyZXR1cm4tMTtpZighaSlyZXR1cm4gMTt3aGlsZShqKWUudW5zaGlmdChqKSxqPWoucGFyZW50Tm9kZTtqPWk7d2hpbGUoailmLnVuc2hpZnQoaiksaj1qLnBhcmVudE5vZGU7Yz1lLmxlbmd0aCxkPWYubGVuZ3RoO2Zvcih2YXIgaz0wO2s8YyYmazxkO2srKylpZihlW2tdIT09ZltrXSlyZXR1cm4gcyhlW2tdLGZba10pO3JldHVybiBrPT09Yz9zKGEsZltrXSwtMSk6cyhlW2tdLGIsMSl9LHM9ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PT1iKXJldHVybiBjO3ZhciBkPWEubmV4dFNpYmxpbmc7d2hpbGUoZCl7aWYoZD09PWIpcmV0dXJuLTE7ZD1kLm5leHRTaWJsaW5nfXJldHVybiAxfSksay5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM7Zm9yKHZhciBkPTA7YVtkXTtkKyspYz1hW2RdLGMubm9kZVR5cGU9PT0zfHxjLm5vZGVUeXBlPT09ND9iKz1jLm5vZGVWYWx1ZTpjLm5vZGVUeXBlIT09OCYmKGIrPWsuZ2V0VGV4dChjLmNoaWxkTm9kZXMpKTtyZXR1cm4gYn0sZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9InNjcmlwdCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksZT1jLmRvY3VtZW50RWxlbWVudDthLmlubmVySFRNTD0iPGEgbmFtZT0nIitkKyInLz4iLGUuaW5zZXJ0QmVmb3JlKGEsZS5maXJzdENoaWxkKSxjLmdldEVsZW1lbnRCeUlkKGQpJiYobC5maW5kLklEPWZ1bmN0aW9uKGEsYyxkKXtpZih0eXBlb2YgYy5nZXRFbGVtZW50QnlJZCE9PSJ1bmRlZmluZWQiJiYhZCl7dmFyIGU9Yy5nZXRFbGVtZW50QnlJZChhWzFdKTtyZXR1cm4gZT9lLmlkPT09YVsxXXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSE9PSJ1bmRlZmluZWQiJiZlLmdldEF0dHJpYnV0ZU5vZGUoImlkIikubm9kZVZhbHVlPT09YVsxXT9bZV06YjpbXX19LGwuZmlsdGVyLklEPWZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSE9PSJ1bmRlZmluZWQiJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZjJiZjLm5vZGVWYWx1ZT09PWJ9KSxlLnJlbW92ZUNoaWxkKGEpLGU9YT1udWxsfSgpLGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmFwcGVuZENoaWxkKGMuY3JlYXRlQ29tbWVudCgiIikpLGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGg+MCYmKGwuZmluZC5UQUc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGFbMV0pO2lmKGFbMV09PT0iKiIpe3ZhciBkPVtdO2Zvcih2YXIgZT0wO2NbZV07ZSsrKWNbZV0ubm9kZVR5cGU9PT0xJiZkLnB1c2goY1tlXSk7Yz1kfXJldHVybiBjfSksYS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLGEuZmlyc3RDaGlsZCYmdHlwZW9mIGEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUhPT0idW5kZWZpbmVkIiYmYS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpIT09IiMiJiYobC5hdHRySGFuZGxlLmhyZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJocmVmIiwyKX0pLGE9bnVsbH0oKSxjLnF1ZXJ5U2VsZWN0b3JBbGwmJmZ1bmN0aW9uKCl7dmFyIGE9ayxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD0iX19zaXp6bGVfXyI7Yi5pbm5lckhUTUw9IjxwIGNsYXNzPSdURVNUJz48L3A+IjtpZighYi5xdWVyeVNlbGVjdG9yQWxsfHxiLnF1ZXJ5U2VsZWN0b3JBbGwoIi5URVNUIikubGVuZ3RoIT09MCl7az1mdW5jdGlvbihiLGUsZixnKXtlPWV8fGM7aWYoIWcmJiFrLmlzWE1MKGUpKXt2YXIgaD0vXihcdyskKXxeXC4oW1x3XC1dKyQpfF4jKFtcd1wtXSskKS8uZXhlYyhiKTtpZihoJiYoZS5ub2RlVHlwZT09PTF8fGUubm9kZVR5cGU9PT05KSl7aWYoaFsxXSlyZXR1cm4gcChlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGIpLGYpO2lmKGhbMl0mJmwuZmluZC5DTEFTUyYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBwKGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShoWzJdKSxmKX1pZihlLm5vZGVUeXBlPT09OSl7aWYoYj09PSJib2R5IiYmZS5ib2R5KXJldHVybiBwKFtlLmJvZHldLGYpO2lmKGgmJmhbM10pe3ZhciBpPWUuZ2V0RWxlbWVudEJ5SWQoaFszXSk7aWYoIWl8fCFpLnBhcmVudE5vZGUpcmV0dXJuIHAoW10sZik7aWYoaS5pZD09PWhbM10pcmV0dXJuIHAoW2ldLGYpfXRyeXtyZXR1cm4gcChlLnF1ZXJ5U2VsZWN0b3JBbGwoYiksZil9Y2F0Y2goail7fX1lbHNlIGlmKGUubm9kZVR5cGU9PT0xJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0ib2JqZWN0Iil7dmFyIG09ZSxuPWUuZ2V0QXR0cmlidXRlKCJpZCIpLG89bnx8ZCxxPWUucGFyZW50Tm9kZSxyPS9eXHMqWyt+XS8udGVzdChiKTtuP289by5yZXBsYWNlKC8nL2csIlxcJCYiKTplLnNldEF0dHJpYnV0ZSgiaWQiLG8pLHImJnEmJihlPWUucGFyZW50Tm9kZSk7dHJ5e2lmKCFyfHxxKXJldHVybiBwKGUucXVlcnlTZWxlY3RvckFsbCgiW2lkPSciK28rIiddICIrYiksZil9Y2F0Y2gocyl7fWZpbmFsbHl7bnx8bS5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gYShiLGUsZixnKX07Zm9yKHZhciBlIGluIGEpa1tlXT1hW2VdO2I9bnVsbH19KCksZnVuY3Rpb24oKXt2YXIgYT1jLmRvY3VtZW50RWxlbWVudCxiPWEubWF0Y2hlc1NlbGVjdG9yfHxhLm1vek1hdGNoZXNTZWxlY3Rvcnx8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3I7aWYoYil7dmFyIGQ9IWIuY2FsbChjLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCJkaXYiKSxlPSExO3RyeXtiLmNhbGwoYy5kb2N1bWVudEVsZW1lbnQsIlt0ZXN0IT0nJ106c2l6emxlIil9Y2F0Y2goZil7ZT0hMH1rLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGMpe2M9Yy5yZXBsYWNlKC9cPVxzKihbXiciXF1dKilccypcXS9nLCI9JyQxJ10iKTtpZighay5pc1hNTChhKSl0cnl7aWYoZXx8IWwubWF0Y2guUFNFVURPLnRlc3QoYykmJiEvIT0vLnRlc3QoYykpe3ZhciBmPWIuY2FsbChhLGMpO2lmKGZ8fCFkfHxhLmRvY3VtZW50JiZhLmRvY3VtZW50Lm5vZGVUeXBlIT09MTEpcmV0dXJuIGZ9fWNhdGNoKGcpe31yZXR1cm4gayhjLG51bGwsbnVsbCxbYV0pLmxlbmd0aD4wfX19KCksZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSd0ZXN0IGUnPjwvZGl2PjxkaXYgY2xhc3M9J3Rlc3QnPjwvZGl2PiI7aWYoYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGghPT0wKXthLmxhc3RDaGlsZC5jbGFzc05hbWU9ImUiO2lmKGEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aD09PTEpcmV0dXJuO2wub3JkZXIuc3BsaWNlKDEsMCwiQ0xBU1MiKSxsLmZpbmQuQ0xBU1M9ZnVuY3Rpb24oYSxiLGMpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPT0idW5kZWZpbmVkIiYmIWMpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhWzFdKX0sYT1udWxsfX0oKSxjLmRvY3VtZW50RWxlbWVudC5jb250YWlucz9rLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPT1iJiYoYS5jb250YWlucz9hLmNvbnRhaW5zKGIpOiEwKX06Yy5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ay5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybiEhKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmMTYpfTprLmNvbnRhaW5zPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGsuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9KGE/YS5vd25lckRvY3VtZW50fHxhOjApLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj9iLm5vZGVOYW1lIT09IkhUTUwiOiExfTt2YXIgdj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0iIixmPWIubm9kZVR5cGU/W2JdOmI7d2hpbGUoYz1sLm1hdGNoLlBTRVVETy5leGVjKGEpKWUrPWNbMF0sYT1hLnJlcGxhY2UobC5tYXRjaC5QU0VVRE8sIiIpO2E9bC5yZWxhdGl2ZVthXT9hKyIqIjphO2Zvcih2YXIgZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKylrKGEsZltnXSxkKTtyZXR1cm4gay5maWx0ZXIoZSxkKX07ZC5maW5kPWssZC5leHByPWsuc2VsZWN0b3JzLGQuZXhwclsiOiJdPWQuZXhwci5maWx0ZXJzLGQudW5pcXVlPWsudW5pcXVlU29ydCxkLnRleHQ9ay5nZXRUZXh0LGQuaXNYTUxEb2M9ay5pc1hNTCxkLmNvbnRhaW5zPWsuY29udGFpbnN9KCk7dmFyIEk9L1VudGlsJC8sSj0vXig/OnBhcmVudHN8cHJldlVudGlsfHByZXZBbGwpLyxLPS8sLyxMPS9eLlteOiNcW1wuLF0qJC8sTT1BcnJheS5wcm90b3R5cGUuc2xpY2UsTj1kLmV4cHIubWF0Y2guUE9TLE89e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07ZC5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wdXNoU3RhY2soIiIsImZpbmQiLGEpLGM9MDtmb3IodmFyIGU9MCxmPXRoaXMubGVuZ3RoO2U8ZjtlKyspe2M9Yi5sZW5ndGgsZC5maW5kKGEsdGhpc1tlXSxiKTtpZihlPjApZm9yKHZhciBnPWM7ZzxiLmxlbmd0aDtnKyspZm9yKHZhciBoPTA7aDxjO2grKylpZihiW2hdPT09YltnXSl7Yi5zcGxpY2UoZy0tLDEpO2JyZWFrfX1yZXR1cm4gYn0saGFzOmZ1bmN0aW9uKGEpe3ZhciBiPWQoYSk7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYz1iLmxlbmd0aDthPGM7YSsrKWlmKGQuY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFEodGhpcyxhLCExKSwibm90IixhKX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhRKHRoaXMsYSwhMCksImZpbHRlciIsYSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhYSYmZC5maWx0ZXIoYSx0aGlzKS5sZW5ndGg+MH0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGUsZixnPXRoaXNbMF07aWYoZC5pc0FycmF5KGEpKXt2YXIgaCxpLGo9e30saz0xO2lmKGcmJmEubGVuZ3RoKXtmb3IoZT0wLGY9YS5sZW5ndGg7ZTxmO2UrKylpPWFbZV0saltpXXx8KGpbaV09ZC5leHByLm1hdGNoLlBPUy50ZXN0KGkpP2QoaSxifHx0aGlzLmNvbnRleHQpOmkpO3doaWxlKGcmJmcub3duZXJEb2N1bWVudCYmZyE9PWIpe2ZvcihpIGluIGopaD1qW2ldLChoLmpxdWVyeT9oLmluZGV4KGcpPi0xOmQoZykuaXMoaCkpJiZjLnB1c2goe3NlbGVjdG9yOmksZWxlbTpnLGxldmVsOmt9KTtnPWcucGFyZW50Tm9kZSxrKyt9fXJldHVybiBjfXZhciBsPU4udGVzdChhKT9kKGEsYnx8dGhpcy5jb250ZXh0KTpudWxsO2ZvcihlPTAsZj10aGlzLmxlbmd0aDtlPGY7ZSsrKXtnPXRoaXNbZV07d2hpbGUoZyl7aWYobD9sLmluZGV4KGcpPi0xOmQuZmluZC5tYXRjaGVzU2VsZWN0b3IoZyxhKSl7Yy5wdXNoKGcpO2JyZWFrfWc9Zy5wYXJlbnROb2RlO2lmKCFnfHwhZy5vd25lckRvY3VtZW50fHxnPT09YilicmVha319Yz1jLmxlbmd0aD4xP2QudW5pcXVlKGMpOmM7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGMsImNsb3Nlc3QiLGEpfSxpbmRleDpmdW5jdGlvbihhKXtpZighYXx8dHlwZW9mIGE9PT0ic3RyaW5nIilyZXR1cm4gZC5pbkFycmF5KHRoaXNbMF0sYT9kKGEpOnRoaXMucGFyZW50KCkuY2hpbGRyZW4oKSk7cmV0dXJuIGQuaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyl9LGFkZDpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhPT09InN0cmluZyI/ZChhLGIpOmQubWFrZUFycmF5KGEpLGU9ZC5tZXJnZSh0aGlzLmdldCgpLGMpO3JldHVybiB0aGlzLnB1c2hTdGFjayhQKGNbMF0pfHxQKGVbMF0pP2U6ZC51bmlxdWUoZSkpfSxhbmRTZWxmOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkKHRoaXMucHJldk9iamVjdCl9fSksZC5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLm5vZGVUeXBlIT09MTE/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBkLmRpcihhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGQuZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBkLm50aChhLDIsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIGQubnRoKGEsMiwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGQuZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBkLnNpYmxpbmcoYS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBkLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGQubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpkLm1ha2VBcnJheShhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtkLmZuW2FdPWZ1bmN0aW9uKGMsZSl7dmFyIGY9ZC5tYXAodGhpcyxiLGMpLGc9TS5jYWxsKGFyZ3VtZW50cyk7SS50ZXN0KGEpfHwoZT1jKSxlJiZ0eXBlb2YgZT09PSJzdHJpbmciJiYoZj1kLmZpbHRlcihlLGYpKSxmPXRoaXMubGVuZ3RoPjEmJiFPW2FdP2QudW5pcXVlKGYpOmYsKHRoaXMubGVuZ3RoPjF8fEsudGVzdChlKSkmJkoudGVzdChhKSYmKGY9Zi5yZXZlcnNlKCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmLGEsZy5qb2luKCIsIikpfX0pLGQuZXh0ZW5kKHtmaWx0ZXI6ZnVuY3Rpb24oYSxiLGMpe2MmJihhPSI6bm90KCIrYSsiKSIpO3JldHVybiBiLmxlbmd0aD09PTE/ZC5maW5kLm1hdGNoZXNTZWxlY3RvcihiWzBdLGEpP1tiWzBdXTpbXTpkLmZpbmQubWF0Y2hlcyhhLGIpfSxkaXI6ZnVuY3Rpb24oYSxjLGUpe3ZhciBmPVtdLGc9YVtjXTt3aGlsZShnJiZnLm5vZGVUeXBlIT09OSYmKGU9PT1ifHxnLm5vZGVUeXBlIT09MXx8IWQoZykuaXMoZSkpKWcubm9kZVR5cGU9PT0xJiZmLnB1c2goZyksZz1nW2NdO3JldHVybiBmfSxudGg6ZnVuY3Rpb24oYSxiLGMsZCl7Yj1ifHwxO3ZhciBlPTA7Zm9yKDthO2E9YVtjXSlpZihhLm5vZGVUeXBlPT09MSYmKytlPT09YilicmVhaztyZXR1cm4gYX0sc2libGluZzpmdW5jdGlvbihhLGIpe3ZhciBjPVtdO2Zvcig7YTthPWEubmV4dFNpYmxpbmcpYS5ub2RlVHlwZT09PTEmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9fSk7dmFyIFI9LyBqUXVlcnlcZCs9Iig/OlxkK3xudWxsKSIvZyxTPS9eXHMrLyxUPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vaWcsVT0vPChbXHc6XSspLyxWPS88dGJvZHkvaSxXPS88fCYjP1x3KzsvLFg9LzwoPzpzY3JpcHR8b2JqZWN0fGVtYmVkfG9wdGlvbnxzdHlsZSkvaSxZPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLFo9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLGxlZ2VuZDpbMSwiPGZpZWxkc2V0PiIsIjwvZmllbGRzZXQ+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07Wi5vcHRncm91cD1aLm9wdGlvbixaLnRib2R5PVoudGZvb3Q9Wi5jb2xncm91cD1aLmNhcHRpb249Wi50aGVhZCxaLnRoPVoudGQsZC5zdXBwb3J0Lmh0bWxTZXJpYWxpemV8fChaLl9kZWZhdWx0PVsxLCJkaXY8ZGl2PiIsIjwvZGl2PiJdKSxkLmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihhKXtpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1kKHRoaXMpO2MudGV4dChhLmNhbGwodGhpcyxiLGMudGV4dCgpKSl9KTtpZih0eXBlb2YgYSE9PSJvYmplY3QiJiZhIT09YilyZXR1cm4gdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxjKS5jcmVhdGVUZXh0Tm9kZShhKSk7cmV0dXJuIGQudGV4dCh0aGlzKX0sd3JhcEFsbDpmdW5jdGlvbihhKXtpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtkKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9ZChhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmYS5maXJzdENoaWxkLm5vZGVUeXBlPT09MSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2QodGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1kKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkKHRoaXMpLndyYXBBbGwoYSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2Qubm9kZU5hbWUodGhpcywiYm9keSIpfHxkKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCEwLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmFwcGVuZENoaWxkKGEpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oYSl7dGhpcy5ub2RlVHlwZT09PTEmJnRoaXMuaW5zZXJ0QmVmb3JlKGEsdGhpcy5maXJzdENoaWxkKX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPWQoYXJndW1lbnRzWzBdKTthLnB1c2guYXBwbHkoYSx0aGlzLnRvQXJyYXkoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGEsImJlZm9yZSIsYXJndW1lbnRzKX19LGFmdGVyOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT10aGlzLnB1c2hTdGFjayh0aGlzLCJhZnRlciIsYXJndW1lbnRzKTthLnB1c2guYXBwbHkoYSxkKGFyZ3VtZW50c1swXSkudG9BcnJheSgpKTtyZXR1cm4gYX19LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGU7KGU9dGhpc1tjXSkhPW51bGw7YysrKWlmKCFhfHxkLmZpbHRlcihhLFtlXSkubGVuZ3RoKSFiJiZlLm5vZGVUeXBlPT09MSYmKGQuY2xlYW5EYXRhKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksZC5jbGVhbkRhdGEoW2VdKSksZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjsoYj10aGlzW2FdKSE9bnVsbDthKyspe2Iubm9kZVR5cGU9PT0xJiZkLmNsZWFuRGF0YShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpO3doaWxlKGIuZmlyc3RDaGlsZCliLnJlbW92ZUNoaWxkKGIuZmlyc3RDaGlsZCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7YT1hPT1udWxsPyExOmEsYj1iPT1udWxsP2E6YjtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZC5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gdGhpc1swXSYmdGhpc1swXS5ub2RlVHlwZT09PTE/dGhpc1swXS5pbm5lckhUTUwucmVwbGFjZShSLCIiKTpudWxsO2lmKHR5cGVvZiBhIT09InN0cmluZyJ8fFgudGVzdChhKXx8IWQuc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZSYmUy50ZXN0KGEpfHxaWyhVLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKWQuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9ZCh0aGlzKTtjLmh0bWwoYS5jYWxsKHRoaXMsYixjLmh0bWwoKSkpfSk6dGhpcy5lbXB0eSgpLmFwcGVuZChhKTtlbHNle2E9YS5yZXBsYWNlKFQsIjwkMT48LyQyPiIpO3RyeXtmb3IodmFyIGM9MCxlPXRoaXMubGVuZ3RoO2M8ZTtjKyspdGhpc1tjXS5ub2RlVHlwZT09PTEmJihkLmNsZWFuRGF0YSh0aGlzW2NdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLHRoaXNbY10uaW5uZXJIVE1MPWEpfWNhdGNoKGYpe3RoaXMuZW1wdHkoKS5hcHBlbmQoYSl9fXJldHVybiB0aGlzfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpe2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWQodGhpcyksZT1jLmh0bWwoKTtjLnJlcGxhY2VXaXRoKGEuY2FsbCh0aGlzLGIsZSkpfSk7dHlwZW9mIGEhPT0ic3RyaW5nIiYmKGE9ZChhKS5kZXRhY2goKSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMubmV4dFNpYmxpbmcsYz10aGlzLnBhcmVudE5vZGU7ZCh0aGlzKS5yZW1vdmUoKSxiP2QoYikuYmVmb3JlKGEpOmQoYykuYXBwZW5kKGEpfSl9cmV0dXJuIHRoaXMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKGQoZC5pc0Z1bmN0aW9uKGEpP2EoKTphKSwicmVwbGFjZVdpdGgiLGEpOnRoaXN9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYyxlKXt2YXIgZixnLGgsaSxqPWFbMF0saz1bXTtpZighZC5zdXBwb3J0LmNoZWNrQ2xvbmUmJmFyZ3VtZW50cy5sZW5ndGg9PT0zJiZ0eXBlb2Ygaj09PSJzdHJpbmciJiZZLnRlc3QoaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2QodGhpcykuZG9tTWFuaXAoYSxjLGUsITApfSk7aWYoZC5pc0Z1bmN0aW9uKGopKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZil7dmFyIGc9ZCh0aGlzKTthWzBdPWouY2FsbCh0aGlzLGYsYz9nLmh0bWwoKTpiKSxnLmRvbU1hbmlwKGEsYyxlKX0pO2lmKHRoaXNbMF0pe2k9aiYmai5wYXJlbnROb2RlLGQuc3VwcG9ydC5wYXJlbnROb2RlJiZpJiZpLm5vZGVUeXBlPT09MTEmJmkuY2hpbGROb2Rlcy5sZW5ndGg9PT10aGlzLmxlbmd0aD9mPXtmcmFnbWVudDppfTpmPWQuYnVpbGRGcmFnbWVudChhLHRoaXMsayksaD1mLmZyYWdtZW50LGguY2hpbGROb2Rlcy5sZW5ndGg9PT0xP2c9aD1oLmZpcnN0Q2hpbGQ6Zz1oLmZpcnN0Q2hpbGQ7aWYoZyl7Yz1jJiZkLm5vZGVOYW1lKGcsInRyIik7Zm9yKHZhciBsPTAsbT10aGlzLmxlbmd0aCxuPW0tMTtsPG07bCsrKWUuY2FsbChjPyQodGhpc1tsXSxnKTp0aGlzW2xdLGYuY2FjaGVhYmxlfHxtPjEmJmw8bj9kLmNsb25lKGgsITAsITApOmgpfWsubGVuZ3RoJiZkLmVhY2goayxiYyl9cmV0dXJuIHRoaXN9fSksZC5idWlsZEZyYWdtZW50PWZ1bmN0aW9uKGEsYixlKXt2YXIgZixnLGgsaT1iJiZiWzBdP2JbMF0ub3duZXJEb2N1bWVudHx8YlswXTpjO2EubGVuZ3RoPT09MSYmdHlwZW9mIGFbMF09PT0ic3RyaW5nIiYmYVswXS5sZW5ndGg8NTEyJiZpPT09YyYmYVswXS5jaGFyQXQoMCk9PT0iPCImJiFYLnRlc3QoYVswXSkmJihkLnN1cHBvcnQuY2hlY2tDbG9uZXx8IVkudGVzdChhWzBdKSkmJihnPSEwLGg9ZC5mcmFnbWVudHNbYVswXV0saCYmKGghPT0xJiYoZj1oKSkpLGZ8fChmPWkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGQuY2xlYW4oYSxpLGYsZSkpLGcmJihkLmZyYWdtZW50c1thWzBdXT1oP2Y6MSk7cmV0dXJue2ZyYWdtZW50OmYsY2FjaGVhYmxlOmd9fSxkLmZyYWdtZW50cz17fSxkLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihhLGIpe2QuZm5bYV09ZnVuY3Rpb24oYyl7dmFyIGU9W10sZj1kKGMpLGc9dGhpcy5sZW5ndGg9PT0xJiZ0aGlzWzBdLnBhcmVudE5vZGU7aWYoZyYmZy5ub2RlVHlwZT09PTExJiZnLmNoaWxkTm9kZXMubGVuZ3RoPT09MSYmZi5sZW5ndGg9PT0xKXtmW2JdKHRoaXNbMF0pO3JldHVybiB0aGlzfWZvcih2YXIgaD0wLGk9Zi5sZW5ndGg7aDxpO2grKyl7dmFyIGo9KGg+MD90aGlzLmNsb25lKCEwKTp0aGlzKS5nZXQoKTtkKGZbaF0pW2JdKGopLGU9ZS5jb25jYXQoail9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUsYSxmLnNlbGVjdG9yKX19KSxkLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPWEuY2xvbmVOb2RlKCEwKSxmLGcsaDtpZigoIWQuc3VwcG9ydC5ub0Nsb25lRXZlbnR8fCFkLnN1cHBvcnQubm9DbG9uZUNoZWNrZWQpJiYoYS5ub2RlVHlwZT09PTF8fGEubm9kZVR5cGU9PT0xMSkmJiFkLmlzWE1MRG9jKGEpKXtiYShhLGUpLGY9YmIoYSksZz1iYihlKTtmb3IoaD0wO2ZbaF07KytoKWJhKGZbaF0sZ1toXSl9aWYoYil7XyhhLGUpO2lmKGMpe2Y9YmIoYSksZz1iYihlKTtmb3IoaD0wO2ZbaF07KytoKV8oZltoXSxnW2hdKX19cmV0dXJuIGV9LGNsZWFuOmZ1bmN0aW9uKGEsYixlLGYpe2I9Ynx8Yyx0eXBlb2YgYi5jcmVhdGVFbGVtZW50PT09InVuZGVmaW5lZCImJihiPWIub3duZXJEb2N1bWVudHx8YlswXSYmYlswXS5vd25lckRvY3VtZW50fHxjKTt2YXIgZz1bXTtmb3IodmFyIGg9MCxpOyhpPWFbaF0pIT1udWxsO2grKyl7dHlwZW9mIGk9PT0ibnVtYmVyIiYmKGkrPSIiKTtpZighaSljb250aW51ZTtpZih0eXBlb2YgaSE9PSJzdHJpbmcifHxXLnRlc3QoaSkpe2lmKHR5cGVvZiBpPT09InN0cmluZyIpe2k9aS5yZXBsYWNlKFQsIjwkMT48LyQyPiIpO3ZhciBqPShVLmV4ZWMoaSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksaz1aW2pdfHxaLl9kZWZhdWx0LGw9a1swXSxtPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7bS5pbm5lckhUTUw9a1sxXStpK2tbMl07d2hpbGUobC0tKW09bS5sYXN0Q2hpbGQ7aWYoIWQuc3VwcG9ydC50Ym9keSl7dmFyIG49Vi50ZXN0KGkpLG89aj09PSJ0YWJsZSImJiFuP20uZmlyc3RDaGlsZCYmbS5maXJzdENoaWxkLmNoaWxkTm9kZXM6a1sxXT09PSI8dGFibGU+IiYmIW4/bS5jaGlsZE5vZGVzOltdO2Zvcih2YXIgcD1vLmxlbmd0aC0xO3A+PTA7LS1wKWQubm9kZU5hbWUob1twXSwidGJvZHkiKSYmIW9bcF0uY2hpbGROb2Rlcy5sZW5ndGgmJm9bcF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvW3BdKX0hZC5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZTLnRlc3QoaSkmJm0uaW5zZXJ0QmVmb3JlKGIuY3JlYXRlVGV4dE5vZGUoUy5leGVjKGkpWzBdKSxtLmZpcnN0Q2hpbGQpLGk9bS5jaGlsZE5vZGVzfX1lbHNlIGk9Yi5jcmVhdGVUZXh0Tm9kZShpKTtpLm5vZGVUeXBlP2cucHVzaChpKTpnPWQubWVyZ2UoZyxpKX1pZihlKWZvcihoPTA7Z1toXTtoKyspIWZ8fCFkLm5vZGVOYW1lKGdbaF0sInNjcmlwdCIpfHxnW2hdLnR5cGUmJmdbaF0udHlwZS50b0xvd2VyQ2FzZSgpIT09InRleHQvamF2YXNjcmlwdCI/KGdbaF0ubm9kZVR5cGU9PT0xJiZnLnNwbGljZS5hcHBseShnLFtoKzEsMF0uY29uY2F0KGQubWFrZUFycmF5KGdbaF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpKSkpLGUuYXBwZW5kQ2hpbGQoZ1toXSkpOmYucHVzaChnW2hdLnBhcmVudE5vZGU/Z1toXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGdbaF0pOmdbaF0pO3JldHVybiBnfSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7dmFyIGIsYyxlPWQuY2FjaGUsZj1kLmV4cGFuZG8sZz1kLmV2ZW50LnNwZWNpYWwsaD1kLnN1cHBvcnQuZGVsZXRlRXhwYW5kbztmb3IodmFyIGk9MCxqOyhqPWFbaV0pIT1udWxsO2krKyl7aWYoai5ub2RlTmFtZSYmZC5ub0RhdGFbai5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSljb250aW51ZTtjPWpbZC5leHBhbmRvXTtpZihjKXtiPWVbY10mJmVbY11bZl07aWYoYiYmYi5ldmVudHMpe2Zvcih2YXIgayBpbiBiLmV2ZW50cylnW2tdP2QuZXZlbnQucmVtb3ZlKGosayk6ZC5yZW1vdmVFdmVudChqLGssYi5oYW5kbGUpO2IuaGFuZGxlJiYoYi5oYW5kbGUuZWxlbT1udWxsKX1oP2RlbGV0ZSBqW2QuZXhwYW5kb106ai5yZW1vdmVBdHRyaWJ1dGUmJmoucmVtb3ZlQXR0cmlidXRlKGQuZXhwYW5kbyksZGVsZXRlIGVbY119fX19KTt2YXIgYmQ9L2FscGhhXChbXildKlwpL2ksYmU9L29wYWNpdHk9KFteKV0qKS8sYmY9Ly0oW2Etel0pL2lnLGJnPS8oW0EtWl18Xm1zKS9nLGJoPS9eLT9cZCsoPzpweCk/JC9pLGJpPS9eLT9cZC8sYmo9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LGJrPVsiTGVmdCIsIlJpZ2h0Il0sYmw9WyJUb3AiLCJCb3R0b20iXSxibSxibixibyxicD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O2QuZm4uY3NzPWZ1bmN0aW9uKGEsYyl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTImJmM9PT1iKXJldHVybiB0aGlzO3JldHVybiBkLmFjY2Vzcyh0aGlzLGEsYywhMCxmdW5jdGlvbihhLGMsZSl7cmV0dXJuIGUhPT1iP2Quc3R5bGUoYSxjLGUpOmQuY3NzKGEsYyl9KX0sZC5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1ibShhLCJvcGFjaXR5Iiwib3BhY2l0eSIpO3JldHVybiBjPT09IiI/IjEiOmN9cmV0dXJuIGEuc3R5bGUub3BhY2l0eX19fSxjc3NOdW1iZXI6e3pJbmRleDohMCxmb250V2VpZ2h0OiEwLG9wYWNpdHk6ITAsem9vbTohMCxsaW5lSGVpZ2h0OiEwfSxjc3NQcm9wczp7ImZsb2F0IjpkLnN1cHBvcnQuY3NzRmxvYXQ/ImNzc0Zsb2F0Ijoic3R5bGVGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYyxlLGYpe2lmKGEmJmEubm9kZVR5cGUhPT0zJiZhLm5vZGVUeXBlIT09OCYmYS5zdHlsZSl7dmFyIGcsaD1kLmNhbWVsQ2FzZShjKSxpPWEuc3R5bGUsaj1kLmNzc0hvb2tzW2hdO2M9ZC5jc3NQcm9wc1toXXx8aDtpZihlPT09Yil7aWYoaiYmImdldCJpbiBqJiYoZz1qLmdldChhLCExLGYpKSE9PWIpcmV0dXJuIGc7cmV0dXJuIGlbY119aWYodHlwZW9mIGU9PT0ibnVtYmVyIiYmaXNOYU4oZSl8fGU9PW51bGwpcmV0dXJuO3R5cGVvZiBlPT09Im51bWJlciImJiFkLmNzc051bWJlcltoXSYmKGUrPSJweCIpO2lmKCFqfHwhKCJzZXQiaW4gail8fChlPWouc2V0KGEsZSkpIT09Yil0cnl7aVtjXT1lfWNhdGNoKGspe319fSxjc3M6ZnVuY3Rpb24oYSxjLGUpe3ZhciBmLGc9ZC5jYW1lbENhc2UoYyksaD1kLmNzc0hvb2tzW2ddO2M9ZC5jc3NQcm9wc1tnXXx8ZztpZihoJiYiZ2V0ImluIGgmJihmPWguZ2V0KGEsITAsZSkpIT09YilyZXR1cm4gZjtpZihibSlyZXR1cm4gYm0oYSxjLGcpfSxzd2FwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fTtmb3IodmFyIGUgaW4gYilkW2VdPWEuc3R5bGVbZV0sYS5zdHlsZVtlXT1iW2VdO2MuY2FsbChhKTtmb3IoZSBpbiBiKWEuc3R5bGVbZV09ZFtlXX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoYmYsYnApfX0pLGQuY3VyQ1NTPWQuY3NzLGQuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtkLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGUpe3ZhciBmO2lmKGMpe2Eub2Zmc2V0V2lkdGghPT0wP2Y9YnEoYSxiLGUpOmQuc3dhcChhLGJqLGZ1bmN0aW9uKCl7Zj1icShhLGIsZSl9KTtpZihmPD0wKXtmPWJtKGEsYixiKSxmPT09IjBweCImJmJvJiYoZj1ibyhhLGIsYikpO2lmKGYhPW51bGwpcmV0dXJuIGY9PT0iInx8Zj09PSJhdXRvIj8iMHB4IjpmfWlmKGY8MHx8Zj09bnVsbCl7Zj1hLnN0eWxlW2JdO3JldHVybiBmPT09IiJ8fGY9PT0iYXV0byI/IjBweCI6Zn1yZXR1cm4gdHlwZW9mIGY9PT0ic3RyaW5nIj9mOmYrInB4In19LHNldDpmdW5jdGlvbihhLGIpe2lmKCFiaC50ZXN0KGIpKXJldHVybiBiO2I9cGFyc2VGbG9hdChiKTtpZihiPj0wKXJldHVybiBiKyJweCJ9fX0pLGQuc3VwcG9ydC5vcGFjaXR5fHwoZC5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYmUudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpP3BhcnNlRmxvYXQoUmVnRXhwLiQxKS8xMDArIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGU7Yy56b29tPTE7dmFyIGU9ZC5pc05hTihiKT8iIjoiYWxwaGEob3BhY2l0eT0iK2IqMTAwKyIpIixmPWMuZmlsdGVyfHwiIjtjLmZpbHRlcj1iZC50ZXN0KGYpP2YucmVwbGFjZShiZCxlKTpjLmZpbHRlcisiICIrZX19KSxkKGZ1bmN0aW9uKCl7ZC5zdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHR8fChkLmNzc0hvb2tzLm1hcmdpblJpZ2h0PXtnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztkLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sZnVuY3Rpb24oKXtiP2M9Ym0oYSwibWFyZ2luLXJpZ2h0IiwibWFyZ2luUmlnaHQiKTpjPWEuc3R5bGUubWFyZ2luUmlnaHR9KTtyZXR1cm4gY319KX0pLGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGJuPWZ1bmN0aW9uKGEsYyxlKXt2YXIgZixnLGg7ZT1lLnJlcGxhY2UoYmcsIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoIShnPWEub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykpcmV0dXJuIGI7aWYoaD1nLmdldENvbXB1dGVkU3R5bGUoYSxudWxsKSlmPWguZ2V0UHJvcGVydHlWYWx1ZShlKSxmPT09IiImJiFkLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYSkmJihmPWQuc3R5bGUoYSxlKSk7cmV0dXJuIGZ9KSxjLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihibz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9YS5jdXJyZW50U3R5bGUmJmEuY3VycmVudFN0eWxlW2JdLGU9YS5ydW50aW1lU3R5bGUmJmEucnVudGltZVN0eWxlW2JdLGY9YS5zdHlsZTshYmgudGVzdChkKSYmYmkudGVzdChkKSYmKGM9Zi5sZWZ0LGUmJihhLnJ1bnRpbWVTdHlsZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGYubGVmdD1iPT09ImZvbnRTaXplIj8iMWVtIjpkfHwwLGQ9Zi5waXhlbExlZnQrInB4IixmLmxlZnQ9YyxlJiYoYS5ydW50aW1lU3R5bGUubGVmdD1lKSk7cmV0dXJuIGQ9PT0iIj8iYXV0byI6ZH0pLGJtPWJufHxibyxkLmV4cHImJmQuZXhwci5maWx0ZXJzJiYoZC5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3ZhciBiPWEub2Zmc2V0V2lkdGgsYz1hLm9mZnNldEhlaWdodDtyZXR1cm4gYj09PTAmJmM9PT0wfHwhZC5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmKGEuc3R5bGUuZGlzcGxheXx8ZC5jc3MoYSwiZGlzcGxheSIpKT09PSJub25lIn0sZC5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hZC5leHByLmZpbHRlcnMuaGlkZGVuKGEpfSk7dmFyIGJyPS8lMjAvZyxicz0vXFtcXSQvLGJ0PS9ccj9cbi9nLGJ1PS8jLiokLyxidj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKilccj8kL21nLGJ3PS9eKD86Y29sb3J8ZGF0ZXxkYXRldGltZXxlbWFpbHxoaWRkZW58bW9udGh8bnVtYmVyfHBhc3N3b3JkfHJhbmdlfHNlYXJjaHx0ZWx8dGV4dHx0aW1lfHVybHx3ZWVrKSQvaSxieD0vXig/OmFib3V0fGFwcHxhcHBcLXN0b3JhZ2V8LitcLWV4dGVuc2lvbnxmaWxlfHdpZGdldCk6JC8sYnk9L14oPzpHRVR8SEVBRCkkLyxiej0vXlwvXC8vLGJBPS9cPy8sYkI9LzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksYkM9L14oPzpzZWxlY3R8dGV4dGFyZWEpL2ksYkQ9L1xzKy8sYkU9LyhbPyZdKV89W14mXSovLGJGPS8oXnxcLSkoW2Etel0pL2csYkc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiK2MudG9VcHBlckNhc2UoKX0sYkg9L14oW1x3XCtcLlwtXSs6KSg/OlwvXC8oW15cLz8jOl0qKSg/OjooXGQrKSk/KT8vLGJJPWQuZm4ubG9hZCxiSj17fSxiSz17fSxiTCxiTTt0cnl7Ykw9Yy5sb2NhdGlvbi5ocmVmfWNhdGNoKGJOKXtiTD1jLmNyZWF0ZUVsZW1lbnQoImEiKSxiTC5ocmVmPSIiLGJMPWJMLmhyZWZ9Yk09YkguZXhlYyhiTC50b0xvd2VyQ2FzZSgpKXx8W10sZC5mbi5leHRlbmQoe2xvYWQ6ZnVuY3Rpb24oYSxjLGUpe2lmKHR5cGVvZiBhIT09InN0cmluZyImJmJJKXJldHVybiBiSS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBmPWEuaW5kZXhPZigiICIpO2lmKGY+PTApe3ZhciBnPWEuc2xpY2UoZixhLmxlbmd0aCk7YT1hLnNsaWNlKDAsZil9dmFyIGg9IkdFVCI7YyYmKGQuaXNGdW5jdGlvbihjKT8oZT1jLGM9Yik6dHlwZW9mIGM9PT0ib2JqZWN0IiYmKGM9ZC5wYXJhbShjLGQuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxoPSJQT1NUIikpO3ZhciBpPXRoaXM7ZC5hamF4KHt1cmw6YSx0eXBlOmgsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yyxjb21wbGV0ZTpmdW5jdGlvbihhLGIsYyl7Yz1hLnJlc3BvbnNlVGV4dCxhLmlzUmVzb2x2ZWQoKSYmKGEuZG9uZShmdW5jdGlvbihhKXtjPWF9KSxpLmh0bWwoZz9kKCI8ZGl2PiIpLmFwcGVuZChjLnJlcGxhY2UoYkIsIiIpKS5maW5kKGcpOmMpKSxlJiZpLmVhY2goZSxbYyxiLGFdKX19KTtyZXR1cm4gdGhpc30sc2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGQucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50cz9kLm1ha2VBcnJheSh0aGlzLmVsZW1lbnRzKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSYmIXRoaXMuZGlzYWJsZWQmJih0aGlzLmNoZWNrZWR8fGJDLnRlc3QodGhpcy5ub2RlTmFtZSl8fGJ3LnRlc3QodGhpcy50eXBlKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1kKHRoaXMpLnZhbCgpO3JldHVybiBjPT1udWxsP251bGw6ZC5pc0FycmF5KGMpP2QubWFwKGMsZnVuY3Rpb24oYSxjKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKGJ0LCJcclxuIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZShidCwiXHJcbiIpfX0pLmdldCgpfX0pLGQuZWFjaCgiYWpheFN0YXJ0IGFqYXhTdG9wIGFqYXhDb21wbGV0ZSBhamF4RXJyb3IgYWpheFN1Y2Nlc3MgYWpheFNlbmQiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtkLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJpbmQoYixhKX19KSxkLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxjKXtkW2NdPWZ1bmN0aW9uKGEsZSxmLGcpe2QuaXNGdW5jdGlvbihlKSYmKGc9Z3x8ZixmPWUsZT1iKTtyZXR1cm4gZC5hamF4KHt0eXBlOmMsdXJsOmEsZGF0YTplLHN1Y2Nlc3M6ZixkYXRhVHlwZTpnfSl9fSksZC5leHRlbmQoe2dldFNjcmlwdDpmdW5jdGlvbihhLGMpe3JldHVybiBkLmdldChhLGIsYywic2NyaXB0Iil9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkLmdldChhLGIsYywianNvbiIpfSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtiP2QuZXh0ZW5kKCEwLGEsZC5hamF4U2V0dGluZ3MsYik6KGI9YSxhPWQuZXh0ZW5kKCEwLGQuYWpheFNldHRpbmdzLGIpKTtmb3IodmFyIGMgaW4ge2NvbnRleHQ6MSx1cmw6MX0pYyBpbiBiP2FbY109YltjXTpjIGluIGQuYWpheFNldHRpbmdzJiYoYVtjXT1kLmFqYXhTZXR0aW5nc1tjXSk7cmV0dXJuIGF9LGFqYXhTZXR0aW5nczp7dXJsOmJMLGlzTG9jYWw6YngudGVzdChiTVsxXSksZ2xvYmFsOiEwLHR5cGU6IkdFVCIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsYWNjZXB0czp7eG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixodG1sOiJ0ZXh0L2h0bWwiLHRleHQ6InRleHQvcGxhaW4iLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCIsIioiOiIqLyoifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0In0sY29udmVydGVyczp7IiogdGV4dCI6YS5TdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6ZC5wYXJzZUpTT04sInRleHQgeG1sIjpkLnBhcnNlWE1MfX0sYWpheFByZWZpbHRlcjpiTyhiSiksYWpheFRyYW5zcG9ydDpiTyhiSyksYWpheDpmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIHYoYSxjLGwsbil7aWYociE9PTIpe3I9MixwJiZjbGVhclRpbWVvdXQocCksbz1iLG09bnx8IiIsdS5yZWFkeVN0YXRlPWE/NDowO3ZhciBxLHQsdix3PWw/YlIoZSx1LGwpOmIseCx5O2lmKGE+PTIwMCYmYTwzMDB8fGE9PT0zMDQpe2lmKGUuaWZNb2RpZmllZCl7aWYoeD11LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpZC5sYXN0TW9kaWZpZWRba109eDtpZih5PXUuZ2V0UmVzcG9uc2VIZWFkZXIoIkV0YWciKSlkLmV0YWdba109eX1pZihhPT09MzA0KWM9Im5vdG1vZGlmaWVkIixxPSEwO2Vsc2UgdHJ5e3Q9YlMoZSx3KSxjPSJzdWNjZXNzIixxPSEwfWNhdGNoKHope2M9InBhcnNlcmVycm9yIix2PXp9fWVsc2V7dj1jO2lmKCFjfHxhKWM9ImVycm9yIixhPDAmJihhPTApfXUuc3RhdHVzPWEsdS5zdGF0dXNUZXh0PWMscT9oLnJlc29sdmVXaXRoKGYsW3QsYyx1XSk6aC5yZWplY3RXaXRoKGYsW3UsYyx2XSksdS5zdGF0dXNDb2RlKGopLGo9YixzJiZnLnRyaWdnZXIoImFqYXgiKyhxPyJTdWNjZXNzIjoiRXJyb3IiKSxbdSxlLHE/dDp2XSksaS5yZXNvbHZlV2l0aChmLFt1LGNdKSxzJiYoZy50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt1LGVdKSwtLWQuYWN0aXZlfHxkLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpfX10eXBlb2YgYT09PSJvYmplY3QiJiYoYz1hLGE9YiksYz1jfHx7fTt2YXIgZT1kLmFqYXhTZXR1cCh7fSxjKSxmPWUuY29udGV4dHx8ZSxnPWYhPT1lJiYoZi5ub2RlVHlwZXx8ZiBpbnN0YW5jZW9mIGQpP2QoZik6ZC5ldmVudCxoPWQuRGVmZXJyZWQoKSxpPWQuX0RlZmVycmVkKCksaj1lLnN0YXR1c0NvZGV8fHt9LGssbD17fSxtLG4sbyxwLHEscj0wLHMsdCx1PXtyZWFkeVN0YXRlOjAsc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3J8fChsW2EudG9Mb3dlckNhc2UoKS5yZXBsYWNlKGJGLGJHKV09Yik7cmV0dXJuIHRoaXN9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiByPT09Mj9tOm51bGx9LGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBjO2lmKHI9PT0yKXtpZighbil7bj17fTt3aGlsZShjPWJ2LmV4ZWMobSkpbltjWzFdLnRvTG93ZXJDYXNlKCldPWNbMl19Yz1uW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIGM9PT1iP251bGw6Y30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyfHwoZS5taW1lVHlwZT1hKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7YT1hfHwiYWJvcnQiLG8mJm8uYWJvcnQoYSksdigwLGEpO3JldHVybiB0aGlzfX07aC5wcm9taXNlKHUpLHUuc3VjY2Vzcz11LmRvbmUsdS5lcnJvcj11LmZhaWwsdS5jb21wbGV0ZT1pLmRvbmUsdS5zdGF0dXNDb2RlPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiO2lmKHI8Milmb3IoYiBpbiBhKWpbYl09W2pbYl0sYVtiXV07ZWxzZSBiPWFbdS5zdGF0dXNdLHUudGhlbihiLGIpfXJldHVybiB0aGlzfSxlLnVybD0oKGF8fGUudXJsKSsiIikucmVwbGFjZShidSwiIikucmVwbGFjZShieixiTVsxXSsiLy8iKSxlLmRhdGFUeXBlcz1kLnRyaW0oZS5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLnNwbGl0KGJEKSxlLmNyb3NzRG9tYWluPT1udWxsJiYocT1iSC5leGVjKGUudXJsLnRvTG93ZXJDYXNlKCkpLGUuY3Jvc3NEb21haW49cSYmKHFbMV0hPWJNWzFdfHxxWzJdIT1iTVsyXXx8KHFbM118fChxWzFdPT09Imh0dHA6Ij84MDo0NDMpKSE9KGJNWzNdfHwoYk1bMV09PT0iaHR0cDoiPzgwOjQ0MykpKSksZS5kYXRhJiZlLnByb2Nlc3NEYXRhJiZ0eXBlb2YgZS5kYXRhIT09InN0cmluZyImJihlLmRhdGE9ZC5wYXJhbShlLmRhdGEsZS50cmFkaXRpb25hbCkpLGJQKGJKLGUsYyx1KTtpZihyPT09MilyZXR1cm4hMTtzPWUuZ2xvYmFsLGUudHlwZT1lLnR5cGUudG9VcHBlckNhc2UoKSxlLmhhc0NvbnRlbnQ9IWJ5LnRlc3QoZS50eXBlKSxzJiZkLmFjdGl2ZSsrPT09MCYmZC5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTtpZighZS5oYXNDb250ZW50KXtlLmRhdGEmJihlLnVybCs9KGJBLnRlc3QoZS51cmwpPyImIjoiPyIpK2UuZGF0YSksaz1lLnVybDtpZihlLmNhY2hlPT09ITEpe3ZhciB3PWQubm93KCkseD1lLnVybC5yZXBsYWNlKGJFLCIkMV89Iit3KTtlLnVybD14Kyh4PT09ZS51cmw/KGJBLnRlc3QoZS51cmwpPyImIjoiPyIpKyJfPSIrdzoiIil9fWlmKGUuZGF0YSYmZS5oYXNDb250ZW50JiZlLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpbFsiQ29udGVudC1UeXBlIl09ZS5jb250ZW50VHlwZTtlLmlmTW9kaWZpZWQmJihrPWt8fGUudXJsLGQubGFzdE1vZGlmaWVkW2tdJiYobFsiSWYtTW9kaWZpZWQtU2luY2UiXT1kLmxhc3RNb2RpZmllZFtrXSksZC5ldGFnW2tdJiYobFsiSWYtTm9uZS1NYXRjaCJdPWQuZXRhZ1trXSkpLGwuQWNjZXB0PWUuZGF0YVR5cGVzWzBdJiZlLmFjY2VwdHNbZS5kYXRhVHlwZXNbMF1dP2UuYWNjZXB0c1tlLmRhdGFUeXBlc1swXV0rKGUuZGF0YVR5cGVzWzBdIT09IioiPyIsICovKjsgcT0wLjAxIjoiIik6ZS5hY2NlcHRzWyIqIl07Zm9yKHQgaW4gZS5oZWFkZXJzKXUuc2V0UmVxdWVzdEhlYWRlcih0LGUuaGVhZGVyc1t0XSk7aWYoZS5iZWZvcmVTZW5kJiYoZS5iZWZvcmVTZW5kLmNhbGwoZix1LGUpPT09ITF8fHI9PT0yKSl7dS5hYm9ydCgpO3JldHVybiExfWZvcih0IGluIHtzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl1W3RdKGVbdF0pO289YlAoYkssZSxjLHUpO2lmKG8pe3UucmVhZHlTdGF0ZT0xLHMmJmcudHJpZ2dlcigiYWpheFNlbmQiLFt1LGVdKSxlLmFzeW5jJiZlLnRpbWVvdXQ+MCYmKHA9c2V0VGltZW91dChmdW5jdGlvbigpe3UuYWJvcnQoInRpbWVvdXQiKX0sZS50aW1lb3V0KSk7dHJ5e3I9MSxvLnNlbmQobCx2KX1jYXRjaCh5KXtzdGF0dXM8Mj92KC0xLHkpOmQuZXJyb3IoeSl9fWVsc2UgdigtMSwiTm8gVHJhbnNwb3J0Iik7cmV0dXJuIHV9LHBhcmFtOmZ1bmN0aW9uKGEsYyl7dmFyIGU9W10sZj1mdW5jdGlvbihhLGIpe2I9ZC5pc0Z1bmN0aW9uKGIpP2IoKTpiLGVbZS5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtjPT09YiYmKGM9ZC5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpO2lmKGQuaXNBcnJheShhKXx8YS5qcXVlcnkmJiFkLmlzUGxhaW5PYmplY3QoYSkpZC5lYWNoKGEsZnVuY3Rpb24oKXtmKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKHZhciBnIGluIGEpYlEoZyxhW2ddLGMsZik7cmV0dXJuIGUuam9pbigiJiIpLnJlcGxhY2UoYnIsIisiKX19KSxkLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e319KTt2YXIgYlQ9ZC5ub3coKSxiVT0vKFw9KVw/KCZ8JCl8XD9cPy9pO2QuYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZC5leHBhbmRvKyJfIitiVCsrfX0pLGQuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGUpe3ZhciBmPXR5cGVvZiBiLmRhdGE9PT0ic3RyaW5nIjtpZihiLmRhdGFUeXBlc1swXT09PSJqc29ucCJ8fGMuanNvbnBDYWxsYmFja3x8Yy5qc29ucCE9bnVsbHx8Yi5qc29ucCE9PSExJiYoYlUudGVzdChiLnVybCl8fGYmJmJVLnRlc3QoYi5kYXRhKSkpe3ZhciBnLGg9Yi5qc29ucENhbGxiYWNrPWQuaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxpPWFbaF0saj1iLnVybCxrPWIuZGF0YSxsPSIkMSIraCsiJDIiLG09ZnVuY3Rpb24oKXthW2hdPWksZyYmZC5pc0Z1bmN0aW9uKGkpJiZhW2hdKGdbMF0pfTtiLmpzb25wIT09ITEmJihqPWoucmVwbGFjZShiVSxsKSxiLnVybD09PWomJihmJiYoaz1rLnJlcGxhY2UoYlUsbCkpLGIuZGF0YT09PWsmJihqKz0oL1w/Ly50ZXN0KGopPyImIjoiPyIpK2IuanNvbnArIj0iK2gpKSksYi51cmw9aixiLmRhdGE9ayxhW2hdPWZ1bmN0aW9uKGEpe2c9W2FdfSxlLnRoZW4obSxtKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtnfHxkLmVycm9yKGgrIiB3YXMgbm90IGNhbGxlZCIpO3JldHVybiBnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiI7cmV0dXJuInNjcmlwdCJ9fSksZC5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9qYXZhc2NyaXB0fGVjbWFzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe2QuZ2xvYmFsRXZhbChhKTtyZXR1cm4gYX19fSksZC5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2EuY2FjaGU9PT1iJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIixhLmdsb2JhbD0hMSl9KSxkLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGQsZT1jLmhlYWR8fGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8Yy5kb2N1bWVudEVsZW1lbnQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZixnKXtkPWMuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksZC5hc3luYz0iYXN5bmMiLGEuc2NyaXB0Q2hhcnNldCYmKGQuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGQuc3JjPWEudXJsLGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7aWYoIWQucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChkLnJlYWR5U3RhdGUpKWQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZSYmZC5wYXJlbnROb2RlJiZlLnJlbW92ZUNoaWxkKGQpLGQ9YixjfHxnKDIwMCwic3VjY2VzcyIpfSxlLmluc2VydEJlZm9yZShkLGUuZmlyc3RDaGlsZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZC5vbmxvYWQoMCwxKX19fX0pO3ZhciBiVj1kLm5vdygpLGJXLGJYO2QuYWpheFNldHRpbmdzLnhocj1hLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0xvY2FsJiZiWigpfHxiJCgpfTpiWixiWD1kLmFqYXhTZXR0aW5ncy54aHIoKSxkLnN1cHBvcnQuYWpheD0hIWJYLGQuc3VwcG9ydC5jb3JzPWJYJiYid2l0aENyZWRlbnRpYWxzImluIGJYLGJYPWIsZC5zdXBwb3J0LmFqYXgmJmQuYWpheFRyYW5zcG9ydChmdW5jdGlvbihhKXtpZighYS5jcm9zc0RvbWFpbnx8ZC5zdXBwb3J0LmNvcnMpe3ZhciBjO3JldHVybntzZW5kOmZ1bmN0aW9uKGUsZil7dmFyIGc9YS54aHIoKSxoLGk7YS51c2VybmFtZT9nLm9wZW4oYS50eXBlLGEudXJsLGEuYXN5bmMsYS51c2VybmFtZSxhLnBhc3N3b3JkKTpnLm9wZW4oYS50eXBlLGEudXJsLGEuYXN5bmMpO2lmKGEueGhyRmllbGRzKWZvcihpIGluIGEueGhyRmllbGRzKWdbaV09YS54aHJGaWVsZHNbaV07YS5taW1lVHlwZSYmZy5vdmVycmlkZU1pbWVUeXBlJiZnLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksIWEuY3Jvc3NEb21haW4mJiFlWyJYLVJlcXVlc3RlZC1XaXRoIl0mJihlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7dHJ5e2ZvcihpIGluIGUpZy5zZXRSZXF1ZXN0SGVhZGVyKGksZVtpXSl9Y2F0Y2goail7fWcuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCksYz1mdW5jdGlvbihlLGkpe3ZhciBqLGssbCxtLG47dHJ5e2lmKGMmJihpfHxnLnJlYWR5U3RhdGU9PT00KSl7Yz1iLGgmJihnLm9ucmVhZHlzdGF0ZWNoYW5nZT1kLm5vb3AsZGVsZXRlIGJXW2hdKTtpZihpKWcucmVhZHlTdGF0ZSE9PTQmJmcuYWJvcnQoKTtlbHNle2o9Zy5zdGF0dXMsbD1nLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLG09e30sbj1nLnJlc3BvbnNlWE1MLG4mJm4uZG9jdW1lbnRFbGVtZW50JiYobS54bWw9biksbS50ZXh0PWcucmVzcG9uc2VUZXh0O3RyeXtrPWcuc3RhdHVzVGV4dH1jYXRjaChvKXtrPSIifWp8fCFhLmlzTG9jYWx8fGEuY3Jvc3NEb21haW4/aj09PTEyMjMmJihqPTIwNCk6aj1tLnRleHQ/MjAwOjQwNH19fWNhdGNoKHApe2l8fGYoLTEscCl9bSYmZihqLGssbSxsKX0sYS5hc3luYyYmZy5yZWFkeVN0YXRlIT09ND8oYld8fChiVz17fSxiWSgpKSxoPWJWKyssZy5vbnJlYWR5c3RhdGVjaGFuZ2U9YldbaF09Yyk6YygpfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoMCwxKX19fX0pO3ZhciBiXz17fSxjYT0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sY2I9L14oWytcLV09KT8oW1xkKy5cLV0rKShbYS16JV0qKSQvaSxjYyxjZD1bWyJoZWlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSJdLFsid2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCJdLFsib3BhY2l0eSJdXTtkLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZjtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKGNlKCJzaG93IiwzKSxhLGIsYyk7Zm9yKHZhciBnPTAsaD10aGlzLmxlbmd0aDtnPGg7ZysrKWU9dGhpc1tnXSxmPWUuc3R5bGUuZGlzcGxheSwhZC5fZGF0YShlLCJvbGRkaXNwbGF5IikmJmY9PT0ibm9uZSImJihmPWUuc3R5bGUuZGlzcGxheT0iIiksZj09PSIiJiZkLmNzcyhlLCJkaXNwbGF5Iik9PT0ibm9uZSImJmQuX2RhdGEoZSwib2xkZGlzcGxheSIsY2YoZS5ub2RlTmFtZSkpO2ZvcihnPTA7ZzxoO2crKyl7ZT10aGlzW2ddLGY9ZS5zdHlsZS5kaXNwbGF5O2lmKGY9PT0iInx8Zj09PSJub25lIillLnN0eWxlLmRpc3BsYXk9ZC5fZGF0YShlLCJvbGRkaXNwbGF5Iil8fCIifXJldHVybiB0aGlzfSxoaWRlOmZ1bmN0aW9uKGEsYixjKXtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKGNlKCJoaWRlIiwzKSxhLGIsYyk7Zm9yKHZhciBlPTAsZj10aGlzLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZz1kLmNzcyh0aGlzW2VdLCJkaXNwbGF5Iik7ZyE9PSJub25lIiYmIWQuX2RhdGEodGhpc1tlXSwib2xkZGlzcGxheSIpJiZkLl9kYXRhKHRoaXNbZV0sIm9sZGRpc3BsYXkiLGcpfWZvcihlPTA7ZTxmO2UrKyl0aGlzW2VdLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3JldHVybiB0aGlzfSxfdG9nZ2xlOmQuZm4udG9nZ2xlLHRvZ2dsZTpmdW5jdGlvbihhLGIsYyl7dmFyIGU9dHlwZW9mIGE9PT0iYm9vbGVhbiI7ZC5pc0Z1bmN0aW9uKGEpJiZkLmlzRnVuY3Rpb24oYik/dGhpcy5fdG9nZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphPT1udWxsfHxlP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWU/YTpkKHRoaXMpLmlzKCI6aGlkZGVuIik7ZCh0aGlzKVtiPyJzaG93IjoiaGlkZSJdKCl9KTp0aGlzLmFuaW1hdGUoY2UoInRvZ2dsZSIsMyksYSxiLGMpO3JldHVybiB0aGlzfSxmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKCI6aGlkZGVuIikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGY9ZC5zcGVlZChiLGMsZSk7aWYoZC5pc0VtcHR5T2JqZWN0KGEpKXJldHVybiB0aGlzLmVhY2goZi5jb21wbGV0ZSk7cmV0dXJuIHRoaXNbZi5xdWV1ZT09PSExPyJlYWNoIjoicXVldWUiXShmdW5jdGlvbigpe3ZhciBiPWQuZXh0ZW5kKHt9LGYpLGMsZT10aGlzLm5vZGVUeXBlPT09MSxnPWUmJmQodGhpcykuaXMoIjpoaWRkZW4iKSxoPXRoaXM7Zm9yKGMgaW4gYSl7dmFyIGk9ZC5jYW1lbENhc2UoYyk7YyE9PWkmJihhW2ldPWFbY10sZGVsZXRlIGFbY10sYz1pKTtpZihhW2NdPT09ImhpZGUiJiZnfHxhW2NdPT09InNob3ciJiYhZylyZXR1cm4gYi5jb21wbGV0ZS5jYWxsKHRoaXMpO2lmKGUmJihjPT09ImhlaWdodCJ8fGM9PT0id2lkdGgiKSl7Yi5vdmVyZmxvdz1bdGhpcy5zdHlsZS5vdmVyZmxvdyx0aGlzLnN0eWxlLm92ZXJmbG93WCx0aGlzLnN0eWxlLm92ZXJmbG93WV07aWYoZC5jc3ModGhpcywiZGlzcGxheSIpPT09ImlubGluZSImJmQuY3NzKHRoaXMsImZsb2F0Iik9PT0ibm9uZSIpaWYoZC5zdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQpe3ZhciBqPWNmKHRoaXMubm9kZU5hbWUpO2o9PT0iaW5saW5lIj90aGlzLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI6KHRoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lIix0aGlzLnN0eWxlLnpvb209MSl9ZWxzZSB0aGlzLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayJ9ZC5pc0FycmF5KGFbY10pJiYoKGIuc3BlY2lhbEVhc2luZz1iLnNwZWNpYWxFYXNpbmd8fHt9KVtjXT1hW2NdWzFdLGFbY109YVtjXVswXSl9Yi5vdmVyZmxvdyE9bnVsbCYmKHRoaXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpLGIuY3VyQW5pbT1kLmV4dGVuZCh7fSxhKSxkLmVhY2goYSxmdW5jdGlvbihjLGUpe3ZhciBmPW5ldyBkLmZ4KGgsYixjKTtpZihjYS50ZXN0KGUpKWZbZT09PSJ0b2dnbGUiP2c/InNob3ciOiJoaWRlIjplXShhKTtlbHNle3ZhciBpPWNiLmV4ZWMoZSksaj1mLmN1cigpO2lmKGkpe3ZhciBrPXBhcnNlRmxvYXQoaVsyXSksbD1pWzNdfHwoZC5jc3NOdW1iZXJbY10/IiI6InB4Iik7bCE9PSJweCImJihkLnN0eWxlKGgsYywoa3x8MSkrbCksaj0oa3x8MSkvZi5jdXIoKSpqLGQuc3R5bGUoaCxjLGorbCkpLGlbMV0mJihrPShpWzFdPT09Ii09Ij8tMToxKSprK2opLGYuY3VzdG9tKGosayxsKX1lbHNlIGYuY3VzdG9tKGosZSwiIil9fSk7cmV0dXJuITB9KX0sc3RvcDpmdW5jdGlvbihhLGIpe3ZhciBjPWQudGltZXJzO2EmJnRoaXMucXVldWUoW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe2Zvcih2YXIgYT1jLmxlbmd0aC0xO2E+PTA7YS0tKWNbYV0uZWxlbT09PXRoaXMmJihiJiZjW2FdKCEwKSxjLnNwbGljZShhLDEpKX0pLGJ8fHRoaXMuZGVxdWV1ZSgpO3JldHVybiB0aGlzfX0pLGQuZWFjaCh7c2xpZGVEb3duOmNlKCJzaG93IiwxKSxzbGlkZVVwOmNlKCJoaWRlIiwxKSxzbGlkZVRvZ2dsZTpjZSgidG9nZ2xlIiwxKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7ZC5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxkLmV4dGVuZCh7c3BlZWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPWEmJnR5cGVvZiBhPT09Im9iamVjdCI/ZC5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxkLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIWQuaXNGdW5jdGlvbihiKSYmYn07ZS5kdXJhdGlvbj1kLmZ4Lm9mZj8wOnR5cGVvZiBlLmR1cmF0aW9uPT09Im51bWJlciI/ZS5kdXJhdGlvbjplLmR1cmF0aW9uIGluIGQuZnguc3BlZWRzP2QuZnguc3BlZWRzW2UuZHVyYXRpb25dOmQuZnguc3BlZWRzLl9kZWZhdWx0LGUub2xkPWUuY29tcGxldGUsZS5jb21wbGV0ZT1mdW5jdGlvbigpe2UucXVldWUhPT0hMSYmZCh0aGlzKS5kZXF1ZXVlKCksZC5pc0Z1bmN0aW9uKGUub2xkKSYmZS5vbGQuY2FsbCh0aGlzKX07cmV0dXJuIGV9LGVhc2luZzp7bGluZWFyOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBjK2QqYX0sc3dpbmc6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuKC1NYXRoLmNvcyhhKk1hdGguUEkpLzIrLjUpKmQrY319LHRpbWVyczpbXSxmeDpmdW5jdGlvbihhLGIsYyl7dGhpcy5vcHRpb25zPWIsdGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsYi5vcmlnfHwoYi5vcmlnPXt9KX19KSxkLmZ4LnByb3RvdHlwZT17dXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLChkLmZ4LnN0ZXBbdGhpcy5wcm9wXXx8ZC5meC5zdGVwLl9kZWZhdWx0KSh0aGlzKX0sY3VyOmZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtW3RoaXMucHJvcF0hPW51bGwmJighdGhpcy5lbGVtLnN0eWxlfHx0aGlzLmVsZW0uc3R5bGVbdGhpcy5wcm9wXT09bnVsbCkpcmV0dXJuIHRoaXMuZWxlbVt0aGlzLnByb3BdO3ZhciBhLGI9ZC5jc3ModGhpcy5lbGVtLHRoaXMucHJvcCk7cmV0dXJuIGlzTmFOKGE9cGFyc2VGbG9hdChiKSk/IWJ8fGI9PT0iYXV0byI/MDpiOmF9LGN1c3RvbTpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZS5zdGVwKGEpfXZhciBlPXRoaXMsZj1kLmZ4O3RoaXMuc3RhcnRUaW1lPWQubm93KCksdGhpcy5zdGFydD1hLHRoaXMuZW5kPWIsdGhpcy51bml0PWN8fHRoaXMudW5pdHx8KGQuY3NzTnVtYmVyW3RoaXMucHJvcF0/IiI6InB4IiksdGhpcy5ub3c9dGhpcy5zdGFydCx0aGlzLnBvcz10aGlzLnN0YXRlPTAsZy5lbGVtPXRoaXMuZWxlbSxnKCkmJmQudGltZXJzLnB1c2goZykmJiFjYyYmKGNjPXNldEludGVydmFsKGYudGljayxmLmludGVydmFsKSl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWQuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCksdGhpcy5vcHRpb25zLnNob3c9ITAsdGhpcy5jdXN0b20odGhpcy5wcm9wPT09IndpZHRoInx8dGhpcy5wcm9wPT09ImhlaWdodCI/MTowLHRoaXMuY3VyKCkpLGQodGhpcy5lbGVtKS5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWQuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCksdGhpcy5vcHRpb25zLmhpZGU9ITAsdGhpcy5jdXN0b20odGhpcy5jdXIoKSwwKX0sc3RlcDpmdW5jdGlvbihhKXt2YXIgYj1kLm5vdygpLGM9ITA7aWYoYXx8Yj49dGhpcy5vcHRpb25zLmR1cmF0aW9uK3RoaXMuc3RhcnRUaW1lKXt0aGlzLm5vdz10aGlzLmVuZCx0aGlzLnBvcz10aGlzLnN0YXRlPTEsdGhpcy51cGRhdGUoKSx0aGlzLm9wdGlvbnMuY3VyQW5pbVt0aGlzLnByb3BdPSEwO2Zvcih2YXIgZSBpbiB0aGlzLm9wdGlvbnMuY3VyQW5pbSl0aGlzLm9wdGlvbnMuY3VyQW5pbVtlXSE9PSEwJiYoYz0hMSk7aWYoYyl7aWYodGhpcy5vcHRpb25zLm92ZXJmbG93IT1udWxsJiYhZC5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3Mpe3ZhciBmPXRoaXMuZWxlbSxnPXRoaXMub3B0aW9ucztkLmVhY2goWyIiLCJYIiwiWSJdLGZ1bmN0aW9uKGEsYil7Zi5zdHlsZVsib3ZlcmZsb3ciK2JdPWcub3ZlcmZsb3dbYV19KX10aGlzLm9wdGlvbnMuaGlkZSYmZCh0aGlzLmVsZW0pLmhpZGUoKTtpZih0aGlzLm9wdGlvbnMuaGlkZXx8dGhpcy5vcHRpb25zLnNob3cpZm9yKHZhciBoIGluIHRoaXMub3B0aW9ucy5jdXJBbmltKWQuc3R5bGUodGhpcy5lbGVtLGgsdGhpcy5vcHRpb25zLm9yaWdbaF0pO3RoaXMub3B0aW9ucy5jb21wbGV0ZS5jYWxsKHRoaXMuZWxlbSl9cmV0dXJuITF9dmFyIGk9Yi10aGlzLnN0YXJ0VGltZTt0aGlzLnN0YXRlPWkvdGhpcy5vcHRpb25zLmR1cmF0aW9uO3ZhciBqPXRoaXMub3B0aW9ucy5zcGVjaWFsRWFzaW5nJiZ0aGlzLm9wdGlvbnMuc3BlY2lhbEVhc2luZ1t0aGlzLnByb3BdLGs9dGhpcy5vcHRpb25zLmVhc2luZ3x8KGQuZWFzaW5nLnN3aW5nPyJzd2luZyI6ImxpbmVhciIpO3RoaXMucG9zPWQuZWFzaW5nW2p8fGtdKHRoaXMuc3RhdGUsaSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKSx0aGlzLm5vdz10aGlzLnN0YXJ0Kyh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0aGlzLnBvcyx0aGlzLnVwZGF0ZSgpO3JldHVybiEwfX0sZC5leHRlbmQoZC5meCx7dGljazpmdW5jdGlvbigpe3ZhciBhPWQudGltZXJzO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0oKXx8YS5zcGxpY2UoYi0tLDEpO2EubGVuZ3RofHxkLmZ4LnN0b3AoKX0saW50ZXJ2YWw6MTMsc3RvcDpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoY2MpLGNjPW51bGx9LHNwZWVkczp7c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxzdGVwOntvcGFjaXR5OmZ1bmN0aW9uKGEpe2Quc3R5bGUoYS5lbGVtLCJvcGFjaXR5IixhLm5vdyl9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe2EuZWxlbS5zdHlsZSYmYS5lbGVtLnN0eWxlW2EucHJvcF0hPW51bGw/YS5lbGVtLnN0eWxlW2EucHJvcF09KGEucHJvcD09PSJ3aWR0aCJ8fGEucHJvcD09PSJoZWlnaHQiP01hdGgubWF4KDAsYS5ub3cpOmEubm93KSthLnVuaXQ6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0pLGQuZXhwciYmZC5leHByLmZpbHRlcnMmJihkLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gZC5ncmVwKGQudGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofSk7dmFyIGNnPS9edCg/OmFibGV8ZHxoKSQvaSxjaD0vXig/OmJvZHl8aHRtbCkkL2k7ImdldEJvdW5kaW5nQ2xpZW50UmVjdCJpbiBjLmRvY3VtZW50RWxlbWVudD9kLmZuLm9mZnNldD1mdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdLGM7aWYoYSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Qub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTtpZighYnx8IWIub3duZXJEb2N1bWVudClyZXR1cm4gbnVsbDtpZihiPT09Yi5vd25lckRvY3VtZW50LmJvZHkpcmV0dXJuIGQub2Zmc2V0LmJvZHlPZmZzZXQoYik7dHJ5e2M9Yi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChlKXt9dmFyIGY9Yi5vd25lckRvY3VtZW50LGc9Zi5kb2N1bWVudEVsZW1lbnQ7aWYoIWN8fCFkLmNvbnRhaW5zKGcsYikpcmV0dXJuIGM/e3RvcDpjLnRvcCxsZWZ0OmMubGVmdH06e3RvcDowLGxlZnQ6MH07dmFyIGg9Zi5ib2R5LGk9Y2koZiksaj1nLmNsaWVudFRvcHx8aC5jbGllbnRUb3B8fDAsaz1nLmNsaWVudExlZnR8fGguY2xpZW50TGVmdHx8MCxsPWkucGFnZVlPZmZzZXR8fGQuc3VwcG9ydC5ib3hNb2RlbCYmZy5zY3JvbGxUb3B8fGguc2Nyb2xsVG9wLG09aS5wYWdlWE9mZnNldHx8ZC5zdXBwb3J0LmJveE1vZGVsJiZnLnNjcm9sbExlZnR8fGguc2Nyb2xsTGVmdCxuPWMudG9wK2wtaixvPWMubGVmdCttLWs7cmV0dXJue3RvcDpuLGxlZnQ6b319OmQuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF07aWYoYSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Qub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTtpZighYnx8IWIub3duZXJEb2N1bWVudClyZXR1cm4gbnVsbDtpZihiPT09Yi5vd25lckRvY3VtZW50LmJvZHkpcmV0dXJuIGQub2Zmc2V0LmJvZHlPZmZzZXQoYik7ZC5vZmZzZXQuaW5pdGlhbGl6ZSgpO3ZhciBjLGU9Yi5vZmZzZXRQYXJlbnQsZj1iLGc9Yi5vd25lckRvY3VtZW50LGg9Zy5kb2N1bWVudEVsZW1lbnQsaT1nLmJvZHksaj1nLmRlZmF1bHRWaWV3LGs9aj9qLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZSxsPWIub2Zmc2V0VG9wLG09Yi5vZmZzZXRMZWZ0O3doaWxlKChiPWIucGFyZW50Tm9kZSkmJmIhPT1pJiZiIT09aCl7aWYoZC5vZmZzZXQuc3VwcG9ydHNGaXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIilicmVhaztjPWo/ai5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUsbC09Yi5zY3JvbGxUb3AsbS09Yi5zY3JvbGxMZWZ0LGI9PT1lJiYobCs9Yi5vZmZzZXRUb3AsbSs9Yi5vZmZzZXRMZWZ0LGQub2Zmc2V0LmRvZXNOb3RBZGRCb3JkZXImJighZC5vZmZzZXQuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHN8fCFjZy50ZXN0KGIubm9kZU5hbWUpKSYmKGwrPXBhcnNlRmxvYXQoYy5ib3JkZXJUb3BXaWR0aCl8fDAsbSs9cGFyc2VGbG9hdChjLmJvcmRlckxlZnRXaWR0aCl8fDApLGY9ZSxlPWIub2Zmc2V0UGFyZW50KSxkLm9mZnNldC5zdWJ0cmFjdHNCb3JkZXJGb3JPdmVyZmxvd05vdFZpc2libGUmJmMub3ZlcmZsb3chPT0idmlzaWJsZSImJihsKz1wYXJzZUZsb2F0KGMuYm9yZGVyVG9wV2lkdGgpfHwwLG0rPXBhcnNlRmxvYXQoYy5ib3JkZXJMZWZ0V2lkdGgpfHwwKSxrPWN9aWYoay5wb3NpdGlvbj09PSJyZWxhdGl2ZSJ8fGsucG9zaXRpb249PT0ic3RhdGljIilsKz1pLm9mZnNldFRvcCxtKz1pLm9mZnNldExlZnQ7ZC5vZmZzZXQuc3VwcG9ydHNGaXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIiYmKGwrPU1hdGgubWF4KGguc2Nyb2xsVG9wLGkuc2Nyb2xsVG9wKSxtKz1NYXRoLm1heChoLnNjcm9sbExlZnQsaS5zY3JvbGxMZWZ0KSk7cmV0dXJue3RvcDpsLGxlZnQ6bX19LGQub2Zmc2V0PXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9Yy5ib2R5LGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLGYsZyxoLGk9cGFyc2VGbG9hdChkLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsaj0iPGRpdiBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2JvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7Jz48ZGl2PjwvZGl2PjwvZGl2Pjx0YWJsZSBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2JvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7JyBjZWxscGFkZGluZz0nMCcgY2VsbHNwYWNpbmc9JzAnPjx0cj48dGQ+PC90ZD48L3RyPjwvdGFibGU+IjtkLmV4dGVuZChiLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxib3JkZXI6MCx3aWR0aDoiMXB4IixoZWlnaHQ6IjFweCIsdmlzaWJpbGl0eToiaGlkZGVuIn0pLGIuaW5uZXJIVE1MPWosYS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpLGU9Yi5maXJzdENoaWxkLGY9ZS5maXJzdENoaWxkLGg9ZS5uZXh0U2libGluZy5maXJzdENoaWxkLmZpcnN0Q2hpbGQsdGhpcy5kb2VzTm90QWRkQm9yZGVyPWYub2Zmc2V0VG9wIT09NSx0aGlzLmRvZXNBZGRCb3JkZXJGb3JUYWJsZUFuZENlbGxzPWgub2Zmc2V0VG9wPT09NSxmLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCIsZi5zdHlsZS50b3A9IjIwcHgiLHRoaXMuc3VwcG9ydHNGaXhlZFBvc2l0aW9uPWYub2Zmc2V0VG9wPT09MjB8fGYub2Zmc2V0VG9wPT09MTUsZi5zdHlsZS5wb3NpdGlvbj1mLnN0eWxlLnRvcD0iIixlLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIix0aGlzLnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZT1mLm9mZnNldFRvcD09PS01LHRoaXMuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQ9YS5vZmZzZXRUb3AhPT1pLGEucmVtb3ZlQ2hpbGQoYiksZC5vZmZzZXQuaW5pdGlhbGl6ZT1kLm5vb3B9LGJvZHlPZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vZmZzZXRUb3AsYz1hLm9mZnNldExlZnQ7ZC5vZmZzZXQuaW5pdGlhbGl6ZSgpLGQub2Zmc2V0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0JiYoYis9cGFyc2VGbG9hdChkLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsYys9cGFyc2VGbG9hdChkLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwKTtyZXR1cm57dG9wOmIsbGVmdDpjfX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1kLmNzcyhhLCJwb3NpdGlvbiIpO2U9PT0ic3RhdGljIiYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGY9ZChhKSxnPWYub2Zmc2V0KCksaD1kLmNzcyhhLCJ0b3AiKSxpPWQuY3NzKGEsImxlZnQiKSxqPShlPT09ImFic29sdXRlInx8ZT09PSJmaXhlZCIpJiZkLmluQXJyYXkoImF1dG8iLFtoLGldKT4tMSxrPXt9LGw9e30sbSxuO2omJihsPWYucG9zaXRpb24oKSksbT1qP2wudG9wOnBhcnNlSW50KGgsMTApfHwwLG49aj9sLmxlZnQ6cGFyc2VJbnQoaSwxMCl8fDAsZC5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLGcpKSxiLnRvcCE9bnVsbCYmKGsudG9wPWIudG9wLWcudG9wK20pLGIubGVmdCE9bnVsbCYmKGsubGVmdD1iLmxlZnQtZy5sZWZ0K24pLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLGspOmYuY3NzKGspfX0sZC5mbi5leHRlbmQoe3Bvc2l0aW9uOmZ1bmN0aW9uKCl7aWYoIXRoaXNbMF0pcmV0dXJuIG51bGw7dmFyIGE9dGhpc1swXSxiPXRoaXMub2Zmc2V0UGFyZW50KCksYz10aGlzLm9mZnNldCgpLGU9Y2gudGVzdChiWzBdLm5vZGVOYW1lKT97dG9wOjAsbGVmdDowfTpiLm9mZnNldCgpO2MudG9wLT1wYXJzZUZsb2F0KGQuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxjLmxlZnQtPXBhcnNlRmxvYXQoZC5jc3MoYSwibWFyZ2luTGVmdCIpKXx8MCxlLnRvcCs9cGFyc2VGbG9hdChkLmNzcyhiWzBdLCJib3JkZXJUb3BXaWR0aCIpKXx8MCxlLmxlZnQrPXBhcnNlRmxvYXQoZC5jc3MoYlswXSwiYm9yZGVyTGVmdFdpZHRoIikpfHwwO3JldHVybnt0b3A6Yy50b3AtZS50b3AsbGVmdDpjLmxlZnQtZS5sZWZ0fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fGMuYm9keTt3aGlsZShhJiYoIWNoLnRlc3QoYS5ub2RlTmFtZSkmJmQuY3NzKGEsInBvc2l0aW9uIik9PT0ic3RhdGljIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYX0pfX0pLGQuZWFjaChbIkxlZnQiLCJUb3AiXSxmdW5jdGlvbihhLGMpe3ZhciBlPSJzY3JvbGwiK2M7ZC5mbltlXT1mdW5jdGlvbihjKXt2YXIgZj10aGlzWzBdLGc7aWYoIWYpcmV0dXJuIG51bGw7aWYoYyE9PWIpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2c9Y2kodGhpcyksZz9nLnNjcm9sbFRvKGE/ZChnKS5zY3JvbGxMZWZ0KCk6YyxhP2M6ZChnKS5zY3JvbGxUb3AoKSk6dGhpc1tlXT1jfSk7Zz1jaShmKTtyZXR1cm4gZz8icGFnZVhPZmZzZXQiaW4gZz9nW2E/InBhZ2VZT2Zmc2V0IjoicGFnZVhPZmZzZXQiXTpkLnN1cHBvcnQuYm94TW9kZWwmJmcuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W2VdfHxnLmRvY3VtZW50LmJvZHlbZV06ZltlXX19KSxkLmVhY2goWyJIZWlnaHQiLCJXaWR0aCJdLGZ1bmN0aW9uKGEsYyl7dmFyIGU9Yy50b0xvd2VyQ2FzZSgpO2QuZm5bImlubmVyIitjXT1mdW5jdGlvbigpe3JldHVybiB0aGlzWzBdP3BhcnNlRmxvYXQoZC5jc3ModGhpc1swXSxlLCJwYWRkaW5nIikpOm51bGx9LGQuZm5bIm91dGVyIitjXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpc1swXT9wYXJzZUZsb2F0KGQuY3NzKHRoaXNbMF0sZSxhPyJtYXJnaW4iOiJib3JkZXIiKSk6bnVsbH0sZC5mbltlXT1mdW5jdGlvbihhKXt2YXIgZj10aGlzWzBdO2lmKCFmKXJldHVybiBhPT1udWxsP251bGw6dGhpcztpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1kKHRoaXMpO2NbZV0oYS5jYWxsKHRoaXMsYixjW2VdKCkpKX0pO2lmKGQuaXNXaW5kb3coZikpe3ZhciBnPWYuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2NdO3JldHVybiBmLmRvY3VtZW50LmNvbXBhdE1vZGU9PT0iQ1NTMUNvbXBhdCImJmd8fGYuZG9jdW1lbnQuYm9keVsiY2xpZW50IitjXXx8Z31pZihmLm5vZGVUeXBlPT09OSlyZXR1cm4gTWF0aC5tYXgoZi5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrY10sZi5ib2R5WyJzY3JvbGwiK2NdLGYuZG9jdW1lbnRFbGVtZW50WyJzY3JvbGwiK2NdLGYuYm9keVsib2Zmc2V0IitjXSxmLmRvY3VtZW50RWxlbWVudFsib2Zmc2V0IitjXSk7aWYoYT09PWIpe3ZhciBoPWQuY3NzKGYsZSksaT1wYXJzZUZsb2F0KGgpO3JldHVybiBkLmlzTmFOKGkpP2g6aX1yZXR1cm4gdGhpcy5jc3MoZSx0eXBlb2YgYT09PSJzdHJpbmciP2E6YSsicHgiKX19KSxhLmpRdWVyeT1hLiQ9ZH0pKHdpbmRvdyk7CgovKiBiZ2lmcmFtZS0yLjEuMSAqLwooZnVuY3Rpb24oJCl7JC5mbi5iZ0lmcmFtZT0kLmZuLmJnaWZyYW1lPWZ1bmN0aW9uKHMpe2lmKCQuYnJvd3Nlci5tc2llJiYkLmJyb3dzZXIudmVyc2lvbj09Nil7cz0kLmV4dGVuZCh7dG9wOidhdXRvJyxsZWZ0OidhdXRvJyx3aWR0aDonYXV0bycsaGVpZ2h0OidhdXRvJyxvcGFjaXR5OnRydWUsc3JjOidqYXZhc2NyaXB0OmZhbHNlOyd9LHN8fHt9KTt2YXIgcHJvcD1mdW5jdGlvbihuKXtyZXR1cm4gbiYmbi5jb25zdHJ1Y3Rvcj09TnVtYmVyP24rJ3B4JzpuO30saHRtbD0nPGlmcmFtZSBjbGFzcz0iYmdpZnJhbWUiZnJhbWVib3JkZXI9IjAidGFiaW5kZXg9Ii0xInNyYz0iJytzLnNyYysnIicrJ3N0eWxlPSJkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6LTE7Jysocy5vcGFjaXR5IT09ZmFsc2U/J2ZpbHRlcjpBbHBoYShPcGFjaXR5PVwnMFwnKTsnOicnKSsndG9wOicrKHMudG9wPT0nYXV0byc/J2V4cHJlc3Npb24oKChwYXJzZUludCh0aGlzLnBhcmVudE5vZGUuY3VycmVudFN0eWxlLmJvcmRlclRvcFdpZHRoKXx8MCkqLTEpK1wncHhcJyknOnByb3Aocy50b3ApKSsnOycrJ2xlZnQ6Jysocy5sZWZ0PT0nYXV0byc/J2V4cHJlc3Npb24oKChwYXJzZUludCh0aGlzLnBhcmVudE5vZGUuY3VycmVudFN0eWxlLmJvcmRlckxlZnRXaWR0aCl8fDApKi0xKStcJ3B4XCcpJzpwcm9wKHMubGVmdCkpKyc7Jysnd2lkdGg6Jysocy53aWR0aD09J2F1dG8nPydleHByZXNzaW9uKHRoaXMucGFyZW50Tm9kZS5vZmZzZXRXaWR0aCtcJ3B4XCcpJzpwcm9wKHMud2lkdGgpKSsnOycrJ2hlaWdodDonKyhzLmhlaWdodD09J2F1dG8nPydleHByZXNzaW9uKHRoaXMucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQrXCdweFwnKSc6cHJvcChzLmhlaWdodCkpKyc7JysnIi8+JztyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoJCgnPiBpZnJhbWUuYmdpZnJhbWUnLHRoaXMpLmxlbmd0aD09MCkgdGhpcy5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChodG1sKSx0aGlzLmZpcnN0Q2hpbGQpO30pO31yZXR1cm4gdGhpczt9O30pKGpRdWVyeSk7CgovKiB0aW1lcnMtMS4yICovCmpRdWVyeS5mbi5leHRlbmQoe2V2ZXJ5VGltZTpmdW5jdGlvbihpbnRlcnZhbCxsYWJlbCxmbix0aW1lcyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2pRdWVyeS50aW1lci5hZGQodGhpcyxpbnRlcnZhbCxsYWJlbCxmbix0aW1lcyl9KX0sb25lVGltZTpmdW5jdGlvbihpbnRlcnZhbCxsYWJlbCxmbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2pRdWVyeS50aW1lci5hZGQodGhpcyxpbnRlcnZhbCxsYWJlbCxmbiwxKX0pfSxzdG9wVGltZTpmdW5jdGlvbihsYWJlbCxmbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2pRdWVyeS50aW1lci5yZW1vdmUodGhpcyxsYWJlbCxmbil9KX19KTsgalF1ZXJ5LmV4dGVuZCh7dGltZXI6e2dsb2JhbDpbXSxndWlkOjEsZGF0YUtleToialF1ZXJ5LnRpbWVyIixyZWdleDovXihbMC05XSsoPzpcLlswLTldKik/KVxzKiguKnMpPyQvLHBvd2Vyczp7bXM6MSxjczoxMCxkczoxMDAsczoxRTMsZGFzOjFFNCxoczoxRTUsa3M6MUU2fSx0aW1lUGFyc2U6ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlPT11bmRlZmluZWR8fHZhbHVlPT1udWxsKXJldHVybiBudWxsO3ZhciByZXN1bHQ9dGhpcy5yZWdleC5leGVjKGpRdWVyeS50cmltKHZhbHVlLnRvU3RyaW5nKCkpKTtpZihyZXN1bHRbMl0pe3ZhciBudW09cGFyc2VGbG9hdChyZXN1bHRbMV0pO3ZhciBtdWx0PXRoaXMucG93ZXJzW3Jlc3VsdFsyXV18fDE7cmV0dXJuIG51bSptdWx0fWVsc2UgcmV0dXJuIHZhbHVlfSxhZGQ6ZnVuY3Rpb24oZWxlbWVudCxpbnRlcnZhbCxsYWJlbCxmbix0aW1lcyl7dmFyIGNvdW50ZXI9MDtpZihqUXVlcnkuaXNGdW5jdGlvbihsYWJlbCkpe2lmKCF0aW1lcyl0aW1lcz0gZm47Zm49bGFiZWw7bGFiZWw9aW50ZXJ2YWx9aW50ZXJ2YWw9alF1ZXJ5LnRpbWVyLnRpbWVQYXJzZShpbnRlcnZhbCk7aWYodHlwZW9mIGludGVydmFsIT0ibnVtYmVyInx8aXNOYU4oaW50ZXJ2YWwpfHxpbnRlcnZhbDwwKXJldHVybjtpZih0eXBlb2YgdGltZXMhPSJudW1iZXIifHxpc05hTih0aW1lcyl8fHRpbWVzPDApdGltZXM9MDt0aW1lcz10aW1lc3x8MDt2YXIgdGltZXJzPWpRdWVyeS5kYXRhKGVsZW1lbnQsdGhpcy5kYXRhS2V5KXx8alF1ZXJ5LmRhdGEoZWxlbWVudCx0aGlzLmRhdGFLZXkse30pO2lmKCF0aW1lcnNbbGFiZWxdKXRpbWVyc1tsYWJlbF09e307Zm4udGltZXJJRD1mbi50aW1lcklEfHx0aGlzLmd1aWQrKzt2YXIgaGFuZGxlcj1mdW5jdGlvbigpe2lmKCsrY291bnRlcj50aW1lcyYmdGltZXMhPT0wfHxmbi5jYWxsKGVsZW1lbnQsY291bnRlcik9PT1mYWxzZSlqUXVlcnkudGltZXIucmVtb3ZlKGVsZW1lbnQsbGFiZWwsZm4pfTtoYW5kbGVyLnRpbWVySUQ9IGZuLnRpbWVySUQ7aWYoIXRpbWVyc1tsYWJlbF1bZm4udGltZXJJRF0pdGltZXJzW2xhYmVsXVtmbi50aW1lcklEXT13aW5kb3cuc2V0SW50ZXJ2YWwoaGFuZGxlcixpbnRlcnZhbCk7dGhpcy5nbG9iYWwucHVzaChlbGVtZW50KX0scmVtb3ZlOmZ1bmN0aW9uKGVsZW1lbnQsbGFiZWwsZm4pe3ZhciB0aW1lcnM9alF1ZXJ5LmRhdGEoZWxlbWVudCx0aGlzLmRhdGFLZXkpLHJldDtpZih0aW1lcnMpe2lmKCFsYWJlbClmb3IobGFiZWwgaW4gdGltZXJzKXRoaXMucmVtb3ZlKGVsZW1lbnQsbGFiZWwsZm4pO2Vsc2UgaWYodGltZXJzW2xhYmVsXSl7aWYoZm4pe2lmKGZuLnRpbWVySUQpe3dpbmRvdy5jbGVhckludGVydmFsKHRpbWVyc1tsYWJlbF1bZm4udGltZXJJRF0pO2RlbGV0ZSB0aW1lcnNbbGFiZWxdW2ZuLnRpbWVySURdfX1lbHNlIGZvcih2YXIgZm4gaW4gdGltZXJzW2xhYmVsXSl7d2luZG93LmNsZWFySW50ZXJ2YWwodGltZXJzW2xhYmVsXVtmbl0pO2RlbGV0ZSB0aW1lcnNbbGFiZWxdW2ZuXX1mb3IocmV0IGluIHRpbWVyc1tsYWJlbF0pYnJlYWs7IGlmKCFyZXQpe3JldD1udWxsO2RlbGV0ZSB0aW1lcnNbbGFiZWxdfX1mb3IocmV0IGluIHRpbWVycylicmVhaztpZighcmV0KWpRdWVyeS5yZW1vdmVEYXRhKGVsZW1lbnQsdGhpcy5kYXRhS2V5KX19fX0pO2pRdWVyeSh3aW5kb3cpLmJpbmQoInVubG9hZCIsZnVuY3Rpb24oKXtqUXVlcnkuZWFjaChqUXVlcnkudGltZXIuZ2xvYmFsLGZ1bmN0aW9uKGluZGV4LGl0ZW0pe2pRdWVyeS50aW1lci5yZW1vdmUoaXRlbSl9KX0pOwoKLyogQm94eSAwLjEuNCAoYykgMjAwOCBKYXNvbiBGcmFtZSwgbW9kaWZpZWQgMjAxMC0wNy0wNiAqLwovKgpqUXVlcnkuZm4uYm94eT1mdW5jdGlvbihvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbm9kZT10aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksc2VsZj10aGlzO2lmKG5vZGU9PSJhIilqUXVlcnkodGhpcykuY2xpY2soZnVuY3Rpb24oKXt2YXIgYWN0aXZlPUJveHkubGlua2VkVG8odGhpcyksaHJlZj10aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpLGxvY2FsT3B0aW9ucz1qUXVlcnkuZXh0ZW5kKHthY3R1YXRvcjp0aGlzLHRpdGxlOnRoaXMudGl0bGV9LG9wdGlvbnMpO2lmKGFjdGl2ZSlhY3RpdmUuc2hvdygpOyovCi8qZWxzZSBpZihocmVmLmluZGV4T2YoIiMiKT49MCl7dmFyIGNvbnRlbnQ9alF1ZXJ5KGhyZWYuc3Vic3RyKGhyZWYuaW5kZXhPZigiIyIpKSksbmV3Q29udGVudD1jb250ZW50LmNsb25lKHRydWUpO2NvbnRlbnQucmVtb3ZlKCk7bG9jYWxPcHRpb25zLnVubG9hZE9uSGlkZT1mYWxzZTtuZXcgQm94eShuZXdDb250ZW50LCBsb2NhbE9wdGlvbnMpfSovCi8qZWxzZXtpZighbG9jYWxPcHRpb25zLmNhY2hlKWxvY2FsT3B0aW9ucy51bmxvYWRPbkhpZGU9dHJ1ZTtCb3h5LmxvYWQodGhpcy5ocmVmLGxvY2FsT3B0aW9ucyl9cmV0dXJuIGZhbHNlfSk7ZWxzZSBpZihub2RlPT0iZm9ybSIpalF1ZXJ5KHRoaXMpLmJpbmQoInN1Ym1pdC5ib3h5IixmdW5jdGlvbigpe0JveHkuY29uZmlybShvcHRpb25zLm1lc3NhZ2V8fCJQbGVhc2UgY29uZmlybToiLGZ1bmN0aW9uKCl7alF1ZXJ5KHNlbGYpLnVuYmluZCgic3VibWl0LmJveHkiKS5zdWJtaXQoKX0pO3JldHVybiBmYWxzZX0pfSl9OyBmdW5jdGlvbiBCb3h5KGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5ib3h5PWpRdWVyeShlbGVtZW50KS5wYXJlbnRzKCIuYm94eS13cmFwcGVyOmZpcnN0Iik7alF1ZXJ5LmRhdGEodGhpcy5ib3h5WzBdLCJib3h5Iix0aGlzKTt0aGlzLnZpc2libGU9ZmFsc2U7dGhpcy5vcHRpb25zPWpRdWVyeS5leHRlbmQoe30sQm94eS5ERUZBVUxUUyxvcHRpb25zfHx7fSk7aWYodGhpcy5vcHRpb25zLm1vZGFsKXRoaXMub3B0aW9ucz1qUXVlcnkuZXh0ZW5kKHRoaXMub3B0aW9ucyx7Y2VudGVyOnRydWUsZHJhZ2dhYmxlOmZhbHNlfSk7aWYodGhpcy5vcHRpb25zLmFjdHVhdG9yKWpRdWVyeS5kYXRhKHRoaXMub3B0aW9ucy5hY3R1YXRvciwiYWN0aXZlLmJveHkiLHRoaXMpO3RoaXMuc2V0Q29udGVudChlbGVtZW50fHwiPGRpdj48L2Rpdj4iKTt0aGlzLl9zZXR1cFRpdGxlQmFyKCk7dGhpcy5ib3h5LmNzcygiZGlzcGxheSIsIm5vbmUiKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTt0aGlzLnRvVG9wKCk7IGlmKHRoaXMub3B0aW9ucy5maXhlZClpZihqUXVlcnkuYnJvd3Nlci5tc2llJiZqUXVlcnkuYnJvd3Nlci52ZXJzaW9uPDcpdGhpcy5vcHRpb25zLmZpeGVkPWZhbHNlO2Vsc2UgdGhpcy5ib3h5LmFkZENsYXNzKCJmaXhlZCIpO2lmKHRoaXMub3B0aW9ucy5jZW50ZXImJkJveHkuX3UodGhpcy5vcHRpb25zLngsdGhpcy5vcHRpb25zLnkpKXRoaXMuY2VudGVyKCk7ZWxzZSB0aGlzLm1vdmVUbyhCb3h5Ll91KHRoaXMub3B0aW9ucy54KT90aGlzLm9wdGlvbnMueDpCb3h5LkRFRkFVTFRfWCxCb3h5Ll91KHRoaXMub3B0aW9ucy55KT90aGlzLm9wdGlvbnMueTpCb3h5LkRFRkFVTFRfWSk7aWYodGhpcy5vcHRpb25zLnNob3cpdGhpcy5zaG93KCl9Qm94eS5FRj1mdW5jdGlvbigpe307IGpRdWVyeS5leHRlbmQoQm94eSx7V1JBUFBFUjoiPHRhYmxlIGNlbGxzcGFjaW5nPScwJyBjZWxscGFkZGluZz0nMCcgYm9yZGVyPScwJyBjbGFzcz0nYm94eS13cmFwcGVyJz4iKyI8dHI+PHRkIGNsYXNzPSd0b3AtbGVmdCc+PC90ZD48dGQgY2xhc3M9J3RvcCc+PC90ZD48dGQgY2xhc3M9J3RvcC1yaWdodCc+PC90ZD48L3RyPiIrIjx0cj48dGQgY2xhc3M9J2xlZnQnPjwvdGQ+PHRkIGNsYXNzPSdib3h5LWlubmVyJz48L3RkPjx0ZCBjbGFzcz0ncmlnaHQnPjwvdGQ+PC90cj4iKyI8dHI+PHRkIGNsYXNzPSdib3R0b20tbGVmdCc+PC90ZD48dGQgY2xhc3M9J2JvdHRvbSc+PC90ZD48dGQgY2xhc3M9J2JvdHRvbS1yaWdodCc+PC90ZD48L3RyPiIrIjwvdGFibGU+IixERUZBVUxUUzp7dGl0bGU6bnVsbCxjbG9zZWFibGU6dHJ1ZSxkcmFnZ2FibGU6dHJ1ZSxjbG9uZTpmYWxzZSxhY3R1YXRvcjpudWxsLGNlbnRlcjp0cnVlLHNob3c6dHJ1ZSxtb2RhbDpmYWxzZSxmaXhlZDp0cnVlLCBjbG9zZVRleHQ6IltjbG9zZV0iLHVubG9hZE9uSGlkZTpmYWxzZSxjbGlja1RvRnJvbnQ6ZmFsc2UsYmVoYXZpb3VyczpCb3h5LkVGLGFmdGVyRHJvcDpCb3h5LkVGLGFmdGVyU2hvdzpCb3h5LkVGLGFmdGVySGlkZTpCb3h5LkVGLGJlZm9yZVVubG9hZDpCb3h5LkVGfSxERUZBVUxUX1g6NTAsREVGQVVMVF9ZOjUwLHpJbmRleDoxMzM3LGRyYWdDb25maWd1cmVkOmZhbHNlLHJlc2l6ZUNvbmZpZ3VyZWQ6ZmFsc2UsZHJhZ2dpbmc6bnVsbCxsb2FkOmZ1bmN0aW9uKHVybCxvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBhamF4PXt1cmw6dXJsLHR5cGU6IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGNhY2hlOmZhbHNlLHN1Y2Nlc3M6ZnVuY3Rpb24oaHRtbCl7aHRtbD1qUXVlcnkoaHRtbCk7aWYob3B0aW9ucy5maWx0ZXIpaHRtbD1qUXVlcnkob3B0aW9ucy5maWx0ZXIsaHRtbCk7bmV3IEJveHkoaHRtbCxvcHRpb25zKX19O2pRdWVyeS5lYWNoKFsidHlwZSIsImNhY2hlIl0sZnVuY3Rpb24oKXtpZih0aGlzIGluIG9wdGlvbnMpe2FqYXhbdGhpc109b3B0aW9uc1t0aGlzXTtkZWxldGUgb3B0aW9uc1t0aGlzXX19KTtqUXVlcnkuYWpheChhamF4KX0sZ2V0OmZ1bmN0aW9uKGVsZSl7dmFyIHA9alF1ZXJ5KGVsZSkucGFyZW50cygiLmJveHktd3JhcHBlciIpO3JldHVybiBwLmxlbmd0aD9qUXVlcnkuZGF0YShwWzBdLCJib3h5Iik6bnVsbH0sbGlua2VkVG86ZnVuY3Rpb24oZWxlKXtyZXR1cm4galF1ZXJ5LmRhdGEoZWxlLCJhY3RpdmUuYm94eSIpfSxhbGVydDpmdW5jdGlvbihtZXNzYWdlLGNhbGxiYWNrLG9wdGlvbnMpe3JldHVybiBCb3h5LmFzayhtZXNzYWdlLFsiT0siXSxjYWxsYmFjayxvcHRpb25zKX0sY29uZmlybTpmdW5jdGlvbihtZXNzYWdlLGFmdGVyLG9wdGlvbnMpe3JldHVybiBCb3h5LmFzayhtZXNzYWdlLFsiT0siLCJDYW5jZWwiXSxmdW5jdGlvbihyZXNwb25zZSl7aWYocmVzcG9uc2U9PSJPSyIpYWZ0ZXIoKX0sb3B0aW9ucyl9LGFzazpmdW5jdGlvbihxdWVzdGlvbixhbnN3ZXJzLCBjYWxsYmFjayxvcHRpb25zKXtvcHRpb25zPWpRdWVyeS5leHRlbmQoe21vZGFsOnRydWUsY2xvc2VhYmxlOmZhbHNlfSxvcHRpb25zfHx7fSx7c2hvdzp0cnVlLHVubG9hZE9uSGlkZTp0cnVlfSk7dmFyIGJvZHk9alF1ZXJ5KCI8ZGl2PjwvZGl2PiIpLmFwcGVuZChqUXVlcnkoJzxkaXYgY2xhc3M9InF1ZXN0aW9uIj48L2Rpdj4nKS5odG1sKHF1ZXN0aW9uKSk7dmFyIG1hcD17fSxhbnN3ZXJTdHJpbmdzPVtdO2lmKGFuc3dlcnMgaW5zdGFuY2VvZiBBcnJheSlmb3IodmFyIGk9MDtpPGFuc3dlcnMubGVuZ3RoO2krKyl7bWFwW2Fuc3dlcnNbaV1dPWFuc3dlcnNbaV07YW5zd2VyU3RyaW5ncy5wdXNoKGFuc3dlcnNbaV0pfWVsc2UgZm9yKHZhciBrIGluIGFuc3dlcnMpe21hcFthbnN3ZXJzW2tdXT1rO2Fuc3dlclN0cmluZ3MucHVzaChhbnN3ZXJzW2tdKX12YXIgYnV0dG9ucz1qUXVlcnkoJzxmb3JtIGNsYXNzPSJhbnN3ZXJzIj48L2Zvcm0+Jyk7YnV0dG9ucy5odG1sKGpRdWVyeS5tYXAoYW5zd2VyU3RyaW5ncywgZnVuY3Rpb24odil7cmV0dXJuIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSciK3YrIicgLz4ifSkuam9pbigiICIpKTtqUXVlcnkoImlucHV0W3R5cGU9YnV0dG9uXSIsYnV0dG9ucykuY2xpY2soZnVuY3Rpb24oKXt2YXIgY2xpY2tlZD10aGlzO0JveHkuZ2V0KHRoaXMpLmhpZGUoZnVuY3Rpb24oKXtpZihjYWxsYmFjayljYWxsYmFjayhtYXBbY2xpY2tlZC52YWx1ZV0pfSl9KTtib2R5LmFwcGVuZChidXR0b25zKTtuZXcgQm94eShib2R5LG9wdGlvbnMpfSxpc01vZGFsVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBqUXVlcnkoIi5ib3h5LW1vZGFsLWJsYWNrb3V0IikubGVuZ3RoPjB9LF91OmZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylpZih0eXBlb2YgYXJndW1lbnRzW2ldIT0idW5kZWZpbmVkIilyZXR1cm4gZmFsc2U7cmV0dXJuIHRydWV9LF9oYW5kbGVSZXNpemU6ZnVuY3Rpb24oZXZ0KXt2YXIgZD1qUXVlcnkoZG9jdW1lbnQpO2pRdWVyeSgiLmJveHktbW9kYWwtYmxhY2tvdXQiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpLmNzcyh7d2lkdGg6ZC53aWR0aCgpLGhlaWdodDpkLmhlaWdodCgpfSkuY3NzKCJkaXNwbGF5IiwiYmxvY2siKX0sX2hhbmRsZURyYWc6ZnVuY3Rpb24oZXZ0KXt2YXIgZDtpZihkPUJveHkuZHJhZ2dpbmcpZFswXS5ib3h5LmNzcyh7bGVmdDpldnQucGFnZVgtZFsxXSx0b3A6ZXZ0LnBhZ2VZLWRbMl19KX0sX25leHRaOmZ1bmN0aW9uKCl7cmV0dXJuIEJveHkuekluZGV4Kyt9LF92aWV3cG9ydDpmdW5jdGlvbigpe3ZhciBkPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxiPWRvY3VtZW50LmJvZHksdz13aW5kb3c7cmV0dXJuIGpRdWVyeS5leHRlbmQoalF1ZXJ5LmJyb3dzZXIubXNpZT97bGVmdDpiLnNjcm9sbExlZnR8fGQuc2Nyb2xsTGVmdCx0b3A6Yi5zY3JvbGxUb3B8fGQuc2Nyb2xsVG9wfTp7bGVmdDp3LnBhZ2VYT2Zmc2V0LHRvcDp3LnBhZ2VZT2Zmc2V0fSwhQm94eS5fdSh3LmlubmVyV2lkdGgpP3t3aWR0aDp3LmlubmVyV2lkdGgsaGVpZ2h0OncuaW5uZXJIZWlnaHR9OiAhQm94eS5fdShkKSYmIUJveHkuX3UoZC5jbGllbnRXaWR0aCkmJmQuY2xpZW50V2lkdGghPTA/e3dpZHRoOmQuY2xpZW50V2lkdGgsaGVpZ2h0OmQuY2xpZW50SGVpZ2h0fTp7d2lkdGg6Yi5jbGllbnRXaWR0aCxoZWlnaHQ6Yi5jbGllbnRIZWlnaHR9KX19KTsgQm94eS5wcm90b3R5cGU9e2VzdGltYXRlU2l6ZTpmdW5jdGlvbigpe3RoaXMuYm94eS5jc3Moe3Zpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSk7dmFyIGRpbXM9dGhpcy5nZXRTaXplKCk7dGhpcy5ib3h5LmNzcygiZGlzcGxheSIsIm5vbmUiKS5jc3MoInZpc2liaWxpdHkiLCJ2aXNpYmxlIik7cmV0dXJuIGRpbXN9LGdldFNpemU6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5ib3h5LndpZHRoKCksdGhpcy5ib3h5LmhlaWdodCgpXX0sZ2V0Q29udGVudFNpemU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmdldENvbnRlbnQoKTtyZXR1cm5bYy53aWR0aCgpLGMuaGVpZ2h0KCldfSxnZXRQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuYm94eVswXTtyZXR1cm5bYi5vZmZzZXRMZWZ0LGIub2Zmc2V0VG9wXX0sZ2V0Q2VudGVyOmZ1bmN0aW9uKCl7dmFyIHA9dGhpcy5nZXRQb3NpdGlvbigpO3ZhciBzPXRoaXMuZ2V0U2l6ZSgpO3JldHVybltNYXRoLmZsb29yKHBbMF0rIHNbMF0vMiksTWF0aC5mbG9vcihwWzFdK3NbMV0vMildfSxnZXRJbm5lcjpmdW5jdGlvbigpe3JldHVybiBqUXVlcnkoIi5ib3h5LWlubmVyIix0aGlzLmJveHkpfSxnZXRUb3A6ZnVuY3Rpb24oKXtyZXR1cm4galF1ZXJ5KCIudG9wIix0aGlzLmJveHkpfSxnZXRDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGpRdWVyeSgiLmJveHktY29udGVudCIsdGhpcy5ib3h5KX0sc2V0Q29udGVudDpmdW5jdGlvbihuZXdDb250ZW50KXtuZXdDb250ZW50PWpRdWVyeShuZXdDb250ZW50KS5jc3Moe2Rpc3BsYXk6ImJsb2NrIn0pLmFkZENsYXNzKCJib3h5LWNvbnRlbnQiKTtpZih0aGlzLm9wdGlvbnMuY2xvbmUpbmV3Q29udGVudD1uZXdDb250ZW50LmNsb25lKHRydWUpO3RoaXMuX3NldHVwRGVmYXVsdEJlaGF2aW91cnMobmV3Q29udGVudCk7dGhpcy5vcHRpb25zLmJlaGF2aW91cnMuY2FsbCh0aGlzLG5ld0NvbnRlbnQpO3JldHVybiB0aGlzfSxtb3ZlVG86ZnVuY3Rpb24oeCx5KXt0aGlzLm1vdmVUb1goeCkubW92ZVRvWSh5KTsgcmV0dXJuIHRoaXN9LG1vdmVUb1g6ZnVuY3Rpb24oeCl7aWYodHlwZW9mIHg9PSJudW1iZXIiKXRoaXMuYm94eS5jc3Moe2xlZnQ6eH0pO2Vsc2UgdGhpcy5jZW50ZXJYKCk7cmV0dXJuIHRoaXN9LG1vdmVUb1k6ZnVuY3Rpb24oeSl7aWYodHlwZW9mIHk9PSJudW1iZXIiKXRoaXMuYm94eS5jc3Moe3RvcDp5fSk7ZWxzZSB0aGlzLmNlbnRlclkoKTtyZXR1cm4gdGhpc30sY2VudGVyQXQ6ZnVuY3Rpb24oeCx5KXt2YXIgcz10aGlzW3RoaXMudmlzaWJsZT8iZ2V0U2l6ZSI6ImVzdGltYXRlU2l6ZSJdKCk7aWYodHlwZW9mIHg9PSJudW1iZXIiKXRoaXMubW92ZVRvWCh4LXNbMF0vMik7aWYodHlwZW9mIHk9PSJudW1iZXIiKXRoaXMubW92ZVRvWSh5LXNbMV0vMik7cmV0dXJuIHRoaXN9LGNlbnRlckF0WDpmdW5jdGlvbih4KXtyZXR1cm4gdGhpcy5jZW50ZXJBdCh4LG51bGwpfSxjZW50ZXJBdFk6ZnVuY3Rpb24oeSl7cmV0dXJuIHRoaXMuY2VudGVyQXQobnVsbCx5KX0sY2VudGVyOmZ1bmN0aW9uKGF4aXMpe3ZhciB2PSBCb3h5Ll92aWV3cG9ydCgpO3ZhciBvPXRoaXMub3B0aW9ucy5maXhlZD9bMCwwXTpbdi5sZWZ0LHYudG9wXTtpZighYXhpc3x8YXhpcz09IngiKXRoaXMuY2VudGVyQXQob1swXSt2LndpZHRoLzIsbnVsbCk7aWYoIWF4aXN8fGF4aXM9PSJ5Iil0aGlzLmNlbnRlckF0KG51bGwsb1sxXSt2LmhlaWdodC8yKTtyZXR1cm4gdGhpc30sY2VudGVyWDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbnRlcigieCIpfSxjZW50ZXJZOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VudGVyKCJ5Iil9LHJlc2l6ZTpmdW5jdGlvbih3aWR0aCxoZWlnaHQsYWZ0ZXIpe2lmKCF0aGlzLnZpc2libGUpcmV0dXJuO3ZhciBib3VuZHM9dGhpcy5fZ2V0Qm91bmRzRm9yUmVzaXplKHdpZHRoLGhlaWdodCk7dGhpcy5ib3h5LmNzcyh7bGVmdDpib3VuZHNbMF0sdG9wOmJvdW5kc1sxXX0pO3RoaXMuZ2V0Q29udGVudCgpLmNzcyh7d2lkdGg6Ym91bmRzWzJdLGhlaWdodDpib3VuZHNbM119KTtpZihhZnRlcilhZnRlcih0aGlzKTsgcmV0dXJuIHRoaXN9LHR3ZWVuOmZ1bmN0aW9uKHdpZHRoLGhlaWdodCxhZnRlcil7aWYoIXRoaXMudmlzaWJsZSlyZXR1cm47dmFyIGJvdW5kcz10aGlzLl9nZXRCb3VuZHNGb3JSZXNpemUod2lkdGgsaGVpZ2h0KTt2YXIgc2VsZj10aGlzO3RoaXMuYm94eS5zdG9wKCkuYW5pbWF0ZSh7bGVmdDpib3VuZHNbMF0sdG9wOmJvdW5kc1sxXX0pO3RoaXMuZ2V0Q29udGVudCgpLnN0b3AoKS5hbmltYXRlKHt3aWR0aDpib3VuZHNbMl0saGVpZ2h0OmJvdW5kc1szXX0sZnVuY3Rpb24oKXtpZihhZnRlcilhZnRlcihzZWxmKX0pO3JldHVybiB0aGlzfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aXNpYmxlfSxzaG93OmZ1bmN0aW9uKCl7aWYodGhpcy52aXNpYmxlKXJldHVybjtpZih0aGlzLm9wdGlvbnMubW9kYWwpe3ZhciBzZWxmPXRoaXM7aWYoIUJveHkucmVzaXplQ29uZmlndXJlZCl7Qm94eS5yZXNpemVDb25maWd1cmVkPXRydWU7alF1ZXJ5KHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7Qm94eS5faGFuZGxlUmVzaXplKCl9KX10aGlzLm1vZGFsQmxhY2tvdXQ9IGpRdWVyeSgnPGRpdiBjbGFzcz0iYm94eS1tb2RhbC1ibGFja291dCI+PC9kaXY+JykuY3NzKHt6SW5kZXg6Qm94eS5fbmV4dFooKSxvcGFjaXR5OjAuNyx3aWR0aDpqUXVlcnkoZG9jdW1lbnQpLndpZHRoKCksaGVpZ2h0OmpRdWVyeShkb2N1bWVudCkuaGVpZ2h0KCl9KS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTt0aGlzLnRvVG9wKCk7aWYodGhpcy5vcHRpb25zLmNsb3NlYWJsZSlqUXVlcnkoZG9jdW1lbnQuYm9keSkuYmluZCgia2V5cHJlc3MuYm94eSIsZnVuY3Rpb24oZXZ0KXt2YXIga2V5PWV2dC53aGljaHx8ZXZ0LmtleUNvZGU7aWYoa2V5PT0yNyl7c2VsZi5oaWRlKCk7alF1ZXJ5KGRvY3VtZW50LmJvZHkpLnVuYmluZCgia2V5cHJlc3MuYm94eSIpfX0pfXRoaXMuYm94eS5zdG9wKCkuY3NzKHtvcGFjaXR5OjF9KS5zaG93KCk7dGhpcy52aXNpYmxlPXRydWU7dGhpcy5fZmlyZSgiYWZ0ZXJTaG93Iik7cmV0dXJuIHRoaXN9LGhpZGU6ZnVuY3Rpb24oYWZ0ZXIpe2lmKCF0aGlzLnZpc2libGUpcmV0dXJuOyB2YXIgc2VsZj10aGlzO2lmKHRoaXMub3B0aW9ucy5tb2RhbCl7alF1ZXJ5KGRvY3VtZW50LmJvZHkpLnVuYmluZCgia2V5cHJlc3MuYm94eSIpO3RoaXMubW9kYWxCbGFja291dC5hbmltYXRlKHtvcGFjaXR5OjB9LGZ1bmN0aW9uKCl7alF1ZXJ5KHRoaXMpLnJlbW92ZSgpfSl9dGhpcy5ib3h5LnN0b3AoKS5hbmltYXRlKHtvcGFjaXR5OjB9LDMwMCxmdW5jdGlvbigpe3NlbGYuYm94eS5jc3Moe2Rpc3BsYXk6Im5vbmUifSk7c2VsZi52aXNpYmxlPWZhbHNlO3NlbGYuX2ZpcmUoImFmdGVySGlkZSIpO2lmKGFmdGVyKWFmdGVyKHNlbGYpO2lmKHNlbGYub3B0aW9ucy51bmxvYWRPbkhpZGUpc2VsZi51bmxvYWQoKX0pO3JldHVybiB0aGlzfSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMudmlzaWJsZT8iaGlkZSI6InNob3ciXSgpO3JldHVybiB0aGlzfSxoaWRlQW5kVW5sb2FkOmZ1bmN0aW9uKGFmdGVyKXt0aGlzLm9wdGlvbnMudW5sb2FkT25IaWRlPXRydWU7dGhpcy5oaWRlKGFmdGVyKTsgcmV0dXJuIHRoaXN9LHVubG9hZDpmdW5jdGlvbigpe3RoaXMuX2ZpcmUoImJlZm9yZVVubG9hZCIpO3RoaXMuYm94eS5yZW1vdmUoKTtpZih0aGlzLm9wdGlvbnMuYWN0dWF0b3IpalF1ZXJ5LmRhdGEodGhpcy5vcHRpb25zLmFjdHVhdG9yLCJhY3RpdmUuYm94eSIsZmFsc2UpfSx0b1RvcDpmdW5jdGlvbigpe3RoaXMuYm94eS5jc3Moe3pJbmRleDpCb3h5Ll9uZXh0WigpfSk7cmV0dXJuIHRoaXN9LGdldFRpdGxlOmZ1bmN0aW9uKCl7cmV0dXJuIGpRdWVyeSgiPiAudGl0bGUtYmFyIGgyIix0aGlzLmdldElubmVyKCkpLmh0bWwoKX0sc2V0VGl0bGU6ZnVuY3Rpb24odCl7alF1ZXJ5KCI+IC50aXRsZS1iYXIgaDIiLHRoaXMuZ2V0SW5uZXIoKSkuaHRtbCh0KTtyZXR1cm4gdGhpc30sX2dldEJvdW5kc0ZvclJlc2l6ZTpmdW5jdGlvbih3aWR0aCxoZWlnaHQpe3ZhciBjc2l6ZT10aGlzLmdldENvbnRlbnRTaXplKCk7dmFyIGRlbHRhPVt3aWR0aC1jc2l6ZVswXSxoZWlnaHQtY3NpemVbMV1dOyB2YXIgcD10aGlzLmdldFBvc2l0aW9uKCk7cmV0dXJuW01hdGgubWF4KHBbMF0tZGVsdGFbMF0vMiwwKSxNYXRoLm1heChwWzFdLWRlbHRhWzFdLzIsMCksd2lkdGgsaGVpZ2h0XX0sX3NldHVwVGl0bGVCYXI6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMudGl0bGUpe3ZhciBzZWxmPXRoaXM7dmFyIHRiPWpRdWVyeSgiPGRpdiBjbGFzcz0ndGl0bGUtYmFyJz48L2Rpdj4iKS5odG1sKCI8aDI+Iit0aGlzLm9wdGlvbnMudGl0bGUrIjwvaDI+Iik7aWYodGhpcy5vcHRpb25zLmNsb3NlYWJsZSl0Yi5hcHBlbmQoalF1ZXJ5KCI8YSBocmVmPScjJyBjbGFzcz0nY2xvc2UnPjwvYT4iKS5odG1sKHRoaXMub3B0aW9ucy5jbG9zZVRleHQpKTtpZih0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKXt0YlswXS5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfTt0YlswXS51bnNlbGVjdGFibGU9Im9uIjt0YlswXS5zdHlsZS5Nb3pVc2VyU2VsZWN0PSJub25lIjtpZighQm94eS5kcmFnQ29uZmlndXJlZCl7alF1ZXJ5KGRvY3VtZW50KS5tb3VzZW1vdmUoQm94eS5faGFuZGxlRHJhZyk7IEJveHkuZHJhZ0NvbmZpZ3VyZWQ9dHJ1ZX10Yi5tb3VzZWRvd24oZnVuY3Rpb24oZXZ0KXtzZWxmLnRvVG9wKCk7Qm94eS5kcmFnZ2luZz1bc2VsZixldnQucGFnZVgtc2VsZi5ib3h5WzBdLm9mZnNldExlZnQsZXZ0LnBhZ2VZLXNlbGYuYm94eVswXS5vZmZzZXRUb3BdO2pRdWVyeSh0aGlzKS5hZGRDbGFzcygiZHJhZ2dpbmciKX0pLm1vdXNldXAoZnVuY3Rpb24oKXtqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoImRyYWdnaW5nIik7Qm94eS5kcmFnZ2luZz1udWxsO3NlbGYuX2ZpcmUoImFmdGVyRHJvcCIpfSl9dGhpcy5nZXRUb3AoKS5wcmVwZW5kKHRiKTt0aGlzLl9zZXR1cERlZmF1bHRCZWhhdmlvdXJzKHRiKX19LF9zZXR1cERlZmF1bHRCZWhhdmlvdXJzOmZ1bmN0aW9uKHJvb3Qpe3ZhciBzZWxmPXRoaXM7aWYodGhpcy5vcHRpb25zLmNsaWNrVG9Gcm9udClyb290LmNsaWNrKGZ1bmN0aW9uKCl7c2VsZi50b1RvcCgpfSk7alF1ZXJ5KCIuY2xvc2UiLHJvb3QpLmNsaWNrKGZ1bmN0aW9uKCl7c2VsZi5oaWRlKCk7IHJldHVybiBmYWxzZX0pLm1vdXNlZG93bihmdW5jdGlvbihldnQpe2V2dC5zdG9wUHJvcGFnYXRpb24oKX0pfSxfZmlyZTpmdW5jdGlvbihldmVudCl7dGhpcy5vcHRpb25zW2V2ZW50XS5jYWxsKHRoaXMpfX07CiovCi8qKgogKiBCb3h5IDAuMS40IC0gRmFjZWJvb2stc3R5bGUgZGlhbG9nLCB3aXRoIGZyaWxscwogKgogKiAoYykgMjAwOCBKYXNvbiBGcmFtZQogKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKExJQ0VOU0UpCiAqLwogCi8qCiAqIGpRdWVyeSBwbHVnaW4KICoKICogT3B0aW9uczoKICogICBtZXNzYWdlOiBjb25maXJtYXRpb24gbWVzc2FnZSBmb3IgZm9ybSBzdWJtaXQgaG9vayAoZGVmYXVsdDogIlBsZWFzZSBjb25maXJtOiIpCiAqIAogKiBBbnkgb3RoZXIgb3B0aW9ucyAtIGUuZy4gJ2Nsb25lJyAtIHdpbGwgYmUgcGFzc2VkIG9udG8gdGhlIGJveHkgY29uc3RydWN0b3IgKG9yCiAqIEJveHkubG9hZCBmb3IgQUpBWCBvcGVyYXRpb25zKQogKi8KalF1ZXJ5LmZuLmJveHkgPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7ICAgICAgCiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIHNlbGYgPSB0aGlzOwogICAgICAgIGlmIChub2RlID09ICdhJykgewogICAgICAgICAgICBqUXVlcnkodGhpcykuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlID0gQm94eS5saW5rZWRUbyh0aGlzKSwKICAgICAgICAgICAgICAgICAgICBocmVmID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSwKICAgICAgICAgICAgICAgICAgICBsb2NhbE9wdGlvbnMgPSBqUXVlcnkuZXh0ZW5kKHthY3R1YXRvcjogdGhpcywgdGl0bGU6IHRoaXMudGl0bGV9LCBvcHRpb25zKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChocmVmLm1hdGNoKC8oJnxcPylib3h5XC5tb2RhbC8pKSBsb2NhbE9wdGlvbnMubW9kYWwgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgIGFjdGl2ZS5zaG93KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhyZWYuaW5kZXhPZignIycpID49IDApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IGpRdWVyeShocmVmLnN1YnN0cihocmVmLmluZGV4T2YoJyMnKSkpLAogICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gY29udGVudC5jbG9uZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICBjb250ZW50LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsT3B0aW9ucy51bmxvYWRPbkhpZGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBuZXcgQm94eShuZXdDb250ZW50LCBsb2NhbE9wdGlvbnMpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChocmVmLm1hdGNoKC9cLihqcGU/Z3xwbmd8Z2lmfGJtcCkoJHxcPykvaSkpIHsKICAgICAgICAgICAgICAgICAgICBsb2NhbE9wdGlvbnMudW5sb2FkT25IaWRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBCb3h5LmxvYWRJbWFnZSh0aGlzLmhyZWYsIGxvY2FsT3B0aW9ucyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBmYWxsIGJhY2sgdG8gQUpBWDsgY291bGQgZG8gd2l0aCBhIHNhbWUtb3JpZ2luIGNoZWNrCiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2NhbE9wdGlvbnMuY2FjaGUpIGxvY2FsT3B0aW9ucy51bmxvYWRPbkhpZGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIEJveHkubG9hZCh0aGlzLmhyZWYsIGxvY2FsT3B0aW9ucyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChub2RlID09ICdmb3JtJykgewogICAgICAgICAgICBqUXVlcnkodGhpcykuYmluZCgnc3VibWl0LmJveHknLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIEJveHkuY29uZmlybShvcHRpb25zLm1lc3NhZ2UgfHwgJ1BsZWFzZSBjb25maXJtOicsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGpRdWVyeShzZWxmKS51bmJpbmQoJ3N1Ym1pdC5ib3h5Jykuc3VibWl0KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSk7Cn07CgovLwovLyBCb3h5IENsYXNzCgpmdW5jdGlvbiBCb3h5KGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgIAogICAgdGhpcy5ib3h5ID0galF1ZXJ5KEJveHkuV1JBUFBFUik7CiAgICBqUXVlcnkuZGF0YSh0aGlzLmJveHlbMF0sICdib3h5JywgdGhpcyk7CiAgICAKICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgdGhpcy5vcHRpb25zID0galF1ZXJ5LmV4dGVuZCh7fSwgQm94eS5ERUZBVUxUUywgb3B0aW9ucyB8fCB7fSk7CiAgICAKICAgIGlmICh0aGlzLm9wdGlvbnMubW9kYWwpIHsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBqUXVlcnkuZXh0ZW5kKHRoaXMub3B0aW9ucywge2NlbnRlcjogdHJ1ZSwgZHJhZ2dhYmxlOiBmYWxzZX0pOwogICAgfQogICAgCiAgICAvLyBvcHRpb25zLmFjdHVhdG9yID09IERPTSBlbGVtZW50IHRoYXQgb3BlbmVkIHRoaXMgYm94eQogICAgLy8gYXNzb2NpYXRpb24gd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRlbGV0ZWQgd2hlbiB0aGlzIGJveHkgaXMgcmVtb3ZlKClkCiAgICBpZiAodGhpcy5vcHRpb25zLmFjdHVhdG9yKSB7CiAgICAgICAgalF1ZXJ5LmRhdGEodGhpcy5vcHRpb25zLmFjdHVhdG9yLCAnYWN0aXZlLmJveHknLCB0aGlzKTsKICAgIH0KICAgIAogICAgdGhpcy5zZXRDb250ZW50KGVsZW1lbnQgfHwgIjxkaXY+PC9kaXY+Iik7CiAgICB0aGlzLl9zZXR1cFRpdGxlQmFyKCk7CiAgICAKICAgIHRoaXMuYm94eS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpOwogICAgdGhpcy50b1RvcCgpOwoKICAgIGlmICh0aGlzLm9wdGlvbnMuZml4ZWQpIHsKICAgICAgICBpZiAoQm94eS5JRTYpIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZpeGVkID0gZmFsc2U7IC8vIElFNiBkb2Vzbid0IHN1cHBvcnQgZml4ZWQgcG9zaXRpb25pbmcKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmJveHkuYWRkQ2xhc3MoJ2ZpeGVkJyk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBpZiAodGhpcy5vcHRpb25zLmNlbnRlciAmJiBCb3h5Ll91KHRoaXMub3B0aW9ucy54LCB0aGlzLm9wdGlvbnMueSkpIHsKICAgICAgICB0aGlzLmNlbnRlcigpOwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vdmVUbygKICAgICAgICAgICAgQm94eS5fdSh0aGlzLm9wdGlvbnMueCkgPyBCb3h5LkRFRkFVTFRfWCA6IHRoaXMub3B0aW9ucy54LAogICAgICAgICAgICBCb3h5Ll91KHRoaXMub3B0aW9ucy55KSA/IEJveHkuREVGQVVMVF9ZIDogdGhpcy5vcHRpb25zLnkKICAgICAgICApOwogICAgfQogICAgCiAgICBpZiAodGhpcy5vcHRpb25zLnNob3cpIHRoaXMuc2hvdygpOwoKfTsKCkJveHkuRUYgPSBmdW5jdGlvbigpIHt9OwoKalF1ZXJ5LmV4dGVuZChCb3h5LCB7CiAgICAKICAgIFdSQVBQRVI6ICAgICI8dGFibGUgY2VsbHNwYWNpbmc9JzAnIGNlbGxwYWRkaW5nPScwJyBib3JkZXI9JzAnIGNsYXNzPSdib3h5LXdyYXBwZXInPiIgKwogICAgICAgICAgICAgICAgIjx0cj48dGQgY2xhc3M9J2JveHktdG9wLWxlZnQnPjwvdGQ+PHRkIGNsYXNzPSdib3h5LXRvcCc+PC90ZD48dGQgY2xhc3M9J2JveHktdG9wLXJpZ2h0Jz48L3RkPjwvdHI+IiArCiAgICAgICAgICAgICAgICAiPHRyPjx0ZCBjbGFzcz0nYm94eS1sZWZ0Jz48L3RkPjx0ZCBjbGFzcz0nYm94eS1pbm5lcic+PC90ZD48dGQgY2xhc3M9J2JveHktcmlnaHQnPjwvdGQ+PC90cj4iICsKICAgICAgICAgICAgICAgICI8dHI+PHRkIGNsYXNzPSdib3h5LWJvdHRvbS1sZWZ0Jz48L3RkPjx0ZCBjbGFzcz0nYm94eS1ib3R0b20nPjwvdGQ+PHRkIGNsYXNzPSdib3h5LWJvdHRvbS1yaWdodCc+PC90ZD48L3RyPiIgKwogICAgICAgICAgICAgICAgIjwvdGFibGU+IiwKICAgIAogICAgREVGQVVMVFM6IHsKICAgICAgICB0aXRsZTogICAgICAgICAgICAgICAgICBudWxsLCAgICAgICAgICAgLy8gdGl0bGViYXIgdGV4dC4gdGl0bGViYXIgd2lsbCBub3QgYmUgdmlzaWJsZSBpZiBub3Qgc2V0LgogICAgICAgIGNsb3NlYWJsZTogICAgICAgICAgICAgIHRydWUsICAgICAgICAgICAvLyBkaXNwbGF5IGNsb3NlIGxpbmsgaW4gdGl0bGViYXI/CiAgICAgICAgZHJhZ2dhYmxlOiAgICAgICAgICAgICAgdHJ1ZSwgICAgICAgICAgIC8vIGNhbiB0aGlzIGRpYWxvZyBiZSBkcmFnZ2VkPwogICAgICAgIGNsb25lOiAgICAgICAgICAgICAgICAgIGZhbHNlLCAgICAgICAgICAvLyBjbG9uZSBjb250ZW50IHByaW9yIHRvIGluc2VydGlvbiBpbnRvIGRpYWxvZz8KICAgICAgICBhY3R1YXRvcjogICAgICAgICAgICAgICBudWxsLCAgICAgICAgICAgLy8gZWxlbWVudCB3aGljaCBvcGVuZWQgdGhpcyBkaWFsb2cKICAgICAgICBjZW50ZXI6ICAgICAgICAgICAgICAgICB0cnVlLCAgICAgICAgICAgLy8gY2VudGVyIGRpYWxvZyBpbiB2aWV3cG9ydD8KICAgICAgICBzaG93OiAgICAgICAgICAgICAgICAgICB0cnVlLCAgICAgICAgICAgLy8gc2hvdyBkaWFsb2cgaW1tZWRpYXRlbHk/CiAgICAgICAgbW9kYWw6ICAgICAgICAgICAgICAgICAgZmFsc2UsICAgICAgICAgIC8vIG1ha2UgZGlhbG9nIG1vZGFsPwogICAgICAgIGZpeGVkOiAgICAgICAgICAgICAgICAgIHRydWUsICAgICAgICAgICAvLyB1c2UgZml4ZWQgcG9zaXRpb25pbmcsIGlmIHN1cHBvcnRlZD8gYWJzb2x1dGUgcG9zaXRpb25pbmcgdXNlZCBvdGhlcndpc2UKICAgICAgICBjbG9zZVRleHQ6ICAgICAgICAgICAgICAnW2Nsb3NlXScsICAgICAgLy8gdGV4dCB0byB1c2UgZm9yIGRlZmF1bHQgY2xvc2UgbGluawogICAgICAgIHVubG9hZE9uSGlkZTogICAgICAgICAgIGZhbHNlLCAgICAgICAgICAvLyBzaG91bGQgdGhpcyBkaWFsb2cgYmUgcmVtb3ZlZCBmcm9tIHRoZSBET00gYWZ0ZXIgYmVpbmcgaGlkZGVuPwogICAgICAgIGNsaWNrVG9Gcm9udDogICAgICAgICAgIGZhbHNlLCAgICAgICAgICAvLyBicmluZyBkaWFsb2cgdG8gZm9yZWdyb3VuZCBvbiBhbnkgY2xpY2sgKG5vdCBqdXN0IHRpdGxlYmFyKT8KICAgICAgICBiZWhhdmlvdXJzOiAgICAgICAgICAgICBCb3h5LkVGLCAgICAgICAgLy8gZnVuY3Rpb24gdXNlZCB0byBhcHBseSBiZWhhdmlvdXJzIHRvIGFsbCBjb250ZW50IGVtYmVkZGVkIGluIGRpYWxvZy4KICAgICAgICBhZnRlckRyb3A6ICAgICAgICAgICAgICBCb3h5LkVGLCAgICAgICAgLy8gY2FsbGJhY2sgZmlyZWQgYWZ0ZXIgZGlhbG9nIGlzIGRyb3BwZWQuIGV4ZWN1dGVzIGluIGNvbnRleHQgb2YgQm94eSBpbnN0YW5jZS4KICAgICAgICBhZnRlclNob3c6ICAgICAgICAgICAgICBCb3h5LkVGLCAgICAgICAgLy8gY2FsbGJhY2sgZmlyZWQgYWZ0ZXIgZGlhbG9nIGJlY29tZXMgdmlzaWJsZS4gZXhlY3V0ZXMgaW4gY29udGV4dCBvZiBCb3h5IGluc3RhbmNlLgogICAgICAgIGFmdGVySGlkZTogICAgICAgICAgICAgIEJveHkuRUYsICAgICAgICAvLyBjYWxsYmFjayBmaXJlZCBhZnRlciBkaWFsb2cgaXMgaGlkZGVuLiBleGVjdXRlZCBpbiBjb250ZXh0IG9mIEJveHkgaW5zdGFuY2UuCiAgICAgICAgYmVmb3JlVW5sb2FkOiAgICAgICAgICAgQm94eS5FRiwgICAgICAgIC8vIGNhbGxiYWNrIGZpcmVkIGFmdGVyIGRpYWxvZyBpcyB1bmxvYWRlZC4gZXhlY3V0ZWQgaW4gY29udGV4dCBvZiBCb3h5IGluc3RhbmNlLgogICAgICAgIGhpZGVGYWRlOiAgICAgICAgICAgICAgIGZhbHNlLAogICAgICAgIGhpZGVTaHJpbms6ICAgICAgICAgICAgICd2ZXJ0aWNhbCcKICAgIH0sCiAgICAKICAgIElFNjogICAgICAgICAgICAgICAgKGpRdWVyeS5icm93c2VyLm1zaWUgJiYgalF1ZXJ5LmJyb3dzZXIudmVyc2lvbiA8IDcpLAogICAgREVGQVVMVF9YOiAgICAgICAgICA1MCwKICAgIERFRkFVTFRfWTogICAgICAgICAgNTAsCiAgICBNT0RBTF9PUEFDSVRZOiAgICAgIDAuNywKICAgIHpJbmRleDogICAgICAgICAgICAgMTMzNywKICAgIGRyYWdDb25maWd1cmVkOiAgICAgZmFsc2UsIC8vIG9ubHkgc2V0IHVwIG9uZSBkcmFnIGhhbmRsZXIgZm9yIGFsbCBib3h5cwogICAgcmVzaXplQ29uZmlndXJlZDogICBmYWxzZSwKICAgIGRyYWdnaW5nOiAgICAgICAgICAgbnVsbCwKICAgIAogICAgLy8gbG9hZCBhIFVSTCBhbmQgZGlzcGxheSBpbiBib3h5CiAgICAvLyB1cmwgLSB1cmwgdG8gbG9hZAogICAgLy8gb3B0aW9ucyBrZXlzIChhbnkgbm90IGxpc3RlZCBiZWxvdyBhcmUgcGFzc2VkIHRvIGJveHkgY29uc3RydWN0b3IpCiAgICAvLyAgIHR5cGU6IEhUVFAgbWV0aG9kLCBkZWZhdWx0OiBHRVQKICAgIC8vICAgY2FjaGU6IGNhY2hlIHJldHJpZXZlZCBjb250ZW50PyBkZWZhdWx0OiBmYWxzZQogICAgLy8gICBmaWx0ZXI6IGpRdWVyeSBzZWxlY3RvciB1c2VkIHRvIGZpbHRlciByZW1vdGUgY29udGVudAogICAgbG9hZDogZnVuY3Rpb24odXJsLCBvcHRpb25zKSB7CiAgICAgICAgCiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgCiAgICAgICAgdmFyIGFqYXggPSB7CiAgICAgICAgICAgIHVybDogdXJsLCB0eXBlOiAnR0VUJywgZGF0YVR5cGU6ICdodG1sJywgY2FjaGU6IGZhbHNlLCBzdWNjZXNzOiBmdW5jdGlvbihodG1sKSB7CiAgICAgICAgICAgICAgICBodG1sID0galF1ZXJ5KGh0bWwpOwogICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmlsdGVyKSBodG1sID0galF1ZXJ5KG9wdGlvbnMuZmlsdGVyLCBodG1sKTsKICAgICAgICAgICAgICAgIG5ldyBCb3h5KGh0bWwsIG9wdGlvbnMpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICBqUXVlcnkuZWFjaChbJ3R5cGUnLCAnY2FjaGUnXSwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICh0aGlzIGluIG9wdGlvbnMpIHsKICAgICAgICAgICAgICAgIGFqYXhbdGhpc10gPSBvcHRpb25zW3RoaXNdOwogICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbdGhpc107CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBqUXVlcnkuYWpheChhamF4KTsKICAgICAgICAKICAgIH0sCiAgICAKICAgIGxvYWRJbWFnZTogZnVuY3Rpb24odXJsLCBvcHRpb25zKSB7CiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpOwogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgbmV3IEJveHkoJCgnPGRpdiBjbGFzcz0iYm94eS1pbWFnZS13cmFwcGVyIi8+JykuYXBwZW5kKHRoaXMpLCBvcHRpb25zKTsKICAgICAgICB9OwogICAgICAgIGltZy5zcmMgPSB1cmw7CiAgICB9LAogICAgCiAgICAvLyBhbGxvd3MgeW91IHRvIGdldCBhIGhhbmRsZSB0byB0aGUgY29udGFpbmluZyBib3h5IGluc3RhbmNlIG9mIGFueSBlbGVtZW50CiAgICAvLyBlLmcuIDxhIGhyZWY9JyMnIG9uY2xpY2s9J2FsZXJ0KEJveHkuZ2V0KHRoaXMpKTsnPmluc3BlY3QhPC9hPi4KICAgIC8vIHRoaXMgcmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSBib3h5ICdjbGFzcycsIG5vdCBqdXN0IGEgRE9NIGVsZW1lbnQuCiAgICAvLyBCb3h5LmdldCh0aGlzKS5oaWRlKCkgd291bGQgYmUgdmFsaWQsIGZvciBpbnN0YW5jZS4KICAgIGdldDogZnVuY3Rpb24oZWxlKSB7CiAgICAgICAgdmFyIHAgPSBqUXVlcnkoZWxlKS5wYXJlbnRzKCcuYm94eS13cmFwcGVyJyk7CiAgICAgICAgcmV0dXJuIHAubGVuZ3RoID8galF1ZXJ5LmRhdGEocFswXSwgJ2JveHknKSA6IG51bGw7CiAgICB9LAogICAgCiAgICAvLyByZXR1cm5zIHRoZSBib3h5IGluc3RhbmNlIHdoaWNoIGhhcyBiZWVuIGxpbmtlZCB0byBhIGdpdmVuIGVsZW1lbnQgdmlhIHRoZQogICAgLy8gJ2FjdHVhdG9yJyBjb25zdHJ1Y3RvciBvcHRpb24uCiAgICBsaW5rZWRUbzogZnVuY3Rpb24oZWxlKSB7CiAgICAgICAgcmV0dXJuIGpRdWVyeS5kYXRhKGVsZSwgJ2FjdGl2ZS5ib3h5Jyk7CiAgICB9LAogICAgCiAgICAvLyBkaXNwbGF5cyBhbiBhbGVydCBib3ggd2l0aCBhIGdpdmVuIG1lc3NhZ2UsIGNhbGxpbmcgb3B0aW9uYWwgY2FsbGJhY2sKICAgIC8vIGFmdGVyIGRpc21pc3NhbC4KICAgIGFsZXJ0OiBmdW5jdGlvbihtZXNzYWdlLCBjYWxsYmFjaywgb3B0aW9ucykgewogICAgICAgIHJldHVybiBCb3h5LmFzayhtZXNzYWdlLCBbJ09LJ10sIGNhbGxiYWNrLCBvcHRpb25zKTsKICAgIH0sCiAgICAKICAgIC8vIGRpc3BsYXlzIGFuIGFsZXJ0IGJveCB3aXRoIGEgZ2l2ZW4gbWVzc2FnZSwgY2FsbGluZyBhZnRlciBjYWxsYmFjayBpZmYKICAgIC8vIHVzZXIgc2VsZWN0cyBPSy4KICAgIGNvbmZpcm06IGZ1bmN0aW9uKG1lc3NhZ2UsIGFmdGVyLCBvcHRpb25zKSB7CiAgICAgICAgcmV0dXJuIEJveHkuYXNrKG1lc3NhZ2UsIFsnT0snLCAnQ2FuY2VsJ10sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PSAnT0snKSBhZnRlcigpOwogICAgICAgIH0sIG9wdGlvbnMpOwogICAgfSwKICAgIAogICAgLy8gYXNrcyBhIHF1ZXN0aW9uIHdpdGggbXVsdGlwbGUgcmVzcG9uc2VzIHByZXNlbnRlZCBhcyBidXR0b25zCiAgICAvLyBzZWxlY3RlZCBpdGVtIGlzIHJldHVybmVkIHRvIGEgY2FsbGJhY2sgbWV0aG9kLgogICAgLy8gYW5zd2VycyBtYXkgYmUgZWl0aGVyIGFuIGFycmF5IG9yIGEgaGFzaC4gaWYgaXQncyBhbiBhcnJheSwgdGhlCiAgICAvLyB0aGUgY2FsbGJhY2sgd2lsbCByZWNlaXZlZCB0aGUgc2VsZWN0ZWQgdmFsdWUuIGlmIGl0J3MgYSBoYXNoLAogICAgLy8geW91J2xsIGdldCB0aGUgY29ycmVzcG9uZGluZyBrZXkuCiAgICBhc2s6IGZ1bmN0aW9uKHF1ZXN0aW9uLCBhbnN3ZXJzLCBjYWxsYmFjaywgb3B0aW9ucykgewogICAgICAgIAogICAgICAgIG9wdGlvbnMgPSBqUXVlcnkuZXh0ZW5kKHttb2RhbDogdHJ1ZSwgY2xvc2VhYmxlOiBmYWxzZX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyB8fCB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvdzogdHJ1ZSwgdW5sb2FkT25IaWRlOiB0cnVlfSk7CiAgICAgICAgCiAgICAgICAgdmFyIGJvZHkgPSBqUXVlcnkoJzxkaXY+PC9kaXY+JykuYXBwZW5kKGpRdWVyeSgnPGRpdiBjbGFzcz0icXVlc3Rpb24iPjwvZGl2PicpLmh0bWwocXVlc3Rpb24pKTsKICAgIAogICAgICAgIHZhciBidXR0b25zID0galF1ZXJ5KCc8Zm9ybSBjbGFzcz0iYW5zd2VycyI+PC9mb3JtPicpOwogICAgICAgIGJ1dHRvbnMuaHRtbChqUXVlcnkubWFwKEJveHkuX3ZhbHVlcyhhbnN3ZXJzKSwgZnVuY3Rpb24odikgewogICAgICAgICAgICByZXR1cm4gIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSciICsgdiArICInIC8+IjsKICAgICAgICB9KS5qb2luKCcgJykpOwogICAgICAgIAogICAgICAgIGpRdWVyeSgnaW5wdXRbdHlwZT1idXR0b25dJywgYnV0dG9ucykuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBjbGlja2VkID0gdGhpczsKICAgICAgICAgICAgQm94eS5nZXQodGhpcykuaGlkZShmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgewogICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKGFuc3dlcnMsIGZ1bmN0aW9uKGksIHZhbCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09IGNsaWNrZWQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGFuc3dlcnMgaW5zdGFuY2VvZiBBcnJheSA/IHZhbCA6IGkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIGJvZHkuYXBwZW5kKGJ1dHRvbnMpOwogICAgICAgIAogICAgICAgIG5ldyBCb3h5KGJvZHksIG9wdGlvbnMpOwogICAgICAgIAogICAgfSwKICAgIAogICAgLy8gcmV0dXJucyB0cnVlIGlmIGEgbW9kYWwgYm94eSBpcyB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2UKICAgIGlzTW9kYWxWaXNpYmxlOiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4galF1ZXJ5KCcuYm94eS1tb2RhbC1ibGFja291dCcpLmxlbmd0aCA+IDA7CiAgICB9LAogICAgCiAgICBfdTogZnVuY3Rpb24oKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldICE9ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAoKICAgIF92YWx1ZXM6IGZ1bmN0aW9uKHQpIHsKICAgICAgICBpZiAodCBpbnN0YW5jZW9mIEFycmF5KSByZXR1cm4gdDsKICAgICAgICB2YXIgbyA9IFtdOwogICAgICAgIGZvciAodmFyIGsgaW4gdCkgby5wdXNoKHRba10pOwogICAgICAgIHJldHVybiBvOwogICAgfSwKICAgIAogICAgX2hhbmRsZVJlc2l6ZTogZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgalF1ZXJ5KCcuYm94eS1tb2RhbC1ibGFja291dCcpLmNzcygnZGlzcGxheScsICdub25lJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3NzKEJveHkuX2Nzc0Zvck92ZXJsYXkoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7CiAgICB9LAogICAgCiAgICBfaGFuZGxlRHJhZzogZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgdmFyIGQ7CiAgICAgICAgaWYgKGQgPSBCb3h5LmRyYWdnaW5nKSB7CiAgICAgICAgICAgIGRbMF0uYm94eS5jc3Moe2xlZnQ6IGV2dC5wYWdlWCAtIGRbMV0sIHRvcDogZXZ0LnBhZ2VZIC0gZFsyXX0pOwogICAgICAgIH0KICAgIH0sCiAgICAKICAgIF9uZXh0WjogZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIEJveHkuekluZGV4Kys7CiAgICB9LAogICAgCiAgICBfdmlld3BvcnQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBkID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBiID0gZG9jdW1lbnQuYm9keSwgdyA9IHdpbmRvdzsKICAgICAgICByZXR1cm4galF1ZXJ5LmV4dGVuZCgKICAgICAgICAgICAgalF1ZXJ5LmJyb3dzZXIubXNpZSA/CiAgICAgICAgICAgICAgICB7IGxlZnQ6IGIuc2Nyb2xsTGVmdCB8fCBkLnNjcm9sbExlZnQsIHRvcDogYi5zY3JvbGxUb3AgfHwgZC5zY3JvbGxUb3AgfSA6CiAgICAgICAgICAgICAgICB7IGxlZnQ6IHcucGFnZVhPZmZzZXQsIHRvcDogdy5wYWdlWU9mZnNldCB9LAogICAgICAgICAgICAhQm94eS5fdSh3LmlubmVyV2lkdGgpID8KICAgICAgICAgICAgICAgIHsgd2lkdGg6IHcuaW5uZXJXaWR0aCwgaGVpZ2h0OiB3LmlubmVySGVpZ2h0IH0gOgogICAgICAgICAgICAgICAgKCFCb3h5Ll91KGQpICYmICFCb3h5Ll91KGQuY2xpZW50V2lkdGgpICYmIGQuY2xpZW50V2lkdGggIT0gMCA/CiAgICAgICAgICAgICAgICAgICAgeyB3aWR0aDogZC5jbGllbnRXaWR0aCwgaGVpZ2h0OiBkLmNsaWVudEhlaWdodCB9IDoKICAgICAgICAgICAgICAgICAgICB7IHdpZHRoOiBiLmNsaWVudFdpZHRoLCBoZWlnaHQ6IGIuY2xpZW50SGVpZ2h0IH0pICk7CiAgICB9LAogICAgCiAgICBfc2V0dXBNb2RhbFJlc2l6aW5nOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoIUJveHkucmVzaXplQ29uZmlndXJlZCkgewogICAgICAgICAgICB2YXIgdyA9IGpRdWVyeSh3aW5kb3cpLnJlc2l6ZShCb3h5Ll9oYW5kbGVSZXNpemUpOwogICAgICAgICAgICBpZiAoQm94eS5JRTYpIHcuc2Nyb2xsKEJveHkuX2hhbmRsZVJlc2l6ZSk7CiAgICAgICAgICAgIEJveHkucmVzaXplQ29uZmlndXJlZCA9IHRydWU7CiAgICAgICAgfQogICAgfSwKICAgIAogICAgX2Nzc0Zvck92ZXJsYXk6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChCb3h5LklFNikgewogICAgICAgICAgICByZXR1cm4gQm94eS5fdmlld3BvcnQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4ge3dpZHRoOiAnMTAwJScsIGhlaWdodDogalF1ZXJ5KGRvY3VtZW50KS5oZWlnaHQoKX07CiAgICAgICAgfQogICAgfQoKfSk7CgpCb3h5LnByb3RvdHlwZSA9IHsKICAgIAogICAgLy8gUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGlzIGJveHkgaW5zdGFuY2Ugd2l0aG91dCBkaXNwbGF5aW5nIGl0LgogICAgLy8gRG8gbm90IHVzZSB0aGlzIG1ldGhvZCBpZiBib3h5IGlzIGFscmVhZHkgdmlzaWJsZSwgdXNlIGdldFNpemUoKSBpbnN0ZWFkLgogICAgZXN0aW1hdGVTaXplOiBmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLmJveHkuY3NzKHt2aXNpYmlsaXR5OiAnaGlkZGVuJywgZGlzcGxheTogJ2Jsb2NrJ30pOwogICAgICAgIHZhciBkaW1zID0gdGhpcy5nZXRTaXplKCk7CiAgICAgICAgdGhpcy5ib3h5LmNzcygnZGlzcGxheScsICdub25lJykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTsKICAgICAgICByZXR1cm4gZGltczsKICAgIH0sCiAgICAgICAgICAgICAgICAKICAgIC8vIFJldHVybnMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGVudGlyZSBib3h5IGRpYWxvZyBhcyBbd2lkdGgsaGVpZ2h0XQogICAgZ2V0U2l6ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIFt0aGlzLmJveHkud2lkdGgoKSwgdGhpcy5ib3h5LmhlaWdodCgpXTsKICAgIH0sCgogICAgLy8gUmV0dXJucyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgY29udGVudCByZWdpb24gYXMgW3dpZHRoLGhlaWdodF0KICAgIGdldENvbnRlbnRTaXplOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0Q29udGVudCgpOwogICAgICAgIHJldHVybiBbYy53aWR0aCgpLCBjLmhlaWdodCgpXTsKICAgIH0sCiAgICAKICAgIC8vIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoaXMgZGlhbG9nIGFzIFt4LHldCiAgICBnZXRQb3NpdGlvbjogZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGIgPSB0aGlzLmJveHlbMF07CiAgICAgICAgcmV0dXJuIFtiLm9mZnNldExlZnQsIGIub2Zmc2V0VG9wXTsKICAgIH0sCiAgICAKICAgIC8vIFJldHVybnMgdGhlIGNlbnRlciBwb2ludCBvZiB0aGlzIGRpYWxvZyBhcyBbeCx5XQogICAgZ2V0Q2VudGVyOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgcCA9IHRoaXMuZ2V0UG9zaXRpb24oKTsKICAgICAgICB2YXIgcyA9IHRoaXMuZ2V0U2l6ZSgpOwogICAgICAgIHJldHVybiBbTWF0aC5mbG9vcihwWzBdICsgc1swXSAvIDIpLCBNYXRoLmZsb29yKHBbMV0gKyBzWzFdIC8gMildOwogICAgfSwKICAgICAgICAgICAgICAgIAogICAgLy8gUmV0dXJucyBhIGpRdWVyeSBvYmplY3Qgd3JhcHBpbmcgdGhlIGlubmVyIGJveHkgcmVnaW9uLgogICAgLy8gTm90IG11Y2ggcmVhc29uIHRvIHVzZSB0aGlzLCB5b3UncmUgcHJvYmFibHkgbW9yZSBpbnRlcmVzdGVkIGluIGdldENvbnRlbnQoKQogICAgZ2V0SW5uZXI6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBqUXVlcnkoJy5ib3h5LWlubmVyJywgdGhpcy5ib3h5KTsKICAgIH0sCiAgICAKICAgIC8vIFJldHVybnMgYSBqUXVlcnkgb2JqZWN0IHdyYXBwaW5nIHRoZSBib3h5IGNvbnRlbnQgcmVnaW9uLgogICAgLy8gVGhpcyBpcyB0aGUgdXNlci1lZGl0YWJsZSBjb250ZW50IGFyZWEgKGkuZS4gZXhjbHVkZXMgdGl0bGViYXIpCiAgICBnZXRDb250ZW50OiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4galF1ZXJ5KCcuYm94eS1jb250ZW50JywgdGhpcy5ib3h5KTsKICAgIH0sCiAgICAKICAgIC8vIFJlcGxhY2UgZGlhbG9nIGNvbnRlbnQKICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uKG5ld0NvbnRlbnQpIHsKICAgICAgICBuZXdDb250ZW50ID0galF1ZXJ5KG5ld0NvbnRlbnQpLmNzcyh7ZGlzcGxheTogJ2Jsb2NrJ30pLmFkZENsYXNzKCdib3h5LWNvbnRlbnQnKTsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsb25lKSBuZXdDb250ZW50ID0gbmV3Q29udGVudC5jbG9uZSh0cnVlKTsKICAgICAgICB0aGlzLmdldENvbnRlbnQoKS5yZW1vdmUoKTsKICAgICAgICB0aGlzLmdldElubmVyKCkuYXBwZW5kKG5ld0NvbnRlbnQpOwogICAgICAgIHRoaXMuX3NldHVwRGVmYXVsdEJlaGF2aW91cnMobmV3Q29udGVudCk7CiAgICAgICAgdGhpcy5vcHRpb25zLmJlaGF2aW91cnMuY2FsbCh0aGlzLCBuZXdDb250ZW50KTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICAKICAgIC8vIE1vdmUgdGhpcyBkaWFsb2cgdG8gc29tZSBwb3NpdGlvbiwgZnVubmlseSBlbm91Z2gKICAgIG1vdmVUbzogZnVuY3Rpb24oeCwgeSkgewogICAgICAgIHRoaXMubW92ZVRvWCh4KS5tb3ZlVG9ZKHkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIAogICAgLy8gTW92ZSB0aGlzIGRpYWxvZyAoeC1jb29yZCBvbmx5KQogICAgbW92ZVRvWDogZnVuY3Rpb24oeCkgewogICAgICAgIGlmICh0eXBlb2YgeCA9PSAnbnVtYmVyJykgdGhpcy5ib3h5LmNzcyh7bGVmdDogeH0pOwogICAgICAgIGVsc2UgdGhpcy5jZW50ZXJYKCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgCiAgICAvLyBNb3ZlIHRoaXMgZGlhbG9nICh5LWNvb3JkIG9ubHkpCiAgICBtb3ZlVG9ZOiBmdW5jdGlvbih5KSB7CiAgICAgICAgaWYgKHR5cGVvZiB5ID09ICdudW1iZXInKSB0aGlzLmJveHkuY3NzKHt0b3A6IHl9KTsKICAgICAgICBlbHNlIHRoaXMuY2VudGVyWSgpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIAogICAgLy8gTW92ZSB0aGlzIGRpYWxvZyBzbyB0aGF0IGl0IGlzIGNlbnRlcmVkIGF0ICh4LHkpCiAgICBjZW50ZXJBdDogZnVuY3Rpb24oeCwgeSkgewogICAgICAgIHZhciBzID0gdGhpc1t0aGlzLnZpc2libGUgPyAnZ2V0U2l6ZScgOiAnZXN0aW1hdGVTaXplJ10oKTsKICAgICAgICBpZiAodHlwZW9mIHggPT0gJ251bWJlcicpIHRoaXMubW92ZVRvWCh4IC0gc1swXSAvIDIpOwogICAgICAgIGlmICh0eXBlb2YgeSA9PSAnbnVtYmVyJykgdGhpcy5tb3ZlVG9ZKHkgLSBzWzFdIC8gMik7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgCiAgICBjZW50ZXJBdFg6IGZ1bmN0aW9uKHgpIHsKICAgICAgICByZXR1cm4gdGhpcy5jZW50ZXJBdCh4LCBudWxsKTsKICAgIH0sCiAgICAKICAgIGNlbnRlckF0WTogZnVuY3Rpb24oeSkgewogICAgICAgIHJldHVybiB0aGlzLmNlbnRlckF0KG51bGwsIHkpOwogICAgfSwKICAgIAogICAgLy8gQ2VudGVyIHRoaXMgZGlhbG9nIGluIHRoZSB2aWV3cG9ydAogICAgLy8gYXhpcyBpcyBvcHRpb25hbCwgY2FuIGJlICd4JywgJ3knLgogICAgY2VudGVyOiBmdW5jdGlvbihheGlzKSB7CiAgICAgICAgdmFyIHYgPSBCb3h5Ll92aWV3cG9ydCgpOwogICAgICAgIHZhciBvID0gdGhpcy5vcHRpb25zLmZpeGVkID8gWzAsIDBdIDogW3YubGVmdCwgdi50b3BdOwogICAgICAgIGlmICghYXhpcyB8fCBheGlzID09ICd4JykgdGhpcy5jZW50ZXJBdChvWzBdICsgdi53aWR0aCAvIDIsIG51bGwpOwogICAgICAgIGlmICghYXhpcyB8fCBheGlzID09ICd5JykgdGhpcy5jZW50ZXJBdChudWxsLCBvWzFdICsgdi5oZWlnaHQgLyAyKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICAKICAgIC8vIENlbnRlciB0aGlzIGRpYWxvZyBpbiB0aGUgdmlld3BvcnQgKHgtY29vcmQgb25seSkKICAgIGNlbnRlclg6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmNlbnRlcigneCcpOwogICAgfSwKICAgIAogICAgLy8gQ2VudGVyIHRoaXMgZGlhbG9nIGluIHRoZSB2aWV3cG9ydCAoeS1jb29yZCBvbmx5KQogICAgY2VudGVyWTogZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY2VudGVyKCd5Jyk7CiAgICB9LAogICAgCiAgICAvLyBSZXNpemUgdGhlIGNvbnRlbnQgcmVnaW9uIHRvIGEgc3BlY2lmaWMgc2l6ZQogICAgcmVzaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBhZnRlcikgewogICAgICAgIGlmICghdGhpcy52aXNpYmxlKSByZXR1cm47CiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuX2dldEJvdW5kc0ZvclJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgICB0aGlzLmJveHkuY3NzKHtsZWZ0OiBib3VuZHNbMF0sIHRvcDogYm91bmRzWzFdfSk7CiAgICAgICAgdGhpcy5nZXRDb250ZW50KCkuY3NzKHt3aWR0aDogYm91bmRzWzJdLCBoZWlnaHQ6IGJvdW5kc1szXX0pOwogICAgICAgIGlmIChhZnRlcikgYWZ0ZXIodGhpcyk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgCiAgICAvLyBUd2VlbiB0aGUgY29udGVudCByZWdpb24gdG8gYSBzcGVjaWZpYyBzaXplCiAgICB0d2VlbjogZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgYWZ0ZXIpIHsKICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSkgcmV0dXJuOwogICAgICAgIHZhciBib3VuZHMgPSB0aGlzLl9nZXRCb3VuZHNGb3JSZXNpemUod2lkdGgsIGhlaWdodCk7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIHRoaXMuYm94eS5zdG9wKCkuYW5pbWF0ZSh7bGVmdDogYm91bmRzWzBdLCB0b3A6IGJvdW5kc1sxXX0pOwogICAgICAgIHRoaXMuZ2V0Q29udGVudCgpLnN0b3AoKS5hbmltYXRlKHt3aWR0aDogYm91bmRzWzJdLCBoZWlnaHQ6IGJvdW5kc1szXX0sIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoYWZ0ZXIpIGFmdGVyKHNlbGYpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIAogICAgLy8gUmV0dXJucyB0cnVlIGlmIHRoaXMgZGlhbG9nIGlzIHZpc2libGUsIGZhbHNlIG90aGVyd2lzZQogICAgaXNWaXNpYmxlOiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy52aXNpYmxlOyAgICAKICAgIH0sCiAgICAKICAgIC8vIE1ha2UgdGhpcyBib3h5IGluc3RhbmNlIHZpc2libGUKICAgIHNob3c6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICh0aGlzLnZpc2libGUpIHJldHVybjsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1vZGFsKSB7CiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICAgICAgQm94eS5fc2V0dXBNb2RhbFJlc2l6aW5nKCk7CiAgICAgICAgICAgIHRoaXMubW9kYWxCbGFja291dCA9IGpRdWVyeSgnPGRpdiBjbGFzcz0iYm94eS1tb2RhbC1ibGFja291dCI+PC9kaXY+JykKICAgICAgICAgICAgICAgIC5jc3MoalF1ZXJ5LmV4dGVuZChCb3h5Ll9jc3NGb3JPdmVybGF5KCksIHsKICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IEJveHkuX25leHRaKCksIG9wYWNpdHk6IEJveHkuTU9EQUxfT1BBQ0lUWQogICAgICAgICAgICAgICAgfSkpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpOwogICAgICAgICAgICB0aGlzLnRvVG9wKCk7CiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VhYmxlKSB7CiAgICAgICAgICAgICAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkuYmluZCgna2V5cHJlc3MuYm94eScsIGZ1bmN0aW9uKGV2dCkgewogICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBldnQud2hpY2ggfHwgZXZ0LmtleUNvZGU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSAyNykgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGRvY3VtZW50LmJvZHkpLnVuYmluZCgna2V5cHJlc3MuYm94eScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoJCXRoaXMuZ2V0SW5uZXIoKS5zdG9wKCkuY3NzKHt3aWR0aDogJycsIGhlaWdodDogJyd9KTsKICAgICAgICB0aGlzLmJveHkuc3RvcCgpLmNzcyh7b3BhY2l0eTogMX0pLnNob3coKTsKICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgICAgIHRoaXMuYm94eS5maW5kKCcuY2xvc2U6Zmlyc3QnKS5mb2N1cygpOwogICAgICAgIHRoaXMuX2ZpcmUoJ2FmdGVyU2hvdycpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIAogICAgLy8gSGlkZSB0aGlzIGJveHkgaW5zdGFuY2UKICAgIGhpZGU6IGZ1bmN0aW9uKGFmdGVyKSB7CiAgICAgICAgCgkJaWYgKCF0aGlzLnZpc2libGUpIHJldHVybjsKICAgICAgICAKCQl2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgCgkJaWYgKHRoaXMub3B0aW9ucy5tb2RhbCkgewogICAgICAgICAgICBqUXVlcnkoZG9jdW1lbnQuYm9keSkudW5iaW5kKCdrZXlwcmVzcy5ib3h5Jyk7CiAgICAgICAgICAgIHRoaXMubW9kYWxCbGFja291dC5hbmltYXRlKHtvcGFjaXR5OiAwfSwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykucmVtb3ZlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCQkKCQl2YXIgdGFyZ2V0ID0geyBib3h5OiB7fSwgaW5uZXI6IHt9IH0sCgkJCXR3ZWVuID0gMCwKCQkJaGlkZUNvbXBsZXRlID0gZnVuY3Rpb24oKSB7CgkJCQlzZWxmLmJveHkuY3NzKHtkaXNwbGF5OiAnbm9uZSd9KTsKCQkJCXNlbGYudmlzaWJsZSA9IGZhbHNlOwoJCQkJc2VsZi5fZmlyZSgnYWZ0ZXJIaWRlJyk7CgkJCQlpZiAoYWZ0ZXIpIGFmdGVyKHNlbGYpOwoJCQkJaWYgKHNlbGYub3B0aW9ucy51bmxvYWRPbkhpZGUpIHNlbGYudW5sb2FkKCk7CgkJCX07CgkJCgkJaWYgKHRoaXMub3B0aW9ucy5oaWRlU2hyaW5rKSB7CgkJCXZhciBpbm5lciA9IHRoaXMuZ2V0SW5uZXIoKSwgaHMgPSB0aGlzLm9wdGlvbnMuaGlkZVNocmluaywgcG9zID0gdGhpcy5nZXRQb3NpdGlvbigpOwoJCQl0d2VlbiB8PSAxOwoJCQlpZiAoaHMgPT09IHRydWUgfHwgaHMgPT0gJ3ZlcnRpY2FsJykgewoJCQkJdGFyZ2V0LmlubmVyLmhlaWdodCA9IDA7CgkJCQl0YXJnZXQuYm94eS50b3AgPSBwb3NbMV0gKyBpbm5lci5oZWlnaHQoKSAvIDI7CgkJCX0KCQkJaWYgKGhzID09PSB0cnVlIHx8IGhzID09ICdob3Jpem9udGFsJykgewoJCQkJdGFyZ2V0LmlubmVyLndpZHRoID0gMDsKCQkJCXRhcmdldC5ib3h5LmxlZnQgPSBwb3NbMF0gKyBpbm5lci53aWR0aCgpIC8gMjsKCQkJfQoJCX0KCQkKCQlpZiAodGhpcy5vcHRpb25zLmhpZGVGYWRlKSB7CgkJCXR3ZWVuIHw9IDI7CgkJCXRhcmdldC5ib3h5Lm9wYWNpdHkgPSAwOwoJCX0KCQkKCQlpZiAodHdlZW4pIHsKCQkJaWYgKHR3ZWVuICYgMSkgaW5uZXIuc3RvcCgpLmFuaW1hdGUodGFyZ2V0LmlubmVyLCAzMDApOwoJCQl0aGlzLmJveHkuc3RvcCgpLmFuaW1hdGUodGFyZ2V0LmJveHksIDMwMCwgaGlkZUNvbXBsZXRlKTsKCQl9IGVsc2UgewoJCQloaWRlQ29tcGxldGUoKTsKCQl9CgkJCgkJcmV0dXJuIHRoaXM7CgkKCX0sCiAgICAKICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpc1t0aGlzLnZpc2libGUgPyAnaGlkZScgOiAnc2hvdyddKCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgCiAgICBoaWRlQW5kVW5sb2FkOiBmdW5jdGlvbihhZnRlcikgewogICAgICAgIHRoaXMub3B0aW9ucy51bmxvYWRPbkhpZGUgPSB0cnVlOwogICAgICAgIHRoaXMuaGlkZShhZnRlcik7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgCiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuX2ZpcmUoJ2JlZm9yZVVubG9hZCcpOwogICAgICAgIHRoaXMuYm94eS5yZW1vdmUoKTsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFjdHVhdG9yKSB7CiAgICAgICAgICAgIGpRdWVyeS5kYXRhKHRoaXMub3B0aW9ucy5hY3R1YXRvciwgJ2FjdGl2ZS5ib3h5JywgZmFsc2UpOwogICAgICAgIH0KICAgIH0sCiAgICAKICAgIC8vIE1vdmUgdGhpcyBkaWFsb2cgYm94IGFib3ZlIGFsbCBvdGhlciBib3h5IGluc3RhbmNlcwogICAgdG9Ub3A6IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuYm94eS5jc3Moe3pJbmRleDogQm94eS5fbmV4dFooKX0pOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIAogICAgLy8gUmV0dXJucyB0aGUgdGl0bGUgb2YgdGhpcyBkaWFsb2cKICAgIGdldFRpdGxlOiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4galF1ZXJ5KCc+IC50aXRsZS1iYXIgaDInLCB0aGlzLmdldElubmVyKCkpLmh0bWwoKTsKICAgIH0sCiAgICAKICAgIC8vIFNldHMgdGhlIHRpdGxlIG9mIHRoaXMgZGlhbG9nCiAgICBzZXRUaXRsZTogZnVuY3Rpb24odCkgewogICAgICAgIGpRdWVyeSgnPiAudGl0bGUtYmFyIGgyJywgdGhpcy5nZXRJbm5lcigpKS5odG1sKHQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIAogICAgLy8KICAgIC8vIERvbid0IHRvdWNoIHRoZXNlIHByaXZhdGVzCiAgICAKICAgIF9nZXRCb3VuZHNGb3JSZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICB2YXIgY3NpemUgPSB0aGlzLmdldENvbnRlbnRTaXplKCk7CiAgICAgICAgdmFyIGRlbHRhID0gW3dpZHRoIC0gY3NpemVbMF0sIGhlaWdodCAtIGNzaXplWzFdXTsKICAgICAgICB2YXIgcCA9IHRoaXMuZ2V0UG9zaXRpb24oKTsKICAgICAgICByZXR1cm4gW01hdGgubWF4KHBbMF0gLSBkZWx0YVswXSAvIDIsIDApLAogICAgICAgICAgICAgICAgTWF0aC5tYXgocFsxXSAtIGRlbHRhWzFdIC8gMiwgMCksIHdpZHRoLCBoZWlnaHRdOwogICAgfSwKICAgIAogICAgX3NldHVwVGl0bGVCYXI6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGl0bGUpIHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICB2YXIgdGIgPSBqUXVlcnkoIjxkaXYgY2xhc3M9J3RpdGxlLWJhcic+PC9kaXY+IikuaHRtbCgiPGgyPiIgKyB0aGlzLm9wdGlvbnMudGl0bGUgKyAiPC9oMj4iKTsKICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZWFibGUpIHsKICAgICAgICAgICAgICAgIHRiLmFwcGVuZChqUXVlcnkoIjxhIGhyZWY9JyMnIGNsYXNzPSdjbG9zZSc+PC9hPiIpLmh0bWwodGhpcy5vcHRpb25zLmNsb3NlVGV4dCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKSB7CiAgICAgICAgICAgICAgICB0YlswXS5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTsKICAgICAgICAgICAgICAgIHRiWzBdLnVuc2VsZWN0YWJsZSA9ICdvbic7CiAgICAgICAgICAgICAgICB0YlswXS5zdHlsZS5Nb3pVc2VyU2VsZWN0ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgaWYgKCFCb3h5LmRyYWdDb25maWd1cmVkKSB7CiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS5tb3VzZW1vdmUoQm94eS5faGFuZGxlRHJhZyk7CiAgICAgICAgICAgICAgICAgICAgQm94eS5kcmFnQ29uZmlndXJlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0Yi5tb3VzZWRvd24oZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi50b1RvcCgpOwogICAgICAgICAgICAgICAgICAgIEJveHkuZHJhZ2dpbmcgPSBbc2VsZiwgZXZ0LnBhZ2VYIC0gc2VsZi5ib3h5WzBdLm9mZnNldExlZnQsIGV2dC5wYWdlWSAtIHNlbGYuYm94eVswXS5vZmZzZXRUb3BdOwogICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5hZGRDbGFzcygnZHJhZ2dpbmcnKTsKICAgICAgICAgICAgICAgIH0pLm1vdXNldXAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpOwogICAgICAgICAgICAgICAgICAgIEJveHkuZHJhZ2dpbmcgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIHNlbGYuX2ZpcmUoJ2FmdGVyRHJvcCcpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5nZXRJbm5lcigpLnByZXBlbmQodGIpOwogICAgICAgICAgICB0aGlzLl9zZXR1cERlZmF1bHRCZWhhdmlvdXJzKHRiKTsKICAgICAgICB9CiAgICB9LAogICAgCiAgICBfc2V0dXBEZWZhdWx0QmVoYXZpb3VyczogZnVuY3Rpb24ocm9vdCkgewogICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsaWNrVG9Gcm9udCkgewogICAgICAgICAgICByb290LmNsaWNrKGZ1bmN0aW9uKCkgeyBzZWxmLnRvVG9wKCk7IH0pOwogICAgICAgIH0KICAgICAgICBqUXVlcnkoJy5jbG9zZScsIHJvb3QpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZWxmLmhpZGUoKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0pLm1vdXNlZG93bihmdW5jdGlvbihldnQpIHsgZXZ0LnN0b3BQcm9wYWdhdGlvbigpOyB9KTsKICAgIH0sCiAgICAKICAgIF9maXJlOiBmdW5jdGlvbihldmVudCkgewogICAgICAgIHRoaXMub3B0aW9uc1tldmVudF0uY2FsbCh0aGlzKTsKICAgIH0KICAgIAp9OwoK]]></Resource>
    <Resource ID="b67cfe82-a508-63ba-37ca-6c27d82c5112" Name="jquery_UI" Type="js"><![CDATA[LyogalF1ZXJ5IFVJIGNvcmUgMS44LjEwICovCihmdW5jdGlvbihjLGope2Z1bmN0aW9uIGsoYSl7cmV0dXJuIWMoYSkucGFyZW50cygpLmFuZFNlbGYoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYy5jdXJDU1ModGhpcywidmlzaWJpbGl0eSIpPT09ImhpZGRlbiJ8fGMuZXhwci5maWx0ZXJzLmhpZGRlbih0aGlzKX0pLmxlbmd0aH1jLnVpPWMudWl8fHt9O2lmKCFjLnVpLnZlcnNpb24pe2MuZXh0ZW5kKGMudWkse3ZlcnNpb246IjEuOC4xMCIsa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsCk5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTSElGVDoxNixTUEFDRTozMixUQUI6OSxVUDozOCxXSU5ET1dTOjkxfX0pO2MuZm4uZXh0ZW5kKHtfZm9jdXM6Yy5mbi5mb2N1cyxmb2N1czpmdW5jdGlvbihhLGIpe3JldHVybiB0eXBlb2YgYT09PSJudW1iZXIiP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2MoZCkuZm9jdXMoKTtiJiZiLmNhbGwoZCl9LGEpfSk6dGhpcy5fZm9jdXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgYTthPWMuYnJvd3Nlci5tc2llJiYvKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpP3RoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8ocmVsYXRpdmV8YWJzb2x1dGV8Zml4ZWQpLy50ZXN0KGMuY3VyQ1NTKHRoaXMsCiJwb3NpdGlvbiIsMSkpJiYvKGF1dG98c2Nyb2xsKS8udGVzdChjLmN1ckNTUyh0aGlzLCJvdmVyZmxvdyIsMSkrYy5jdXJDU1ModGhpcywib3ZlcmZsb3cteSIsMSkrYy5jdXJDU1ModGhpcywib3ZlcmZsb3cteCIsMSkpfSkuZXEoMCk6dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhhdXRvfHNjcm9sbCkvLnRlc3QoYy5jdXJDU1ModGhpcywib3ZlcmZsb3ciLDEpK2MuY3VyQ1NTKHRoaXMsIm92ZXJmbG93LXkiLDEpK2MuY3VyQ1NTKHRoaXMsIm92ZXJmbG93LXgiLDEpKX0pLmVxKDApO3JldHVybi9maXhlZC8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSl8fCFhLmxlbmd0aD9jKGRvY3VtZW50KTphfSx6SW5kZXg6ZnVuY3Rpb24oYSl7aWYoYSE9PWopcmV0dXJuIHRoaXMuY3NzKCJ6SW5kZXgiLGEpO2lmKHRoaXMubGVuZ3RoKXthPWModGhpc1swXSk7Zm9yKHZhciBiO2EubGVuZ3RoJiZhWzBdIT09ZG9jdW1lbnQ7KXtiPWEuY3NzKCJwb3NpdGlvbiIpOwppZihiPT09ImFic29sdXRlInx8Yj09PSJyZWxhdGl2ZSJ8fGI9PT0iZml4ZWQiKXtiPXBhcnNlSW50KGEuY3NzKCJ6SW5kZXgiKSwxMCk7aWYoIWlzTmFOKGIpJiZiIT09MClyZXR1cm4gYn1hPWEucGFyZW50KCl9fXJldHVybiAwfSxkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZCgoYy5zdXBwb3J0LnNlbGVjdHN0YXJ0PyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIpKyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSl9LGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZCgiLnVpLWRpc2FibGVTZWxlY3Rpb24iKX19KTtjLmVhY2goWyJXaWR0aCIsIkhlaWdodCJdLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChmLGcsbCxtKXtjLmVhY2goZSxmdW5jdGlvbigpe2ctPXBhcnNlRmxvYXQoYy5jdXJDU1MoZiwicGFkZGluZyIrdGhpcyx0cnVlKSl8fDA7aWYobClnLT1wYXJzZUZsb2F0KGMuY3VyQ1NTKGYsCiJib3JkZXIiK3RoaXMrIldpZHRoIix0cnVlKSl8fDA7aWYobSlnLT1wYXJzZUZsb2F0KGMuY3VyQ1NTKGYsIm1hcmdpbiIrdGhpcyx0cnVlKSl8fDB9KTtyZXR1cm4gZ312YXIgZT1iPT09IldpZHRoIj9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0saD1iLnRvTG93ZXJDYXNlKCksaT17aW5uZXJXaWR0aDpjLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6Yy5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOmMuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDpjLmZuLm91dGVySGVpZ2h0fTtjLmZuWyJpbm5lciIrYl09ZnVuY3Rpb24oZil7aWYoZj09PWopcmV0dXJuIGlbImlubmVyIitiXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjKHRoaXMpLmNzcyhoLGQodGhpcyxmKSsicHgiKX0pfTtjLmZuWyJvdXRlciIrYl09ZnVuY3Rpb24oZixnKXtpZih0eXBlb2YgZiE9PSJudW1iZXIiKXJldHVybiBpWyJvdXRlciIrYl0uY2FsbCh0aGlzLGYpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjKHRoaXMpLmNzcyhoLApkKHRoaXMsZix0cnVlLGcpKyJweCIpfSl9fSk7Yy5leHRlbmQoYy5leHByWyI6Il0se2RhdGE6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiEhYy5kYXRhKGEsZFszXSl9LGZvY3VzYWJsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZD1jLmF0dHIoYSwidGFiaW5kZXgiKTtpZigiYXJlYSI9PT1iKXtiPWEucGFyZW50Tm9kZTtkPWIubmFtZTtpZighYS5ocmVmfHwhZHx8Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im1hcCIpcmV0dXJuIGZhbHNlO2E9YygiaW1nW3VzZW1hcD0jIitkKyJdIilbMF07cmV0dXJuISFhJiZrKGEpfXJldHVybigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoYik/IWEuZGlzYWJsZWQ6ImEiPT1iP2EuaHJlZnx8IWlzTmFOKGQpOiFpc05hTihkKSkmJmsoYSl9LHRhYmJhYmxlOmZ1bmN0aW9uKGEpe3ZhciBiPWMuYXR0cihhLCJ0YWJpbmRleCIpO3JldHVybihpc05hTihiKXx8Yj49MCkmJmMoYSkuaXMoIjpmb2N1c2FibGUiKX19KTsKYyhmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmJvZHksYj1hLmFwcGVuZENoaWxkKGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2MuZXh0ZW5kKGIuc3R5bGUse21pbkhlaWdodDoiMTAwcHgiLGhlaWdodDoiYXV0byIscGFkZGluZzowLGJvcmRlcldpZHRoOjB9KTtjLnN1cHBvcnQubWluSGVpZ2h0PWIub2Zmc2V0SGVpZ2h0PT09MTAwO2Muc3VwcG9ydC5zZWxlY3RzdGFydD0ib25zZWxlY3RzdGFydCJpbiBiO2EucmVtb3ZlQ2hpbGQoYikuc3R5bGUuZGlzcGxheT0ibm9uZSJ9KTtjLmV4dGVuZChjLnVpLHtwbHVnaW46e2FkZDpmdW5jdGlvbihhLGIsZCl7YT1jLnVpW2FdLnByb3RvdHlwZTtmb3IodmFyIGUgaW4gZCl7YS5wbHVnaW5zW2VdPWEucGx1Z2luc1tlXXx8W107YS5wbHVnaW5zW2VdLnB1c2goW2IsZFtlXV0pfX0sY2FsbDpmdW5jdGlvbihhLGIsZCl7aWYoKGI9YS5wbHVnaW5zW2JdKSYmYS5lbGVtZW50WzBdLnBhcmVudE5vZGUpZm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspYS5vcHRpb25zW2JbZV1bMF1dJiYKYltlXVsxXS5hcHBseShhLmVsZW1lbnQsZCl9fSxjb250YWluczpmdW5jdGlvbihhLGIpe3JldHVybiBkb2N1bWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjE2OmEhPT1iJiZhLmNvbnRhaW5zKGIpfSxoYXNTY3JvbGw6ZnVuY3Rpb24oYSxiKXtpZihjKGEpLmNzcygib3ZlcmZsb3ciKT09PSJoaWRkZW4iKXJldHVybiBmYWxzZTtiPWImJmI9PT0ibGVmdCI/InNjcm9sbExlZnQiOiJzY3JvbGxUb3AiO3ZhciBkPWZhbHNlO2lmKGFbYl0+MClyZXR1cm4gdHJ1ZTthW2JdPTE7ZD1hW2JdPjA7YVtiXT0wO3JldHVybiBkfSxpc092ZXJBeGlzOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYT5iJiZhPGIrZH0saXNPdmVyOmZ1bmN0aW9uKGEsYixkLGUsaCxpKXtyZXR1cm4gYy51aS5pc092ZXJBeGlzKGEsZCxoKSYmYy51aS5pc092ZXJBeGlzKGIsZSxpKX19KX19KShqUXVlcnkpOwovKiBVSSBXaWRnZXQqLwooZnVuY3Rpb24oYixqKXtpZihiLmNsZWFuRGF0YSl7dmFyIGs9Yi5jbGVhbkRhdGE7Yi5jbGVhbkRhdGE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTAsZDsoZD1hW2NdKSE9bnVsbDtjKyspYihkKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIik7ayhhKX19ZWxzZXt2YXIgbD1iLmZuLnJlbW92ZTtiLmZuLnJlbW92ZT1mdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZighYylpZighYXx8Yi5maWx0ZXIoYSxbdGhpc10pLmxlbmd0aCliKCIqIix0aGlzKS5hZGQoW3RoaXNdKS5lYWNoKGZ1bmN0aW9uKCl7Yih0aGlzKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9KTtyZXR1cm4gbC5jYWxsKGIodGhpcyksYSxjKX0pfX1iLndpZGdldD1mdW5jdGlvbihhLGMsZCl7dmFyIGU9YS5zcGxpdCgiLiIpWzBdLGY7YT1hLnNwbGl0KCIuIilbMV07Zj1lKyItIithO2lmKCFkKXtkPWM7Yz1iLldpZGdldH1iLmV4cHJbIjoiXVtmXT1mdW5jdGlvbihoKXtyZXR1cm4hIWIuZGF0YShoLAphKX07YltlXT1iW2VdfHx7fTtiW2VdW2FdPWZ1bmN0aW9uKGgsZyl7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGgsZyl9O2M9bmV3IGM7Yy5vcHRpb25zPWIuZXh0ZW5kKHRydWUse30sYy5vcHRpb25zKTtiW2VdW2FdLnByb3RvdHlwZT1iLmV4dGVuZCh0cnVlLGMse25hbWVzcGFjZTplLHdpZGdldE5hbWU6YSx3aWRnZXRFdmVudFByZWZpeDpiW2VdW2FdLnByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeHx8YSx3aWRnZXRCYXNlQ2xhc3M6Zn0sZCk7Yi53aWRnZXQuYnJpZGdlKGEsYltlXVthXSl9O2Iud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihhLGMpe2IuZm5bYV09ZnVuY3Rpb24oZCl7dmFyIGU9dHlwZW9mIGQ9PT0ic3RyaW5nIixmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxoPXRoaXM7ZD0hZSYmZi5sZW5ndGg/Yi5leHRlbmQuYXBwbHkobnVsbCxbdHJ1ZSxkXS5jb25jYXQoZikpOmQ7aWYoZSYmZC5jaGFyQXQoMCk9PT0iXyIpcmV0dXJuIGg7CmU/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9Yi5kYXRhKHRoaXMsYSksaT1nJiZiLmlzRnVuY3Rpb24oZ1tkXSk/Z1tkXS5hcHBseShnLGYpOmc7aWYoaSE9PWcmJmkhPT1qKXtoPWk7cmV0dXJuIGZhbHNlfX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBnPWIuZGF0YSh0aGlzLGEpO2c/Zy5vcHRpb24oZHx8e30pLl9pbml0KCk6Yi5kYXRhKHRoaXMsYSxuZXcgYyhkLHRoaXMpKX0pO3JldHVybiBofX07Yi5XaWRnZXQ9ZnVuY3Rpb24oYSxjKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxjKX07Yi5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLG9wdGlvbnM6e2Rpc2FibGVkOmZhbHNlfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGEsYyl7Yi5kYXRhKGMsdGhpcy53aWRnZXROYW1lLHRoaXMpO3RoaXMuZWxlbWVudD1iKGMpO3RoaXMub3B0aW9ucz1iLmV4dGVuZCh0cnVlLHt9LHRoaXMub3B0aW9ucywKdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGEpO3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmJpbmQoInJlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2QuZGVzdHJveSgpfSk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcigiY3JlYXRlIik7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybiBiLm1ldGFkYXRhJiZiLm1ldGFkYXRhLmdldCh0aGlzLmVsZW1lbnRbMF0pW3RoaXMud2lkZ2V0TmFtZV19LF9jcmVhdGU6ZnVuY3Rpb24oKXt9LF9pbml0OmZ1bmN0aW9uKCl7fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSk7dGhpcy53aWRnZXQoKS51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKX0sCndpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihhLGMpe3ZhciBkPWE7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIGIuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYodHlwZW9mIGE9PT0ic3RyaW5nIil7aWYoYz09PWopcmV0dXJuIHRoaXMub3B0aW9uc1thXTtkPXt9O2RbYV09Y310aGlzLl9zZXRPcHRpb25zKGQpO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYz10aGlzO2IuZWFjaChhLGZ1bmN0aW9uKGQsZSl7Yy5fc2V0T3B0aW9uKGQsZSl9KTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGMpe3RoaXMub3B0aW9uc1thXT1jO2lmKGE9PT0iZGlzYWJsZWQiKXRoaXMud2lkZ2V0KClbYz8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixjKTtyZXR1cm4gdGhpc30sCmVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT10aGlzLm9wdGlvbnNbYV07Yz1iLkV2ZW50KGMpO2MudHlwZT0oYT09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/YTp0aGlzLndpZGdldEV2ZW50UHJlZml4K2EpLnRvTG93ZXJDYXNlKCk7ZD1kfHx7fTtpZihjLm9yaWdpbmFsRXZlbnQpe2E9Yi5ldmVudC5wcm9wcy5sZW5ndGg7Zm9yKHZhciBmO2E7KXtmPWIuZXZlbnQucHJvcHNbLS1hXTtjW2ZdPWMub3JpZ2luYWxFdmVudFtmXX19dGhpcy5lbGVtZW50LnRyaWdnZXIoYyxkKTtyZXR1cm4hKGIuaXNGdW5jdGlvbihlKSYmZS5jYWxsKHRoaXMuZWxlbWVudFswXSxjLGQpPT09ZmFsc2V8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX19KShqUXVlcnkpOwovKiBVSSBNb3VzZSAqLwooZnVuY3Rpb24oYyl7Yy53aWRnZXQoInVpLm1vdXNlIix7b3B0aW9uczp7Y2FuY2VsOiI6aW5wdXQsb3B0aW9uIixkaXN0YW5jZToxLGRlbGF5OjB9LF9tb3VzZUluaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZWxlbWVudC5iaW5kKCJtb3VzZWRvd24uIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24oYil7cmV0dXJuIGEuX21vdXNlRG93bihiKX0pLmJpbmQoImNsaWNrLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKGIpe2lmKHRydWU9PT1jLmRhdGEoYi50YXJnZXQsYS53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSl7Yy5yZW1vdmVEYXRhKGIudGFyZ2V0LGEud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50Iik7Yi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtyZXR1cm4gZmFsc2V9fSk7dGhpcy5zdGFydGVkPWZhbHNlfSxfbW91c2VEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKX0sX21vdXNlRG93bjpmdW5jdGlvbihhKXthLm9yaWdpbmFsRXZlbnQ9CmEub3JpZ2luYWxFdmVudHx8e307aWYoIWEub3JpZ2luYWxFdmVudC5tb3VzZUhhbmRsZWQpe3RoaXMuX21vdXNlU3RhcnRlZCYmdGhpcy5fbW91c2VVcChhKTt0aGlzLl9tb3VzZURvd25FdmVudD1hO3ZhciBiPXRoaXMsZT1hLndoaWNoPT0xLGY9dHlwZW9mIHRoaXMub3B0aW9ucy5jYW5jZWw9PSJzdHJpbmciP2MoYS50YXJnZXQpLnBhcmVudHMoKS5hZGQoYS50YXJnZXQpLmZpbHRlcih0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ZmFsc2U7aWYoIWV8fGZ8fCF0aGlzLl9tb3VzZUNhcHR1cmUoYSkpcmV0dXJuIHRydWU7dGhpcy5tb3VzZURlbGF5TWV0PSF0aGlzLm9wdGlvbnMuZGVsYXk7aWYoIXRoaXMubW91c2VEZWxheU1ldCl0aGlzLl9tb3VzZURlbGF5VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2IubW91c2VEZWxheU1ldD10cnVlfSx0aGlzLm9wdGlvbnMuZGVsYXkpO2lmKHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoYSkmJnRoaXMuX21vdXNlRGVsYXlNZXQoYSkpe3RoaXMuX21vdXNlU3RhcnRlZD0KdGhpcy5fbW91c2VTdGFydChhKSE9PWZhbHNlO2lmKCF0aGlzLl9tb3VzZVN0YXJ0ZWQpe2EucHJldmVudERlZmF1bHQoKTtyZXR1cm4gdHJ1ZX19dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24oZCl7cmV0dXJuIGIuX21vdXNlTW92ZShkKX07dGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKGQpe3JldHVybiBiLl9tb3VzZVVwKGQpfTtjKGRvY3VtZW50KS5iaW5kKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLmJpbmQoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTthLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGEub3JpZ2luYWxFdmVudC5tb3VzZUhhbmRsZWQ9dHJ1ZX19LF9tb3VzZU1vdmU6ZnVuY3Rpb24oYSl7aWYoYy5icm93c2VyLm1zaWUmJiEoZG9jdW1lbnQuZG9jdW1lbnRNb2RlPj05KSYmIWEuYnV0dG9uKXJldHVybiB0aGlzLl9tb3VzZVVwKGEpO2lmKHRoaXMuX21vdXNlU3RhcnRlZCl7dGhpcy5fbW91c2VEcmFnKGEpOwpyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpfWlmKHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoYSkmJnRoaXMuX21vdXNlRGVsYXlNZXQoYSkpKHRoaXMuX21vdXNlU3RhcnRlZD10aGlzLl9tb3VzZVN0YXJ0KHRoaXMuX21vdXNlRG93bkV2ZW50LGEpIT09ZmFsc2UpP3RoaXMuX21vdXNlRHJhZyhhKTp0aGlzLl9tb3VzZVVwKGEpO3JldHVybiF0aGlzLl9tb3VzZVN0YXJ0ZWR9LF9tb3VzZVVwOmZ1bmN0aW9uKGEpe2MoZG9jdW1lbnQpLnVuYmluZCgibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS51bmJpbmQoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTtpZih0aGlzLl9tb3VzZVN0YXJ0ZWQpe3RoaXMuX21vdXNlU3RhcnRlZD1mYWxzZTthLnRhcmdldD09dGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0JiZjLmRhdGEoYS50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiLAp0cnVlKTt0aGlzLl9tb3VzZVN0b3AoYSl9cmV0dXJuIGZhbHNlfSxfbW91c2VEaXN0YW5jZU1ldDpmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVgtYS5wYWdlWCksTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVktYS5wYWdlWSkpPj10aGlzLm9wdGlvbnMuZGlzdGFuY2V9LF9tb3VzZURlbGF5TWV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW91c2VEZWxheU1ldH0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXt9LF9tb3VzZURyYWc6ZnVuY3Rpb24oKXt9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oKXt9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZX19KX0pKGpRdWVyeSk7Ci8qIFVJIFBvc2l0aW9uICovCihmdW5jdGlvbihjKXtjLnVpPWMudWl8fHt9O3ZhciBuPS9sZWZ0fGNlbnRlcnxyaWdodC8sbz0vdG9wfGNlbnRlcnxib3R0b20vLHQ9Yy5mbi5wb3NpdGlvbix1PWMuZm4ub2Zmc2V0O2MuZm4ucG9zaXRpb249ZnVuY3Rpb24oYil7aWYoIWJ8fCFiLm9mKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiPWMuZXh0ZW5kKHt9LGIpO3ZhciBhPWMoYi5vZiksZD1hWzBdLGc9KGIuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIiksZT1iLm9mZnNldD9iLm9mZnNldC5zcGxpdCgiICIpOlswLDBdLGgsayxqO2lmKGQubm9kZVR5cGU9PT05KXtoPWEud2lkdGgoKTtrPWEuaGVpZ2h0KCk7aj17dG9wOjAsbGVmdDowfX1lbHNlIGlmKGQuc2V0VGltZW91dCl7aD1hLndpZHRoKCk7az1hLmhlaWdodCgpO2o9e3RvcDphLnNjcm9sbFRvcCgpLGxlZnQ6YS5zY3JvbGxMZWZ0KCl9fWVsc2UgaWYoZC5wcmV2ZW50RGVmYXVsdCl7Yi5hdD0ibGVmdCB0b3AiO2g9az0wO2o9e3RvcDpiLm9mLnBhZ2VZLApsZWZ0OmIub2YucGFnZVh9fWVsc2V7aD1hLm91dGVyV2lkdGgoKTtrPWEub3V0ZXJIZWlnaHQoKTtqPWEub2Zmc2V0KCl9Yy5lYWNoKFsibXkiLCJhdCJdLGZ1bmN0aW9uKCl7dmFyIGY9KGJbdGhpc118fCIiKS5zcGxpdCgiICIpO2lmKGYubGVuZ3RoPT09MSlmPW4udGVzdChmWzBdKT9mLmNvbmNhdChbImNlbnRlciJdKTpvLnRlc3QoZlswXSk/WyJjZW50ZXIiXS5jb25jYXQoZik6WyJjZW50ZXIiLCJjZW50ZXIiXTtmWzBdPW4udGVzdChmWzBdKT9mWzBdOiJjZW50ZXIiO2ZbMV09by50ZXN0KGZbMV0pP2ZbMV06ImNlbnRlciI7Ylt0aGlzXT1mfSk7aWYoZy5sZW5ndGg9PT0xKWdbMV09Z1swXTtlWzBdPXBhcnNlSW50KGVbMF0sMTApfHwwO2lmKGUubGVuZ3RoPT09MSllWzFdPWVbMF07ZVsxXT1wYXJzZUludChlWzFdLDEwKXx8MDtpZihiLmF0WzBdPT09InJpZ2h0IilqLmxlZnQrPWg7ZWxzZSBpZihiLmF0WzBdPT09ImNlbnRlciIpai5sZWZ0Kz1oLzI7aWYoYi5hdFsxXT09PSJib3R0b20iKWoudG9wKz0KaztlbHNlIGlmKGIuYXRbMV09PT0iY2VudGVyIilqLnRvcCs9ay8yO2oubGVmdCs9ZVswXTtqLnRvcCs9ZVsxXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGY9Yyh0aGlzKSxsPWYub3V0ZXJXaWR0aCgpLG09Zi5vdXRlckhlaWdodCgpLHA9cGFyc2VJbnQoYy5jdXJDU1ModGhpcywibWFyZ2luTGVmdCIsdHJ1ZSkpfHwwLHE9cGFyc2VJbnQoYy5jdXJDU1ModGhpcywibWFyZ2luVG9wIix0cnVlKSl8fDAsdj1sK3ArKHBhcnNlSW50KGMuY3VyQ1NTKHRoaXMsIm1hcmdpblJpZ2h0Iix0cnVlKSl8fDApLHc9bStxKyhwYXJzZUludChjLmN1ckNTUyh0aGlzLCJtYXJnaW5Cb3R0b20iLHRydWUpKXx8MCksaT1jLmV4dGVuZCh7fSxqKSxyO2lmKGIubXlbMF09PT0icmlnaHQiKWkubGVmdC09bDtlbHNlIGlmKGIubXlbMF09PT0iY2VudGVyIilpLmxlZnQtPWwvMjtpZihiLm15WzFdPT09ImJvdHRvbSIpaS50b3AtPW07ZWxzZSBpZihiLm15WzFdPT09ImNlbnRlciIpaS50b3AtPQptLzI7aS5sZWZ0PU1hdGgucm91bmQoaS5sZWZ0KTtpLnRvcD1NYXRoLnJvdW5kKGkudG9wKTtyPXtsZWZ0OmkubGVmdC1wLHRvcDppLnRvcC1xfTtjLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24ocyx4KXtjLnVpLnBvc2l0aW9uW2dbc11dJiZjLnVpLnBvc2l0aW9uW2dbc11dW3hdKGkse3RhcmdldFdpZHRoOmgsdGFyZ2V0SGVpZ2h0OmssZWxlbVdpZHRoOmwsZWxlbUhlaWdodDptLGNvbGxpc2lvblBvc2l0aW9uOnIsY29sbGlzaW9uV2lkdGg6dixjb2xsaXNpb25IZWlnaHQ6dyxvZmZzZXQ6ZSxteTpiLm15LGF0OmIuYXR9KX0pO2MuZm4uYmdpZnJhbWUmJmYuYmdpZnJhbWUoKTtmLm9mZnNldChjLmV4dGVuZChpLHt1c2luZzpiLnVzaW5nfSkpfSl9O2MudWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbihiLGEpe3ZhciBkPWMod2luZG93KTtkPWEuY29sbGlzaW9uUG9zaXRpb24ubGVmdCthLmNvbGxpc2lvbldpZHRoLWQud2lkdGgoKS1kLnNjcm9sbExlZnQoKTtiLmxlZnQ9CmQ+MD9iLmxlZnQtZDpNYXRoLm1heChiLmxlZnQtYS5jb2xsaXNpb25Qb3NpdGlvbi5sZWZ0LGIubGVmdCl9LHRvcDpmdW5jdGlvbihiLGEpe3ZhciBkPWMod2luZG93KTtkPWEuY29sbGlzaW9uUG9zaXRpb24udG9wK2EuY29sbGlzaW9uSGVpZ2h0LWQuaGVpZ2h0KCktZC5zY3JvbGxUb3AoKTtiLnRvcD1kPjA/Yi50b3AtZDpNYXRoLm1heChiLnRvcC1hLmNvbGxpc2lvblBvc2l0aW9uLnRvcCxiLnRvcCl9fSxmbGlwOntsZWZ0OmZ1bmN0aW9uKGIsYSl7aWYoYS5hdFswXSE9PSJjZW50ZXIiKXt2YXIgZD1jKHdpbmRvdyk7ZD1hLmNvbGxpc2lvblBvc2l0aW9uLmxlZnQrYS5jb2xsaXNpb25XaWR0aC1kLndpZHRoKCktZC5zY3JvbGxMZWZ0KCk7dmFyIGc9YS5teVswXT09PSJsZWZ0Ij8tYS5lbGVtV2lkdGg6YS5teVswXT09PSJyaWdodCI/YS5lbGVtV2lkdGg6MCxlPWEuYXRbMF09PT0ibGVmdCI/YS50YXJnZXRXaWR0aDotYS50YXJnZXRXaWR0aCxoPS0yKmEub2Zmc2V0WzBdO2IubGVmdCs9CmEuY29sbGlzaW9uUG9zaXRpb24ubGVmdDwwP2crZStoOmQ+MD9nK2UraDowfX0sdG9wOmZ1bmN0aW9uKGIsYSl7aWYoYS5hdFsxXSE9PSJjZW50ZXIiKXt2YXIgZD1jKHdpbmRvdyk7ZD1hLmNvbGxpc2lvblBvc2l0aW9uLnRvcCthLmNvbGxpc2lvbkhlaWdodC1kLmhlaWdodCgpLWQuc2Nyb2xsVG9wKCk7dmFyIGc9YS5teVsxXT09PSJ0b3AiPy1hLmVsZW1IZWlnaHQ6YS5teVsxXT09PSJib3R0b20iP2EuZWxlbUhlaWdodDowLGU9YS5hdFsxXT09PSJ0b3AiP2EudGFyZ2V0SGVpZ2h0Oi1hLnRhcmdldEhlaWdodCxoPS0yKmEub2Zmc2V0WzFdO2IudG9wKz1hLmNvbGxpc2lvblBvc2l0aW9uLnRvcDwwP2crZStoOmQ+MD9nK2UraDowfX19fTtpZighYy5vZmZzZXQuc2V0T2Zmc2V0KXtjLm9mZnNldC5zZXRPZmZzZXQ9ZnVuY3Rpb24oYixhKXtpZigvc3RhdGljLy50ZXN0KGMuY3VyQ1NTKGIsInBvc2l0aW9uIikpKWIuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjt2YXIgZD1jKGIpLApnPWQub2Zmc2V0KCksZT1wYXJzZUludChjLmN1ckNTUyhiLCJ0b3AiLHRydWUpLDEwKXx8MCxoPXBhcnNlSW50KGMuY3VyQ1NTKGIsImxlZnQiLHRydWUpLDEwKXx8MDtnPXt0b3A6YS50b3AtZy50b3ArZSxsZWZ0OmEubGVmdC1nLmxlZnQraH07InVzaW5nImluIGE/YS51c2luZy5jYWxsKGIsZyk6ZC5jc3MoZyl9O2MuZm4ub2Zmc2V0PWZ1bmN0aW9uKGIpe3ZhciBhPXRoaXNbMF07aWYoIWF8fCFhLm93bmVyRG9jdW1lbnQpcmV0dXJuIG51bGw7aWYoYilyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yy5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYil9KTtyZXR1cm4gdS5jYWxsKHRoaXMpfX19KShqUXVlcnkpOwovKiBVSSBEcmFnZ2FibGUgKi8KKGZ1bmN0aW9uKGQpe2Qud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLGQudWkubW91c2Use3dpZGdldEV2ZW50UHJlZml4OiJkcmFnIixvcHRpb25zOnthZGRDbGFzc2VzOnRydWUsYXBwZW5kVG86InBhcmVudCIsYXhpczpmYWxzZSxjb25uZWN0VG9Tb3J0YWJsZTpmYWxzZSxjb250YWlubWVudDpmYWxzZSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OmZhbHNlLGdyaWQ6ZmFsc2UsaGFuZGxlOmZhbHNlLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDpmYWxzZSxvcGFjaXR5OmZhbHNlLHJlZnJlc2hQb3NpdGlvbnM6ZmFsc2UscmV2ZXJ0OmZhbHNlLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOnRydWUsc2Nyb2xsU2Vuc2l0aXZpdHk6MjAsc2Nyb2xsU3BlZWQ6MjAsc25hcDpmYWxzZSxzbmFwTW9kZToiYm90aCIsc25hcFRvbGVyYW5jZToyMCxzdGFjazpmYWxzZSx6SW5kZXg6ZmFsc2V9LF9jcmVhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuaGVscGVyPT0KIm9yaWdpbmFsIiYmIS9eKD86cnxhfGYpLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIikpKXRoaXMuZWxlbWVudFswXS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3RoaXMub3B0aW9ucy5hZGRDbGFzc2VzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWRyYWdnYWJsZSIpO3RoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtZGlzYWJsZWQiKTt0aGlzLl9tb3VzZUluaXQoKX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudC5kYXRhKCJkcmFnZ2FibGUiKSl7dGhpcy5lbGVtZW50LnJlbW92ZURhdGEoImRyYWdnYWJsZSIpLnVuYmluZCgiLmRyYWdnYWJsZSIpLnJlbW92ZUNsYXNzKCJ1aS1kcmFnZ2FibGUgdWktZHJhZ2dhYmxlLWRyYWdnaW5nIHVpLWRyYWdnYWJsZS1kaXNhYmxlZCIpO3RoaXMuX21vdXNlRGVzdHJveSgpO3JldHVybiB0aGlzfX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5vcHRpb25zO2lmKHRoaXMuaGVscGVyfHxiLmRpc2FibGVkfHxkKGEudGFyZ2V0KS5pcygiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKSlyZXR1cm4gZmFsc2U7dGhpcy5oYW5kbGU9dGhpcy5fZ2V0SGFuZGxlKGEpO2lmKCF0aGlzLmhhbmRsZSlyZXR1cm4gZmFsc2U7cmV0dXJuIHRydWV9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9uczt0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIoYSk7dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO2lmKGQudWkuZGRtYW5hZ2VyKWQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpczt0aGlzLl9jYWNoZU1hcmdpbnMoKTt0aGlzLmNzc1Bvc2l0aW9uPXRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKTt0aGlzLnNjcm9sbFBhcmVudD10aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoKTt0aGlzLm9mZnNldD10aGlzLnBvc2l0aW9uQWJzPXRoaXMuZWxlbWVudC5vZmZzZXQoKTt0aGlzLm9mZnNldD17dG9wOnRoaXMub2Zmc2V0LnRvcC0KdGhpcy5tYXJnaW5zLnRvcCxsZWZ0OnRoaXMub2Zmc2V0LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnR9O2QuZXh0ZW5kKHRoaXMub2Zmc2V0LHtjbGljazp7bGVmdDphLnBhZ2VYLXRoaXMub2Zmc2V0LmxlZnQsdG9wOmEucGFnZVktdGhpcy5vZmZzZXQudG9wfSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX0pO3RoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24oYSk7dGhpcy5vcmlnaW5hbFBhZ2VYPWEucGFnZVg7dGhpcy5vcmlnaW5hbFBhZ2VZPWEucGFnZVk7Yi5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihiLmN1cnNvckF0KTtiLmNvbnRhaW5tZW50JiZ0aGlzLl9zZXRDb250YWlubWVudCgpO2lmKHRoaXMuX3RyaWdnZXIoInN0YXJ0IixhKT09PWZhbHNlKXt0aGlzLl9jbGVhcigpO3JldHVybiBmYWxzZX10aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7CmQudWkuZGRtYW5hZ2VyJiYhYi5kcm9wQmVoYXZpb3VyJiZkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLGEpO3RoaXMuaGVscGVyLmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLl9tb3VzZURyYWcoYSx0cnVlKTtyZXR1cm4gdHJ1ZX0sX21vdXNlRHJhZzpmdW5jdGlvbihhLGIpe3RoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihhKTt0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpO2lmKCFiKXtiPXRoaXMuX3VpSGFzaCgpO2lmKHRoaXMuX3RyaWdnZXIoImRyYWciLGEsYik9PT1mYWxzZSl7dGhpcy5fbW91c2VVcCh7fSk7cmV0dXJuIGZhbHNlfXRoaXMucG9zaXRpb249Yi5wb3NpdGlvbn1pZighdGhpcy5vcHRpb25zLmF4aXN8fHRoaXMub3B0aW9ucy5heGlzIT0ieSIpdGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4IjtpZighdGhpcy5vcHRpb25zLmF4aXN8fAp0aGlzLm9wdGlvbnMuYXhpcyE9IngiKXRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiO2QudWkuZGRtYW5hZ2VyJiZkLnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsYSk7cmV0dXJuIGZhbHNlfSxfbW91c2VTdG9wOmZ1bmN0aW9uKGEpe3ZhciBiPWZhbHNlO2lmKGQudWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXIpYj1kLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsYSk7aWYodGhpcy5kcm9wcGVkKXtiPXRoaXMuZHJvcHBlZDt0aGlzLmRyb3BwZWQ9ZmFsc2V9aWYoKCF0aGlzLmVsZW1lbnRbMF18fCF0aGlzLmVsZW1lbnRbMF0ucGFyZW50Tm9kZSkmJnRoaXMub3B0aW9ucy5oZWxwZXI9PSJvcmlnaW5hbCIpcmV0dXJuIGZhbHNlO2lmKHRoaXMub3B0aW9ucy5yZXZlcnQ9PSJpbnZhbGlkIiYmIWJ8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PSJ2YWxpZCImJmJ8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PT10cnVlfHxkLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLnJldmVydCkmJgp0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LGIpKXt2YXIgYz10aGlzO2QodGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwxMCksZnVuY3Rpb24oKXtjLl90cmlnZ2VyKCJzdG9wIixhKSE9PWZhbHNlJiZjLl9jbGVhcigpfSl9ZWxzZSB0aGlzLl90cmlnZ2VyKCJzdG9wIixhKSE9PWZhbHNlJiZ0aGlzLl9jbGVhcigpO3JldHVybiBmYWxzZX0sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXIuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKT90aGlzLl9tb3VzZVVwKHt9KTp0aGlzLl9jbGVhcigpO3JldHVybiB0aGlzfSxfZ2V0SGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPSF0aGlzLm9wdGlvbnMuaGFuZGxlfHwhZCh0aGlzLm9wdGlvbnMuaGFuZGxlLHRoaXMuZWxlbWVudCkubGVuZ3RoP3RydWU6ZmFsc2U7ZCh0aGlzLm9wdGlvbnMuaGFuZGxlLHRoaXMuZWxlbWVudCkuZmluZCgiKiIpLmFuZFNlbGYoKS5lYWNoKGZ1bmN0aW9uKCl7aWYodGhpcz09CmEudGFyZ2V0KWI9dHJ1ZX0pO3JldHVybiBifSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9uczthPWQuaXNGdW5jdGlvbihiLmhlbHBlcik/ZChiLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2FdKSk6Yi5oZWxwZXI9PSJjbG9uZSI/dGhpcy5lbGVtZW50LmNsb25lKCk6dGhpcy5lbGVtZW50O2EucGFyZW50cygiYm9keSIpLmxlbmd0aHx8YS5hcHBlbmRUbyhiLmFwcGVuZFRvPT0icGFyZW50Ij90aGlzLmVsZW1lbnRbMF0ucGFyZW50Tm9kZTpiLmFwcGVuZFRvKTthWzBdIT10aGlzLmVsZW1lbnRbMF0mJiEvKGZpeGVkfGFic29sdXRlKS8udGVzdChhLmNzcygicG9zaXRpb24iKSkmJmEuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIik7cmV0dXJuIGF9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKGEpe2lmKHR5cGVvZiBhPT0ic3RyaW5nIilhPWEuc3BsaXQoIiAiKTtpZihkLmlzQXJyYXkoYSkpYT17bGVmdDorYVswXSx0b3A6K2FbMV18fAowfTtpZigibGVmdCJpbiBhKXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9YS5sZWZ0K3RoaXMubWFyZ2lucy5sZWZ0O2lmKCJyaWdodCJpbiBhKXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC1hLnJpZ2h0K3RoaXMubWFyZ2lucy5sZWZ0O2lmKCJ0b3AiaW4gYSl0aGlzLm9mZnNldC5jbGljay50b3A9YS50b3ArdGhpcy5tYXJnaW5zLnRvcDtpZigiYm90dG9tImluIGEpdGhpcy5vZmZzZXQuY2xpY2sudG9wPXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LWEuYm90dG9tK3RoaXMubWFyZ2lucy50b3B9LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTt2YXIgYT10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTtpZih0aGlzLmNzc1Bvc2l0aW9uPT0iYWJzb2x1dGUiJiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9ZG9jdW1lbnQmJmQudWkuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sCnRoaXMub2Zmc2V0UGFyZW50WzBdKSl7YS5sZWZ0Kz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk7YS50b3ArPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpfWlmKHRoaXMub2Zmc2V0UGFyZW50WzBdPT1kb2N1bWVudC5ib2R5fHx0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lJiZ0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJodG1sIiYmZC5icm93c2VyLm1zaWUpYT17dG9wOjAsbGVmdDowfTtyZXR1cm57dG9wOmEudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OmEubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5jc3NQb3NpdGlvbj09InJlbGF0aXZlIil7dmFyIGE9dGhpcy5lbGVtZW50LnBvc2l0aW9uKCk7cmV0dXJue3RvcDphLnRvcC0KKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0OmEubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9fWVsc2UgcmV0dXJue3RvcDowLGxlZnQ6MH19LF9jYWNoZU1hcmdpbnM6ZnVuY3Rpb24oKXt0aGlzLm1hcmdpbnM9e2xlZnQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luTGVmdCIpLDEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luVG9wIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7aWYoYS5jb250YWlubWVudD09CiJwYXJlbnQiKWEuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZTtpZihhLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQifHxhLmNvbnRhaW5tZW50PT0id2luZG93Iil0aGlzLmNvbnRhaW5tZW50PVsoYS5jb250YWlubWVudD09ImRvY3VtZW50Ij8wOmQod2luZG93KS5zY3JvbGxMZWZ0KCkpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsKGEuY29udGFpbm1lbnQ9PSJkb2N1bWVudCI/MDpkKHdpbmRvdykuc2Nyb2xsVG9wKCkpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLChhLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQiPzA6ZCh3aW5kb3cpLnNjcm9sbExlZnQoKSkrZChhLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQiP2RvY3VtZW50OndpbmRvdykud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LChhLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQiPwowOmQod2luZG93KS5zY3JvbGxUb3AoKSkrKGQoYS5jb250YWlubWVudD09ImRvY3VtZW50Ij9kb2N1bWVudDp3aW5kb3cpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXTtpZighL14oZG9jdW1lbnR8d2luZG93fHBhcmVudCkkLy50ZXN0KGEuY29udGFpbm1lbnQpJiZhLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yIT1BcnJheSl7dmFyIGI9ZChhLmNvbnRhaW5tZW50KVswXTtpZihiKXthPWQoYS5jb250YWlubWVudCkub2Zmc2V0KCk7dmFyIGM9ZChiKS5jc3MoIm92ZXJmbG93IikhPSJoaWRkZW4iO3RoaXMuY29udGFpbm1lbnQ9W2EubGVmdCsocGFyc2VJbnQoZChiKS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCkrKHBhcnNlSW50KGQoYikuY3NzKCJwYWRkaW5nTGVmdCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLmxlZnQsYS50b3ArKHBhcnNlSW50KGQoYikuY3NzKCJib3JkZXJUb3BXaWR0aCIpLAoxMCl8fDApKyhwYXJzZUludChkKGIpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxhLmxlZnQrKGM/TWF0aC5tYXgoYi5zY3JvbGxXaWR0aCxiLm9mZnNldFdpZHRoKTpiLm9mZnNldFdpZHRoKS0ocGFyc2VJbnQoZChiKS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KGQoYikuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsYS50b3ArKGM/TWF0aC5tYXgoYi5zY3JvbGxIZWlnaHQsYi5vZmZzZXRIZWlnaHQpOmIub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQoZChiKS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoZChiKS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdfX1lbHNlIGlmKGEuY29udGFpbm1lbnQuY29uc3RydWN0b3I9PQpBcnJheSl0aGlzLmNvbnRhaW5tZW50PWEuY29udGFpbm1lbnR9LF9jb252ZXJ0UG9zaXRpb25UbzpmdW5jdGlvbihhLGIpe2lmKCFiKWI9dGhpcy5wb3NpdGlvbjthPWE9PSJhYnNvbHV0ZSI/MTotMTt2YXIgYz10aGlzLmNzc1Bvc2l0aW9uPT0iYWJzb2x1dGUiJiYhKHRoaXMuc2Nyb2xsUGFyZW50WzBdIT1kb2N1bWVudCYmZC51aS5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkpP3RoaXMub2Zmc2V0UGFyZW50OnRoaXMuc2Nyb2xsUGFyZW50LGY9LyhodG1sfGJvZHkpL2kudGVzdChjWzBdLnRhZ05hbWUpO3JldHVybnt0b3A6Yi50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKmErdGhpcy5vZmZzZXQucGFyZW50LnRvcCphLShkLmJyb3dzZXIuc2FmYXJpJiZkLmJyb3dzZXIudmVyc2lvbjw1MjYmJnRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/MDoodGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6CmY/MDpjLnNjcm9sbFRvcCgpKSphKSxsZWZ0OmIubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmErdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqYS0oZC5icm93c2VyLnNhZmFyaSYmZC5icm93c2VyLnZlcnNpb248NTI2JiZ0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPzA6KHRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTpmPzA6Yy5zY3JvbGxMZWZ0KCkpKmEpfX0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5jc3NQb3NpdGlvbj09ImFic29sdXRlIiYmISh0aGlzLnNjcm9sbFBhcmVudFswXSE9ZG9jdW1lbnQmJmQudWkuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pKT90aGlzLm9mZnNldFBhcmVudDp0aGlzLnNjcm9sbFBhcmVudCxmPS8oaHRtbHxib2R5KS9pLnRlc3QoY1swXS50YWdOYW1lKSxlPWEucGFnZVgsZz1hLnBhZ2VZOwppZih0aGlzLm9yaWdpbmFsUG9zaXRpb24pe2lmKHRoaXMuY29udGFpbm1lbnQpe2lmKGEucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdKWU9dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0O2lmKGEucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPHRoaXMuY29udGFpbm1lbnRbMV0pZz10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcDtpZihhLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+dGhpcy5jb250YWlubWVudFsyXSllPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdDtpZihhLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD50aGlzLmNvbnRhaW5tZW50WzNdKWc9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3B9aWYoYi5ncmlkKXtnPXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChnLXRoaXMub3JpZ2luYWxQYWdlWSkvCmIuZ3JpZFsxXSkqYi5ncmlkWzFdO2c9dGhpcy5jb250YWlubWVudD8hKGctdGhpcy5vZmZzZXQuY2xpY2sudG9wPHRoaXMuY29udGFpbm1lbnRbMV18fGctdGhpcy5vZmZzZXQuY2xpY2sudG9wPnRoaXMuY29udGFpbm1lbnRbM10pP2c6IShnLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdKT9nLWIuZ3JpZFsxXTpnK2IuZ3JpZFsxXTpnO2U9dGhpcy5vcmlnaW5hbFBhZ2VYK01hdGgucm91bmQoKGUtdGhpcy5vcmlnaW5hbFBhZ2VYKS9iLmdyaWRbMF0pKmIuZ3JpZFswXTtlPXRoaXMuY29udGFpbm1lbnQ/IShlLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXXx8ZS10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0pP2U6IShlLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSk/ZS1iLmdyaWRbMF06ZStiLmdyaWRbMF06ZX19cmV0dXJue3RvcDpnLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC0KdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKGQuYnJvd3Nlci5zYWZhcmkmJmQuYnJvd3Nlci52ZXJzaW9uPDUyNiYmdGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8wOnRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOmY/MDpjLnNjcm9sbFRvcCgpKSxsZWZ0OmUtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KyhkLmJyb3dzZXIuc2FmYXJpJiZkLmJyb3dzZXIudmVyc2lvbjw1MjYmJnRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/MDp0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6Zj8wOmMuc2Nyb2xsTGVmdCgpKX19LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuaGVscGVyLnJlbW92ZUNsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLmhlbHBlclswXSE9CnRoaXMuZWxlbWVudFswXSYmIXRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbCYmdGhpcy5oZWxwZXIucmVtb3ZlKCk7dGhpcy5oZWxwZXI9bnVsbDt0aGlzLmNhbmNlbEhlbHBlclJlbW92YWw9ZmFsc2V9LF90cmlnZ2VyOmZ1bmN0aW9uKGEsYixjKXtjPWN8fHRoaXMuX3VpSGFzaCgpO2QudWkucGx1Z2luLmNhbGwodGhpcyxhLFtiLGNdKTtpZihhPT0iZHJhZyIpdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKTtyZXR1cm4gZC5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmNhbGwodGhpcyxhLGIsYyl9LHBsdWdpbnM6e30sX3VpSGFzaDpmdW5jdGlvbigpe3JldHVybntoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6dGhpcy5wb3NpdGlvbkFic319fSk7ZC5leHRlbmQoZC51aS5kcmFnZ2FibGUse3ZlcnNpb246IjEuOC4xMCJ9KTsKZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjb25uZWN0VG9Tb3J0YWJsZSIse3N0YXJ0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKSxmPWMub3B0aW9ucyxlPWQuZXh0ZW5kKHt9LGIse2l0ZW06Yy5lbGVtZW50fSk7Yy5zb3J0YWJsZXM9W107ZChmLmNvbm5lY3RUb1NvcnRhYmxlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9ZC5kYXRhKHRoaXMsInNvcnRhYmxlIik7aWYoZyYmIWcub3B0aW9ucy5kaXNhYmxlZCl7Yy5zb3J0YWJsZXMucHVzaCh7aW5zdGFuY2U6ZyxzaG91bGRSZXZlcnQ6Zy5vcHRpb25zLnJldmVydH0pO2cuX3JlZnJlc2hJdGVtcygpO2cuX3RyaWdnZXIoImFjdGl2YXRlIixhLGUpfX0pfSxzdG9wOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKSxmPWQuZXh0ZW5kKHt9LGIse2l0ZW06Yy5lbGVtZW50fSk7ZC5lYWNoKGMuc29ydGFibGVzLGZ1bmN0aW9uKCl7aWYodGhpcy5pbnN0YW5jZS5pc092ZXIpe3RoaXMuaW5zdGFuY2UuaXNPdmVyPQowO2MuY2FuY2VsSGVscGVyUmVtb3ZhbD10cnVlO3RoaXMuaW5zdGFuY2UuY2FuY2VsSGVscGVyUmVtb3ZhbD1mYWxzZTtpZih0aGlzLnNob3VsZFJldmVydCl0aGlzLmluc3RhbmNlLm9wdGlvbnMucmV2ZXJ0PXRydWU7dGhpcy5pbnN0YW5jZS5fbW91c2VTdG9wKGEpO3RoaXMuaW5zdGFuY2Uub3B0aW9ucy5oZWxwZXI9dGhpcy5pbnN0YW5jZS5vcHRpb25zLl9oZWxwZXI7Yy5vcHRpb25zLmhlbHBlcj09Im9yaWdpbmFsIiYmdGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbS5jc3Moe3RvcDoiYXV0byIsbGVmdDoiYXV0byJ9KX1lbHNle3RoaXMuaW5zdGFuY2UuY2FuY2VsSGVscGVyUmVtb3ZhbD1mYWxzZTt0aGlzLmluc3RhbmNlLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixhLGYpfX0pfSxkcmFnOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKSxmPXRoaXM7ZC5lYWNoKGMuc29ydGFibGVzLGZ1bmN0aW9uKCl7dGhpcy5pbnN0YW5jZS5wb3NpdGlvbkFicz0KYy5wb3NpdGlvbkFiczt0aGlzLmluc3RhbmNlLmhlbHBlclByb3BvcnRpb25zPWMuaGVscGVyUHJvcG9ydGlvbnM7dGhpcy5pbnN0YW5jZS5vZmZzZXQuY2xpY2s9Yy5vZmZzZXQuY2xpY2s7aWYodGhpcy5pbnN0YW5jZS5faW50ZXJzZWN0c1dpdGgodGhpcy5pbnN0YW5jZS5jb250YWluZXJDYWNoZSkpe2lmKCF0aGlzLmluc3RhbmNlLmlzT3Zlcil7dGhpcy5pbnN0YW5jZS5pc092ZXI9MTt0aGlzLmluc3RhbmNlLmN1cnJlbnRJdGVtPWQoZikuY2xvbmUoKS5hcHBlbmRUbyh0aGlzLmluc3RhbmNlLmVsZW1lbnQpLmRhdGEoInNvcnRhYmxlLWl0ZW0iLHRydWUpO3RoaXMuaW5zdGFuY2Uub3B0aW9ucy5faGVscGVyPXRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oZWxwZXI7dGhpcy5pbnN0YW5jZS5vcHRpb25zLmhlbHBlcj1mdW5jdGlvbigpe3JldHVybiBiLmhlbHBlclswXX07YS50YXJnZXQ9dGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbVswXTt0aGlzLmluc3RhbmNlLl9tb3VzZUNhcHR1cmUoYSwKdHJ1ZSk7dGhpcy5pbnN0YW5jZS5fbW91c2VTdGFydChhLHRydWUsdHJ1ZSk7dGhpcy5pbnN0YW5jZS5vZmZzZXQuY2xpY2sudG9wPWMub2Zmc2V0LmNsaWNrLnRvcDt0aGlzLmluc3RhbmNlLm9mZnNldC5jbGljay5sZWZ0PWMub2Zmc2V0LmNsaWNrLmxlZnQ7dGhpcy5pbnN0YW5jZS5vZmZzZXQucGFyZW50LmxlZnQtPWMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMuaW5zdGFuY2Uub2Zmc2V0LnBhcmVudC5sZWZ0O3RoaXMuaW5zdGFuY2Uub2Zmc2V0LnBhcmVudC50b3AtPWMub2Zmc2V0LnBhcmVudC50b3AtdGhpcy5pbnN0YW5jZS5vZmZzZXQucGFyZW50LnRvcDtjLl90cmlnZ2VyKCJ0b1NvcnRhYmxlIixhKTtjLmRyb3BwZWQ9dGhpcy5pbnN0YW5jZS5lbGVtZW50O2MuY3VycmVudEl0ZW09Yy5lbGVtZW50O3RoaXMuaW5zdGFuY2UuZnJvbU91dHNpZGU9Y310aGlzLmluc3RhbmNlLmN1cnJlbnRJdGVtJiZ0aGlzLmluc3RhbmNlLl9tb3VzZURyYWcoYSl9ZWxzZSBpZih0aGlzLmluc3RhbmNlLmlzT3Zlcil7dGhpcy5pbnN0YW5jZS5pc092ZXI9CjA7dGhpcy5pbnN0YW5jZS5jYW5jZWxIZWxwZXJSZW1vdmFsPXRydWU7dGhpcy5pbnN0YW5jZS5vcHRpb25zLnJldmVydD1mYWxzZTt0aGlzLmluc3RhbmNlLl90cmlnZ2VyKCJvdXQiLGEsdGhpcy5pbnN0YW5jZS5fdWlIYXNoKHRoaXMuaW5zdGFuY2UpKTt0aGlzLmluc3RhbmNlLl9tb3VzZVN0b3AoYSx0cnVlKTt0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGVscGVyPXRoaXMuaW5zdGFuY2Uub3B0aW9ucy5faGVscGVyO3RoaXMuaW5zdGFuY2UuY3VycmVudEl0ZW0ucmVtb3ZlKCk7dGhpcy5pbnN0YW5jZS5wbGFjZWhvbGRlciYmdGhpcy5pbnN0YW5jZS5wbGFjZWhvbGRlci5yZW1vdmUoKTtjLl90cmlnZ2VyKCJmcm9tU29ydGFibGUiLGEpO2MuZHJvcHBlZD1mYWxzZX19KX19KTtkLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImN1cnNvciIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGE9ZCgiYm9keSIpLGI9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2lmKGEuY3NzKCJjdXJzb3IiKSliLl9jdXJzb3I9CmEuY3NzKCJjdXJzb3IiKTthLmNzcygiY3Vyc29yIixiLmN1cnNvcil9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgYT1kKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLm9wdGlvbnM7YS5fY3Vyc29yJiZkKCJib2R5IikuY3NzKCJjdXJzb3IiLGEuX2N1cnNvcil9fSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJpZnJhbWVGaXgiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBhPWQodGhpcykuZGF0YSgiZHJhZ2dhYmxlIikub3B0aW9ucztkKGEuaWZyYW1lRml4PT09dHJ1ZT8iaWZyYW1lIjphLmlmcmFtZUZpeCkuZWFjaChmdW5jdGlvbigpe2QoJzxkaXYgY2xhc3M9InVpLWRyYWdnYWJsZS1pZnJhbWVGaXgiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjZmZmOyI+PC9kaXY+JykuY3NzKHt3aWR0aDp0aGlzLm9mZnNldFdpZHRoKyJweCIsaGVpZ2h0OnRoaXMub2Zmc2V0SGVpZ2h0KyJweCIscG9zaXRpb246ImFic29sdXRlIixvcGFjaXR5OiIwLjAwMSIsekluZGV4OjFFM30pLmNzcyhkKHRoaXMpLm9mZnNldCgpKS5hcHBlbmRUbygiYm9keSIpfSl9LApzdG9wOmZ1bmN0aW9uKCl7ZCgiZGl2LnVpLWRyYWdnYWJsZS1pZnJhbWVGaXgiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSl9fSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJvcGFjaXR5Iix7c3RhcnQ6ZnVuY3Rpb24oYSxiKXthPWQoYi5oZWxwZXIpO2I9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2lmKGEuY3NzKCJvcGFjaXR5IikpYi5fb3BhY2l0eT1hLmNzcygib3BhY2l0eSIpO2EuY3NzKCJvcGFjaXR5IixiLm9wYWNpdHkpfSxzdG9wOmZ1bmN0aW9uKGEsYil7YT1kKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLm9wdGlvbnM7YS5fb3BhY2l0eSYmZChiLmhlbHBlcikuY3NzKCJvcGFjaXR5IixhLl9vcGFjaXR5KX19KTtkLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNjcm9sbCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGE9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKTtpZihhLnNjcm9sbFBhcmVudFswXSE9CmRvY3VtZW50JiZhLnNjcm9sbFBhcmVudFswXS50YWdOYW1lIT0iSFRNTCIpYS5vdmVyZmxvd09mZnNldD1hLnNjcm9sbFBhcmVudC5vZmZzZXQoKX0sZHJhZzpmdW5jdGlvbihhKXt2YXIgYj1kKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLGM9Yi5vcHRpb25zLGY9ZmFsc2U7aWYoYi5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZiLnNjcm9sbFBhcmVudFswXS50YWdOYW1lIT0iSFRNTCIpe2lmKCFjLmF4aXN8fGMuYXhpcyE9IngiKWlmKGIub3ZlcmZsb3dPZmZzZXQudG9wK2Iuc2Nyb2xsUGFyZW50WzBdLm9mZnNldEhlaWdodC1hLnBhZ2VZPGMuc2Nyb2xsU2Vuc2l0aXZpdHkpYi5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wPWY9Yi5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wK2Muc2Nyb2xsU3BlZWQ7ZWxzZSBpZihhLnBhZ2VZLWIub3ZlcmZsb3dPZmZzZXQudG9wPGMuc2Nyb2xsU2Vuc2l0aXZpdHkpYi5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wPWY9Yi5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wLQpjLnNjcm9sbFNwZWVkO2lmKCFjLmF4aXN8fGMuYXhpcyE9InkiKWlmKGIub3ZlcmZsb3dPZmZzZXQubGVmdCtiLnNjcm9sbFBhcmVudFswXS5vZmZzZXRXaWR0aC1hLnBhZ2VYPGMuc2Nyb2xsU2Vuc2l0aXZpdHkpYi5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1mPWIuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQrYy5zY3JvbGxTcGVlZDtlbHNlIGlmKGEucGFnZVgtYi5vdmVyZmxvd09mZnNldC5sZWZ0PGMuc2Nyb2xsU2Vuc2l0aXZpdHkpYi5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1mPWIuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQtYy5zY3JvbGxTcGVlZH1lbHNle2lmKCFjLmF4aXN8fGMuYXhpcyE9IngiKWlmKGEucGFnZVktZChkb2N1bWVudCkuc2Nyb2xsVG9wKCk8Yy5zY3JvbGxTZW5zaXRpdml0eSlmPWQoZG9jdW1lbnQpLnNjcm9sbFRvcChkKGRvY3VtZW50KS5zY3JvbGxUb3AoKS1jLnNjcm9sbFNwZWVkKTtlbHNlIGlmKGQod2luZG93KS5oZWlnaHQoKS0KKGEucGFnZVktZChkb2N1bWVudCkuc2Nyb2xsVG9wKCkpPGMuc2Nyb2xsU2Vuc2l0aXZpdHkpZj1kKGRvY3VtZW50KS5zY3JvbGxUb3AoZChkb2N1bWVudCkuc2Nyb2xsVG9wKCkrYy5zY3JvbGxTcGVlZCk7aWYoIWMuYXhpc3x8Yy5heGlzIT0ieSIpaWYoYS5wYWdlWC1kKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCk8Yy5zY3JvbGxTZW5zaXRpdml0eSlmPWQoZG9jdW1lbnQpLnNjcm9sbExlZnQoZChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpLWMuc2Nyb2xsU3BlZWQpO2Vsc2UgaWYoZCh3aW5kb3cpLndpZHRoKCktKGEucGFnZVgtZChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKTxjLnNjcm9sbFNlbnNpdGl2aXR5KWY9ZChkb2N1bWVudCkuc2Nyb2xsTGVmdChkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkrYy5zY3JvbGxTcGVlZCl9ZiE9PWZhbHNlJiZkLnVpLmRkbWFuYWdlciYmIWMuZHJvcEJlaGF2aW91ciYmZC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoYixhKX19KTtkLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsCiJzbmFwIix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgYT1kKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLGI9YS5vcHRpb25zO2Euc25hcEVsZW1lbnRzPVtdO2QoYi5zbmFwLmNvbnN0cnVjdG9yIT1TdHJpbmc/Yi5zbmFwLml0ZW1zfHwiOmRhdGEoZHJhZ2dhYmxlKSI6Yi5zbmFwKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9ZCh0aGlzKSxmPWMub2Zmc2V0KCk7dGhpcyE9YS5lbGVtZW50WzBdJiZhLnNuYXBFbGVtZW50cy5wdXNoKHtpdGVtOnRoaXMsd2lkdGg6Yy5vdXRlcldpZHRoKCksaGVpZ2h0OmMub3V0ZXJIZWlnaHQoKSx0b3A6Zi50b3AsbGVmdDpmLmxlZnR9KX0pfSxkcmFnOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWQodGhpcykuZGF0YSgiZHJhZ2dhYmxlIiksZj1jLm9wdGlvbnMsZT1mLnNuYXBUb2xlcmFuY2UsZz1iLm9mZnNldC5sZWZ0LG49ZytjLmhlbHBlclByb3BvcnRpb25zLndpZHRoLG09Yi5vZmZzZXQudG9wLG89bStjLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxoPQpjLnNuYXBFbGVtZW50cy5sZW5ndGgtMTtoPj0wO2gtLSl7dmFyIGk9Yy5zbmFwRWxlbWVudHNbaF0ubGVmdCxrPWkrYy5zbmFwRWxlbWVudHNbaF0ud2lkdGgsaj1jLnNuYXBFbGVtZW50c1toXS50b3AsbD1qK2Muc25hcEVsZW1lbnRzW2hdLmhlaWdodDtpZihpLWU8ZyYmZzxrK2UmJmotZTxtJiZtPGwrZXx8aS1lPGcmJmc8aytlJiZqLWU8byYmbzxsK2V8fGktZTxuJiZuPGsrZSYmai1lPG0mJm08bCtlfHxpLWU8biYmbjxrK2UmJmotZTxvJiZvPGwrZSl7aWYoZi5zbmFwTW9kZSE9ImlubmVyIil7dmFyIHA9TWF0aC5hYnMoai1vKTw9ZSxxPU1hdGguYWJzKGwtbSk8PWUscj1NYXRoLmFicyhpLW4pPD1lLHM9TWF0aC5hYnMoay1nKTw9ZTtpZihwKWIucG9zaXRpb24udG9wPWMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpqLWMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGxlZnQ6MH0pLnRvcC1jLm1hcmdpbnMudG9wO2lmKHEpYi5wb3NpdGlvbi50b3A9Yy5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIiwKe3RvcDpsLGxlZnQ6MH0pLnRvcC1jLm1hcmdpbnMudG9wO2lmKHIpYi5wb3NpdGlvbi5sZWZ0PWMuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6aS1jLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdC1jLm1hcmdpbnMubGVmdDtpZihzKWIucG9zaXRpb24ubGVmdD1jLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0Omt9KS5sZWZ0LWMubWFyZ2lucy5sZWZ0fXZhciB0PXB8fHF8fHJ8fHM7aWYoZi5zbmFwTW9kZSE9Im91dGVyIil7cD1NYXRoLmFicyhqLW0pPD1lO3E9TWF0aC5hYnMobC1vKTw9ZTtyPU1hdGguYWJzKGktZyk8PWU7cz1NYXRoLmFicyhrLW4pPD1lO2lmKHApYi5wb3NpdGlvbi50b3A9Yy5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmosbGVmdDowfSkudG9wLWMubWFyZ2lucy50b3A7aWYocSliLnBvc2l0aW9uLnRvcD1jLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bC1jLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCwKbGVmdDowfSkudG9wLWMubWFyZ2lucy50b3A7aWYociliLnBvc2l0aW9uLmxlZnQ9Yy5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDppfSkubGVmdC1jLm1hcmdpbnMubGVmdDtpZihzKWIucG9zaXRpb24ubGVmdD1jLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmstYy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQtYy5tYXJnaW5zLmxlZnR9aWYoIWMuc25hcEVsZW1lbnRzW2hdLnNuYXBwaW5nJiYocHx8cXx8cnx8c3x8dCkpYy5vcHRpb25zLnNuYXAuc25hcCYmYy5vcHRpb25zLnNuYXAuc25hcC5jYWxsKGMuZWxlbWVudCxhLGQuZXh0ZW5kKGMuX3VpSGFzaCgpLHtzbmFwSXRlbTpjLnNuYXBFbGVtZW50c1toXS5pdGVtfSkpO2Muc25hcEVsZW1lbnRzW2hdLnNuYXBwaW5nPXB8fHF8fHJ8fHN8fHR9ZWxzZXtjLnNuYXBFbGVtZW50c1toXS5zbmFwcGluZyYmYy5vcHRpb25zLnNuYXAucmVsZWFzZSYmYy5vcHRpb25zLnNuYXAucmVsZWFzZS5jYWxsKGMuZWxlbWVudCwKYSxkLmV4dGVuZChjLl91aUhhc2goKSx7c25hcEl0ZW06Yy5zbmFwRWxlbWVudHNbaF0uaXRlbX0pKTtjLnNuYXBFbGVtZW50c1toXS5zbmFwcGluZz1mYWxzZX19fX0pO2QudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic3RhY2siLHtzdGFydDpmdW5jdGlvbigpe3ZhciBhPWQodGhpcykuZGF0YSgiZHJhZ2dhYmxlIikub3B0aW9uczthPWQubWFrZUFycmF5KGQoYS5zdGFjaykpLnNvcnQoZnVuY3Rpb24oYyxmKXtyZXR1cm4ocGFyc2VJbnQoZChjKS5jc3MoInpJbmRleCIpLDEwKXx8MCktKHBhcnNlSW50KGQoZikuY3NzKCJ6SW5kZXgiKSwxMCl8fDApfSk7aWYoYS5sZW5ndGgpe3ZhciBiPXBhcnNlSW50KGFbMF0uc3R5bGUuekluZGV4KXx8MDtkKGEpLmVhY2goZnVuY3Rpb24oYyl7dGhpcy5zdHlsZS56SW5kZXg9YitjfSk7dGhpc1swXS5zdHlsZS56SW5kZXg9YithLmxlbmd0aH19fSk7ZC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJ6SW5kZXgiLHtzdGFydDpmdW5jdGlvbihhLApiKXthPWQoYi5oZWxwZXIpO2I9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2lmKGEuY3NzKCJ6SW5kZXgiKSliLl96SW5kZXg9YS5jc3MoInpJbmRleCIpO2EuY3NzKCJ6SW5kZXgiLGIuekluZGV4KX0sc3RvcDpmdW5jdGlvbihhLGIpe2E9ZCh0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2EuX3pJbmRleCYmZChiLmhlbHBlcikuY3NzKCJ6SW5kZXgiLGEuX3pJbmRleCl9fSl9KShqUXVlcnkpOwovKiBVSSBEcm9wcGFibGUgKi8KKGZ1bmN0aW9uKGQpe2Qud2lkZ2V0KCJ1aS5kcm9wcGFibGUiLHt3aWRnZXRFdmVudFByZWZpeDoiZHJvcCIsb3B0aW9uczp7YWNjZXB0OiIqIixhY3RpdmVDbGFzczpmYWxzZSxhZGRDbGFzc2VzOnRydWUsZ3JlZWR5OmZhbHNlLGhvdmVyQ2xhc3M6ZmFsc2Usc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0In0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPWEuYWNjZXB0O3RoaXMuaXNvdmVyPTA7dGhpcy5pc291dD0xO3RoaXMuYWNjZXB0PWQuaXNGdW5jdGlvbihiKT9iOmZ1bmN0aW9uKGMpe3JldHVybiBjLmlzKGIpfTt0aGlzLnByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9O2QudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbYS5zY29wZV09ZC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1thLnNjb3BlXXx8W107ZC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1thLnNjb3BlXS5wdXNoKHRoaXMpOwphLmFkZENsYXNzZXMmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZHJvcHBhYmxlIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0aGlzLm9wdGlvbnMuc2NvcGVdLGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdPT10aGlzJiZhLnNwbGljZShiLDEpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktZHJvcHBhYmxlIHVpLWRyb3BwYWJsZS1kaXNhYmxlZCIpLnJlbW92ZURhdGEoImRyb3BwYWJsZSIpLnVuYmluZCgiLmRyb3BwYWJsZSIpO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7aWYoYT09ImFjY2VwdCIpdGhpcy5hY2NlcHQ9ZC5pc0Z1bmN0aW9uKGIpP2I6ZnVuY3Rpb24oYyl7cmV0dXJuIGMuaXMoYil9O2QuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiYKdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7YiYmdGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLGEsdGhpcy51aShiKSl9LF9kZWFjdGl2YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtiJiZ0aGlzLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixhLHRoaXMudWkoYikpfSxfb3ZlcjpmdW5jdGlvbihhKXt2YXIgYj1kLnVpLmRkbWFuYWdlci5jdXJyZW50O2lmKCEoIWJ8fChiLmN1cnJlbnRJdGVtfHxiLmVsZW1lbnQpWzBdPT10aGlzLmVsZW1lbnRbMF0pKWlmKHRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGIuY3VycmVudEl0ZW18fGIuZWxlbWVudCkpe3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpOwp0aGlzLl90cmlnZ2VyKCJvdmVyIixhLHRoaXMudWkoYikpfX0sX291dDpmdW5jdGlvbihhKXt2YXIgYj1kLnVpLmRkbWFuYWdlci5jdXJyZW50O2lmKCEoIWJ8fChiLmN1cnJlbnRJdGVtfHxiLmVsZW1lbnQpWzBdPT10aGlzLmVsZW1lbnRbMF0pKWlmKHRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGIuY3VycmVudEl0ZW18fGIuZWxlbWVudCkpe3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpO3RoaXMuX3RyaWdnZXIoIm91dCIsYSx0aGlzLnVpKGIpKX19LF9kcm9wOmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8ZC51aS5kZG1hbmFnZXIuY3VycmVudDtpZighY3x8KGMuY3VycmVudEl0ZW18fGMuZWxlbWVudClbMF09PXRoaXMuZWxlbWVudFswXSlyZXR1cm4gZmFsc2U7dmFyIGU9ZmFsc2U7dGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKGRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9CmQuZGF0YSh0aGlzLCJkcm9wcGFibGUiKTtpZihnLm9wdGlvbnMuZ3JlZWR5JiYhZy5vcHRpb25zLmRpc2FibGVkJiZnLm9wdGlvbnMuc2NvcGU9PWMub3B0aW9ucy5zY29wZSYmZy5hY2NlcHQuY2FsbChnLmVsZW1lbnRbMF0sYy5jdXJyZW50SXRlbXx8Yy5lbGVtZW50KSYmZC51aS5pbnRlcnNlY3QoYyxkLmV4dGVuZChnLHtvZmZzZXQ6Zy5lbGVtZW50Lm9mZnNldCgpfSksZy5vcHRpb25zLnRvbGVyYW5jZSkpe2U9dHJ1ZTtyZXR1cm4gZmFsc2V9fSk7aWYoZSlyZXR1cm4gZmFsc2U7aWYodGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sYy5jdXJyZW50SXRlbXx8Yy5lbGVtZW50KSl7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTt0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKTt0aGlzLl90cmlnZ2VyKCJkcm9wIiwKYSx0aGlzLnVpKGMpKTtyZXR1cm4gdGhpcy5lbGVtZW50fXJldHVybiBmYWxzZX0sdWk6ZnVuY3Rpb24oYSl7cmV0dXJue2RyYWdnYWJsZTphLmN1cnJlbnRJdGVtfHxhLmVsZW1lbnQsaGVscGVyOmEuaGVscGVyLHBvc2l0aW9uOmEucG9zaXRpb24sb2Zmc2V0OmEucG9zaXRpb25BYnN9fX0pO2QuZXh0ZW5kKGQudWkuZHJvcHBhYmxlLHt2ZXJzaW9uOiIxLjguMTAifSk7ZC51aS5pbnRlcnNlY3Q9ZnVuY3Rpb24oYSxiLGMpe2lmKCFiLm9mZnNldClyZXR1cm4gZmFsc2U7dmFyIGU9KGEucG9zaXRpb25BYnN8fGEucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQsZz1lK2EuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsZj0oYS5wb3NpdGlvbkFic3x8YS5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wLGg9ZithLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxpPWIub2Zmc2V0LmxlZnQsaz1pK2IucHJvcG9ydGlvbnMud2lkdGgsaj1iLm9mZnNldC50b3AsbD1qK2IucHJvcG9ydGlvbnMuaGVpZ2h0Owpzd2l0Y2goYyl7Y2FzZSAiZml0IjpyZXR1cm4gaTw9ZSYmZzw9ayYmajw9ZiYmaDw9bDtjYXNlICJpbnRlcnNlY3QiOnJldHVybiBpPGUrYS5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZnLWEuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMjxrJiZqPGYrYS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMiYmaC1hLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yPGw7Y2FzZSAicG9pbnRlciI6cmV0dXJuIGQudWkuaXNPdmVyKChhLnBvc2l0aW9uQWJzfHxhLnBvc2l0aW9uLmFic29sdXRlKS50b3ArKGEuY2xpY2tPZmZzZXR8fGEub2Zmc2V0LmNsaWNrKS50b3AsKGEucG9zaXRpb25BYnN8fGEucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQrKGEuY2xpY2tPZmZzZXR8fGEub2Zmc2V0LmNsaWNrKS5sZWZ0LGosaSxiLnByb3BvcnRpb25zLmhlaWdodCxiLnByb3BvcnRpb25zLndpZHRoKTtjYXNlICJ0b3VjaCI6cmV0dXJuKGY+PWomJmY8PWx8fGg+PWomJmg8PWx8fGY8aiYmaD5sKSYmKGU+PQppJiZlPD1rfHxnPj1pJiZnPD1rfHxlPGkmJmc+ayk7ZGVmYXVsdDpyZXR1cm4gZmFsc2V9fTtkLnVpLmRkbWFuYWdlcj17Y3VycmVudDpudWxsLGRyb3BwYWJsZXM6eyJkZWZhdWx0IjpbXX0scHJlcGFyZU9mZnNldHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2Eub3B0aW9ucy5zY29wZV18fFtdLGU9Yj9iLnR5cGU6bnVsbCxnPShhLmN1cnJlbnRJdGVtfHxhLmVsZW1lbnQpLmZpbmQoIjpkYXRhKGRyb3BwYWJsZSkiKS5hbmRTZWxmKCksZj0wO2E6Zm9yKDtmPGMubGVuZ3RoO2YrKylpZighKGNbZl0ub3B0aW9ucy5kaXNhYmxlZHx8YSYmIWNbZl0uYWNjZXB0LmNhbGwoY1tmXS5lbGVtZW50WzBdLGEuY3VycmVudEl0ZW18fGEuZWxlbWVudCkpKXtmb3IodmFyIGg9MDtoPGcubGVuZ3RoO2grKylpZihnW2hdPT1jW2ZdLmVsZW1lbnRbMF0pe2NbZl0ucHJvcG9ydGlvbnMuaGVpZ2h0PTA7Y29udGludWUgYX1jW2ZdLnZpc2libGU9Y1tmXS5lbGVtZW50LmNzcygiZGlzcGxheSIpIT0KIm5vbmUiO2lmKGNbZl0udmlzaWJsZSl7Y1tmXS5vZmZzZXQ9Y1tmXS5lbGVtZW50Lm9mZnNldCgpO2NbZl0ucHJvcG9ydGlvbnM9e3dpZHRoOmNbZl0uZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6Y1tmXS5lbGVtZW50WzBdLm9mZnNldEhlaWdodH07ZT09Im1vdXNlZG93biImJmNbZl0uX2FjdGl2YXRlLmNhbGwoY1tmXSxiKX19fSxkcm9wOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZmFsc2U7ZC5lYWNoKGQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbYS5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmZC51aS5pbnRlcnNlY3QoYSx0aGlzLHRoaXMub3B0aW9ucy50b2xlcmFuY2UpKWM9Y3x8dGhpcy5fZHJvcC5jYWxsKHRoaXMsYik7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy52aXNpYmxlJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxhLmN1cnJlbnRJdGVtfHwKYS5lbGVtZW50KSl7dGhpcy5pc291dD0xO3RoaXMuaXNvdmVyPTA7dGhpcy5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMsYil9fX0pO3JldHVybiBjfSxkcmFnOmZ1bmN0aW9uKGEsYil7YS5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJmQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKGEsYik7ZC5lYWNoKGQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbYS5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5ncmVlZHlDaGlsZHx8IXRoaXMudmlzaWJsZSkpe3ZhciBjPWQudWkuaW50ZXJzZWN0KGEsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlKTtpZihjPSFjJiZ0aGlzLmlzb3Zlcj09MT8iaXNvdXQiOmMmJnRoaXMuaXNvdmVyPT0wPyJpc292ZXIiOm51bGwpe3ZhciBlO2lmKHRoaXMub3B0aW9ucy5ncmVlZHkpe3ZhciBnPXRoaXMuZWxlbWVudC5wYXJlbnRzKCI6ZGF0YShkcm9wcGFibGUpOmVxKDApIik7aWYoZy5sZW5ndGgpe2U9CmQuZGF0YShnWzBdLCJkcm9wcGFibGUiKTtlLmdyZWVkeUNoaWxkPWM9PSJpc292ZXIiPzE6MH19aWYoZSYmYz09Imlzb3ZlciIpe2UuaXNvdmVyPTA7ZS5pc291dD0xO2UuX291dC5jYWxsKGUsYil9dGhpc1tjXT0xO3RoaXNbYz09Imlzb3V0Ij8iaXNvdmVyIjoiaXNvdXQiXT0wO3RoaXNbYz09Imlzb3ZlciI/Il9vdmVyIjoiX291dCJdLmNhbGwodGhpcyxiKTtpZihlJiZjPT0iaXNvdXQiKXtlLmlzb3V0PTA7ZS5pc292ZXI9MTtlLl9vdmVyLmNhbGwoZSxiKX19fX0pfX19KShqUXVlcnkpOwovKiBVSSBSZXNpemFibGUgKi8KKGZ1bmN0aW9uKGUpe2Uud2lkZ2V0KCJ1aS5yZXNpemFibGUiLGUudWkubW91c2Use3dpZGdldEV2ZW50UHJlZml4OiJyZXNpemUiLG9wdGlvbnM6e2Fsc29SZXNpemU6ZmFsc2UsYW5pbWF0ZTpmYWxzZSxhbmltYXRlRHVyYXRpb246InNsb3ciLGFuaW1hdGVFYXNpbmc6InN3aW5nIixhc3BlY3RSYXRpbzpmYWxzZSxhdXRvSGlkZTpmYWxzZSxjb250YWlubWVudDpmYWxzZSxnaG9zdDpmYWxzZSxncmlkOmZhbHNlLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOmZhbHNlLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDoxRTN9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9dGhpcy5vcHRpb25zO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcmVzaXphYmxlIik7ZS5leHRlbmQodGhpcyx7X2FzcGVjdFJhdGlvOiEhYS5hc3BlY3RSYXRpbyxhc3BlY3RSYXRpbzphLmFzcGVjdFJhdGlvLG9yaWdpbmFsRWxlbWVudDp0aGlzLmVsZW1lbnQsCl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzOltdLF9oZWxwZXI6YS5oZWxwZXJ8fGEuZ2hvc3R8fGEuYW5pbWF0ZT9hLmhlbHBlcnx8InVpLXJlc2l6YWJsZS1oZWxwZXIiOm51bGx9KTtpZih0aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL2NhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZy9pKSl7L3JlbGF0aXZlLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIikpJiZlLmJyb3dzZXIub3BlcmEmJnRoaXMuZWxlbWVudC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOiJhdXRvIixsZWZ0OiJhdXRvIn0pO3RoaXMuZWxlbWVudC53cmFwKGUoJzxkaXYgY2xhc3M9InVpLXdyYXBwZXIiIHN0eWxlPSJvdmVyZmxvdzogaGlkZGVuOyI+PC9kaXY+JykuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLAp0b3A6dGhpcy5lbGVtZW50LmNzcygidG9wIiksbGVmdDp0aGlzLmVsZW1lbnQuY3NzKCJsZWZ0Iil9KSk7dGhpcy5lbGVtZW50PXRoaXMuZWxlbWVudC5wYXJlbnQoKS5kYXRhKCJyZXNpemFibGUiLHRoaXMuZWxlbWVudC5kYXRhKCJyZXNpemFibGUiKSk7dGhpcy5lbGVtZW50SXNXcmFwcGVyPXRydWU7dGhpcy5lbGVtZW50LmNzcyh7bWFyZ2luTGVmdDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5Ub3A6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5SaWdodDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblJpZ2h0IiksbWFyZ2luQm90dG9tOnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luQm90dG9tIil9KTt0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe21hcmdpbkxlZnQ6MCxtYXJnaW5Ub3A6MCxtYXJnaW5SaWdodDowLG1hcmdpbkJvdHRvbTowfSk7dGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlPQp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIpO3RoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIiwibm9uZSIpO3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMucHVzaCh0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe3Bvc2l0aW9uOiJzdGF0aWMiLHpvb206MSxkaXNwbGF5OiJibG9jayJ9KSk7dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHttYXJnaW46dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW4iKX0pO3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCl9dGhpcy5oYW5kbGVzPWEuaGFuZGxlc3x8KCFlKCIudWktcmVzaXphYmxlLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5sZW5ndGg/ImUscyxzZSI6e246Ii51aS1yZXNpemFibGUtbiIsZToiLnVpLXJlc2l6YWJsZS1lIixzOiIudWktcmVzaXphYmxlLXMiLHc6Ii51aS1yZXNpemFibGUtdyIsc2U6Ii51aS1yZXNpemFibGUtc2UiLHN3OiIudWktcmVzaXphYmxlLXN3IixuZToiLnVpLXJlc2l6YWJsZS1uZSIsCm53OiIudWktcmVzaXphYmxlLW53In0pO2lmKHRoaXMuaGFuZGxlcy5jb25zdHJ1Y3Rvcj09U3RyaW5nKXtpZih0aGlzLmhhbmRsZXM9PSJhbGwiKXRoaXMuaGFuZGxlcz0ibixlLHMsdyxzZSxzdyxuZSxudyI7dmFyIGM9dGhpcy5oYW5kbGVzLnNwbGl0KCIsIik7dGhpcy5oYW5kbGVzPXt9O2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZj1lLnRyaW0oY1tkXSksZz1lKCc8ZGl2IGNsYXNzPSJ1aS1yZXNpemFibGUtaGFuZGxlICcrKCJ1aS1yZXNpemFibGUtIitmKSsnIj48L2Rpdj4nKTsvc3d8c2V8bmV8bncvLnRlc3QoZikmJmcuY3NzKHt6SW5kZXg6KythLnpJbmRleH0pOyJzZSI9PWYmJmcuYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UiKTt0aGlzLmhhbmRsZXNbZl09Ii51aS1yZXNpemFibGUtIitmO3RoaXMuZWxlbWVudC5hcHBlbmQoZyl9fXRoaXMuX3JlbmRlckF4aXM9ZnVuY3Rpb24oaCl7aD1ofHx0aGlzLmVsZW1lbnQ7Zm9yKHZhciBpIGluIHRoaXMuaGFuZGxlcyl7aWYodGhpcy5oYW5kbGVzW2ldLmNvbnN0cnVjdG9yPT0KU3RyaW5nKXRoaXMuaGFuZGxlc1tpXT1lKHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLnNob3coKTtpZih0aGlzLmVsZW1lbnRJc1dyYXBwZXImJnRoaXMub3JpZ2luYWxFbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC90ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9uL2kpKXt2YXIgaj1lKHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLGs9MDtrPS9zd3xuZXxud3xzZXxufHMvLnRlc3QoaSk/ai5vdXRlckhlaWdodCgpOmoub3V0ZXJXaWR0aCgpO2o9WyJwYWRkaW5nIiwvbmV8bnd8bi8udGVzdChpKT8iVG9wIjovc2V8c3d8cy8udGVzdChpKT8iQm90dG9tIjovXmUkLy50ZXN0KGkpPyJSaWdodCI6IkxlZnQiXS5qb2luKCIiKTtoLmNzcyhqLGspO3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCl9ZSh0aGlzLmhhbmRsZXNbaV0pfX07dGhpcy5fcmVuZGVyQXhpcyh0aGlzLmVsZW1lbnQpO3RoaXMuX2hhbmRsZXM9ZSgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLHRoaXMuZWxlbWVudCkuZGlzYWJsZVNlbGVjdGlvbigpOwp0aGlzLl9oYW5kbGVzLm1vdXNlb3ZlcihmdW5jdGlvbigpe2lmKCFiLnJlc2l6aW5nKXtpZih0aGlzLmNsYXNzTmFtZSl2YXIgaD10aGlzLmNsYXNzTmFtZS5tYXRjaCgvdWktcmVzaXphYmxlLShzZXxzd3xuZXxud3xufGV8c3x3KS9pKTtiLmF4aXM9aCYmaFsxXT9oWzFdOiJzZSJ9fSk7aWYoYS5hdXRvSGlkZSl7dGhpcy5faGFuZGxlcy5oaWRlKCk7ZSh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKS5ob3ZlcihmdW5jdGlvbigpe2UodGhpcykucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpO2IuX2hhbmRsZXMuc2hvdygpfSxmdW5jdGlvbigpe2lmKCFiLnJlc2l6aW5nKXtlKHRoaXMpLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKTtiLl9oYW5kbGVzLmhpZGUoKX19KX10aGlzLl9tb3VzZUluaXQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpO3ZhciBiPWZ1bmN0aW9uKGMpe2UoYykucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZSB1aS1yZXNpemFibGUtZGlzYWJsZWQgdWktcmVzaXphYmxlLXJlc2l6aW5nIikucmVtb3ZlRGF0YSgicmVzaXphYmxlIikudW5iaW5kKCIucmVzaXphYmxlIikuZmluZCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKS5yZW1vdmUoKX07CmlmKHRoaXMuZWxlbWVudElzV3JhcHBlcil7Yih0aGlzLmVsZW1lbnQpO3ZhciBhPXRoaXMuZWxlbWVudDthLmFmdGVyKHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246YS5jc3MoInBvc2l0aW9uIiksd2lkdGg6YS5vdXRlcldpZHRoKCksaGVpZ2h0OmEub3V0ZXJIZWlnaHQoKSx0b3A6YS5jc3MoInRvcCIpLGxlZnQ6YS5jc3MoImxlZnQiKX0pKS5yZW1vdmUoKX10aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlKTtiKHRoaXMub3JpZ2luYWxFbGVtZW50KTtyZXR1cm4gdGhpc30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihiKXt2YXIgYT1mYWxzZTtmb3IodmFyIGMgaW4gdGhpcy5oYW5kbGVzKWlmKGUodGhpcy5oYW5kbGVzW2NdKVswXT09Yi50YXJnZXQpYT10cnVlO3JldHVybiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJmF9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMub3B0aW9ucyxjPXRoaXMuZWxlbWVudC5wb3NpdGlvbigpLApkPXRoaXMuZWxlbWVudDt0aGlzLnJlc2l6aW5nPXRydWU7dGhpcy5kb2N1bWVudFNjcm9sbD17dG9wOmUoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLGxlZnQ6ZShkb2N1bWVudCkuc2Nyb2xsTGVmdCgpfTtpZihkLmlzKCIudWktZHJhZ2dhYmxlIil8fC9hYnNvbHV0ZS8udGVzdChkLmNzcygicG9zaXRpb24iKSkpZC5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOmMudG9wLGxlZnQ6Yy5sZWZ0fSk7ZS5icm93c2VyLm9wZXJhJiYvcmVsYXRpdmUvLnRlc3QoZC5jc3MoInBvc2l0aW9uIikpJiZkLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6ImF1dG8iLGxlZnQ6ImF1dG8ifSk7dGhpcy5fcmVuZGVyUHJveHkoKTtjPW0odGhpcy5oZWxwZXIuY3NzKCJsZWZ0IikpO3ZhciBmPW0odGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSk7aWYoYS5jb250YWlubWVudCl7Yys9ZShhLmNvbnRhaW5tZW50KS5zY3JvbGxMZWZ0KCl8fDA7Zis9ZShhLmNvbnRhaW5tZW50KS5zY3JvbGxUb3AoKXx8MH10aGlzLm9mZnNldD0KdGhpcy5oZWxwZXIub2Zmc2V0KCk7dGhpcy5wb3NpdGlvbj17bGVmdDpjLHRvcDpmfTt0aGlzLnNpemU9dGhpcy5faGVscGVyP3t3aWR0aDpkLm91dGVyV2lkdGgoKSxoZWlnaHQ6ZC5vdXRlckhlaWdodCgpfTp7d2lkdGg6ZC53aWR0aCgpLGhlaWdodDpkLmhlaWdodCgpfTt0aGlzLm9yaWdpbmFsU2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOmQub3V0ZXJXaWR0aCgpLGhlaWdodDpkLm91dGVySGVpZ2h0KCl9Ont3aWR0aDpkLndpZHRoKCksaGVpZ2h0OmQuaGVpZ2h0KCl9O3RoaXMub3JpZ2luYWxQb3NpdGlvbj17bGVmdDpjLHRvcDpmfTt0aGlzLnNpemVEaWZmPXt3aWR0aDpkLm91dGVyV2lkdGgoKS1kLndpZHRoKCksaGVpZ2h0OmQub3V0ZXJIZWlnaHQoKS1kLmhlaWdodCgpfTt0aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbj17bGVmdDpiLnBhZ2VYLHRvcDpiLnBhZ2VZfTt0aGlzLmFzcGVjdFJhdGlvPXR5cGVvZiBhLmFzcGVjdFJhdGlvPT0ibnVtYmVyIj9hLmFzcGVjdFJhdGlvOgp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aC90aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHR8fDE7YT1lKCIudWktcmVzaXphYmxlLSIrdGhpcy5heGlzKS5jc3MoImN1cnNvciIpO2UoImJvZHkiKS5jc3MoImN1cnNvciIsYT09ImF1dG8iP3RoaXMuYXhpcysiLXJlc2l6ZSI6YSk7ZC5hZGRDbGFzcygidWktcmVzaXphYmxlLXJlc2l6aW5nIik7dGhpcy5fcHJvcGFnYXRlKCJzdGFydCIsYik7cmV0dXJuIHRydWV9LF9tb3VzZURyYWc6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5oZWxwZXIsYz10aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbixkPXRoaXMuX2NoYW5nZVt0aGlzLmF4aXNdO2lmKCFkKXJldHVybiBmYWxzZTtjPWQuYXBwbHkodGhpcyxbYixiLnBhZ2VYLWMubGVmdHx8MCxiLnBhZ2VZLWMudG9wfHwwXSk7aWYodGhpcy5fYXNwZWN0UmF0aW98fGIuc2hpZnRLZXkpYz10aGlzLl91cGRhdGVSYXRpbyhjLGIpO2M9dGhpcy5fcmVzcGVjdFNpemUoYyxiKTt0aGlzLl9wcm9wYWdhdGUoInJlc2l6ZSIsCmIpO2EuY3NzKHt0b3A6dGhpcy5wb3NpdGlvbi50b3ArInB4IixsZWZ0OnRoaXMucG9zaXRpb24ubGVmdCsicHgiLHdpZHRoOnRoaXMuc2l6ZS53aWR0aCsicHgiLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0KyJweCJ9KTshdGhpcy5faGVscGVyJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKTt0aGlzLl91cGRhdGVDYWNoZShjKTt0aGlzLl90cmlnZ2VyKCJyZXNpemUiLGIsdGhpcy51aSgpKTtyZXR1cm4gZmFsc2V9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oYil7dGhpcy5yZXNpemluZz1mYWxzZTt2YXIgYT10aGlzLm9wdGlvbnMsYz10aGlzO2lmKHRoaXMuX2hlbHBlcil7dmFyIGQ9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyxmPWQubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KGRbMF0ubm9kZU5hbWUpO2Q9ZiYmZS51aS5oYXNTY3JvbGwoZFswXSwibGVmdCIpPzA6Yy5zaXplRGlmZi5oZWlnaHQ7CmY9Zj8wOmMuc2l6ZURpZmYud2lkdGg7Zj17d2lkdGg6Yy5oZWxwZXIud2lkdGgoKS1mLGhlaWdodDpjLmhlbHBlci5oZWlnaHQoKS1kfTtkPXBhcnNlSW50KGMuZWxlbWVudC5jc3MoImxlZnQiKSwxMCkrKGMucG9zaXRpb24ubGVmdC1jLm9yaWdpbmFsUG9zaXRpb24ubGVmdCl8fG51bGw7dmFyIGc9cGFyc2VJbnQoYy5lbGVtZW50LmNzcygidG9wIiksMTApKyhjLnBvc2l0aW9uLnRvcC1jLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbDthLmFuaW1hdGV8fHRoaXMuZWxlbWVudC5jc3MoZS5leHRlbmQoZix7dG9wOmcsbGVmdDpkfSkpO2MuaGVscGVyLmhlaWdodChjLnNpemUuaGVpZ2h0KTtjLmhlbHBlci53aWR0aChjLnNpemUud2lkdGgpO3RoaXMuX2hlbHBlciYmIWEuYW5pbWF0ZSYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKX1lKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIik7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKTsKdGhpcy5fcHJvcGFnYXRlKCJzdG9wIixiKTt0aGlzLl9oZWxwZXImJnRoaXMuaGVscGVyLnJlbW92ZSgpO3JldHVybiBmYWxzZX0sX3VwZGF0ZUNhY2hlOmZ1bmN0aW9uKGIpe3RoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpO2lmKGwoYi5sZWZ0KSl0aGlzLnBvc2l0aW9uLmxlZnQ9Yi5sZWZ0O2lmKGwoYi50b3ApKXRoaXMucG9zaXRpb24udG9wPWIudG9wO2lmKGwoYi5oZWlnaHQpKXRoaXMuc2l6ZS5oZWlnaHQ9Yi5oZWlnaHQ7aWYobChiLndpZHRoKSl0aGlzLnNpemUud2lkdGg9Yi53aWR0aH0sX3VwZGF0ZVJhdGlvOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMucG9zaXRpb24sYz10aGlzLnNpemUsZD10aGlzLmF4aXM7aWYoYi5oZWlnaHQpYi53aWR0aD1jLmhlaWdodCp0aGlzLmFzcGVjdFJhdGlvO2Vsc2UgaWYoYi53aWR0aCliLmhlaWdodD1jLndpZHRoL3RoaXMuYXNwZWN0UmF0aW87aWYoZD09InN3Iil7Yi5sZWZ0PWEubGVmdCsoYy53aWR0aC1iLndpZHRoKTtiLnRvcD0KbnVsbH1pZihkPT0ibnciKXtiLnRvcD1hLnRvcCsoYy5oZWlnaHQtYi5oZWlnaHQpO2IubGVmdD1hLmxlZnQrKGMud2lkdGgtYi53aWR0aCl9cmV0dXJuIGJ9LF9yZXNwZWN0U2l6ZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzLm9wdGlvbnMsYz10aGlzLmF4aXMsZD1sKGIud2lkdGgpJiZhLm1heFdpZHRoJiZhLm1heFdpZHRoPGIud2lkdGgsZj1sKGIuaGVpZ2h0KSYmYS5tYXhIZWlnaHQmJmEubWF4SGVpZ2h0PGIuaGVpZ2h0LGc9bChiLndpZHRoKSYmYS5taW5XaWR0aCYmYS5taW5XaWR0aD5iLndpZHRoLGg9bChiLmhlaWdodCkmJmEubWluSGVpZ2h0JiZhLm1pbkhlaWdodD5iLmhlaWdodDtpZihnKWIud2lkdGg9YS5taW5XaWR0aDtpZihoKWIuaGVpZ2h0PWEubWluSGVpZ2h0O2lmKGQpYi53aWR0aD1hLm1heFdpZHRoO2lmKGYpYi5oZWlnaHQ9YS5tYXhIZWlnaHQ7dmFyIGk9dGhpcy5vcmlnaW5hbFBvc2l0aW9uLmxlZnQrdGhpcy5vcmlnaW5hbFNpemUud2lkdGgsaj10aGlzLnBvc2l0aW9uLnRvcCsKdGhpcy5zaXplLmhlaWdodCxrPS9zd3xud3x3Ly50ZXN0KGMpO2M9L253fG5lfG4vLnRlc3QoYyk7aWYoZyYmayliLmxlZnQ9aS1hLm1pbldpZHRoO2lmKGQmJmspYi5sZWZ0PWktYS5tYXhXaWR0aDtpZihoJiZjKWIudG9wPWotYS5taW5IZWlnaHQ7aWYoZiYmYyliLnRvcD1qLWEubWF4SGVpZ2h0O2lmKChhPSFiLndpZHRoJiYhYi5oZWlnaHQpJiYhYi5sZWZ0JiZiLnRvcCliLnRvcD1udWxsO2Vsc2UgaWYoYSYmIWIudG9wJiZiLmxlZnQpYi5sZWZ0PW51bGw7cmV0dXJuIGJ9LF9wcm9wb3J0aW9uYWxseVJlc2l6ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoKWZvcih2YXIgYj10aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50LGE9MDthPHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoO2ErKyl7dmFyIGM9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50c1thXTtpZighdGhpcy5ib3JkZXJEaWYpe3ZhciBkPQpbYy5jc3MoImJvcmRlclRvcFdpZHRoIiksYy5jc3MoImJvcmRlclJpZ2h0V2lkdGgiKSxjLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSxjLmNzcygiYm9yZGVyTGVmdFdpZHRoIildLGY9W2MuY3NzKCJwYWRkaW5nVG9wIiksYy5jc3MoInBhZGRpbmdSaWdodCIpLGMuY3NzKCJwYWRkaW5nQm90dG9tIiksYy5jc3MoInBhZGRpbmdMZWZ0IildO3RoaXMuYm9yZGVyRGlmPWUubWFwKGQsZnVuY3Rpb24oZyxoKXtnPXBhcnNlSW50KGcsMTApfHwwO2g9cGFyc2VJbnQoZltoXSwxMCl8fDA7cmV0dXJuIGcraH0pfWUuYnJvd3Nlci5tc2llJiYoZShiKS5pcygiOmhpZGRlbiIpfHxlKGIpLnBhcmVudHMoIjpoaWRkZW4iKS5sZW5ndGgpfHxjLmNzcyh7aGVpZ2h0OmIuaGVpZ2h0KCktdGhpcy5ib3JkZXJEaWZbMF0tdGhpcy5ib3JkZXJEaWZbMl18fDAsd2lkdGg6Yi53aWR0aCgpLXRoaXMuYm9yZGVyRGlmWzFdLXRoaXMuYm9yZGVyRGlmWzNdfHwwfSl9fSxfcmVuZGVyUHJveHk6ZnVuY3Rpb24oKXt2YXIgYj0KdGhpcy5vcHRpb25zO3RoaXMuZWxlbWVudE9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCk7aWYodGhpcy5faGVscGVyKXt0aGlzLmhlbHBlcj10aGlzLmhlbHBlcnx8ZSgnPGRpdiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuOyI+PC9kaXY+Jyk7dmFyIGE9ZS5icm93c2VyLm1zaWUmJmUuYnJvd3Nlci52ZXJzaW9uPDcsYz1hPzE6MDthPWE/MjotMTt0aGlzLmhlbHBlci5hZGRDbGFzcyh0aGlzLl9oZWxwZXIpLmNzcyh7d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSthLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSthLHBvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDp0aGlzLmVsZW1lbnRPZmZzZXQubGVmdC1jKyJweCIsdG9wOnRoaXMuZWxlbWVudE9mZnNldC50b3AtYysicHgiLHpJbmRleDorK2IuekluZGV4fSk7dGhpcy5oZWxwZXIuYXBwZW5kVG8oImJvZHkiKS5kaXNhYmxlU2VsZWN0aW9uKCl9ZWxzZSB0aGlzLmhlbHBlcj10aGlzLmVsZW1lbnR9LF9jaGFuZ2U6e2U6ZnVuY3Rpb24oYiwKYSl7cmV0dXJue3dpZHRoOnRoaXMub3JpZ2luYWxTaXplLndpZHRoK2F9fSx3OmZ1bmN0aW9uKGIsYSl7cmV0dXJue2xlZnQ6dGhpcy5vcmlnaW5hbFBvc2l0aW9uLmxlZnQrYSx3aWR0aDp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aC1hfX0sbjpmdW5jdGlvbihiLGEsYyl7cmV0dXJue3RvcDp0aGlzLm9yaWdpbmFsUG9zaXRpb24udG9wK2MsaGVpZ2h0OnRoaXMub3JpZ2luYWxTaXplLmhlaWdodC1jfX0sczpmdW5jdGlvbihiLGEsYyl7cmV0dXJue2hlaWdodDp0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQrY319LHNlOmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gZS5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsW2IsYSxjXSkpfSxzdzpmdW5jdGlvbihiLGEsYyl7cmV0dXJuIGUuZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLFtiLGEsCmNdKSl9LG5lOmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gZS5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsW2IsYSxjXSkpfSxudzpmdW5jdGlvbihiLGEsYyl7cmV0dXJuIGUuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLFtiLGEsY10pKX19LF9wcm9wYWdhdGU6ZnVuY3Rpb24oYixhKXtlLnVpLnBsdWdpbi5jYWxsKHRoaXMsYixbYSx0aGlzLnVpKCldKTtiIT0icmVzaXplIiYmdGhpcy5fdHJpZ2dlcihiLGEsdGhpcy51aSgpKX0scGx1Z2luczp7fSx1aTpmdW5jdGlvbigpe3JldHVybntvcmlnaW5hbEVsZW1lbnQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQsZWxlbWVudDp0aGlzLmVsZW1lbnQsaGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sc2l6ZTp0aGlzLnNpemUsb3JpZ2luYWxTaXplOnRoaXMub3JpZ2luYWxTaXplLApvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbn19fSk7ZS5leHRlbmQoZS51aS5yZXNpemFibGUse3ZlcnNpb246IjEuOC4xMCJ9KTtlLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFsc29SZXNpemUiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBiPWUodGhpcykuZGF0YSgicmVzaXphYmxlIikub3B0aW9ucyxhPWZ1bmN0aW9uKGMpe2UoYykuZWFjaChmdW5jdGlvbigpe3ZhciBkPWUodGhpcyk7ZC5kYXRhKCJyZXNpemFibGUtYWxzb3Jlc2l6ZSIse3dpZHRoOnBhcnNlSW50KGQud2lkdGgoKSwxMCksaGVpZ2h0OnBhcnNlSW50KGQuaGVpZ2h0KCksMTApLGxlZnQ6cGFyc2VJbnQoZC5jc3MoImxlZnQiKSwxMCksdG9wOnBhcnNlSW50KGQuY3NzKCJ0b3AiKSwxMCkscG9zaXRpb246ZC5jc3MoInBvc2l0aW9uIil9KX0pfTtpZih0eXBlb2YgYi5hbHNvUmVzaXplPT0ib2JqZWN0IiYmIWIuYWxzb1Jlc2l6ZS5wYXJlbnROb2RlKWlmKGIuYWxzb1Jlc2l6ZS5sZW5ndGgpe2IuYWxzb1Jlc2l6ZT0KYi5hbHNvUmVzaXplWzBdO2EoYi5hbHNvUmVzaXplKX1lbHNlIGUuZWFjaChiLmFsc29SZXNpemUsZnVuY3Rpb24oYyl7YShjKX0pO2Vsc2UgYShiLmFsc29SZXNpemUpfSxyZXNpemU6ZnVuY3Rpb24oYixhKXt2YXIgYz1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpO2I9Yy5vcHRpb25zO3ZhciBkPWMub3JpZ2luYWxTaXplLGY9Yy5vcmlnaW5hbFBvc2l0aW9uLGc9e2hlaWdodDpjLnNpemUuaGVpZ2h0LWQuaGVpZ2h0fHwwLHdpZHRoOmMuc2l6ZS53aWR0aC1kLndpZHRofHwwLHRvcDpjLnBvc2l0aW9uLnRvcC1mLnRvcHx8MCxsZWZ0OmMucG9zaXRpb24ubGVmdC1mLmxlZnR8fDB9LGg9ZnVuY3Rpb24oaSxqKXtlKGkpLmVhY2goZnVuY3Rpb24oKXt2YXIgaz1lKHRoaXMpLHE9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUtYWxzb3Jlc2l6ZSIpLHA9e30scj1qJiZqLmxlbmd0aD9qOmsucGFyZW50cyhhLm9yaWdpbmFsRWxlbWVudFswXSkubGVuZ3RoP1sid2lkdGgiLCJoZWlnaHQiXTpbIndpZHRoIiwKImhlaWdodCIsInRvcCIsImxlZnQiXTtlLmVhY2gocixmdW5jdGlvbihuLG8pe2lmKChuPShxW29dfHwwKSsoZ1tvXXx8MCkpJiZuPj0wKXBbb109bnx8bnVsbH0pO2lmKGUuYnJvd3Nlci5vcGVyYSYmL3JlbGF0aXZlLy50ZXN0KGsuY3NzKCJwb3NpdGlvbiIpKSl7Yy5fcmV2ZXJ0VG9SZWxhdGl2ZVBvc2l0aW9uPXRydWU7ay5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOiJhdXRvIixsZWZ0OiJhdXRvIn0pfWsuY3NzKHApfSl9O3R5cGVvZiBiLmFsc29SZXNpemU9PSJvYmplY3QiJiYhYi5hbHNvUmVzaXplLm5vZGVUeXBlP2UuZWFjaChiLmFsc29SZXNpemUsZnVuY3Rpb24oaSxqKXtoKGksail9KTpoKGIuYWxzb1Jlc2l6ZSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgYj1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpLGE9Yi5vcHRpb25zLGM9ZnVuY3Rpb24oZCl7ZShkKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGY9ZSh0aGlzKTtmLmNzcyh7cG9zaXRpb246Zi5kYXRhKCJyZXNpemFibGUtYWxzb3Jlc2l6ZSIpLnBvc2l0aW9ufSl9KX07CmlmKGIuX3JldmVydFRvUmVsYXRpdmVQb3NpdGlvbil7Yi5fcmV2ZXJ0VG9SZWxhdGl2ZVBvc2l0aW9uPWZhbHNlO3R5cGVvZiBhLmFsc29SZXNpemU9PSJvYmplY3QiJiYhYS5hbHNvUmVzaXplLm5vZGVUeXBlP2UuZWFjaChhLmFsc29SZXNpemUsZnVuY3Rpb24oZCl7YyhkKX0pOmMoYS5hbHNvUmVzaXplKX1lKHRoaXMpLnJlbW92ZURhdGEoInJlc2l6YWJsZS1hbHNvcmVzaXplIil9fSk7ZS51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJhbmltYXRlIix7c3RvcDpmdW5jdGlvbihiKXt2YXIgYT1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpLGM9YS5vcHRpb25zLGQ9YS5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyxmPWQubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KGRbMF0ubm9kZU5hbWUpLGc9ZiYmZS51aS5oYXNTY3JvbGwoZFswXSwibGVmdCIpPzA6YS5zaXplRGlmZi5oZWlnaHQ7Zj17d2lkdGg6YS5zaXplLndpZHRoLShmPzA6YS5zaXplRGlmZi53aWR0aCksaGVpZ2h0OmEuc2l6ZS5oZWlnaHQtCmd9O2c9cGFyc2VJbnQoYS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsoYS5wb3NpdGlvbi5sZWZ0LWEub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbDt2YXIgaD1wYXJzZUludChhLmVsZW1lbnQuY3NzKCJ0b3AiKSwxMCkrKGEucG9zaXRpb24udG9wLWEub3JpZ2luYWxQb3NpdGlvbi50b3ApfHxudWxsO2EuZWxlbWVudC5hbmltYXRlKGUuZXh0ZW5kKGYsaCYmZz97dG9wOmgsbGVmdDpnfTp7fSkse2R1cmF0aW9uOmMuYW5pbWF0ZUR1cmF0aW9uLGVhc2luZzpjLmFuaW1hdGVFYXNpbmcsc3RlcDpmdW5jdGlvbigpe3ZhciBpPXt3aWR0aDpwYXJzZUludChhLmVsZW1lbnQuY3NzKCJ3aWR0aCIpLDEwKSxoZWlnaHQ6cGFyc2VJbnQoYS5lbGVtZW50LmNzcygiaGVpZ2h0IiksMTApLHRvcDpwYXJzZUludChhLmVsZW1lbnQuY3NzKCJ0b3AiKSwxMCksbGVmdDpwYXJzZUludChhLmVsZW1lbnQuY3NzKCJsZWZ0IiksMTApfTtkJiZkLmxlbmd0aCYmZShkWzBdKS5jc3Moe3dpZHRoOmkud2lkdGgsCmhlaWdodDppLmhlaWdodH0pO2EuX3VwZGF0ZUNhY2hlKGkpO2EuX3Byb3BhZ2F0ZSgicmVzaXplIixiKX19KX19KTtlLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImNvbnRhaW5tZW50Iix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgYj1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpLGE9Yi5lbGVtZW50LGM9Yi5vcHRpb25zLmNvbnRhaW5tZW50O2lmKGE9YyBpbnN0YW5jZW9mIGU/Yy5nZXQoMCk6L3BhcmVudC8udGVzdChjKT9hLnBhcmVudCgpLmdldCgwKTpjKXtiLmNvbnRhaW5lckVsZW1lbnQ9ZShhKTtpZigvZG9jdW1lbnQvLnRlc3QoYyl8fGM9PWRvY3VtZW50KXtiLmNvbnRhaW5lck9mZnNldD17bGVmdDowLHRvcDowfTtiLmNvbnRhaW5lclBvc2l0aW9uPXtsZWZ0OjAsdG9wOjB9O2IucGFyZW50RGF0YT17ZWxlbWVudDplKGRvY3VtZW50KSxsZWZ0OjAsdG9wOjAsd2lkdGg6ZShkb2N1bWVudCkud2lkdGgoKSxoZWlnaHQ6ZShkb2N1bWVudCkuaGVpZ2h0KCl8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHR9fWVsc2V7dmFyIGQ9CmUoYSksZj1bXTtlKFsiVG9wIiwiUmlnaHQiLCJMZWZ0IiwiQm90dG9tIl0pLmVhY2goZnVuY3Rpb24oaSxqKXtmW2ldPW0oZC5jc3MoInBhZGRpbmciK2opKX0pO2IuY29udGFpbmVyT2Zmc2V0PWQub2Zmc2V0KCk7Yi5jb250YWluZXJQb3NpdGlvbj1kLnBvc2l0aW9uKCk7Yi5jb250YWluZXJTaXplPXtoZWlnaHQ6ZC5pbm5lckhlaWdodCgpLWZbM10sd2lkdGg6ZC5pbm5lcldpZHRoKCktZlsxXX07Yz1iLmNvbnRhaW5lck9mZnNldDt2YXIgZz1iLmNvbnRhaW5lclNpemUuaGVpZ2h0LGg9Yi5jb250YWluZXJTaXplLndpZHRoO2g9ZS51aS5oYXNTY3JvbGwoYSwibGVmdCIpP2Euc2Nyb2xsV2lkdGg6aDtnPWUudWkuaGFzU2Nyb2xsKGEpP2Euc2Nyb2xsSGVpZ2h0Omc7Yi5wYXJlbnREYXRhPXtlbGVtZW50OmEsbGVmdDpjLmxlZnQsdG9wOmMudG9wLHdpZHRoOmgsaGVpZ2h0Omd9fX19LHJlc2l6ZTpmdW5jdGlvbihiKXt2YXIgYT1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpLGM9YS5vcHRpb25zLApkPWEuY29udGFpbmVyT2Zmc2V0LGY9YS5wb3NpdGlvbjtiPWEuX2FzcGVjdFJhdGlvfHxiLnNoaWZ0S2V5O3ZhciBnPXt0b3A6MCxsZWZ0OjB9LGg9YS5jb250YWluZXJFbGVtZW50O2lmKGhbMF0hPWRvY3VtZW50JiYvc3RhdGljLy50ZXN0KGguY3NzKCJwb3NpdGlvbiIpKSlnPWQ7aWYoZi5sZWZ0PChhLl9oZWxwZXI/ZC5sZWZ0OjApKXthLnNpemUud2lkdGgrPWEuX2hlbHBlcj9hLnBvc2l0aW9uLmxlZnQtZC5sZWZ0OmEucG9zaXRpb24ubGVmdC1nLmxlZnQ7aWYoYilhLnNpemUuaGVpZ2h0PWEuc2l6ZS53aWR0aC9jLmFzcGVjdFJhdGlvO2EucG9zaXRpb24ubGVmdD1jLmhlbHBlcj9kLmxlZnQ6MH1pZihmLnRvcDwoYS5faGVscGVyP2QudG9wOjApKXthLnNpemUuaGVpZ2h0Kz1hLl9oZWxwZXI/YS5wb3NpdGlvbi50b3AtZC50b3A6YS5wb3NpdGlvbi50b3A7aWYoYilhLnNpemUud2lkdGg9YS5zaXplLmhlaWdodCpjLmFzcGVjdFJhdGlvO2EucG9zaXRpb24udG9wPWEuX2hlbHBlcj8KZC50b3A6MH1hLm9mZnNldC5sZWZ0PWEucGFyZW50RGF0YS5sZWZ0K2EucG9zaXRpb24ubGVmdDthLm9mZnNldC50b3A9YS5wYXJlbnREYXRhLnRvcCthLnBvc2l0aW9uLnRvcDtjPU1hdGguYWJzKChhLl9oZWxwZXI/YS5vZmZzZXQubGVmdC1nLmxlZnQ6YS5vZmZzZXQubGVmdC1nLmxlZnQpK2Euc2l6ZURpZmYud2lkdGgpO2Q9TWF0aC5hYnMoKGEuX2hlbHBlcj9hLm9mZnNldC50b3AtZy50b3A6YS5vZmZzZXQudG9wLWQudG9wKSthLnNpemVEaWZmLmhlaWdodCk7Zj1hLmNvbnRhaW5lckVsZW1lbnQuZ2V0KDApPT1hLmVsZW1lbnQucGFyZW50KCkuZ2V0KDApO2c9L3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KGEuY29udGFpbmVyRWxlbWVudC5jc3MoInBvc2l0aW9uIikpO2lmKGYmJmcpYy09YS5wYXJlbnREYXRhLmxlZnQ7aWYoYythLnNpemUud2lkdGg+PWEucGFyZW50RGF0YS53aWR0aCl7YS5zaXplLndpZHRoPWEucGFyZW50RGF0YS53aWR0aC1jO2lmKGIpYS5zaXplLmhlaWdodD0KYS5zaXplLndpZHRoL2EuYXNwZWN0UmF0aW99aWYoZCthLnNpemUuaGVpZ2h0Pj1hLnBhcmVudERhdGEuaGVpZ2h0KXthLnNpemUuaGVpZ2h0PWEucGFyZW50RGF0YS5oZWlnaHQtZDtpZihiKWEuc2l6ZS53aWR0aD1hLnNpemUuaGVpZ2h0KmEuYXNwZWN0UmF0aW99fSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGI9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKSxhPWIub3B0aW9ucyxjPWIuY29udGFpbmVyT2Zmc2V0LGQ9Yi5jb250YWluZXJQb3NpdGlvbixmPWIuY29udGFpbmVyRWxlbWVudCxnPWUoYi5oZWxwZXIpLGg9Zy5vZmZzZXQoKSxpPWcub3V0ZXJXaWR0aCgpLWIuc2l6ZURpZmYud2lkdGg7Zz1nLm91dGVySGVpZ2h0KCktYi5zaXplRGlmZi5oZWlnaHQ7Yi5faGVscGVyJiYhYS5hbmltYXRlJiYvcmVsYXRpdmUvLnRlc3QoZi5jc3MoInBvc2l0aW9uIikpJiZlKHRoaXMpLmNzcyh7bGVmdDpoLmxlZnQtZC5sZWZ0LWMubGVmdCx3aWR0aDppLGhlaWdodDpnfSk7Yi5faGVscGVyJiYhYS5hbmltYXRlJiYKL3N0YXRpYy8udGVzdChmLmNzcygicG9zaXRpb24iKSkmJmUodGhpcykuY3NzKHtsZWZ0OmgubGVmdC1kLmxlZnQtYy5sZWZ0LHdpZHRoOmksaGVpZ2h0Omd9KX19KTtlLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImdob3N0Iix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgYj1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpLGE9Yi5vcHRpb25zLGM9Yi5zaXplO2IuZ2hvc3Q9Yi5vcmlnaW5hbEVsZW1lbnQuY2xvbmUoKTtiLmdob3N0LmNzcyh7b3BhY2l0eTowLjI1LGRpc3BsYXk6ImJsb2NrIixwb3NpdGlvbjoicmVsYXRpdmUiLGhlaWdodDpjLmhlaWdodCx3aWR0aDpjLndpZHRoLG1hcmdpbjowLGxlZnQ6MCx0b3A6MH0pLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtZ2hvc3QiKS5hZGRDbGFzcyh0eXBlb2YgYS5naG9zdD09InN0cmluZyI/YS5naG9zdDoiIik7Yi5naG9zdC5hcHBlbmRUbyhiLmhlbHBlcil9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBiPWUodGhpcykuZGF0YSgicmVzaXphYmxlIik7CmIuZ2hvc3QmJmIuZ2hvc3QuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLGhlaWdodDpiLnNpemUuaGVpZ2h0LHdpZHRoOmIuc2l6ZS53aWR0aH0pfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGI9ZSh0aGlzKS5kYXRhKCJyZXNpemFibGUiKTtiLmdob3N0JiZiLmhlbHBlciYmYi5oZWxwZXIuZ2V0KDApLnJlbW92ZUNoaWxkKGIuZ2hvc3QuZ2V0KDApKX19KTtlLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImdyaWQiLHtyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYj1lKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpLGE9Yi5vcHRpb25zLGM9Yi5zaXplLGQ9Yi5vcmlnaW5hbFNpemUsZj1iLm9yaWdpbmFsUG9zaXRpb24sZz1iLmF4aXM7YS5ncmlkPXR5cGVvZiBhLmdyaWQ9PSJudW1iZXIiP1thLmdyaWQsYS5ncmlkXTphLmdyaWQ7dmFyIGg9TWF0aC5yb3VuZCgoYy53aWR0aC1kLndpZHRoKS8oYS5ncmlkWzBdfHwxKSkqKGEuZ3JpZFswXXx8MSk7YT1NYXRoLnJvdW5kKChjLmhlaWdodC1kLmhlaWdodCkvCihhLmdyaWRbMV18fDEpKSooYS5ncmlkWzFdfHwxKTtpZigvXihzZXxzfGUpJC8udGVzdChnKSl7Yi5zaXplLndpZHRoPWQud2lkdGgraDtiLnNpemUuaGVpZ2h0PWQuaGVpZ2h0K2F9ZWxzZSBpZigvXihuZSkkLy50ZXN0KGcpKXtiLnNpemUud2lkdGg9ZC53aWR0aCtoO2Iuc2l6ZS5oZWlnaHQ9ZC5oZWlnaHQrYTtiLnBvc2l0aW9uLnRvcD1mLnRvcC1hfWVsc2V7aWYoL14oc3cpJC8udGVzdChnKSl7Yi5zaXplLndpZHRoPWQud2lkdGgraDtiLnNpemUuaGVpZ2h0PWQuaGVpZ2h0K2F9ZWxzZXtiLnNpemUud2lkdGg9ZC53aWR0aCtoO2Iuc2l6ZS5oZWlnaHQ9ZC5oZWlnaHQrYTtiLnBvc2l0aW9uLnRvcD1mLnRvcC1hfWIucG9zaXRpb24ubGVmdD1mLmxlZnQtaH19fSk7dmFyIG09ZnVuY3Rpb24oYil7cmV0dXJuIHBhcnNlSW50KGIsMTApfHwwfSxsPWZ1bmN0aW9uKGIpe3JldHVybiFpc05hTihwYXJzZUludChiLDEwKSl9fSkoalF1ZXJ5KTsKOy8qIFVJIERpYWxvZyAqLwooZnVuY3Rpb24oYyxqKXt2YXIgaz17YnV0dG9uczp0cnVlLGhlaWdodDp0cnVlLG1heEhlaWdodDp0cnVlLG1heFdpZHRoOnRydWUsbWluSGVpZ2h0OnRydWUsbWluV2lkdGg6dHJ1ZSx3aWR0aDp0cnVlfSxsPXttYXhIZWlnaHQ6dHJ1ZSxtYXhXaWR0aDp0cnVlLG1pbkhlaWdodDp0cnVlLG1pbldpZHRoOnRydWV9O2Mud2lkZ2V0KCJ1aS5kaWFsb2ciLHtvcHRpb25zOnthdXRvT3Blbjp0cnVlLGJ1dHRvbnM6e30sY2xvc2VPbkVzY2FwZTp0cnVlLGNsb3NlVGV4dDoiY2xvc2UiLGRpYWxvZ0NsYXNzOiIiLGRyYWdnYWJsZTp0cnVlLGhpZGU6bnVsbCxoZWlnaHQ6ImF1dG8iLG1heEhlaWdodDpmYWxzZSxtYXhXaWR0aDpmYWxzZSxtaW5IZWlnaHQ6MTUwLG1pbldpZHRoOjE1MCxtb2RhbDpmYWxzZSxwb3NpdGlvbjp7bXk6ImNlbnRlciIsYXQ6ImNlbnRlciIsY29sbGlzaW9uOiJmaXQiLHVzaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPWModGhpcykuY3NzKGEpLm9mZnNldCgpLnRvcDtiPDAmJgpjKHRoaXMpLmNzcygidG9wIixhLnRvcC1iKX19LHJlc2l6YWJsZTp0cnVlLHNob3c6bnVsbCxzdGFjazp0cnVlLHRpdGxlOiIiLHdpZHRoOjMwMCx6SW5kZXg6MUUzfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbFRpdGxlPXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpO2lmKHR5cGVvZiB0aGlzLm9yaWdpbmFsVGl0bGUhPT0ic3RyaW5nIil0aGlzLm9yaWdpbmFsVGl0bGU9IiI7dGhpcy5vcHRpb25zLnRpdGxlPXRoaXMub3B0aW9ucy50aXRsZXx8dGhpcy5vcmlnaW5hbFRpdGxlO3ZhciBhPXRoaXMsYj1hLm9wdGlvbnMsZD1iLnRpdGxlfHwiJiMxNjA7IixlPWMudWkuZGlhbG9nLmdldFRpdGxlSWQoYS5lbGVtZW50KSxnPShhLnVpRGlhbG9nPWMoIjxkaXY+PC9kaXY+IikpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLmhpZGUoKS5hZGRDbGFzcygidWktZGlhbG9nIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsICIrYi5kaWFsb2dDbGFzcykuY3NzKHt6SW5kZXg6Yi56SW5kZXh9KS5hdHRyKCJ0YWJJbmRleCIsCi0xKS5jc3MoIm91dGxpbmUiLDApLmtleWRvd24oZnVuY3Rpb24oaSl7aWYoYi5jbG9zZU9uRXNjYXBlJiZpLmtleUNvZGUmJmkua2V5Q29kZT09PWMudWkua2V5Q29kZS5FU0NBUEUpe2EuY2xvc2UoaSk7aS5wcmV2ZW50RGVmYXVsdCgpfX0pLmF0dHIoe3JvbGU6ImRpYWxvZyIsImFyaWEtbGFiZWxsZWRieSI6ZX0pLm1vdXNlZG93bihmdW5jdGlvbihpKXthLm1vdmVUb1RvcChmYWxzZSxpKX0pO2EuZWxlbWVudC5zaG93KCkucmVtb3ZlQXR0cigidGl0bGUiKS5hZGRDbGFzcygidWktZGlhbG9nLWNvbnRlbnQgdWktd2lkZ2V0LWNvbnRlbnQiKS5hcHBlbmRUbyhnKTt2YXIgZj0oYS51aURpYWxvZ1RpdGxlYmFyPWMoIjxkaXY+PC9kaXY+IikpLmFkZENsYXNzKCJ1aS1kaWFsb2ctdGl0bGViYXIgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIHVpLWhlbHBlci1jbGVhcmZpeCIpLnByZXBlbmRUbyhnKSxoPWMoJzxhIGhyZWY9IiMiPjwvYT4nKS5hZGRDbGFzcygidWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIHVpLWNvcm5lci1hbGwiKS5hdHRyKCJyb2xlIiwKImJ1dHRvbiIpLmhvdmVyKGZ1bmN0aW9uKCl7aC5hZGRDbGFzcygidWktc3RhdGUtaG92ZXIiKX0sZnVuY3Rpb24oKXtoLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSkuZm9jdXMoZnVuY3Rpb24oKXtoLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSkuYmx1cihmdW5jdGlvbigpe2gucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9KS5jbGljayhmdW5jdGlvbihpKXthLmNsb3NlKGkpO3JldHVybiBmYWxzZX0pLmFwcGVuZFRvKGYpOyhhLnVpRGlhbG9nVGl0bGViYXJDbG9zZVRleHQ9YygiPHNwYW4+PC9zcGFuPiIpKS5hZGRDbGFzcygidWktaWNvbiB1aS1pY29uLWNsb3NldGhpY2siKS50ZXh0KGIuY2xvc2VUZXh0KS5hcHBlbmRUbyhoKTtjKCI8c3Bhbj48L3NwYW4+IikuYWRkQ2xhc3MoInVpLWRpYWxvZy10aXRsZSIpLmF0dHIoImlkIixlKS5odG1sKGQpLnByZXBlbmRUbyhmKTtpZihjLmlzRnVuY3Rpb24oYi5iZWZvcmVjbG9zZSkmJiFjLmlzRnVuY3Rpb24oYi5iZWZvcmVDbG9zZSkpYi5iZWZvcmVDbG9zZT0KYi5iZWZvcmVjbG9zZTtmLmZpbmQoIioiKS5hZGQoZikuZGlzYWJsZVNlbGVjdGlvbigpO2IuZHJhZ2dhYmxlJiZjLmZuLmRyYWdnYWJsZSYmYS5fbWFrZURyYWdnYWJsZSgpO2IucmVzaXphYmxlJiZjLmZuLnJlc2l6YWJsZSYmYS5fbWFrZVJlc2l6YWJsZSgpO2EuX2NyZWF0ZUJ1dHRvbnMoYi5idXR0b25zKTthLl9pc09wZW49ZmFsc2U7Yy5mbi5iZ2lmcmFtZSYmZy5iZ2lmcmFtZSgpfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvT3BlbiYmdGhpcy5vcGVuKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2Eub3ZlcmxheSYmYS5vdmVybGF5LmRlc3Ryb3koKTthLnVpRGlhbG9nLmhpZGUoKTthLmVsZW1lbnQudW5iaW5kKCIuZGlhbG9nIikucmVtb3ZlRGF0YSgiZGlhbG9nIikucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1jb250ZW50IHVpLXdpZGdldC1jb250ZW50IikuaGlkZSgpLmFwcGVuZFRvKCJib2R5Iik7YS51aURpYWxvZy5yZW1vdmUoKTthLm9yaWdpbmFsVGl0bGUmJgphLmVsZW1lbnQuYXR0cigidGl0bGUiLGEub3JpZ2luYWxUaXRsZSk7cmV0dXJuIGF9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpRGlhbG9nfSxjbG9zZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGQsZTtpZihmYWxzZSE9PWIuX3RyaWdnZXIoImJlZm9yZUNsb3NlIixhKSl7Yi5vdmVybGF5JiZiLm92ZXJsYXkuZGVzdHJveSgpO2IudWlEaWFsb2cudW5iaW5kKCJrZXlwcmVzcy51aS1kaWFsb2ciKTtiLl9pc09wZW49ZmFsc2U7aWYoYi5vcHRpb25zLmhpZGUpYi51aURpYWxvZy5oaWRlKGIub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7Yi5fdHJpZ2dlcigiY2xvc2UiLGEpfSk7ZWxzZXtiLnVpRGlhbG9nLmhpZGUoKTtiLl90cmlnZ2VyKCJjbG9zZSIsYSl9Yy51aS5kaWFsb2cub3ZlcmxheS5yZXNpemUoKTtpZihiLm9wdGlvbnMubW9kYWwpe2Q9MDtjKCIudWktZGlhbG9nIikuZWFjaChmdW5jdGlvbigpe2lmKHRoaXMhPT1iLnVpRGlhbG9nWzBdKXtlPWModGhpcykuY3NzKCJ6LWluZGV4Iik7CmlzTmFOKGUpfHwoZD1NYXRoLm1heChkLGUpKX19KTtjLnVpLmRpYWxvZy5tYXhaPWR9cmV0dXJuIGJ9fSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNPcGVufSxtb3ZlVG9Ub3A6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9ZC5vcHRpb25zO2lmKGUubW9kYWwmJiFhfHwhZS5zdGFjayYmIWUubW9kYWwpcmV0dXJuIGQuX3RyaWdnZXIoImZvY3VzIixiKTtpZihlLnpJbmRleD5jLnVpLmRpYWxvZy5tYXhaKWMudWkuZGlhbG9nLm1heFo9ZS56SW5kZXg7aWYoZC5vdmVybGF5KXtjLnVpLmRpYWxvZy5tYXhaKz0xO2Qub3ZlcmxheS4kZWwuY3NzKCJ6LWluZGV4IixjLnVpLmRpYWxvZy5vdmVybGF5Lm1heFo9Yy51aS5kaWFsb2cubWF4Wil9YT17c2Nyb2xsVG9wOmQuZWxlbWVudC5hdHRyKCJzY3JvbGxUb3AiKSxzY3JvbGxMZWZ0OmQuZWxlbWVudC5hdHRyKCJzY3JvbGxMZWZ0Iil9O2MudWkuZGlhbG9nLm1heForPTE7ZC51aURpYWxvZy5jc3MoInotaW5kZXgiLGMudWkuZGlhbG9nLm1heFopOwpkLmVsZW1lbnQuYXR0cihhKTtkLl90cmlnZ2VyKCJmb2N1cyIsYik7cmV0dXJuIGR9LG9wZW46ZnVuY3Rpb24oKXtpZighdGhpcy5faXNPcGVuKXt2YXIgYT10aGlzLGI9YS5vcHRpb25zLGQ9YS51aURpYWxvZzthLm92ZXJsYXk9Yi5tb2RhbD9uZXcgYy51aS5kaWFsb2cub3ZlcmxheShhKTpudWxsO2EuX3NpemUoKTthLl9wb3NpdGlvbihiLnBvc2l0aW9uKTtkLnNob3coYi5zaG93KTthLm1vdmVUb1RvcCh0cnVlKTtiLm1vZGFsJiZkLmJpbmQoImtleXByZXNzLnVpLWRpYWxvZyIsZnVuY3Rpb24oZSl7aWYoZS5rZXlDb2RlPT09Yy51aS5rZXlDb2RlLlRBQil7dmFyIGc9YygiOnRhYmJhYmxlIix0aGlzKSxmPWcuZmlsdGVyKCI6Zmlyc3QiKTtnPWcuZmlsdGVyKCI6bGFzdCIpO2lmKGUudGFyZ2V0PT09Z1swXSYmIWUuc2hpZnRLZXkpe2YuZm9jdXMoMSk7cmV0dXJuIGZhbHNlfWVsc2UgaWYoZS50YXJnZXQ9PT1mWzBdJiZlLnNoaWZ0S2V5KXtnLmZvY3VzKDEpO3JldHVybiBmYWxzZX19fSk7CmMoYS5lbGVtZW50LmZpbmQoIjp0YWJiYWJsZSIpLmdldCgpLmNvbmNhdChkLmZpbmQoIi51aS1kaWFsb2ctYnV0dG9ucGFuZSA6dGFiYmFibGUiKS5nZXQoKS5jb25jYXQoZC5nZXQoKSkpKS5lcSgwKS5mb2N1cygpO2EuX2lzT3Blbj10cnVlO2EuX3RyaWdnZXIoIm9wZW4iKTtyZXR1cm4gYX19LF9jcmVhdGVCdXR0b25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsZD1mYWxzZSxlPWMoIjxkaXY+PC9kaXY+IikuYWRkQ2xhc3MoInVpLWRpYWxvZy1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCIpLGc9YygiPGRpdj48L2Rpdj4iKS5hZGRDbGFzcygidWktZGlhbG9nLWJ1dHRvbnNldCIpLmFwcGVuZFRvKGUpO2IudWlEaWFsb2cuZmluZCgiLnVpLWRpYWxvZy1idXR0b25wYW5lIikucmVtb3ZlKCk7dHlwZW9mIGE9PT0ib2JqZWN0IiYmYSE9PW51bGwmJmMuZWFjaChhLGZ1bmN0aW9uKCl7cmV0dXJuIShkPXRydWUpfSk7aWYoZCl7Yy5lYWNoKGEsZnVuY3Rpb24oZiwKaCl7aD1jLmlzRnVuY3Rpb24oaCk/e2NsaWNrOmgsdGV4dDpmfTpoO2Y9YygnPGJ1dHRvbiB0eXBlPSJidXR0b24iPjwvYnV0dG9uPicpLmF0dHIoaCx0cnVlKS51bmJpbmQoImNsaWNrIikuY2xpY2soZnVuY3Rpb24oKXtoLmNsaWNrLmFwcGx5KGIuZWxlbWVudFswXSxhcmd1bWVudHMpfSkuYXBwZW5kVG8oZyk7Yy5mbi5idXR0b24mJmYuYnV0dG9uKCl9KTtlLmFwcGVuZFRvKGIudWlEaWFsb2cpfX0sX21ha2VEcmFnZ2FibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGYpe3JldHVybntwb3NpdGlvbjpmLnBvc2l0aW9uLG9mZnNldDpmLm9mZnNldH19dmFyIGI9dGhpcyxkPWIub3B0aW9ucyxlPWMoZG9jdW1lbnQpLGc7Yi51aURpYWxvZy5kcmFnZ2FibGUoe2NhbmNlbDoiLnVpLWRpYWxvZy1jb250ZW50LCAudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIixoYW5kbGU6Ii51aS1kaWFsb2ctdGl0bGViYXIiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsc3RhcnQ6ZnVuY3Rpb24oZixoKXtnPQpkLmhlaWdodD09PSJhdXRvIj8iYXV0byI6Yyh0aGlzKS5oZWlnaHQoKTtjKHRoaXMpLmhlaWdodChjKHRoaXMpLmhlaWdodCgpKS5hZGRDbGFzcygidWktZGlhbG9nLWRyYWdnaW5nIik7Yi5fdHJpZ2dlcigiZHJhZ1N0YXJ0IixmLGEoaCkpfSxkcmFnOmZ1bmN0aW9uKGYsaCl7Yi5fdHJpZ2dlcigiZHJhZyIsZixhKGgpKX0sc3RvcDpmdW5jdGlvbihmLGgpe2QucG9zaXRpb249W2gucG9zaXRpb24ubGVmdC1lLnNjcm9sbExlZnQoKSxoLnBvc2l0aW9uLnRvcC1lLnNjcm9sbFRvcCgpXTtjKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kaWFsb2ctZHJhZ2dpbmciKS5oZWlnaHQoZyk7Yi5fdHJpZ2dlcigiZHJhZ1N0b3AiLGYsYShoKSk7Yy51aS5kaWFsb2cub3ZlcmxheS5yZXNpemUoKX19KX0sX21ha2VSZXNpemFibGU6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihmKXtyZXR1cm57b3JpZ2luYWxQb3NpdGlvbjpmLm9yaWdpbmFsUG9zaXRpb24sb3JpZ2luYWxTaXplOmYub3JpZ2luYWxTaXplLApwb3NpdGlvbjpmLnBvc2l0aW9uLHNpemU6Zi5zaXplfX1hPWE9PT1qP3RoaXMub3B0aW9ucy5yZXNpemFibGU6YTt2YXIgZD10aGlzLGU9ZC5vcHRpb25zLGc9ZC51aURpYWxvZy5jc3MoInBvc2l0aW9uIik7YT10eXBlb2YgYT09PSJzdHJpbmciP2E6Im4sZSxzLHcsc2Usc3csbmUsbnciO2QudWlEaWFsb2cucmVzaXphYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixhbHNvUmVzaXplOmQuZWxlbWVudCxtYXhXaWR0aDplLm1heFdpZHRoLG1heEhlaWdodDplLm1heEhlaWdodCxtaW5XaWR0aDplLm1pbldpZHRoLG1pbkhlaWdodDpkLl9taW5IZWlnaHQoKSxoYW5kbGVzOmEsc3RhcnQ6ZnVuY3Rpb24oZixoKXtjKHRoaXMpLmFkZENsYXNzKCJ1aS1kaWFsb2ctcmVzaXppbmciKTtkLl90cmlnZ2VyKCJyZXNpemVTdGFydCIsZixiKGgpKX0scmVzaXplOmZ1bmN0aW9uKGYsaCl7ZC5fdHJpZ2dlcigicmVzaXplIixmLGIoaCkpfSxzdG9wOmZ1bmN0aW9uKGYsCmgpe2ModGhpcykucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1yZXNpemluZyIpO2UuaGVpZ2h0PWModGhpcykuaGVpZ2h0KCk7ZS53aWR0aD1jKHRoaXMpLndpZHRoKCk7ZC5fdHJpZ2dlcigicmVzaXplU3RvcCIsZixiKGgpKTtjLnVpLmRpYWxvZy5vdmVybGF5LnJlc2l6ZSgpfX0pLmNzcygicG9zaXRpb24iLGcpLmZpbmQoIi51aS1yZXNpemFibGUtc2UiKS5hZGRDbGFzcygidWktaWNvbiB1aS1pY29uLWdyaXAtZGlhZ29uYWwtc2UiKX0sX21pbkhlaWdodDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucztyZXR1cm4gYS5oZWlnaHQ9PT0iYXV0byI/YS5taW5IZWlnaHQ6TWF0aC5taW4oYS5taW5IZWlnaHQsYS5oZWlnaHQpfSxfcG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9W10sZD1bMCwwXSxlO2lmKGEpe2lmKHR5cGVvZiBhPT09InN0cmluZyJ8fHR5cGVvZiBhPT09Im9iamVjdCImJiIwImluIGEpe2I9YS5zcGxpdD9hLnNwbGl0KCIgIik6W2FbMF0sYVsxXV07aWYoYi5sZW5ndGg9PT0KMSliWzFdPWJbMF07Yy5lYWNoKFsibGVmdCIsInRvcCJdLGZ1bmN0aW9uKGcsZil7aWYoK2JbZ109PT1iW2ddKXtkW2ddPWJbZ107YltnXT1mfX0pO2E9e215OmIuam9pbigiICIpLGF0OmIuam9pbigiICIpLG9mZnNldDpkLmpvaW4oIiAiKX19YT1jLmV4dGVuZCh7fSxjLnVpLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5wb3NpdGlvbixhKX1lbHNlIGE9Yy51aS5kaWFsb2cucHJvdG90eXBlLm9wdGlvbnMucG9zaXRpb247KGU9dGhpcy51aURpYWxvZy5pcygiOnZpc2libGUiKSl8fHRoaXMudWlEaWFsb2cuc2hvdygpO3RoaXMudWlEaWFsb2cuY3NzKHt0b3A6MCxsZWZ0OjB9KS5wb3NpdGlvbihjLmV4dGVuZCh7b2Y6d2luZG93fSxhKSk7ZXx8dGhpcy51aURpYWxvZy5oaWRlKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsZD17fSxlPWZhbHNlO2MuZWFjaChhLGZ1bmN0aW9uKGcsZil7Yi5fc2V0T3B0aW9uKGcsZik7aWYoZyBpbiBrKWU9dHJ1ZTtpZihnIGluCmwpZFtnXT1mfSk7ZSYmdGhpcy5fc2l6ZSgpO3RoaXMudWlEaWFsb2cuaXMoIjpkYXRhKHJlc2l6YWJsZSkiKSYmdGhpcy51aURpYWxvZy5yZXNpemFibGUoIm9wdGlvbiIsZCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9ZC51aURpYWxvZztzd2l0Y2goYSl7Y2FzZSAiYmVmb3JlY2xvc2UiOmE9ImJlZm9yZUNsb3NlIjticmVhaztjYXNlICJidXR0b25zIjpkLl9jcmVhdGVCdXR0b25zKGIpO2JyZWFrO2Nhc2UgImNsb3NlVGV4dCI6ZC51aURpYWxvZ1RpdGxlYmFyQ2xvc2VUZXh0LnRleHQoIiIrYik7YnJlYWs7Y2FzZSAiZGlhbG9nQ2xhc3MiOmUucmVtb3ZlQ2xhc3MoZC5vcHRpb25zLmRpYWxvZ0NsYXNzKS5hZGRDbGFzcygidWktZGlhbG9nIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsICIrYik7YnJlYWs7Y2FzZSAiZGlzYWJsZWQiOmI/ZS5hZGRDbGFzcygidWktZGlhbG9nLWRpc2FibGVkIik6ZS5yZW1vdmVDbGFzcygidWktZGlhbG9nLWRpc2FibGVkIik7CmJyZWFrO2Nhc2UgImRyYWdnYWJsZSI6dmFyIGc9ZS5pcygiOmRhdGEoZHJhZ2dhYmxlKSIpO2cmJiFiJiZlLmRyYWdnYWJsZSgiZGVzdHJveSIpOyFnJiZiJiZkLl9tYWtlRHJhZ2dhYmxlKCk7YnJlYWs7Y2FzZSAicG9zaXRpb24iOmQuX3Bvc2l0aW9uKGIpO2JyZWFrO2Nhc2UgInJlc2l6YWJsZSI6KGc9ZS5pcygiOmRhdGEocmVzaXphYmxlKSIpKSYmIWImJmUucmVzaXphYmxlKCJkZXN0cm95Iik7ZyYmdHlwZW9mIGI9PT0ic3RyaW5nIiYmZS5yZXNpemFibGUoIm9wdGlvbiIsImhhbmRsZXMiLGIpOyFnJiZiIT09ZmFsc2UmJmQuX21ha2VSZXNpemFibGUoYik7YnJlYWs7Y2FzZSAidGl0bGUiOmMoIi51aS1kaWFsb2ctdGl0bGUiLGQudWlEaWFsb2dUaXRsZWJhcikuaHRtbCgiIisoYnx8IiYjMTYwOyIpKTticmVha31jLldpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseShkLGFyZ3VtZW50cyl9LF9zaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGIsZCxlPQp0aGlzLnVpRGlhbG9nLmlzKCI6dmlzaWJsZSIpO3RoaXMuZWxlbWVudC5zaG93KCkuY3NzKHt3aWR0aDoiYXV0byIsbWluSGVpZ2h0OjAsaGVpZ2h0OjB9KTtpZihhLm1pbldpZHRoPmEud2lkdGgpYS53aWR0aD1hLm1pbldpZHRoO2I9dGhpcy51aURpYWxvZy5jc3Moe2hlaWdodDoiYXV0byIsd2lkdGg6YS53aWR0aH0pLmhlaWdodCgpO2Q9TWF0aC5tYXgoMCxhLm1pbkhlaWdodC1iKTtpZihhLmhlaWdodD09PSJhdXRvIilpZihjLnN1cHBvcnQubWluSGVpZ2h0KXRoaXMuZWxlbWVudC5jc3Moe21pbkhlaWdodDpkLGhlaWdodDoiYXV0byJ9KTtlbHNle3RoaXMudWlEaWFsb2cuc2hvdygpO2E9dGhpcy5lbGVtZW50LmNzcygiaGVpZ2h0IiwiYXV0byIpLmhlaWdodCgpO2V8fHRoaXMudWlEaWFsb2cuaGlkZSgpO3RoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoYSxkKSl9ZWxzZSB0aGlzLmVsZW1lbnQuaGVpZ2h0KE1hdGgubWF4KGEuaGVpZ2h0LWIsMCkpO3RoaXMudWlEaWFsb2cuaXMoIjpkYXRhKHJlc2l6YWJsZSkiKSYmCnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLCJtaW5IZWlnaHQiLHRoaXMuX21pbkhlaWdodCgpKX19KTtjLmV4dGVuZChjLnVpLmRpYWxvZyx7dmVyc2lvbjoiMS44LjEwIix1dWlkOjAsbWF4WjowLGdldFRpdGxlSWQ6ZnVuY3Rpb24oYSl7YT1hLmF0dHIoImlkIik7aWYoIWEpe3RoaXMudXVpZCs9MTthPXRoaXMudXVpZH1yZXR1cm4idWktZGlhbG9nLXRpdGxlLSIrYX0sb3ZlcmxheTpmdW5jdGlvbihhKXt0aGlzLiRlbD1jLnVpLmRpYWxvZy5vdmVybGF5LmNyZWF0ZShhKX19KTtjLmV4dGVuZChjLnVpLmRpYWxvZy5vdmVybGF5LHtpbnN0YW5jZXM6W10sb2xkSW5zdGFuY2VzOltdLG1heFo6MCxldmVudHM6Yy5tYXAoImZvY3VzLG1vdXNlZG93bixtb3VzZXVwLGtleWRvd24sa2V5cHJlc3MsY2xpY2siLnNwbGl0KCIsIiksZnVuY3Rpb24oYSl7cmV0dXJuIGErIi5kaWFsb2ctb3ZlcmxheSJ9KS5qb2luKCIgIiksY3JlYXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaW5zdGFuY2VzLmxlbmd0aD09PQowKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy51aS5kaWFsb2cub3ZlcmxheS5pbnN0YW5jZXMubGVuZ3RoJiZjKGRvY3VtZW50KS5iaW5kKGMudWkuZGlhbG9nLm92ZXJsYXkuZXZlbnRzLGZ1bmN0aW9uKGQpe2lmKGMoZC50YXJnZXQpLnpJbmRleCgpPGMudWkuZGlhbG9nLm92ZXJsYXkubWF4WilyZXR1cm4gZmFsc2V9KX0sMSk7Yyhkb2N1bWVudCkuYmluZCgia2V5ZG93bi5kaWFsb2ctb3ZlcmxheSIsZnVuY3Rpb24oZCl7aWYoYS5vcHRpb25zLmNsb3NlT25Fc2NhcGUmJmQua2V5Q29kZSYmZC5rZXlDb2RlPT09Yy51aS5rZXlDb2RlLkVTQ0FQRSl7YS5jbG9zZShkKTtkLnByZXZlbnREZWZhdWx0KCl9fSk7Yyh3aW5kb3cpLmJpbmQoInJlc2l6ZS5kaWFsb2ctb3ZlcmxheSIsYy51aS5kaWFsb2cub3ZlcmxheS5yZXNpemUpfXZhciBiPSh0aGlzLm9sZEluc3RhbmNlcy5wb3AoKXx8YygiPGRpdj48L2Rpdj4iKS5hZGRDbGFzcygidWktd2lkZ2V0LW92ZXJsYXkiKSkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkuY3NzKHt3aWR0aDp0aGlzLndpZHRoKCksCmhlaWdodDp0aGlzLmhlaWdodCgpfSk7Yy5mbi5iZ2lmcmFtZSYmYi5iZ2lmcmFtZSgpO3RoaXMuaW5zdGFuY2VzLnB1c2goYik7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5pbkFycmF5KGEsdGhpcy5pbnN0YW5jZXMpO2IhPS0xJiZ0aGlzLm9sZEluc3RhbmNlcy5wdXNoKHRoaXMuaW5zdGFuY2VzLnNwbGljZShiLDEpWzBdKTt0aGlzLmluc3RhbmNlcy5sZW5ndGg9PT0wJiZjKFtkb2N1bWVudCx3aW5kb3ddKS51bmJpbmQoIi5kaWFsb2ctb3ZlcmxheSIpO2EucmVtb3ZlKCk7dmFyIGQ9MDtjLmVhY2godGhpcy5pbnN0YW5jZXMsZnVuY3Rpb24oKXtkPU1hdGgubWF4KGQsdGhpcy5jc3MoInotaW5kZXgiKSl9KTt0aGlzLm1heFo9ZH0saGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGEsYjtpZihjLmJyb3dzZXIubXNpZSYmYy5icm93c2VyLnZlcnNpb248Nyl7YT1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTsKYj1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gYTxiP2Mod2luZG93KS5oZWlnaHQoKSsicHgiOmErInB4In1lbHNlIHJldHVybiBjKGRvY3VtZW50KS5oZWlnaHQoKSsicHgifSx3aWR0aDpmdW5jdGlvbigpe3ZhciBhLGI7aWYoYy5icm93c2VyLm1zaWUmJmMuYnJvd3Nlci52ZXJzaW9uPDcpe2E9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgpO2I9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoLGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgpO3JldHVybiBhPGI/Yyh3aW5kb3cpLndpZHRoKCkrInB4IjphKyJweCJ9ZWxzZSByZXR1cm4gYyhkb2N1bWVudCkud2lkdGgoKSsicHgifSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYT1jKFtdKTtjLmVhY2goYy51aS5kaWFsb2cub3ZlcmxheS5pbnN0YW5jZXMsCmZ1bmN0aW9uKCl7YT1hLmFkZCh0aGlzKX0pO2EuY3NzKHt3aWR0aDowLGhlaWdodDowfSkuY3NzKHt3aWR0aDpjLnVpLmRpYWxvZy5vdmVybGF5LndpZHRoKCksaGVpZ2h0OmMudWkuZGlhbG9nLm92ZXJsYXkuaGVpZ2h0KCl9KX19KTtjLmV4dGVuZChjLnVpLmRpYWxvZy5vdmVybGF5LnByb3RvdHlwZSx7ZGVzdHJveTpmdW5jdGlvbigpe2MudWkuZGlhbG9nLm92ZXJsYXkuZGVzdHJveSh0aGlzLiRlbCl9fSl9KShqUXVlcnkpOwo7LyogVUkgU2xpZGVyICovCihmdW5jdGlvbihkKXtkLndpZGdldCgidWkuc2xpZGVyIixkLnVpLm1vdXNlLHt3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e2FuaW1hdGU6ZmFsc2UsZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTpmYWxzZSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT10aGlzLm9wdGlvbnM7dGhpcy5fbW91c2VTbGlkaW5nPXRoaXMuX2tleVNsaWRpbmc9ZmFsc2U7dGhpcy5fYW5pbWF0ZU9mZj10cnVlO3RoaXMuX2hhbmRsZUluZGV4PW51bGw7dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXNsaWRlciB1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uKyIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKTthLmRpc2FibGVkJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXNsaWRlci1kaXNhYmxlZCB1aS1kaXNhYmxlZCIpOwp0aGlzLnJhbmdlPWQoW10pO2lmKGEucmFuZ2Upe2lmKGEucmFuZ2U9PT10cnVlKXt0aGlzLnJhbmdlPWQoIjxkaXY+PC9kaXY+Iik7aWYoIWEudmFsdWVzKWEudmFsdWVzPVt0aGlzLl92YWx1ZU1pbigpLHRoaXMuX3ZhbHVlTWluKCldO2lmKGEudmFsdWVzLmxlbmd0aCYmYS52YWx1ZXMubGVuZ3RoIT09MilhLnZhbHVlcz1bYS52YWx1ZXNbMF0sYS52YWx1ZXNbMF1dfWVsc2UgdGhpcy5yYW5nZT1kKCI8ZGl2PjwvZGl2PiIpO3RoaXMucmFuZ2UuYXBwZW5kVG8odGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktc2xpZGVyLXJhbmdlIik7aWYoYS5yYW5nZT09PSJtaW4ifHxhLnJhbmdlPT09Im1heCIpdGhpcy5yYW5nZS5hZGRDbGFzcygidWktc2xpZGVyLXJhbmdlLSIrYS5yYW5nZSk7dGhpcy5yYW5nZS5hZGRDbGFzcygidWktd2lkZ2V0LWhlYWRlciIpfWQoIi51aS1zbGlkZXItaGFuZGxlIix0aGlzLmVsZW1lbnQpLmxlbmd0aD09PTAmJmQoIjxhIGhyZWY9JyMnPjwvYT4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlIik7CmlmKGEudmFsdWVzJiZhLnZhbHVlcy5sZW5ndGgpZm9yKDtkKCIudWktc2xpZGVyLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5sZW5ndGg8YS52YWx1ZXMubGVuZ3RoOylkKCI8YSBocmVmPScjJz48L2E+IikuYXBwZW5kVG8odGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpO3RoaXMuaGFuZGxlcz1kKCIudWktc2xpZGVyLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIik7dGhpcy5oYW5kbGU9dGhpcy5oYW5kbGVzLmVxKDApO3RoaXMuaGFuZGxlcy5hZGQodGhpcy5yYW5nZSkuZmlsdGVyKCJhIikuY2xpY2soZnVuY3Rpb24oYyl7Yy5wcmV2ZW50RGVmYXVsdCgpfSkuaG92ZXIoZnVuY3Rpb24oKXthLmRpc2FibGVkfHxkKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxmdW5jdGlvbigpe2QodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9KS5mb2N1cyhmdW5jdGlvbigpe2lmKGEuZGlzYWJsZWQpZCh0aGlzKS5ibHVyKCk7CmVsc2V7ZCgiLnVpLXNsaWRlciAudWktc3RhdGUtZm9jdXMiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKTtkKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pLmJsdXIoZnVuY3Rpb24oKXtkKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSk7dGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oYyl7ZCh0aGlzKS5kYXRhKCJpbmRleC51aS1zbGlkZXItaGFuZGxlIixjKX0pO3RoaXMuaGFuZGxlcy5rZXlkb3duKGZ1bmN0aW9uKGMpe3ZhciBlPXRydWUsZj1kKHRoaXMpLmRhdGEoImluZGV4LnVpLXNsaWRlci1oYW5kbGUiKSxoLGcsaTtpZighYi5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGQudWkua2V5Q29kZS5IT01FOmNhc2UgZC51aS5rZXlDb2RlLkVORDpjYXNlIGQudWkua2V5Q29kZS5QQUdFX1VQOmNhc2UgZC51aS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGQudWkua2V5Q29kZS5VUDpjYXNlIGQudWkua2V5Q29kZS5SSUdIVDpjYXNlIGQudWkua2V5Q29kZS5ET1dOOmNhc2UgZC51aS5rZXlDb2RlLkxFRlQ6ZT0KZmFsc2U7aWYoIWIuX2tleVNsaWRpbmcpe2IuX2tleVNsaWRpbmc9dHJ1ZTtkKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKTtoPWIuX3N0YXJ0KGMsZik7aWYoaD09PWZhbHNlKXJldHVybn1icmVha31pPWIub3B0aW9ucy5zdGVwO2g9Yi5vcHRpb25zLnZhbHVlcyYmYi5vcHRpb25zLnZhbHVlcy5sZW5ndGg/KGc9Yi52YWx1ZXMoZikpOihnPWIudmFsdWUoKSk7c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSBkLnVpLmtleUNvZGUuSE9NRTpnPWIuX3ZhbHVlTWluKCk7YnJlYWs7Y2FzZSBkLnVpLmtleUNvZGUuRU5EOmc9Yi5fdmFsdWVNYXgoKTticmVhaztjYXNlIGQudWkua2V5Q29kZS5QQUdFX1VQOmc9Yi5fdHJpbUFsaWduVmFsdWUoaCsoYi5fdmFsdWVNYXgoKS1iLl92YWx1ZU1pbigpKS81KTticmVhaztjYXNlIGQudWkua2V5Q29kZS5QQUdFX0RPV046Zz1iLl90cmltQWxpZ25WYWx1ZShoLShiLl92YWx1ZU1heCgpLWIuX3ZhbHVlTWluKCkpLzUpO2JyZWFrO2Nhc2UgZC51aS5rZXlDb2RlLlVQOmNhc2UgZC51aS5rZXlDb2RlLlJJR0hUOmlmKGg9PT0KYi5fdmFsdWVNYXgoKSlyZXR1cm47Zz1iLl90cmltQWxpZ25WYWx1ZShoK2kpO2JyZWFrO2Nhc2UgZC51aS5rZXlDb2RlLkRPV046Y2FzZSBkLnVpLmtleUNvZGUuTEVGVDppZihoPT09Yi5fdmFsdWVNaW4oKSlyZXR1cm47Zz1iLl90cmltQWxpZ25WYWx1ZShoLWkpO2JyZWFrfWIuX3NsaWRlKGMsZixnKTtyZXR1cm4gZX19KS5rZXl1cChmdW5jdGlvbihjKXt2YXIgZT1kKHRoaXMpLmRhdGEoImluZGV4LnVpLXNsaWRlci1oYW5kbGUiKTtpZihiLl9rZXlTbGlkaW5nKXtiLl9rZXlTbGlkaW5nPWZhbHNlO2IuX3N0b3AoYyxlKTtiLl9jaGFuZ2UoYyxlKTtkKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX19KTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9hbmltYXRlT2ZmPWZhbHNlfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVzLnJlbW92ZSgpO3RoaXMucmFuZ2UucmVtb3ZlKCk7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXIgdWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIHVpLXNsaWRlci1kaXNhYmxlZCB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLnJlbW92ZURhdGEoInNsaWRlciIpLnVuYmluZCgiLnNsaWRlciIpOwp0aGlzLl9tb3VzZURlc3Ryb3koKTtyZXR1cm4gdGhpc30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzLm9wdGlvbnMsYyxlLGYsaCxnO2lmKGEuZGlzYWJsZWQpcmV0dXJuIGZhbHNlO3RoaXMuZWxlbWVudFNpemU9e3dpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpfTt0aGlzLmVsZW1lbnRPZmZzZXQ9dGhpcy5lbGVtZW50Lm9mZnNldCgpO2M9dGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKHt4OmIucGFnZVgseTpiLnBhZ2VZfSk7ZT10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkrMTtoPXRoaXM7dGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oaSl7dmFyIGo9TWF0aC5hYnMoYy1oLnZhbHVlcyhpKSk7aWYoZT5qKXtlPWo7Zj1kKHRoaXMpO2c9aX19KTtpZihhLnJhbmdlPT09dHJ1ZSYmdGhpcy52YWx1ZXMoMSk9PT1hLm1pbil7Zys9MTtmPWQodGhpcy5oYW5kbGVzW2ddKX1pZih0aGlzLl9zdGFydChiLApnKT09PWZhbHNlKXJldHVybiBmYWxzZTt0aGlzLl9tb3VzZVNsaWRpbmc9dHJ1ZTtoLl9oYW5kbGVJbmRleD1nO2YuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmZvY3VzKCk7YT1mLm9mZnNldCgpO3RoaXMuX2NsaWNrT2Zmc2V0PSFkKGIudGFyZ2V0KS5wYXJlbnRzKCkuYW5kU2VsZigpLmlzKCIudWktc2xpZGVyLWhhbmRsZSIpP3tsZWZ0OjAsdG9wOjB9OntsZWZ0OmIucGFnZVgtYS5sZWZ0LWYud2lkdGgoKS8yLHRvcDpiLnBhZ2VZLWEudG9wLWYuaGVpZ2h0KCkvMi0ocGFyc2VJbnQoZi5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoZi5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoZi5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCl9O3RoaXMuaGFuZGxlcy5oYXNDbGFzcygidWktc3RhdGUtaG92ZXIiKXx8dGhpcy5fc2xpZGUoYixnLGMpO3JldHVybiB0aGlzLl9hbmltYXRlT2ZmPXRydWV9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LApfbW91c2VEcmFnOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZSh7eDpiLnBhZ2VYLHk6Yi5wYWdlWX0pO3RoaXMuX3NsaWRlKGIsdGhpcy5faGFuZGxlSW5kZXgsYSk7cmV0dXJuIGZhbHNlfSxfbW91c2VTdG9wOmZ1bmN0aW9uKGIpe3RoaXMuaGFuZGxlcy5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIik7dGhpcy5fbW91c2VTbGlkaW5nPWZhbHNlO3RoaXMuX3N0b3AoYix0aGlzLl9oYW5kbGVJbmRleCk7dGhpcy5fY2hhbmdlKGIsdGhpcy5faGFuZGxlSW5kZXgpO3RoaXMuX2NsaWNrT2Zmc2V0PXRoaXMuX2hhbmRsZUluZGV4PW51bGw7cmV0dXJuIHRoaXMuX2FuaW1hdGVPZmY9ZmFsc2V9LF9kZXRlY3RPcmllbnRhdGlvbjpmdW5jdGlvbigpe3RoaXMub3JpZW50YXRpb249dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uPT09InZlcnRpY2FsIj8idmVydGljYWwiOiJob3Jpem9udGFsIn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbihiKXt2YXIgYTsKaWYodGhpcy5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIil7YT10aGlzLmVsZW1lbnRTaXplLndpZHRoO2I9Yi54LXRoaXMuZWxlbWVudE9mZnNldC5sZWZ0LSh0aGlzLl9jbGlja09mZnNldD90aGlzLl9jbGlja09mZnNldC5sZWZ0OjApfWVsc2V7YT10aGlzLmVsZW1lbnRTaXplLmhlaWdodDtiPWIueS10aGlzLmVsZW1lbnRPZmZzZXQudG9wLSh0aGlzLl9jbGlja09mZnNldD90aGlzLl9jbGlja09mZnNldC50b3A6MCl9YT1iL2E7aWYoYT4xKWE9MTtpZihhPDApYT0wO2lmKHRoaXMub3JpZW50YXRpb249PT0idmVydGljYWwiKWE9MS1hO2I9dGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpO3JldHVybiB0aGlzLl90cmltQWxpZ25WYWx1ZSh0aGlzLl92YWx1ZU1pbigpK2EqYil9LF9zdGFydDpmdW5jdGlvbihiLGEpe3ZhciBjPXtoYW5kbGU6dGhpcy5oYW5kbGVzW2FdLHZhbHVlOnRoaXMudmFsdWUoKX07aWYodGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpe2MudmFsdWU9CnRoaXMudmFsdWVzKGEpO2MudmFsdWVzPXRoaXMudmFsdWVzKCl9cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0IixiLGMpfSxfc2xpZGU6ZnVuY3Rpb24oYixhLGMpe3ZhciBlO2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtlPXRoaXMudmFsdWVzKGE/MDoxKTtpZih0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aD09PTImJnRoaXMub3B0aW9ucy5yYW5nZT09PXRydWUmJihhPT09MCYmYz5lfHxhPT09MSYmYzxlKSljPWU7aWYoYyE9PXRoaXMudmFsdWVzKGEpKXtlPXRoaXMudmFsdWVzKCk7ZVthXT1jO2I9dGhpcy5fdHJpZ2dlcigic2xpZGUiLGIse2hhbmRsZTp0aGlzLmhhbmRsZXNbYV0sdmFsdWU6Yyx2YWx1ZXM6ZX0pO3RoaXMudmFsdWVzKGE/MDoxKTtiIT09ZmFsc2UmJnRoaXMudmFsdWVzKGEsYyx0cnVlKX19ZWxzZSBpZihjIT09dGhpcy52YWx1ZSgpKXtiPXRoaXMuX3RyaWdnZXIoInNsaWRlIixiLHtoYW5kbGU6dGhpcy5oYW5kbGVzW2FdLAp2YWx1ZTpjfSk7YiE9PWZhbHNlJiZ0aGlzLnZhbHVlKGMpfX0sX3N0b3A6ZnVuY3Rpb24oYixhKXt2YXIgYz17aGFuZGxlOnRoaXMuaGFuZGxlc1thXSx2YWx1ZTp0aGlzLnZhbHVlKCl9O2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtjLnZhbHVlPXRoaXMudmFsdWVzKGEpO2MudmFsdWVzPXRoaXMudmFsdWVzKCl9dGhpcy5fdHJpZ2dlcigic3RvcCIsYixjKX0sX2NoYW5nZTpmdW5jdGlvbihiLGEpe2lmKCF0aGlzLl9rZXlTbGlkaW5nJiYhdGhpcy5fbW91c2VTbGlkaW5nKXt2YXIgYz17aGFuZGxlOnRoaXMuaGFuZGxlc1thXSx2YWx1ZTp0aGlzLnZhbHVlKCl9O2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtjLnZhbHVlPXRoaXMudmFsdWVzKGEpO2MudmFsdWVzPXRoaXMudmFsdWVzKCl9dGhpcy5fdHJpZ2dlcigiY2hhbmdlIixiLGMpfX0sdmFsdWU6ZnVuY3Rpb24oYil7aWYoYXJndW1lbnRzLmxlbmd0aCl7dGhpcy5vcHRpb25zLnZhbHVlPQp0aGlzLl90cmltQWxpZ25WYWx1ZShiKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9jaGFuZ2UobnVsbCwwKX1yZXR1cm4gdGhpcy5fdmFsdWUoKX0sdmFsdWVzOmZ1bmN0aW9uKGIsYSl7dmFyIGMsZSxmO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7dGhpcy5vcHRpb25zLnZhbHVlc1tiXT10aGlzLl90cmltQWxpZ25WYWx1ZShhKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9jaGFuZ2UobnVsbCxiKX1pZihhcmd1bWVudHMubGVuZ3RoKWlmKGQuaXNBcnJheShhcmd1bWVudHNbMF0pKXtjPXRoaXMub3B0aW9ucy52YWx1ZXM7ZT1hcmd1bWVudHNbMF07Zm9yKGY9MDtmPGMubGVuZ3RoO2YrPTEpe2NbZl09dGhpcy5fdHJpbUFsaWduVmFsdWUoZVtmXSk7dGhpcy5fY2hhbmdlKG51bGwsZil9dGhpcy5fcmVmcmVzaFZhbHVlKCl9ZWxzZSByZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg/dGhpcy5fdmFsdWVzKGIpOnRoaXMudmFsdWUoKTsKZWxzZSByZXR1cm4gdGhpcy5fdmFsdWVzKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYixhKXt2YXIgYyxlPTA7aWYoZC5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpKWU9dGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg7ZC5XaWRnZXQucHJvdG90eXBlLl9zZXRPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3N3aXRjaChiKXtjYXNlICJkaXNhYmxlZCI6aWYoYSl7dGhpcy5oYW5kbGVzLmZpbHRlcigiLnVpLXN0YXRlLWZvY3VzIikuYmx1cigpO3RoaXMuaGFuZGxlcy5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKTt0aGlzLmhhbmRsZXMuYXR0cigiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZGlzYWJsZWQiKX1lbHNle3RoaXMuaGFuZGxlcy5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX1icmVhaztjYXNlICJvcmllbnRhdGlvbiI6dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTsKdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwiKS5hZGRDbGFzcygidWktc2xpZGVyLSIrdGhpcy5vcmllbnRhdGlvbik7dGhpcy5fcmVmcmVzaFZhbHVlKCk7YnJlYWs7Y2FzZSAidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9dHJ1ZTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9jaGFuZ2UobnVsbCwwKTt0aGlzLl9hbmltYXRlT2ZmPWZhbHNlO2JyZWFrO2Nhc2UgInZhbHVlcyI6dGhpcy5fYW5pbWF0ZU9mZj10cnVlO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO2ZvcihjPTA7YzxlO2MrPTEpdGhpcy5fY2hhbmdlKG51bGwsYyk7dGhpcy5fYW5pbWF0ZU9mZj1mYWxzZTticmVha319LF92YWx1ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy52YWx1ZTtyZXR1cm4gYj10aGlzLl90cmltQWxpZ25WYWx1ZShiKX0sX3ZhbHVlczpmdW5jdGlvbihiKXt2YXIgYSxjO2lmKGFyZ3VtZW50cy5sZW5ndGgpe2E9dGhpcy5vcHRpb25zLnZhbHVlc1tiXTsKcmV0dXJuIGE9dGhpcy5fdHJpbUFsaWduVmFsdWUoYSl9ZWxzZXthPXRoaXMub3B0aW9ucy52YWx1ZXMuc2xpY2UoKTtmb3IoYz0wO2M8YS5sZW5ndGg7Yys9MSlhW2NdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGFbY10pO3JldHVybiBhfX0sX3RyaW1BbGlnblZhbHVlOmZ1bmN0aW9uKGIpe2lmKGI8PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWluKCk7aWYoYj49dGhpcy5fdmFsdWVNYXgoKSlyZXR1cm4gdGhpcy5fdmFsdWVNYXgoKTt2YXIgYT10aGlzLm9wdGlvbnMuc3RlcD4wP3RoaXMub3B0aW9ucy5zdGVwOjEsYz0oYi10aGlzLl92YWx1ZU1pbigpKSVhO2FsaWduVmFsdWU9Yi1jO2lmKE1hdGguYWJzKGMpKjI+PWEpYWxpZ25WYWx1ZSs9Yz4wP2E6LWE7cmV0dXJuIHBhcnNlRmxvYXQoYWxpZ25WYWx1ZS50b0ZpeGVkKDUpKX0sX3ZhbHVlTWluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5taW59LF92YWx1ZU1heDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4fSwKX3JlZnJlc2hWYWx1ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5yYW5nZSxhPXRoaXMub3B0aW9ucyxjPXRoaXMsZT0hdGhpcy5fYW5pbWF0ZU9mZj9hLmFuaW1hdGU6ZmFsc2UsZixoPXt9LGcsaSxqLGw7aWYodGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpdGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oayl7Zj0oYy52YWx1ZXMoayktYy5fdmFsdWVNaW4oKSkvKGMuX3ZhbHVlTWF4KCktYy5fdmFsdWVNaW4oKSkqMTAwO2hbYy5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIj8ibGVmdCI6ImJvdHRvbSJdPWYrIiUiO2QodGhpcykuc3RvcCgxLDEpW2U/ImFuaW1hdGUiOiJjc3MiXShoLGEuYW5pbWF0ZSk7aWYoYy5vcHRpb25zLnJhbmdlPT09dHJ1ZSlpZihjLm9yaWVudGF0aW9uPT09Imhvcml6b250YWwiKXtpZihrPT09MCljLnJhbmdlLnN0b3AoMSwxKVtlPyJhbmltYXRlIjoiY3NzIl0oe2xlZnQ6ZisiJSJ9LGEuYW5pbWF0ZSk7CmlmKGs9PT0xKWMucmFuZ2VbZT8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDpmLWcrIiUifSx7cXVldWU6ZmFsc2UsZHVyYXRpb246YS5hbmltYXRlfSl9ZWxzZXtpZihrPT09MCljLnJhbmdlLnN0b3AoMSwxKVtlPyJhbmltYXRlIjoiY3NzIl0oe2JvdHRvbTpmKyIlIn0sYS5hbmltYXRlKTtpZihrPT09MSljLnJhbmdlW2U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OmYtZysiJSJ9LHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjphLmFuaW1hdGV9KX1nPWZ9KTtlbHNle2k9dGhpcy52YWx1ZSgpO2o9dGhpcy5fdmFsdWVNaW4oKTtsPXRoaXMuX3ZhbHVlTWF4KCk7Zj1sIT09aj8oaS1qKS8obC1qKSoxMDA6MDtoW2Mub3JpZW50YXRpb249PT0iaG9yaXpvbnRhbCI/ImxlZnQiOiJib3R0b20iXT1mKyIlIjt0aGlzLmhhbmRsZS5zdG9wKDEsMSlbZT8iYW5pbWF0ZSI6ImNzcyJdKGgsYS5hbmltYXRlKTtpZihiPT09Im1pbiImJnRoaXMub3JpZW50YXRpb249PT0iaG9yaXpvbnRhbCIpdGhpcy5yYW5nZS5zdG9wKDEsCjEpW2U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6ZisiJSJ9LGEuYW5pbWF0ZSk7aWYoYj09PSJtYXgiJiZ0aGlzLm9yaWVudGF0aW9uPT09Imhvcml6b250YWwiKXRoaXMucmFuZ2VbZT8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDoxMDAtZisiJSJ9LHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjphLmFuaW1hdGV9KTtpZihiPT09Im1pbiImJnRoaXMub3JpZW50YXRpb249PT0idmVydGljYWwiKXRoaXMucmFuZ2Uuc3RvcCgxLDEpW2U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OmYrIiUifSxhLmFuaW1hdGUpO2lmKGI9PT0ibWF4IiYmdGhpcy5vcmllbnRhdGlvbj09PSJ2ZXJ0aWNhbCIpdGhpcy5yYW5nZVtlPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtZisiJSJ9LHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjphLmFuaW1hdGV9KX19fSk7ZC5leHRlbmQoZC51aS5zbGlkZXIse3ZlcnNpb246IjEuOC4xMCJ9KX0pKGpRdWVyeSk7Ci8qIFVJIFRhYnMgKi8KKGZ1bmN0aW9uKGQscCl7ZnVuY3Rpb24gdSgpe3JldHVybisrdn1mdW5jdGlvbiB3KCl7cmV0dXJuKyt4fXZhciB2PTAseD0wO2Qud2lkZ2V0KCJ1aS50YWJzIix7b3B0aW9uczp7YWRkOm51bGwsYWpheE9wdGlvbnM6bnVsbCxjYWNoZTpmYWxzZSxjb29raWU6bnVsbCxjb2xsYXBzaWJsZTpmYWxzZSxkaXNhYmxlOm51bGwsZGlzYWJsZWQ6W10sZW5hYmxlOm51bGwsZXZlbnQ6ImNsaWNrIixmeDpudWxsLGlkUHJlZml4OiJ1aS10YWJzLSIsbG9hZDpudWxsLHBhbmVsVGVtcGxhdGU6IjxkaXY+PC9kaXY+IixyZW1vdmU6bnVsbCxzZWxlY3Q6bnVsbCxzaG93Om51bGwsc3Bpbm5lcjoiPGVtPkxvYWRpbmcmIzgyMzA7PC9lbT4iLHRhYlRlbXBsYXRlOiI8bGk+PGEgaHJlZj0nI3tocmVmfSc+PHNwYW4+I3tsYWJlbH08L3NwYW4+PC9hPjwvbGk+In0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3RhYmlmeSh0cnVlKX0sX3NldE9wdGlvbjpmdW5jdGlvbihiLGUpe2lmKGI9PSJzZWxlY3RlZCIpdGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlJiYKZT09dGhpcy5vcHRpb25zLnNlbGVjdGVkfHx0aGlzLnNlbGVjdChlKTtlbHNle3RoaXMub3B0aW9uc1tiXT1lO3RoaXMuX3RhYmlmeSgpfX0sX3RhYklkOmZ1bmN0aW9uKGIpe3JldHVybiBiLnRpdGxlJiZiLnRpdGxlLnJlcGxhY2UoL1xzL2csIl8iKS5yZXBsYWNlKC9bXlx3XHUwMGMwLVx1RkZGRi1dL2csIiIpfHx0aGlzLm9wdGlvbnMuaWRQcmVmaXgrdSgpfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbihiKXtyZXR1cm4gYi5yZXBsYWNlKC86L2csIlxcOiIpfSxfY29va2llOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jb29raWV8fCh0aGlzLmNvb2tpZT10aGlzLm9wdGlvbnMuY29va2llLm5hbWV8fCJ1aS10YWJzLSIrdygpKTtyZXR1cm4gZC5jb29raWUuYXBwbHkobnVsbCxbYl0uY29uY2F0KGQubWFrZUFycmF5KGFyZ3VtZW50cykpKX0sX3VpOmZ1bmN0aW9uKGIsZSl7cmV0dXJue3RhYjpiLHBhbmVsOmUsaW5kZXg6dGhpcy5hbmNob3JzLmluZGV4KGIpfX0sX2NsZWFudXA6ZnVuY3Rpb24oKXt0aGlzLmxpcy5maWx0ZXIoIi51aS1zdGF0ZS1wcm9jZXNzaW5nIikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLXByb2Nlc3NpbmciKS5maW5kKCJzcGFuOmRhdGEobGFiZWwudGFicykiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9CmQodGhpcyk7Yi5odG1sKGIuZGF0YSgibGFiZWwudGFicyIpKS5yZW1vdmVEYXRhKCJsYWJlbC50YWJzIil9KX0sX3RhYmlmeTpmdW5jdGlvbihiKXtmdW5jdGlvbiBlKGcsZil7Zy5jc3MoImRpc3BsYXkiLCIiKTshZC5zdXBwb3J0Lm9wYWNpdHkmJmYub3BhY2l0eSYmZ1swXS5zdHlsZS5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpfXZhciBhPXRoaXMsYz10aGlzLm9wdGlvbnMsaD0vXiMuKy87dGhpcy5saXN0PXRoaXMuZWxlbWVudC5maW5kKCJvbCx1bCIpLmVxKDApO3RoaXMubGlzPWQoIiA+IGxpOmhhcyhhW2hyZWZdKSIsdGhpcy5saXN0KTt0aGlzLmFuY2hvcnM9dGhpcy5saXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGQoImEiLHRoaXMpWzBdfSk7dGhpcy5wYW5lbHM9ZChbXSk7dGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oZyxmKXt2YXIgaT1kKGYpLmF0dHIoImhyZWYiKSxsPWkuc3BsaXQoIiMiKVswXSxxO2lmKGwmJihsPT09bG9jYXRpb24udG9TdHJpbmcoKS5zcGxpdCgiIyIpWzBdfHwKKHE9ZCgiYmFzZSIpWzBdKSYmbD09PXEuaHJlZikpe2k9Zi5oYXNoO2YuaHJlZj1pfWlmKGgudGVzdChpKSlhLnBhbmVscz1hLnBhbmVscy5hZGQoYS5lbGVtZW50LmZpbmQoYS5fc2FuaXRpemVTZWxlY3RvcihpKSkpO2Vsc2UgaWYoaSYmaSE9PSIjIil7ZC5kYXRhKGYsImhyZWYudGFicyIsaSk7ZC5kYXRhKGYsImxvYWQudGFicyIsaS5yZXBsYWNlKC8jLiokLywiIikpO2k9YS5fdGFiSWQoZik7Zi5ocmVmPSIjIitpO2Y9YS5lbGVtZW50LmZpbmQoIiMiK2kpO2lmKCFmLmxlbmd0aCl7Zj1kKGMucGFuZWxUZW1wbGF0ZSkuYXR0cigiaWQiLGkpLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5pbnNlcnRBZnRlcihhLnBhbmVsc1tnLTFdfHxhLmxpc3QpO2YuZGF0YSgiZGVzdHJveS50YWJzIix0cnVlKX1hLnBhbmVscz1hLnBhbmVscy5hZGQoZil9ZWxzZSBjLmRpc2FibGVkLnB1c2goZyl9KTtpZihiKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKTsKdGhpcy5saXN0LmFkZENsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpO3RoaXMubGlzLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci10b3AiKTt0aGlzLnBhbmVscy5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIik7aWYoYy5zZWxlY3RlZD09PXApe2xvY2F0aW9uLmhhc2gmJnRoaXMuYW5jaG9ycy5lYWNoKGZ1bmN0aW9uKGcsZil7aWYoZi5oYXNoPT1sb2NhdGlvbi5oYXNoKXtjLnNlbGVjdGVkPWc7cmV0dXJuIGZhbHNlfX0pO2lmKHR5cGVvZiBjLnNlbGVjdGVkIT09Im51bWJlciImJmMuY29va2llKWMuc2VsZWN0ZWQ9cGFyc2VJbnQoYS5fY29va2llKCksMTApO2lmKHR5cGVvZiBjLnNlbGVjdGVkIT09Im51bWJlciImJnRoaXMubGlzLmZpbHRlcigiLnVpLXRhYnMtc2VsZWN0ZWQiKS5sZW5ndGgpYy5zZWxlY3RlZD0KdGhpcy5saXMuaW5kZXgodGhpcy5saXMuZmlsdGVyKCIudWktdGFicy1zZWxlY3RlZCIpKTtjLnNlbGVjdGVkPWMuc2VsZWN0ZWR8fCh0aGlzLmxpcy5sZW5ndGg/MDotMSl9ZWxzZSBpZihjLnNlbGVjdGVkPT09bnVsbCljLnNlbGVjdGVkPS0xO2Muc2VsZWN0ZWQ9Yy5zZWxlY3RlZD49MCYmdGhpcy5hbmNob3JzW2Muc2VsZWN0ZWRdfHxjLnNlbGVjdGVkPDA/Yy5zZWxlY3RlZDowO2MuZGlzYWJsZWQ9ZC51bmlxdWUoYy5kaXNhYmxlZC5jb25jYXQoZC5tYXAodGhpcy5saXMuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihnKXtyZXR1cm4gYS5saXMuaW5kZXgoZyl9KSkpLnNvcnQoKTtkLmluQXJyYXkoYy5zZWxlY3RlZCxjLmRpc2FibGVkKSE9LTEmJmMuZGlzYWJsZWQuc3BsaWNlKGQuaW5BcnJheShjLnNlbGVjdGVkLGMuZGlzYWJsZWQpLDEpO3RoaXMucGFuZWxzLmFkZENsYXNzKCJ1aS10YWJzLWhpZGUiKTt0aGlzLmxpcy5yZW1vdmVDbGFzcygidWktdGFicy1zZWxlY3RlZCB1aS1zdGF0ZS1hY3RpdmUiKTsKaWYoYy5zZWxlY3RlZD49MCYmdGhpcy5hbmNob3JzLmxlbmd0aCl7YS5lbGVtZW50LmZpbmQoYS5fc2FuaXRpemVTZWxlY3RvcihhLmFuY2hvcnNbYy5zZWxlY3RlZF0uaGFzaCkpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWhpZGUiKTt0aGlzLmxpcy5lcShjLnNlbGVjdGVkKS5hZGRDbGFzcygidWktdGFicy1zZWxlY3RlZCB1aS1zdGF0ZS1hY3RpdmUiKTthLmVsZW1lbnQucXVldWUoInRhYnMiLGZ1bmN0aW9uKCl7YS5fdHJpZ2dlcigic2hvdyIsbnVsbCxhLl91aShhLmFuY2hvcnNbYy5zZWxlY3RlZF0sYS5lbGVtZW50LmZpbmQoYS5fc2FuaXRpemVTZWxlY3RvcihhLmFuY2hvcnNbYy5zZWxlY3RlZF0uaGFzaCkpWzBdKSl9KTt0aGlzLmxvYWQoYy5zZWxlY3RlZCl9ZCh3aW5kb3cpLmJpbmQoInVubG9hZCIsZnVuY3Rpb24oKXthLmxpcy5hZGQoYS5hbmNob3JzKS51bmJpbmQoIi50YWJzIik7YS5saXM9YS5hbmNob3JzPWEucGFuZWxzPW51bGx9KX1lbHNlIGMuc2VsZWN0ZWQ9dGhpcy5saXMuaW5kZXgodGhpcy5saXMuZmlsdGVyKCIudWktdGFicy1zZWxlY3RlZCIpKTsKdGhpcy5lbGVtZW50W2MuY29sbGFwc2libGU/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidWktdGFicy1jb2xsYXBzaWJsZSIpO2MuY29va2llJiZ0aGlzLl9jb29raWUoYy5zZWxlY3RlZCxjLmNvb2tpZSk7Yj0wO2Zvcih2YXIgajtqPXRoaXMubGlzW2JdO2IrKylkKGopW2QuaW5BcnJheShiLGMuZGlzYWJsZWQpIT0tMSYmIWQoaikuaGFzQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQiKT8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpO2MuY2FjaGU9PT1mYWxzZSYmdGhpcy5hbmNob3JzLnJlbW92ZURhdGEoImNhY2hlLnRhYnMiKTt0aGlzLmxpcy5hZGQodGhpcy5hbmNob3JzKS51bmJpbmQoIi50YWJzIik7aWYoYy5ldmVudCE9PSJtb3VzZW92ZXIiKXt2YXIgaz1mdW5jdGlvbihnLGYpe2YuaXMoIjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKSIpJiZmLmFkZENsYXNzKCJ1aS1zdGF0ZS0iK2cpfSxuPWZ1bmN0aW9uKGcsZil7Zi5yZW1vdmVDbGFzcygidWktc3RhdGUtIisKZyl9O3RoaXMubGlzLmJpbmQoIm1vdXNlb3Zlci50YWJzIixmdW5jdGlvbigpe2soImhvdmVyIixkKHRoaXMpKX0pO3RoaXMubGlzLmJpbmQoIm1vdXNlb3V0LnRhYnMiLGZ1bmN0aW9uKCl7bigiaG92ZXIiLGQodGhpcykpfSk7dGhpcy5hbmNob3JzLmJpbmQoImZvY3VzLnRhYnMiLGZ1bmN0aW9uKCl7aygiZm9jdXMiLGQodGhpcykuY2xvc2VzdCgibGkiKSl9KTt0aGlzLmFuY2hvcnMuYmluZCgiYmx1ci50YWJzIixmdW5jdGlvbigpe24oImZvY3VzIixkKHRoaXMpLmNsb3Nlc3QoImxpIikpfSl9dmFyIG0sbztpZihjLmZ4KWlmKGQuaXNBcnJheShjLmZ4KSl7bT1jLmZ4WzBdO289Yy5meFsxXX1lbHNlIG09bz1jLmZ4O3ZhciByPW8/ZnVuY3Rpb24oZyxmKXtkKGcpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQgdWktc3RhdGUtYWN0aXZlIik7Zi5oaWRlKCkucmVtb3ZlQ2xhc3MoInVpLXRhYnMtaGlkZSIpLmFuaW1hdGUobyxvLmR1cmF0aW9ufHwibm9ybWFsIiwKZnVuY3Rpb24oKXtlKGYsbyk7YS5fdHJpZ2dlcigic2hvdyIsbnVsbCxhLl91aShnLGZbMF0pKX0pfTpmdW5jdGlvbihnLGYpe2QoZykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1zZWxlY3RlZCB1aS1zdGF0ZS1hY3RpdmUiKTtmLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWhpZGUiKTthLl90cmlnZ2VyKCJzaG93IixudWxsLGEuX3VpKGcsZlswXSkpfSxzPW0/ZnVuY3Rpb24oZyxmKXtmLmFuaW1hdGUobSxtLmR1cmF0aW9ufHwibm9ybWFsIixmdW5jdGlvbigpe2EubGlzLnJlbW92ZUNsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSIpO2YuYWRkQ2xhc3MoInVpLXRhYnMtaGlkZSIpO2UoZixtKTthLmVsZW1lbnQuZGVxdWV1ZSgidGFicyIpfSl9OmZ1bmN0aW9uKGcsZil7YS5saXMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQgdWktc3RhdGUtYWN0aXZlIik7Zi5hZGRDbGFzcygidWktdGFicy1oaWRlIik7YS5lbGVtZW50LmRlcXVldWUoInRhYnMiKX07CnRoaXMuYW5jaG9ycy5iaW5kKGMuZXZlbnQrIi50YWJzIixmdW5jdGlvbigpe3ZhciBnPXRoaXMsZj1kKGcpLmNsb3Nlc3QoImxpIiksaT1hLnBhbmVscy5maWx0ZXIoIjpub3QoLnVpLXRhYnMtaGlkZSkiKSxsPWEuZWxlbWVudC5maW5kKGEuX3Nhbml0aXplU2VsZWN0b3IoZy5oYXNoKSk7aWYoZi5oYXNDbGFzcygidWktdGFicy1zZWxlY3RlZCIpJiYhYy5jb2xsYXBzaWJsZXx8Zi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Zi5oYXNDbGFzcygidWktc3RhdGUtcHJvY2Vzc2luZyIpfHxhLnBhbmVscy5maWx0ZXIoIjphbmltYXRlZCIpLmxlbmd0aHx8YS5fdHJpZ2dlcigic2VsZWN0IixudWxsLGEuX3VpKHRoaXMsbFswXSkpPT09ZmFsc2Upe3RoaXMuYmx1cigpO3JldHVybiBmYWxzZX1jLnNlbGVjdGVkPWEuYW5jaG9ycy5pbmRleCh0aGlzKTthLmFib3J0KCk7aWYoYy5jb2xsYXBzaWJsZSlpZihmLmhhc0NsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIikpe2Muc2VsZWN0ZWQ9Ci0xO2MuY29va2llJiZhLl9jb29raWUoYy5zZWxlY3RlZCxjLmNvb2tpZSk7YS5lbGVtZW50LnF1ZXVlKCJ0YWJzIixmdW5jdGlvbigpe3MoZyxpKX0pLmRlcXVldWUoInRhYnMiKTt0aGlzLmJsdXIoKTtyZXR1cm4gZmFsc2V9ZWxzZSBpZighaS5sZW5ndGgpe2MuY29va2llJiZhLl9jb29raWUoYy5zZWxlY3RlZCxjLmNvb2tpZSk7YS5lbGVtZW50LnF1ZXVlKCJ0YWJzIixmdW5jdGlvbigpe3IoZyxsKX0pO2EubG9hZChhLmFuY2hvcnMuaW5kZXgodGhpcykpO3RoaXMuYmx1cigpO3JldHVybiBmYWxzZX1jLmNvb2tpZSYmYS5fY29va2llKGMuc2VsZWN0ZWQsYy5jb29raWUpO2lmKGwubGVuZ3RoKXtpLmxlbmd0aCYmYS5lbGVtZW50LnF1ZXVlKCJ0YWJzIixmdW5jdGlvbigpe3MoZyxpKX0pO2EuZWxlbWVudC5xdWV1ZSgidGFicyIsZnVuY3Rpb24oKXtyKGcsbCl9KTthLmxvYWQoYS5hbmNob3JzLmluZGV4KHRoaXMpKX1lbHNlIHRocm93ImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLiI7CmQuYnJvd3Nlci5tc2llJiZ0aGlzLmJsdXIoKX0pO3RoaXMuYW5jaG9ycy5iaW5kKCJjbGljay50YWJzIixmdW5jdGlvbigpe3JldHVybiBmYWxzZX0pfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oYil7aWYodHlwZW9mIGI9PSJzdHJpbmciKWI9dGhpcy5hbmNob3JzLmluZGV4KHRoaXMuYW5jaG9ycy5maWx0ZXIoIltocmVmJD0iK2IrIl0iKSk7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7dGhpcy5hYm9ydCgpO3RoaXMuZWxlbWVudC51bmJpbmQoIi50YWJzIikucmVtb3ZlQ2xhc3MoInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwgdWktdGFicy1jb2xsYXBzaWJsZSIpLnJlbW92ZURhdGEoInRhYnMiKTt0aGlzLmxpc3QucmVtb3ZlQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIik7dGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0KZC5kYXRhKHRoaXMsImhyZWYudGFicyIpO2lmKGUpdGhpcy5ocmVmPWU7dmFyIGE9ZCh0aGlzKS51bmJpbmQoIi50YWJzIik7ZC5lYWNoKFsiaHJlZiIsImxvYWQiLCJjYWNoZSJdLGZ1bmN0aW9uKGMsaCl7YS5yZW1vdmVEYXRhKGgrIi50YWJzIil9KX0pO3RoaXMubGlzLnVuYmluZCgiLnRhYnMiKS5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtkLmRhdGEodGhpcywiZGVzdHJveS50YWJzIik/ZCh0aGlzKS5yZW1vdmUoKTpkKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci10b3AgdWktdGFicy1zZWxlY3RlZCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtaG92ZXIgdWktc3RhdGUtZm9jdXMgdWktc3RhdGUtZGlzYWJsZWQgdWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIHVpLXRhYnMtaGlkZSIpfSk7Yi5jb29raWUmJnRoaXMuX2Nvb2tpZShudWxsLGIuY29va2llKTtyZXR1cm4gdGhpc30sYWRkOmZ1bmN0aW9uKGIsCmUsYSl7aWYoYT09PXApYT10aGlzLmFuY2hvcnMubGVuZ3RoO3ZhciBjPXRoaXMsaD10aGlzLm9wdGlvbnM7ZT1kKGgudGFiVGVtcGxhdGUucmVwbGFjZSgvI1x7aHJlZlx9L2csYikucmVwbGFjZSgvI1x7bGFiZWxcfS9nLGUpKTtiPSFiLmluZGV4T2YoIiMiKT9iLnJlcGxhY2UoIiMiLCIiKTp0aGlzLl90YWJJZChkKCJhIixlKVswXSk7ZS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItdG9wIikuZGF0YSgiZGVzdHJveS50YWJzIix0cnVlKTt2YXIgaj1jLmVsZW1lbnQuZmluZCgiIyIrYik7ai5sZW5ndGh8fChqPWQoaC5wYW5lbFRlbXBsYXRlKS5hdHRyKCJpZCIsYikuZGF0YSgiZGVzdHJveS50YWJzIix0cnVlKSk7ai5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIHVpLXRhYnMtaGlkZSIpO2lmKGE+PXRoaXMubGlzLmxlbmd0aCl7ZS5hcHBlbmRUbyh0aGlzLmxpc3QpO2ouYXBwZW5kVG8odGhpcy5saXN0WzBdLnBhcmVudE5vZGUpfWVsc2V7ZS5pbnNlcnRCZWZvcmUodGhpcy5saXNbYV0pOwpqLmluc2VydEJlZm9yZSh0aGlzLnBhbmVsc1thXSl9aC5kaXNhYmxlZD1kLm1hcChoLmRpc2FibGVkLGZ1bmN0aW9uKGspe3JldHVybiBrPj1hPysrazprfSk7dGhpcy5fdGFiaWZ5KCk7aWYodGhpcy5hbmNob3JzLmxlbmd0aD09MSl7aC5zZWxlY3RlZD0wO2UuYWRkQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQgdWktc3RhdGUtYWN0aXZlIik7ai5yZW1vdmVDbGFzcygidWktdGFicy1oaWRlIik7dGhpcy5lbGVtZW50LnF1ZXVlKCJ0YWJzIixmdW5jdGlvbigpe2MuX3RyaWdnZXIoInNob3ciLG51bGwsYy5fdWkoYy5hbmNob3JzWzBdLGMucGFuZWxzWzBdKSl9KTt0aGlzLmxvYWQoMCl9dGhpcy5fdHJpZ2dlcigiYWRkIixudWxsLHRoaXMuX3VpKHRoaXMuYW5jaG9yc1thXSx0aGlzLnBhbmVsc1thXSkpO3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYil7Yj10aGlzLl9nZXRJbmRleChiKTt2YXIgZT10aGlzLm9wdGlvbnMsYT10aGlzLmxpcy5lcShiKS5yZW1vdmUoKSxjPXRoaXMucGFuZWxzLmVxKGIpLnJlbW92ZSgpOwppZihhLmhhc0NsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIikmJnRoaXMuYW5jaG9ycy5sZW5ndGg+MSl0aGlzLnNlbGVjdChiKyhiKzE8dGhpcy5hbmNob3JzLmxlbmd0aD8xOi0xKSk7ZS5kaXNhYmxlZD1kLm1hcChkLmdyZXAoZS5kaXNhYmxlZCxmdW5jdGlvbihoKXtyZXR1cm4gaCE9Yn0pLGZ1bmN0aW9uKGgpe3JldHVybiBoPj1iPy0taDpofSk7dGhpcy5fdGFiaWZ5KCk7dGhpcy5fdHJpZ2dlcigicmVtb3ZlIixudWxsLHRoaXMuX3VpKGEuZmluZCgiYSIpWzBdLGNbMF0pKTtyZXR1cm4gdGhpc30sZW5hYmxlOmZ1bmN0aW9uKGIpe2I9dGhpcy5fZ2V0SW5kZXgoYik7dmFyIGU9dGhpcy5vcHRpb25zO2lmKGQuaW5BcnJheShiLGUuZGlzYWJsZWQpIT0tMSl7dGhpcy5saXMuZXEoYikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIik7ZS5kaXNhYmxlZD1kLmdyZXAoZS5kaXNhYmxlZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9Yn0pO3RoaXMuX3RyaWdnZXIoImVuYWJsZSIsbnVsbCwKdGhpcy5fdWkodGhpcy5hbmNob3JzW2JdLHRoaXMucGFuZWxzW2JdKSk7cmV0dXJuIHRoaXN9fSxkaXNhYmxlOmZ1bmN0aW9uKGIpe2I9dGhpcy5fZ2V0SW5kZXgoYik7dmFyIGU9dGhpcy5vcHRpb25zO2lmKGIhPWUuc2VsZWN0ZWQpe3RoaXMubGlzLmVxKGIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpO2UuZGlzYWJsZWQucHVzaChiKTtlLmRpc2FibGVkLnNvcnQoKTt0aGlzLl90cmlnZ2VyKCJkaXNhYmxlIixudWxsLHRoaXMuX3VpKHRoaXMuYW5jaG9yc1tiXSx0aGlzLnBhbmVsc1tiXSkpfXJldHVybiB0aGlzfSxzZWxlY3Q6ZnVuY3Rpb24oYil7Yj10aGlzLl9nZXRJbmRleChiKTtpZihiPT0tMSlpZih0aGlzLm9wdGlvbnMuY29sbGFwc2libGUmJnRoaXMub3B0aW9ucy5zZWxlY3RlZCE9LTEpYj10aGlzLm9wdGlvbnMuc2VsZWN0ZWQ7ZWxzZSByZXR1cm4gdGhpczt0aGlzLmFuY2hvcnMuZXEoYikudHJpZ2dlcih0aGlzLm9wdGlvbnMuZXZlbnQrIi50YWJzIik7cmV0dXJuIHRoaXN9LApsb2FkOmZ1bmN0aW9uKGIpe2I9dGhpcy5fZ2V0SW5kZXgoYik7dmFyIGU9dGhpcyxhPXRoaXMub3B0aW9ucyxjPXRoaXMuYW5jaG9ycy5lcShiKVswXSxoPWQuZGF0YShjLCJsb2FkLnRhYnMiKTt0aGlzLmFib3J0KCk7aWYoIWh8fHRoaXMuZWxlbWVudC5xdWV1ZSgidGFicyIpLmxlbmd0aCE9PTAmJmQuZGF0YShjLCJjYWNoZS50YWJzIikpdGhpcy5lbGVtZW50LmRlcXVldWUoInRhYnMiKTtlbHNle3RoaXMubGlzLmVxKGIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1wcm9jZXNzaW5nIik7aWYoYS5zcGlubmVyKXt2YXIgaj1kKCJzcGFuIixjKTtqLmRhdGEoImxhYmVsLnRhYnMiLGouaHRtbCgpKS5odG1sKGEuc3Bpbm5lcil9dGhpcy54aHI9ZC5hamF4KGQuZXh0ZW5kKHt9LGEuYWpheE9wdGlvbnMse3VybDpoLHN1Y2Nlc3M6ZnVuY3Rpb24oayxuKXtlLmVsZW1lbnQuZmluZChlLl9zYW5pdGl6ZVNlbGVjdG9yKGMuaGFzaCkpLmh0bWwoayk7ZS5fY2xlYW51cCgpO2EuY2FjaGUmJmQuZGF0YShjLAoiY2FjaGUudGFicyIsdHJ1ZSk7ZS5fdHJpZ2dlcigibG9hZCIsbnVsbCxlLl91aShlLmFuY2hvcnNbYl0sZS5wYW5lbHNbYl0pKTt0cnl7YS5hamF4T3B0aW9ucy5zdWNjZXNzKGssbil9Y2F0Y2gobSl7fX0sZXJyb3I6ZnVuY3Rpb24oayxuKXtlLl9jbGVhbnVwKCk7ZS5fdHJpZ2dlcigibG9hZCIsbnVsbCxlLl91aShlLmFuY2hvcnNbYl0sZS5wYW5lbHNbYl0pKTt0cnl7YS5hamF4T3B0aW9ucy5lcnJvcihrLG4sYixjKX1jYXRjaChtKXt9fX0pKTtlLmVsZW1lbnQuZGVxdWV1ZSgidGFicyIpO3JldHVybiB0aGlzfX0sYWJvcnQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucXVldWUoW10pO3RoaXMucGFuZWxzLnN0b3AoZmFsc2UsdHJ1ZSk7dGhpcy5lbGVtZW50LnF1ZXVlKCJ0YWJzIix0aGlzLmVsZW1lbnQucXVldWUoInRhYnMiKS5zcGxpY2UoLTIsMikpO2lmKHRoaXMueGhyKXt0aGlzLnhoci5hYm9ydCgpO2RlbGV0ZSB0aGlzLnhocn10aGlzLl9jbGVhbnVwKCk7cmV0dXJuIHRoaXN9LAp1cmw6ZnVuY3Rpb24oYixlKXt0aGlzLmFuY2hvcnMuZXEoYikucmVtb3ZlRGF0YSgiY2FjaGUudGFicyIpLmRhdGEoImxvYWQudGFicyIsZSk7cmV0dXJuIHRoaXN9LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuY2hvcnMubGVuZ3RofX0pO2QuZXh0ZW5kKGQudWkudGFicyx7dmVyc2lvbjoiMS44LjEwIn0pO2QuZXh0ZW5kKGQudWkudGFicy5wcm90b3R5cGUse3JvdGF0aW9uOm51bGwscm90YXRlOmZ1bmN0aW9uKGIsZSl7dmFyIGE9dGhpcyxjPXRoaXMub3B0aW9ucyxoPWEuX3JvdGF0ZXx8KGEuX3JvdGF0ZT1mdW5jdGlvbihqKXtjbGVhclRpbWVvdXQoYS5yb3RhdGlvbik7YS5yb3RhdGlvbj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGs9Yy5zZWxlY3RlZDthLnNlbGVjdCgrK2s8YS5hbmNob3JzLmxlbmd0aD9rOjApfSxiKTtqJiZqLnN0b3BQcm9wYWdhdGlvbigpfSk7ZT1hLl91bnJvdGF0ZXx8KGEuX3Vucm90YXRlPSFlP2Z1bmN0aW9uKGope2ouY2xpZW50WCYmCmEucm90YXRlKG51bGwpfTpmdW5jdGlvbigpe3Q9Yy5zZWxlY3RlZDtoKCl9KTtpZihiKXt0aGlzLmVsZW1lbnQuYmluZCgidGFic3Nob3ciLGgpO3RoaXMuYW5jaG9ycy5iaW5kKGMuZXZlbnQrIi50YWJzIixlKTtoKCl9ZWxzZXtjbGVhclRpbWVvdXQoYS5yb3RhdGlvbik7dGhpcy5lbGVtZW50LnVuYmluZCgidGFic3Nob3ciLGgpO3RoaXMuYW5jaG9ycy51bmJpbmQoYy5ldmVudCsiLnRhYnMiLGUpO2RlbGV0ZSB0aGlzLl9yb3RhdGU7ZGVsZXRlIHRoaXMuX3Vucm90YXRlfXJldHVybiB0aGlzfX0pfSkoalF1ZXJ5KTsKOy8qIFVJIERhdGVwaWNrZXIgKi8KKGZ1bmN0aW9uKGQsRyl7ZnVuY3Rpb24gSygpe3RoaXMuZGVidWc9ZmFsc2U7dGhpcy5fY3VySW5zdD1udWxsO3RoaXMuX2tleUV2ZW50PWZhbHNlO3RoaXMuX2Rpc2FibGVkSW5wdXRzPVtdO3RoaXMuX2luRGlhbG9nPXRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPWZhbHNlO3RoaXMuX21haW5EaXZJZD0idWktZGF0ZXBpY2tlci1kaXYiO3RoaXMuX2lubGluZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWlubGluZSI7dGhpcy5fYXBwZW5kQ2xhc3M9InVpLWRhdGVwaWNrZXItYXBwZW5kIjt0aGlzLl90cmlnZ2VyQ2xhc3M9InVpLWRhdGVwaWNrZXItdHJpZ2dlciI7dGhpcy5fZGlhbG9nQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlhbG9nIjt0aGlzLl9kaXNhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlzYWJsZWQiO3RoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZSI7dGhpcy5fY3VycmVudENsYXNzPSJ1aS1kYXRlcGlja2VyLWN1cnJlbnQtZGF5Ijt0aGlzLl9kYXlPdmVyQ2xhc3M9CiJ1aS1kYXRlcGlja2VyLWRheXMtY2VsbC1vdmVyIjt0aGlzLnJlZ2lvbmFsPVtdO3RoaXMucmVnaW9uYWxbIiJdPXtjbG9zZVRleHQ6IkRvbmUiLHByZXZUZXh0OiJQcmV2IixuZXh0VGV4dDoiTmV4dCIsY3VycmVudFRleHQ6IlRvZGF5Iixtb250aE5hbWVzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxtb250aE5hbWVzU2hvcnQ6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxkYXlOYW1lczpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZGF5TmFtZXNTaG9ydDpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLGRheU5hbWVzTWluOlsiU3UiLAoiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl0sd2Vla0hlYWRlcjoiV2siLGRhdGVGb3JtYXQ6Im1tL2RkL3l5IixmaXJzdERheTowLGlzUlRMOmZhbHNlLHNob3dNb250aEFmdGVyWWVhcjpmYWxzZSx5ZWFyU3VmZml4OiIifTt0aGlzLl9kZWZhdWx0cz17c2hvd09uOiJmb2N1cyIsc2hvd0FuaW06ImZhZGVJbiIsc2hvd09wdGlvbnM6e30sZGVmYXVsdERhdGU6bnVsbCxhcHBlbmRUZXh0OiIiLGJ1dHRvblRleHQ6Ii4uLiIsYnV0dG9uSW1hZ2U6IiIsYnV0dG9uSW1hZ2VPbmx5OmZhbHNlLGhpZGVJZk5vUHJldk5leHQ6ZmFsc2UsbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDpmYWxzZSxnb3RvQ3VycmVudDpmYWxzZSxjaGFuZ2VNb250aDpmYWxzZSxjaGFuZ2VZZWFyOmZhbHNlLHllYXJSYW5nZToiYy0xMDpjKzEwIixzaG93T3RoZXJNb250aHM6ZmFsc2Usc2VsZWN0T3RoZXJNb250aHM6ZmFsc2Usc2hvd1dlZWs6ZmFsc2UsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjoiKzEwIiwKbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDp0cnVlLHNob3dCdXR0b25QYW5lbDpmYWxzZSxhdXRvU2l6ZTpmYWxzZX07ZC5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMuZHBEaXY9ZCgnPGRpdiBpZD0iJyt0aGlzLl9tYWluRGl2SWQrJyIgY2xhc3M9InVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsIj48L2Rpdj4nKX1mdW5jdGlvbiBFKGEsYil7ZC5leHRlbmQoYSxiKTtmb3IodmFyIGMgaW4gYilpZihiW2NdPT0KbnVsbHx8YltjXT09RylhW2NdPWJbY107cmV0dXJuIGF9ZC5leHRlbmQoZC51aSx7ZGF0ZXBpY2tlcjp7dmVyc2lvbjoiMS44LjEwIn19KTt2YXIgeT0obmV3IERhdGUpLmdldFRpbWUoKTtkLmV4dGVuZChLLnByb3RvdHlwZSx7bWFya2VyQ2xhc3NOYW1lOiJoYXNEYXRlcGlja2VyIixsb2c6ZnVuY3Rpb24oKXt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZy5hcHBseSgiIixhcmd1bWVudHMpfSxfd2lkZ2V0RGF0ZXBpY2tlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRwRGl2fSxzZXREZWZhdWx0czpmdW5jdGlvbihhKXtFKHRoaXMuX2RlZmF1bHRzLGF8fHt9KTtyZXR1cm4gdGhpc30sX2F0dGFjaERhdGVwaWNrZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2Zvcih2YXIgZSBpbiB0aGlzLl9kZWZhdWx0cyl7dmFyIGY9YS5nZXRBdHRyaWJ1dGUoImRhdGU6IitlKTtpZihmKXtjPWN8fHt9O3RyeXtjW2VdPWV2YWwoZil9Y2F0Y2goaCl7Y1tlXT1mfX19ZT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CmY9ZT09ImRpdiJ8fGU9PSJzcGFuIjtpZighYS5pZCl7dGhpcy51dWlkKz0xO2EuaWQ9ImRwIit0aGlzLnV1aWR9dmFyIGk9dGhpcy5fbmV3SW5zdChkKGEpLGYpO2kuc2V0dGluZ3M9ZC5leHRlbmQoe30sYnx8e30sY3x8e30pO2lmKGU9PSJpbnB1dCIpdGhpcy5fY29ubmVjdERhdGVwaWNrZXIoYSxpKTtlbHNlIGYmJnRoaXMuX2lubGluZURhdGVwaWNrZXIoYSxpKX0sX25ld0luc3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm57aWQ6YVswXS5pZC5yZXBsYWNlKC8oW15BLVphLXowLTlfLV0pL2csIlxcXFwkMSIpLGlucHV0OmEsc2VsZWN0ZWREYXk6MCxzZWxlY3RlZE1vbnRoOjAsc2VsZWN0ZWRZZWFyOjAsZHJhd01vbnRoOjAsZHJhd1llYXI6MCxpbmxpbmU6YixkcERpdjohYj90aGlzLmRwRGl2OmQoJzxkaXYgY2xhc3M9IicrdGhpcy5faW5saW5lQ2xhc3MrJyB1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCI+PC9kaXY+Jyl9fSwKX2Nvbm5lY3REYXRlcGlja2VyOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZChhKTtiLmFwcGVuZD1kKFtdKTtiLnRyaWdnZXI9ZChbXSk7aWYoIWMuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKXt0aGlzLl9hdHRhY2htZW50cyhjLGIpO2MuYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmtleWRvd24odGhpcy5fZG9LZXlEb3duKS5rZXlwcmVzcyh0aGlzLl9kb0tleVByZXNzKS5rZXl1cCh0aGlzLl9kb0tleVVwKS5iaW5kKCJzZXREYXRhLmRhdGVwaWNrZXIiLGZ1bmN0aW9uKGUsZixoKXtiLnNldHRpbmdzW2ZdPWh9KS5iaW5kKCJnZXREYXRhLmRhdGVwaWNrZXIiLGZ1bmN0aW9uKGUsZil7cmV0dXJuIHRoaXMuX2dldChiLGYpfSk7dGhpcy5fYXV0b1NpemUoYik7ZC5kYXRhKGEsImRhdGVwaWNrZXIiLGIpfX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fZ2V0KGIsImFwcGVuZFRleHQiKSxlPXRoaXMuX2dldChiLCJpc1JUTCIpO2IuYXBwZW5kJiYKYi5hcHBlbmQucmVtb3ZlKCk7aWYoYyl7Yi5hcHBlbmQ9ZCgnPHNwYW4gY2xhc3M9IicrdGhpcy5fYXBwZW5kQ2xhc3MrJyI+JytjKyI8L3NwYW4+Iik7YVtlPyJiZWZvcmUiOiJhZnRlciJdKGIuYXBwZW5kKX1hLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKTtiLnRyaWdnZXImJmIudHJpZ2dlci5yZW1vdmUoKTtjPXRoaXMuX2dldChiLCJzaG93T24iKTtpZihjPT0iZm9jdXMifHxjPT0iYm90aCIpYS5mb2N1cyh0aGlzLl9zaG93RGF0ZXBpY2tlcik7aWYoYz09ImJ1dHRvbiJ8fGM9PSJib3RoIil7Yz10aGlzLl9nZXQoYiwiYnV0dG9uVGV4dCIpO3ZhciBmPXRoaXMuX2dldChiLCJidXR0b25JbWFnZSIpO2IudHJpZ2dlcj1kKHRoaXMuX2dldChiLCJidXR0b25JbWFnZU9ubHkiKT9kKCI8aW1nLz4iKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmF0dHIoe3NyYzpmLGFsdDpjLHRpdGxlOmN9KTpkKCc8YnV0dG9uIHR5cGU9ImJ1dHRvbiI+PC9idXR0b24+JykuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5odG1sKGY9PQoiIj9jOmQoIjxpbWcvPiIpLmF0dHIoe3NyYzpmLGFsdDpjLHRpdGxlOmN9KSkpO2FbZT8iYmVmb3JlIjoiYWZ0ZXIiXShiLnRyaWdnZXIpO2IudHJpZ2dlci5jbGljayhmdW5jdGlvbigpe2QuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJmQuZGF0ZXBpY2tlci5fbGFzdElucHV0PT1hWzBdP2QuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTpkLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKGFbMF0pO3JldHVybiBmYWxzZX0pfX0sX2F1dG9TaXplOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2dldChhLCJhdXRvU2l6ZSIpJiYhYS5pbmxpbmUpe3ZhciBiPW5ldyBEYXRlKDIwMDksMTEsMjApLGM9dGhpcy5fZ2V0KGEsImRhdGVGb3JtYXQiKTtpZihjLm1hdGNoKC9bRE1dLykpe3ZhciBlPWZ1bmN0aW9uKGYpe2Zvcih2YXIgaD0wLGk9MCxnPTA7ZzxmLmxlbmd0aDtnKyspaWYoZltnXS5sZW5ndGg+aCl7aD1mW2ddLmxlbmd0aDtpPWd9cmV0dXJuIGl9O2Iuc2V0TW9udGgoZSh0aGlzLl9nZXQoYSwKYy5tYXRjaCgvTU0vKT8ibW9udGhOYW1lcyI6Im1vbnRoTmFtZXNTaG9ydCIpKSk7Yi5zZXREYXRlKGUodGhpcy5fZ2V0KGEsYy5tYXRjaCgvREQvKT8iZGF5TmFtZXMiOiJkYXlOYW1lc1Nob3J0IikpKzIwLWIuZ2V0RGF5KCkpfWEuaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZShhLGIpLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWQoYSk7aWYoIWMuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKXtjLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoYi5kcERpdikuYmluZCgic2V0RGF0YS5kYXRlcGlja2VyIixmdW5jdGlvbihlLGYsaCl7Yi5zZXR0aW5nc1tmXT1ofSkuYmluZCgiZ2V0RGF0YS5kYXRlcGlja2VyIixmdW5jdGlvbihlLGYpe3JldHVybiB0aGlzLl9nZXQoYixmKX0pO2QuZGF0YShhLCJkYXRlcGlja2VyIixiKTt0aGlzLl9zZXREYXRlKGIsdGhpcy5fZ2V0RGVmYXVsdERhdGUoYiksCnRydWUpO3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIoYik7dGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGIpO2IuZHBEaXYuc2hvdygpfX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24oYSxiLGMsZSxmKXthPXRoaXMuX2RpYWxvZ0luc3Q7aWYoIWEpe3RoaXMudXVpZCs9MTt0aGlzLl9kaWFsb2dJbnB1dD1kKCc8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IicrKCJkcCIrdGhpcy51dWlkKSsnIiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyB0b3A6IC0xMDBweDsgd2lkdGg6IDBweDsgei1pbmRleDogLTEwOyIvPicpO3RoaXMuX2RpYWxvZ0lucHV0LmtleWRvd24odGhpcy5fZG9LZXlEb3duKTtkKCJib2R5IikuYXBwZW5kKHRoaXMuX2RpYWxvZ0lucHV0KTthPXRoaXMuX2RpYWxvZ0luc3Q9dGhpcy5fbmV3SW5zdCh0aGlzLl9kaWFsb2dJbnB1dCxmYWxzZSk7YS5zZXR0aW5ncz17fTtkLmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sImRhdGVwaWNrZXIiLGEpfUUoYS5zZXR0aW5ncyxlfHx7fSk7CmI9YiYmYi5jb25zdHJ1Y3Rvcj09RGF0ZT90aGlzLl9mb3JtYXREYXRlKGEsYik6Yjt0aGlzLl9kaWFsb2dJbnB1dC52YWwoYik7dGhpcy5fcG9zPWY/Zi5sZW5ndGg/ZjpbZi5wYWdlWCxmLnBhZ2VZXTpudWxsO2lmKCF0aGlzLl9wb3MpdGhpcy5fcG9zPVtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgvMi0xMDArKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQvMi0xNTArKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKV07dGhpcy5fZGlhbG9nSW5wdXQuY3NzKCJsZWZ0Iix0aGlzLl9wb3NbMF0rMjArInB4IikuY3NzKCJ0b3AiLHRoaXMuX3Bvc1sxXSsicHgiKTthLnNldHRpbmdzLm9uU2VsZWN0PWM7dGhpcy5faW5EaWFsb2c9dHJ1ZTt0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKTsKdGhpcy5fc2hvd0RhdGVwaWNrZXIodGhpcy5fZGlhbG9nSW5wdXRbMF0pO2QuYmxvY2tVSSYmZC5ibG9ja1VJKHRoaXMuZHBEaXYpO2QuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsYSk7cmV0dXJuIHRoaXN9LF9kZXN0cm95RGF0ZXBpY2tlcjpmdW5jdGlvbihhKXt2YXIgYj1kKGEpLGM9ZC5kYXRhKGEsImRhdGVwaWNrZXIiKTtpZihiLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSl7dmFyIGU9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2QucmVtb3ZlRGF0YShhLCJkYXRlcGlja2VyIik7aWYoZT09ImlucHV0Iil7Yy5hcHBlbmQucmVtb3ZlKCk7Yy50cmlnZ2VyLnJlbW92ZSgpO2IucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKS51bmJpbmQoImtleWRvd24iLHRoaXMuX2RvS2V5RG93bikudW5iaW5kKCJrZXlwcmVzcyIsdGhpcy5fZG9LZXlQcmVzcykudW5iaW5kKCJrZXl1cCIsCnRoaXMuX2RvS2V5VXApfWVsc2UgaWYoZT09ImRpdiJ8fGU9PSJzcGFuIiliLnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5lbXB0eSgpfX0sX2VuYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7dmFyIGI9ZChhKSxjPWQuZGF0YShhLCJkYXRlcGlja2VyIik7aWYoYi5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkpe3ZhciBlPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihlPT0iaW5wdXQiKXthLmRpc2FibGVkPWZhbHNlO2MudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPWZhbHNlfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjEuMCIsY3Vyc29yOiIifSl9ZWxzZSBpZihlPT0iZGl2Inx8ZT09InNwYW4iKWIuY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpO3RoaXMuX2Rpc2FibGVkSW5wdXRzPWQubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLApmdW5jdGlvbihmKXtyZXR1cm4gZj09YT9udWxsOmZ9KX19LF9kaXNhYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbihhKXt2YXIgYj1kKGEpLGM9ZC5kYXRhKGEsImRhdGVwaWNrZXIiKTtpZihiLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSl7dmFyIGU9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGU9PSJpbnB1dCIpe2EuZGlzYWJsZWQ9dHJ1ZTtjLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD10cnVlfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pfWVsc2UgaWYoZT09ImRpdiJ8fGU9PSJzcGFuIiliLmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcykuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKTt0aGlzLl9kaXNhYmxlZElucHV0cz1kLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxmdW5jdGlvbihmKXtyZXR1cm4gZj09YT9udWxsOgpmfSk7dGhpcy5fZGlzYWJsZWRJbnB1dHNbdGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoXT1hfX0sX2lzRGlzYWJsZWREYXRlcGlja2VyOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBmYWxzZTtmb3IodmFyIGI9MDtiPHRoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aDtiKyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbYl09PWEpcmV0dXJuIHRydWU7cmV0dXJuIGZhbHNlfSxfZ2V0SW5zdDpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGQuZGF0YShhLCJkYXRlcGlja2VyIil9Y2F0Y2goYil7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIiO319LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT10aGlzLl9nZXRJbnN0KGEpO2lmKGFyZ3VtZW50cy5sZW5ndGg9PTImJnR5cGVvZiBiPT0ic3RyaW5nIilyZXR1cm4gYj09ImRlZmF1bHRzIj9kLmV4dGVuZCh7fSxkLmRhdGVwaWNrZXIuX2RlZmF1bHRzKTplP2I9PSJhbGwiP2QuZXh0ZW5kKHt9LAplLnNldHRpbmdzKTp0aGlzLl9nZXQoZSxiKTpudWxsO3ZhciBmPWJ8fHt9O2lmKHR5cGVvZiBiPT0ic3RyaW5nIil7Zj17fTtmW2JdPWN9aWYoZSl7dGhpcy5fY3VySW5zdD09ZSYmdGhpcy5faGlkZURhdGVwaWNrZXIoKTt2YXIgaD10aGlzLl9nZXREYXRlRGF0ZXBpY2tlcihhLHRydWUpO0UoZS5zZXR0aW5ncyxmKTt0aGlzLl9hdHRhY2htZW50cyhkKGEpLGUpO3RoaXMuX2F1dG9TaXplKGUpO3RoaXMuX3NldERhdGVEYXRlcGlja2VyKGEsaCk7dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihlKX19LF9jaGFuZ2VEYXRlcGlja2VyOmZ1bmN0aW9uKGEsYixjKXt0aGlzLl9vcHRpb25EYXRlcGlja2VyKGEsYixjKX0sX3JlZnJlc2hEYXRlcGlja2VyOmZ1bmN0aW9uKGEpeyhhPXRoaXMuX2dldEluc3QoYSkpJiZ0aGlzLl91cGRhdGVEYXRlcGlja2VyKGEpfSxfc2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSxiKXtpZihhPXRoaXMuX2dldEluc3QoYSkpe3RoaXMuX3NldERhdGUoYSxiKTsKdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihhKTt0aGlzLl91cGRhdGVBbHRlcm5hdGUoYSl9fSxfZ2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSxiKXsoYT10aGlzLl9nZXRJbnN0KGEpKSYmIWEuaW5saW5lJiZ0aGlzLl9zZXREYXRlRnJvbUZpZWxkKGEsYik7cmV0dXJuIGE/dGhpcy5fZ2V0RGF0ZShhKTpudWxsfSxfZG9LZXlEb3duOmZ1bmN0aW9uKGEpe3ZhciBiPWQuZGF0ZXBpY2tlci5fZ2V0SW5zdChhLnRhcmdldCksYz10cnVlLGU9Yi5kcERpdi5pcygiLnVpLWRhdGVwaWNrZXItcnRsIik7Yi5fa2V5RXZlbnQ9dHJ1ZTtpZihkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nKXN3aXRjaChhLmtleUNvZGUpe2Nhc2UgOTpkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7Yz1mYWxzZTticmVhaztjYXNlIDEzOmM9ZCgidGQuIitkLmRhdGVwaWNrZXIuX2RheU92ZXJDbGFzcysiOm5vdCguIitkLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcysiKSIsYi5kcERpdik7Y1swXT8KZC5kYXRlcGlja2VyLl9zZWxlY3REYXkoYS50YXJnZXQsYi5zZWxlY3RlZE1vbnRoLGIuc2VsZWN0ZWRZZWFyLGNbMF0pOmQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtyZXR1cm4gZmFsc2U7Y2FzZSAyNzpkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7YnJlYWs7Y2FzZSAzMzpkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoYS50YXJnZXQsYS5jdHJsS2V5Py1kLmRhdGVwaWNrZXIuX2dldChiLCJzdGVwQmlnTW9udGhzIik6LWQuZGF0ZXBpY2tlci5fZ2V0KGIsInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzQ6ZC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGEuY3RybEtleT8rZC5kYXRlcGlja2VyLl9nZXQoYiwic3RlcEJpZ01vbnRocyIpOitkLmRhdGVwaWNrZXIuX2dldChiLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM1OmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWQuZGF0ZXBpY2tlci5fY2xlYXJEYXRlKGEudGFyZ2V0KTtjPWEuY3RybEtleXx8CmEubWV0YUtleTticmVhaztjYXNlIDM2OmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWQuZGF0ZXBpY2tlci5fZ290b1RvZGF5KGEudGFyZ2V0KTtjPWEuY3RybEtleXx8YS5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6aWYoYS5jdHJsS2V5fHxhLm1ldGFLZXkpZC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGU/KzE6LTEsIkQiKTtjPWEuY3RybEtleXx8YS5tZXRhS2V5O2lmKGEub3JpZ2luYWxFdmVudC5hbHRLZXkpZC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGEuY3RybEtleT8tZC5kYXRlcGlja2VyLl9nZXQoYiwic3RlcEJpZ01vbnRocyIpOi1kLmRhdGVwaWNrZXIuX2dldChiLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM4OmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShhLnRhcmdldCwtNywiRCIpO2M9YS5jdHJsS2V5fHxhLm1ldGFLZXk7YnJlYWs7Y2FzZSAzOTppZihhLmN0cmxLZXl8fGEubWV0YUtleSlkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoYS50YXJnZXQsCmU/LTE6KzEsIkQiKTtjPWEuY3RybEtleXx8YS5tZXRhS2V5O2lmKGEub3JpZ2luYWxFdmVudC5hbHRLZXkpZC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGEuY3RybEtleT8rZC5kYXRlcGlja2VyLl9nZXQoYiwic3RlcEJpZ01vbnRocyIpOitkLmRhdGVwaWNrZXIuX2dldChiLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDQwOmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShhLnRhcmdldCwrNywiRCIpO2M9YS5jdHJsS2V5fHxhLm1ldGFLZXk7YnJlYWs7ZGVmYXVsdDpjPWZhbHNlfWVsc2UgaWYoYS5rZXlDb2RlPT0zNiYmYS5jdHJsS2V5KWQuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodGhpcyk7ZWxzZSBjPWZhbHNlO2lmKGMpe2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfX0sX2RvS2V5UHJlc3M6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5kYXRlcGlja2VyLl9nZXRJbnN0KGEudGFyZ2V0KTtpZihkLmRhdGVwaWNrZXIuX2dldChiLAoiY29uc3RyYWluSW5wdXQiKSl7Yj1kLmRhdGVwaWNrZXIuX3Bvc3NpYmxlQ2hhcnMoZC5kYXRlcGlja2VyLl9nZXQoYiwiZGF0ZUZvcm1hdCIpKTt2YXIgYz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuY2hhckNvZGU9PUc/YS5rZXlDb2RlOmEuY2hhckNvZGUpO3JldHVybiBhLmN0cmxLZXl8fGEubWV0YUtleXx8YzwiICJ8fCFifHxiLmluZGV4T2YoYyk+LTF9fSxfZG9LZXlVcDpmdW5jdGlvbihhKXthPWQuZGF0ZXBpY2tlci5fZ2V0SW5zdChhLnRhcmdldCk7aWYoYS5pbnB1dC52YWwoKSE9YS5sYXN0VmFsKXRyeXtpZihkLmRhdGVwaWNrZXIucGFyc2VEYXRlKGQuZGF0ZXBpY2tlci5fZ2V0KGEsImRhdGVGb3JtYXQiKSxhLmlucHV0P2EuaW5wdXQudmFsKCk6bnVsbCxkLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhhKSkpe2QuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChhKTtkLmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZShhKTtkLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoYSl9fWNhdGNoKGIpe2QuZGF0ZXBpY2tlci5sb2coYil9cmV0dXJuIHRydWV9LApfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7YT1hLnRhcmdldHx8YTtpZihhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPSJpbnB1dCIpYT1kKCJpbnB1dCIsYS5wYXJlbnROb2RlKVswXTtpZighKGQuZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIoYSl8fGQuZGF0ZXBpY2tlci5fbGFzdElucHV0PT1hKSl7dmFyIGI9ZC5kYXRlcGlja2VyLl9nZXRJbnN0KGEpO2QuZGF0ZXBpY2tlci5fY3VySW5zdCYmZC5kYXRlcGlja2VyLl9jdXJJbnN0IT1iJiZkLmRhdGVwaWNrZXIuX2N1ckluc3QuZHBEaXYuc3RvcCh0cnVlLHRydWUpO3ZhciBjPWQuZGF0ZXBpY2tlci5fZ2V0KGIsImJlZm9yZVNob3ciKTtFKGIuc2V0dGluZ3MsYz9jLmFwcGx5KGEsW2EsYl0pOnt9KTtiLmxhc3RWYWw9bnVsbDtkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD1hO2QuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChiKTtpZihkLmRhdGVwaWNrZXIuX2luRGlhbG9nKWEudmFsdWU9IiI7aWYoIWQuZGF0ZXBpY2tlci5fcG9zKXtkLmRhdGVwaWNrZXIuX3Bvcz0KZC5kYXRlcGlja2VyLl9maW5kUG9zKGEpO2QuZGF0ZXBpY2tlci5fcG9zWzFdKz1hLm9mZnNldEhlaWdodH12YXIgZT1mYWxzZTtkKGEpLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7ZXw9ZCh0aGlzKS5jc3MoInBvc2l0aW9uIik9PSJmaXhlZCI7cmV0dXJuIWV9KTtpZihlJiZkLmJyb3dzZXIub3BlcmEpe2QuZGF0ZXBpY2tlci5fcG9zWzBdLT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtkLmRhdGVwaWNrZXIuX3Bvc1sxXS09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcH1jPXtsZWZ0OmQuZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpkLmRhdGVwaWNrZXIuX3Bvc1sxXX07ZC5kYXRlcGlja2VyLl9wb3M9bnVsbDtiLmRwRGl2LmVtcHR5KCk7Yi5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KTtkLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoYik7Yz1kLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGIsCmMsZSk7Yi5kcERpdi5jc3Moe3Bvc2l0aW9uOmQuZGF0ZXBpY2tlci5faW5EaWFsb2cmJmQuYmxvY2tVST8ic3RhdGljIjplPyJmaXhlZCI6ImFic29sdXRlIixkaXNwbGF5OiJub25lIixsZWZ0OmMubGVmdCsicHgiLHRvcDpjLnRvcCsicHgifSk7aWYoIWIuaW5saW5lKXtjPWQuZGF0ZXBpY2tlci5fZ2V0KGIsInNob3dBbmltIik7dmFyIGY9ZC5kYXRlcGlja2VyLl9nZXQoYiwiZHVyYXRpb24iKSxoPWZ1bmN0aW9uKCl7ZC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZz10cnVlO3ZhciBpPWIuZHBEaXYuZmluZCgiaWZyYW1lLnVpLWRhdGVwaWNrZXItY292ZXIiKTtpZihpLmxlbmd0aCl7dmFyIGc9ZC5kYXRlcGlja2VyLl9nZXRCb3JkZXJzKGIuZHBEaXYpO2kuY3NzKHtsZWZ0Oi1nWzBdLHRvcDotZ1sxXSx3aWR0aDpiLmRwRGl2Lm91dGVyV2lkdGgoKSxoZWlnaHQ6Yi5kcERpdi5vdXRlckhlaWdodCgpfSl9fTtiLmRwRGl2LnpJbmRleChkKGEpLnpJbmRleCgpKzEpO2QuZWZmZWN0cyYmCmQuZWZmZWN0c1tjXT9iLmRwRGl2LnNob3coYyxkLmRhdGVwaWNrZXIuX2dldChiLCJzaG93T3B0aW9ucyIpLGYsaCk6Yi5kcERpdltjfHwic2hvdyJdKGM/ZjpudWxsLGgpO2lmKCFjfHwhZiloKCk7Yi5pbnB1dC5pcygiOnZpc2libGUiKSYmIWIuaW5wdXQuaXMoIjpkaXNhYmxlZCIpJiZiLmlucHV0LmZvY3VzKCk7ZC5kYXRlcGlja2VyLl9jdXJJbnN0PWJ9fX0sX3VwZGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWQuZGF0ZXBpY2tlci5fZ2V0Qm9yZGVycyhhLmRwRGl2KTthLmRwRGl2LmVtcHR5KCkuYXBwZW5kKHRoaXMuX2dlbmVyYXRlSFRNTChhKSk7dmFyIGU9YS5kcERpdi5maW5kKCJpZnJhbWUudWktZGF0ZXBpY2tlci1jb3ZlciIpO2UubGVuZ3RoJiZlLmNzcyh7bGVmdDotY1swXSx0b3A6LWNbMV0sd2lkdGg6YS5kcERpdi5vdXRlcldpZHRoKCksaGVpZ2h0OmEuZHBEaXYub3V0ZXJIZWlnaHQoKX0pO2EuZHBEaXYuZmluZCgiYnV0dG9uLCAudWktZGF0ZXBpY2tlci1wcmV2LCAudWktZGF0ZXBpY2tlci1uZXh0LCAudWktZGF0ZXBpY2tlci1jYWxlbmRhciB0ZCBhIikuYmluZCgibW91c2VvdXQiLApmdW5jdGlvbigpe2QodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1wcmV2IikhPS0xJiZkKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXIiKTt0aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSE9LTEmJmQodGhpcykucmVtb3ZlQ2xhc3MoInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlciIpfSkuYmluZCgibW91c2VvdmVyIixmdW5jdGlvbigpe2lmKCFiLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihhLmlubGluZT9hLmRwRGl2LnBhcmVudCgpWzBdOmEuaW5wdXRbMF0pKXtkKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpO2QodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1wcmV2IikhPQotMSYmZCh0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikhPS0xJiZkKHRoaXMpLmFkZENsYXNzKCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXIiKX19KS5lbmQoKS5maW5kKCIuIit0aGlzLl9kYXlPdmVyQ2xhc3MrIiBhIikudHJpZ2dlcigibW91c2VvdmVyIikuZW5kKCk7Yz10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhhKTtlPWNbMV07ZT4xP2EuZHBEaXYuYWRkQ2xhc3MoInVpLWRhdGVwaWNrZXItbXVsdGktIitlKS5jc3MoIndpZHRoIiwxNyplKyJlbSIpOmEuZHBEaXYucmVtb3ZlQ2xhc3MoInVpLWRhdGVwaWNrZXItbXVsdGktMiB1aS1kYXRlcGlja2VyLW11bHRpLTMgdWktZGF0ZXBpY2tlci1tdWx0aS00Iikud2lkdGgoIiIpO2EuZHBEaXZbKGNbMF0hPTF8fGNbMV0hPTE/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLW11bHRpIik7YS5kcERpdlsodGhpcy5fZ2V0KGEsCiJpc1JUTCIpPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1ydGwiKTthPT1kLmRhdGVwaWNrZXIuX2N1ckluc3QmJmQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJmEuaW5wdXQmJmEuaW5wdXQuaXMoIjp2aXNpYmxlIikmJiFhLmlucHV0LmlzKCI6ZGlzYWJsZWQiKSYmYS5pbnB1dFswXSE9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmYS5pbnB1dC5mb2N1cygpO2lmKGEueWVhcnNodG1sKXt2YXIgZj1hLnllYXJzaHRtbDtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zj09PWEueWVhcnNodG1sJiZhLmRwRGl2LmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLXllYXI6Zmlyc3QiKS5yZXBsYWNlV2l0aChhLnllYXJzaHRtbCk7Zj1hLnllYXJzaHRtbD1udWxsfSwwKX19LF9nZXRCb3JkZXJzOmZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKGMpe3JldHVybnt0aGluOjEsbWVkaXVtOjIsdGhpY2s6M31bY118fGN9O3JldHVybltwYXJzZUZsb2F0KGIoYS5jc3MoImJvcmRlci1sZWZ0LXdpZHRoIikpKSwKcGFyc2VGbG9hdChiKGEuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpKV19LF9jaGVja09mZnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGU9YS5kcERpdi5vdXRlcldpZHRoKCksZj1hLmRwRGl2Lm91dGVySGVpZ2h0KCksaD1hLmlucHV0P2EuaW5wdXQub3V0ZXJXaWR0aCgpOjAsaT1hLmlucHV0P2EuaW5wdXQub3V0ZXJIZWlnaHQoKTowLGc9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoK2QoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSxqPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQrZChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7Yi5sZWZ0LT10aGlzLl9nZXQoYSwiaXNSVEwiKT9lLWg6MDtiLmxlZnQtPWMmJmIubGVmdD09YS5pbnB1dC5vZmZzZXQoKS5sZWZ0P2QoZG9jdW1lbnQpLnNjcm9sbExlZnQoKTowO2IudG9wLT1jJiZiLnRvcD09YS5pbnB1dC5vZmZzZXQoKS50b3AraT9kKGRvY3VtZW50KS5zY3JvbGxUb3AoKTowO2IubGVmdC09TWF0aC5taW4oYi5sZWZ0LApiLmxlZnQrZT5nJiZnPmU/TWF0aC5hYnMoYi5sZWZ0K2UtZyk6MCk7Yi50b3AtPU1hdGgubWluKGIudG9wLGIudG9wK2Y+aiYmaj5mP01hdGguYWJzKGYraSk6MCk7cmV0dXJuIGJ9LF9maW5kUG9zOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLl9nZXQodGhpcy5fZ2V0SW5zdChhKSwiaXNSVEwiKTthJiYoYS50eXBlPT0iaGlkZGVuInx8YS5ub2RlVHlwZSE9MXx8ZC5leHByLmZpbHRlcnMuaGlkZGVuKGEpKTspYT1hW2I/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIl07YT1kKGEpLm9mZnNldCgpO3JldHVyblthLmxlZnQsYS50b3BdfSxfaGlkZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fY3VySW5zdDtpZighKCFifHxhJiZiIT1kLmRhdGEoYSwiZGF0ZXBpY2tlciIpKSlpZih0aGlzLl9kYXRlcGlja2VyU2hvd2luZyl7YT10aGlzLl9nZXQoYiwic2hvd0FuaW0iKTt2YXIgYz10aGlzLl9nZXQoYiwiZHVyYXRpb24iKSxlPWZ1bmN0aW9uKCl7ZC5kYXRlcGlja2VyLl90aWR5RGlhbG9nKGIpOwp0aGlzLl9jdXJJbnN0PW51bGx9O2QuZWZmZWN0cyYmZC5lZmZlY3RzW2FdP2IuZHBEaXYuaGlkZShhLGQuZGF0ZXBpY2tlci5fZ2V0KGIsInNob3dPcHRpb25zIiksYyxlKTpiLmRwRGl2W2E9PSJzbGlkZURvd24iPyJzbGlkZVVwIjphPT0iZmFkZUluIj8iZmFkZU91dCI6ImhpZGUiXShhP2M6bnVsbCxlKTthfHxlKCk7aWYoYT10aGlzLl9nZXQoYiwib25DbG9zZSIpKWEuYXBwbHkoYi5pbnB1dD9iLmlucHV0WzBdOm51bGwsW2IuaW5wdXQ/Yi5pbnB1dC52YWwoKToiIixiXSk7dGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ZmFsc2U7dGhpcy5fbGFzdElucHV0PW51bGw7aWYodGhpcy5faW5EaWFsb2cpe3RoaXMuX2RpYWxvZ0lucHV0LmNzcyh7cG9zaXRpb246ImFic29sdXRlIixsZWZ0OiIwIix0b3A6Ii0xMDBweCJ9KTtpZihkLmJsb2NrVUkpe2QudW5ibG9ja1VJKCk7ZCgiYm9keSIpLmFwcGVuZCh0aGlzLmRwRGl2KX19dGhpcy5faW5EaWFsb2c9ZmFsc2V9fSxfdGlkeURpYWxvZzpmdW5jdGlvbihhKXthLmRwRGl2LnJlbW92ZUNsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKS51bmJpbmQoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIil9LApfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKGEpe2lmKGQuZGF0ZXBpY2tlci5fY3VySW5zdCl7YT1kKGEudGFyZ2V0KTthWzBdLmlkIT1kLmRhdGVwaWNrZXIuX21haW5EaXZJZCYmYS5wYXJlbnRzKCIjIitkLmRhdGVwaWNrZXIuX21haW5EaXZJZCkubGVuZ3RoPT0wJiYhYS5oYXNDbGFzcyhkLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKSYmIWEuaGFzQ2xhc3MoZC5kYXRlcGlja2VyLl90cmlnZ2VyQ2xhc3MpJiZkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiYhKGQuZGF0ZXBpY2tlci5faW5EaWFsb2cmJmQuYmxvY2tVSSkmJmQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKX19LF9hZGp1c3REYXRlOmZ1bmN0aW9uKGEsYixjKXthPWQoYSk7dmFyIGU9dGhpcy5fZ2V0SW5zdChhWzBdKTtpZighdGhpcy5faXNEaXNhYmxlZERhdGVwaWNrZXIoYVswXSkpe3RoaXMuX2FkanVzdEluc3REYXRlKGUsYisoYz09Ik0iP3RoaXMuX2dldChlLCJzaG93Q3VycmVudEF0UG9zIik6CjApLGMpO3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIoZSl9fSxfZ290b1RvZGF5OmZ1bmN0aW9uKGEpe2E9ZChhKTt2YXIgYj10aGlzLl9nZXRJbnN0KGFbMF0pO2lmKHRoaXMuX2dldChiLCJnb3RvQ3VycmVudCIpJiZiLmN1cnJlbnREYXkpe2Iuc2VsZWN0ZWREYXk9Yi5jdXJyZW50RGF5O2IuZHJhd01vbnRoPWIuc2VsZWN0ZWRNb250aD1iLmN1cnJlbnRNb250aDtiLmRyYXdZZWFyPWIuc2VsZWN0ZWRZZWFyPWIuY3VycmVudFllYXJ9ZWxzZXt2YXIgYz1uZXcgRGF0ZTtiLnNlbGVjdGVkRGF5PWMuZ2V0RGF0ZSgpO2IuZHJhd01vbnRoPWIuc2VsZWN0ZWRNb250aD1jLmdldE1vbnRoKCk7Yi5kcmF3WWVhcj1iLnNlbGVjdGVkWWVhcj1jLmdldEZ1bGxZZWFyKCl9dGhpcy5fbm90aWZ5Q2hhbmdlKGIpO3RoaXMuX2FkanVzdERhdGUoYSl9LF9zZWxlY3RNb250aFllYXI6ZnVuY3Rpb24oYSxiLGMpe2E9ZChhKTt2YXIgZT10aGlzLl9nZXRJbnN0KGFbMF0pO2UuX3NlbGVjdGluZ01vbnRoWWVhcj0KZmFsc2U7ZVsic2VsZWN0ZWQiKyhjPT0iTSI/Ik1vbnRoIjoiWWVhciIpXT1lWyJkcmF3IisoYz09Ik0iPyJNb250aCI6IlllYXIiKV09cGFyc2VJbnQoYi5vcHRpb25zW2Iuc2VsZWN0ZWRJbmRleF0udmFsdWUsMTApO3RoaXMuX25vdGlmeUNoYW5nZShlKTt0aGlzLl9hZGp1c3REYXRlKGEpfSxfY2xpY2tNb250aFllYXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fZ2V0SW5zdChkKGEpWzBdKTtiLmlucHV0JiZiLl9zZWxlY3RpbmdNb250aFllYXImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmlucHV0LmZvY3VzKCl9LDApO2IuX3NlbGVjdGluZ01vbnRoWWVhcj0hYi5fc2VsZWN0aW5nTW9udGhZZWFyfSxfc2VsZWN0RGF5OmZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmPWQoYSk7aWYoIShkKGUpLmhhc0NsYXNzKHRoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzKXx8dGhpcy5faXNEaXNhYmxlZERhdGVwaWNrZXIoZlswXSkpKXtmPXRoaXMuX2dldEluc3QoZlswXSk7Zi5zZWxlY3RlZERheT1mLmN1cnJlbnREYXk9CmQoImEiLGUpLmh0bWwoKTtmLnNlbGVjdGVkTW9udGg9Zi5jdXJyZW50TW9udGg9YjtmLnNlbGVjdGVkWWVhcj1mLmN1cnJlbnRZZWFyPWM7dGhpcy5fc2VsZWN0RGF0ZShhLHRoaXMuX2Zvcm1hdERhdGUoZixmLmN1cnJlbnREYXksZi5jdXJyZW50TW9udGgsZi5jdXJyZW50WWVhcikpfX0sX2NsZWFyRGF0ZTpmdW5jdGlvbihhKXthPWQoYSk7dGhpcy5fZ2V0SW5zdChhWzBdKTt0aGlzLl9zZWxlY3REYXRlKGEsIiIpfSxfc2VsZWN0RGF0ZTpmdW5jdGlvbihhLGIpe2E9dGhpcy5fZ2V0SW5zdChkKGEpWzBdKTtiPWIhPW51bGw/Yjp0aGlzLl9mb3JtYXREYXRlKGEpO2EuaW5wdXQmJmEuaW5wdXQudmFsKGIpO3RoaXMuX3VwZGF0ZUFsdGVybmF0ZShhKTt2YXIgYz10aGlzLl9nZXQoYSwib25TZWxlY3QiKTtpZihjKWMuYXBwbHkoYS5pbnB1dD9hLmlucHV0WzBdOm51bGwsW2IsYV0pO2Vsc2UgYS5pbnB1dCYmYS5pbnB1dC50cmlnZ2VyKCJjaGFuZ2UiKTtpZihhLmlubGluZSl0aGlzLl91cGRhdGVEYXRlcGlja2VyKGEpOwplbHNle3RoaXMuX2hpZGVEYXRlcGlja2VyKCk7dGhpcy5fbGFzdElucHV0PWEuaW5wdXRbMF07dHlwZW9mIGEuaW5wdXRbMF0hPSJvYmplY3QiJiZhLmlucHV0LmZvY3VzKCk7dGhpcy5fbGFzdElucHV0PW51bGx9fSxfdXBkYXRlQWx0ZXJuYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldChhLCJhbHRGaWVsZCIpO2lmKGIpe3ZhciBjPXRoaXMuX2dldChhLCJhbHRGb3JtYXQiKXx8dGhpcy5fZ2V0KGEsImRhdGVGb3JtYXQiKSxlPXRoaXMuX2dldERhdGUoYSksZj10aGlzLmZvcm1hdERhdGUoYyxlLHRoaXMuX2dldEZvcm1hdENvbmZpZyhhKSk7ZChiKS5lYWNoKGZ1bmN0aW9uKCl7ZCh0aGlzKS52YWwoZil9KX19LG5vV2Vla2VuZHM6ZnVuY3Rpb24oYSl7YT1hLmdldERheSgpO3JldHVyblthPjAmJmE8NiwiIl19LGlzbzg2MDFXZWVrOmZ1bmN0aW9uKGEpe2E9bmV3IERhdGUoYS5nZXRUaW1lKCkpO2Euc2V0RGF0ZShhLmdldERhdGUoKSs0LShhLmdldERheSgpfHw3KSk7dmFyIGI9CmEuZ2V0VGltZSgpO2Euc2V0TW9udGgoMCk7YS5zZXREYXRlKDEpO3JldHVybiBNYXRoLmZsb29yKE1hdGgucm91bmQoKGItYSkvODY0RTUpLzcpKzF9LHBhcnNlRGF0ZTpmdW5jdGlvbihhLGIsYyl7aWYoYT09bnVsbHx8Yj09bnVsbCl0aHJvdyJJbnZhbGlkIGFyZ3VtZW50cyI7Yj10eXBlb2YgYj09Im9iamVjdCI/Yi50b1N0cmluZygpOmIrIiI7aWYoYj09IiIpcmV0dXJuIG51bGw7dmFyIGU9KGM/Yy5zaG9ydFllYXJDdXRvZmY6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLnNob3J0WWVhckN1dG9mZjtlPXR5cGVvZiBlIT0ic3RyaW5nIj9lOihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQoZSwxMCk7Zm9yKHZhciBmPShjP2MuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxoPShjP2MuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLGk9KGM/Yy5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCwKZz0oYz9jLm1vbnRoTmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXMsaj1jPS0xLGw9LTEsdT0tMSxrPWZhbHNlLG89ZnVuY3Rpb24ocCl7KHA9eisxPGEubGVuZ3RoJiZhLmNoYXJBdCh6KzEpPT1wKSYmeisrO3JldHVybiBwfSxtPWZ1bmN0aW9uKHApe3ZhciB2PW8ocCk7cD1uZXcgUmVnRXhwKCJeXFxkezEsIisocD09IkAiPzE0OnA9PSIhIj8yMDpwPT0ieSImJnY/NDpwPT0ibyI/MzoyKSsifSIpO3A9Yi5zdWJzdHJpbmcocykubWF0Y2gocCk7aWYoIXApdGhyb3ciTWlzc2luZyBudW1iZXIgYXQgcG9zaXRpb24gIitzO3MrPXBbMF0ubGVuZ3RoO3JldHVybiBwYXJzZUludChwWzBdLDEwKX0sbj1mdW5jdGlvbihwLHYsSCl7cD1vKHApP0g6djtmb3Iodj0wO3Y8cC5sZW5ndGg7disrKWlmKGIuc3Vic3RyKHMscFt2XS5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PXBbdl0udG9Mb3dlckNhc2UoKSl7cys9cFt2XS5sZW5ndGg7cmV0dXJuIHYrMX10aHJvdyJVbmtub3duIG5hbWUgYXQgcG9zaXRpb24gIisKczt9LHI9ZnVuY3Rpb24oKXtpZihiLmNoYXJBdChzKSE9YS5jaGFyQXQoeikpdGhyb3ciVW5leHBlY3RlZCBsaXRlcmFsIGF0IHBvc2l0aW9uICIrcztzKyt9LHM9MCx6PTA7ejxhLmxlbmd0aDt6KyspaWYoaylpZihhLmNoYXJBdCh6KT09IiciJiYhbygiJyIpKWs9ZmFsc2U7ZWxzZSByKCk7ZWxzZSBzd2l0Y2goYS5jaGFyQXQoeikpe2Nhc2UgImQiOmw9bSgiZCIpO2JyZWFrO2Nhc2UgIkQiOm4oIkQiLGYsaCk7YnJlYWs7Y2FzZSAibyI6dT1tKCJvIik7YnJlYWs7Y2FzZSAibSI6aj1tKCJtIik7YnJlYWs7Y2FzZSAiTSI6aj1uKCJNIixpLGcpO2JyZWFrO2Nhc2UgInkiOmM9bSgieSIpO2JyZWFrO2Nhc2UgIkAiOnZhciB3PW5ldyBEYXRlKG0oIkAiKSk7Yz13LmdldEZ1bGxZZWFyKCk7aj13LmdldE1vbnRoKCkrMTtsPXcuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UgIiEiOnc9bmV3IERhdGUoKG0oIiEiKS10aGlzLl90aWNrc1RvMTk3MCkvMUU0KTtjPXcuZ2V0RnVsbFllYXIoKTtqPXcuZ2V0TW9udGgoKSsKMTtsPXcuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UgIiciOmlmKG8oIiciKSlyKCk7ZWxzZSBrPXRydWU7YnJlYWs7ZGVmYXVsdDpyKCl9aWYoYz09LTEpYz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCk7ZWxzZSBpZihjPDEwMCljKz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCktKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCsoYzw9ZT8wOi0xMDApO2lmKHU+LTEpe2o9MTtsPXU7ZG97ZT10aGlzLl9nZXREYXlzSW5Nb250aChjLGotMSk7aWYobDw9ZSlicmVhaztqKys7bC09ZX13aGlsZSgxKX13PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGMsai0xLGwpKTtpZih3LmdldEZ1bGxZZWFyKCkhPWN8fHcuZ2V0TW9udGgoKSsxIT1qfHx3LmdldERhdGUoKSE9bCl0aHJvdyJJbnZhbGlkIGRhdGUiO3JldHVybiB3fSxBVE9NOiJ5eS1tbS1kZCIsQ09PS0lFOiJELCBkZCBNIHl5IixJU09fODYwMToieXktbW0tZGQiLFJGQ184MjI6IkQsIGQgTSB5IixSRkNfODUwOiJERCwgZGQtTS15IiwKUkZDXzEwMzY6IkQsIGQgTSB5IixSRkNfMTEyMzoiRCwgZCBNIHl5IixSRkNfMjgyMjoiRCwgZCBNIHl5IixSU1M6IkQsIGQgTSB5IixUSUNLUzoiISIsVElNRVNUQU1QOiJAIixXM0M6Inl5LW1tLWRkIixfdGlja3NUbzE5NzA6KDcxODY4NStNYXRoLmZsb29yKDQ5Mi41KS1NYXRoLmZsb29yKDE5LjcpK01hdGguZmxvb3IoNC45MjUpKSoyNCo2MCo2MCoxRTcsZm9ybWF0RGF0ZTpmdW5jdGlvbihhLGIsYyl7aWYoIWIpcmV0dXJuIiI7dmFyIGU9KGM/Yy5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LGY9KGM/Yy5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsaD0oYz9jLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0O2M9KGM/Yy5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzO3ZhciBpPWZ1bmN0aW9uKG8peyhvPWsrMTxhLmxlbmd0aCYmCmEuY2hhckF0KGsrMSk9PW8pJiZrKys7cmV0dXJuIG99LGc9ZnVuY3Rpb24obyxtLG4pe209IiIrbTtpZihpKG8pKWZvcig7bS5sZW5ndGg8bjspbT0iMCIrbTtyZXR1cm4gbX0saj1mdW5jdGlvbihvLG0sbixyKXtyZXR1cm4gaShvKT9yW21dOm5bbV19LGw9IiIsdT1mYWxzZTtpZihiKWZvcih2YXIgaz0wO2s8YS5sZW5ndGg7aysrKWlmKHUpaWYoYS5jaGFyQXQoayk9PSInIiYmIWkoIiciKSl1PWZhbHNlO2Vsc2UgbCs9YS5jaGFyQXQoayk7ZWxzZSBzd2l0Y2goYS5jaGFyQXQoaykpe2Nhc2UgImQiOmwrPWcoImQiLGIuZ2V0RGF0ZSgpLDIpO2JyZWFrO2Nhc2UgIkQiOmwrPWooIkQiLGIuZ2V0RGF5KCksZSxmKTticmVhaztjYXNlICJvIjpsKz1nKCJvIiwoYi5nZXRUaW1lKCktKG5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSwwLDApKS5nZXRUaW1lKCkpLzg2NEU1LDMpO2JyZWFrO2Nhc2UgIm0iOmwrPWcoIm0iLGIuZ2V0TW9udGgoKSsxLDIpO2JyZWFrO2Nhc2UgIk0iOmwrPWooIk0iLApiLmdldE1vbnRoKCksaCxjKTticmVhaztjYXNlICJ5IjpsKz1pKCJ5Iik/Yi5nZXRGdWxsWWVhcigpOihiLmdldFllYXIoKSUxMDA8MTA/IjAiOiIiKStiLmdldFllYXIoKSUxMDA7YnJlYWs7Y2FzZSAiQCI6bCs9Yi5nZXRUaW1lKCk7YnJlYWs7Y2FzZSAiISI6bCs9Yi5nZXRUaW1lKCkqMUU0K3RoaXMuX3RpY2tzVG8xOTcwO2JyZWFrO2Nhc2UgIiciOmlmKGkoIiciKSlsKz0iJyI7ZWxzZSB1PXRydWU7YnJlYWs7ZGVmYXVsdDpsKz1hLmNoYXJBdChrKX1yZXR1cm4gbH0sX3Bvc3NpYmxlQ2hhcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSIiLGM9ZmFsc2UsZT1mdW5jdGlvbihoKXsoaD1mKzE8YS5sZW5ndGgmJmEuY2hhckF0KGYrMSk9PWgpJiZmKys7cmV0dXJuIGh9LGY9MDtmPGEubGVuZ3RoO2YrKylpZihjKWlmKGEuY2hhckF0KGYpPT0iJyImJiFlKCInIikpYz1mYWxzZTtlbHNlIGIrPWEuY2hhckF0KGYpO2Vsc2Ugc3dpdGNoKGEuY2hhckF0KGYpKXtjYXNlICJkIjpjYXNlICJtIjpjYXNlICJ5IjpjYXNlICJAIjpiKz0KIjAxMjM0NTY3ODkiO2JyZWFrO2Nhc2UgIkQiOmNhc2UgIk0iOnJldHVybiBudWxsO2Nhc2UgIiciOmlmKGUoIiciKSliKz0iJyI7ZWxzZSBjPXRydWU7YnJlYWs7ZGVmYXVsdDpiKz1hLmNoYXJBdChmKX1yZXR1cm4gYn0sX2dldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnNldHRpbmdzW2JdIT09Rz9hLnNldHRpbmdzW2JdOnRoaXMuX2RlZmF1bHRzW2JdfSxfc2V0RGF0ZUZyb21GaWVsZDpmdW5jdGlvbihhLGIpe2lmKGEuaW5wdXQudmFsKCkhPWEubGFzdFZhbCl7dmFyIGM9dGhpcy5fZ2V0KGEsImRhdGVGb3JtYXQiKSxlPWEubGFzdFZhbD1hLmlucHV0P2EuaW5wdXQudmFsKCk6bnVsbCxmLGg7Zj1oPXRoaXMuX2dldERlZmF1bHREYXRlKGEpO3ZhciBpPXRoaXMuX2dldEZvcm1hdENvbmZpZyhhKTt0cnl7Zj10aGlzLnBhcnNlRGF0ZShjLGUsaSl8fGh9Y2F0Y2goZyl7dGhpcy5sb2coZyk7ZT1iPyIiOmV9YS5zZWxlY3RlZERheT1mLmdldERhdGUoKTthLmRyYXdNb250aD1hLnNlbGVjdGVkTW9udGg9CmYuZ2V0TW9udGgoKTthLmRyYXdZZWFyPWEuc2VsZWN0ZWRZZWFyPWYuZ2V0RnVsbFllYXIoKTthLmN1cnJlbnREYXk9ZT9mLmdldERhdGUoKTowO2EuY3VycmVudE1vbnRoPWU/Zi5nZXRNb250aCgpOjA7YS5jdXJyZW50WWVhcj1lP2YuZ2V0RnVsbFllYXIoKTowO3RoaXMuX2FkanVzdEluc3REYXRlKGEpfX0sX2dldERlZmF1bHREYXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9yZXN0cmljdE1pbk1heChhLHRoaXMuX2RldGVybWluZURhdGUoYSx0aGlzLl9nZXQoYSwiZGVmYXVsdERhdGUiKSxuZXcgRGF0ZSkpfSxfZGV0ZXJtaW5lRGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGU9ZnVuY3Rpb24oaCl7dmFyIGk9bmV3IERhdGU7aS5zZXREYXRlKGkuZ2V0RGF0ZSgpK2gpO3JldHVybiBpfSxmPWZ1bmN0aW9uKGgpe3RyeXtyZXR1cm4gZC5kYXRlcGlja2VyLnBhcnNlRGF0ZShkLmRhdGVwaWNrZXIuX2dldChhLCJkYXRlRm9ybWF0IiksaCxkLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhhKSl9Y2F0Y2goaSl7fXZhciBnPQooaC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eYy8pP2QuZGF0ZXBpY2tlci5fZ2V0RGF0ZShhKTpudWxsKXx8bmV3IERhdGUsaj1nLmdldEZ1bGxZZWFyKCksbD1nLmdldE1vbnRoKCk7Zz1nLmdldERhdGUoKTtmb3IodmFyIHU9LyhbKy1dP1swLTldKylccyooZHxEfHd8V3xtfE18eXxZKT8vZyxrPXUuZXhlYyhoKTtrOyl7c3dpdGNoKGtbMl18fCJkIil7Y2FzZSAiZCI6Y2FzZSAiRCI6Zys9cGFyc2VJbnQoa1sxXSwxMCk7YnJlYWs7Y2FzZSAidyI6Y2FzZSAiVyI6Zys9cGFyc2VJbnQoa1sxXSwxMCkqNzticmVhaztjYXNlICJtIjpjYXNlICJNIjpsKz1wYXJzZUludChrWzFdLDEwKTtnPU1hdGgubWluKGcsZC5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aChqLGwpKTticmVhaztjYXNlICJ5IjpjYXNlICJZIjpqKz1wYXJzZUludChrWzFdLDEwKTtnPU1hdGgubWluKGcsZC5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aChqLGwpKTticmVha31rPXUuZXhlYyhoKX1yZXR1cm4gbmV3IERhdGUoaiwKbCxnKX07aWYoYj0oYj1iPT1udWxsfHxiPT09IiI/Yzp0eXBlb2YgYj09InN0cmluZyI/ZihiKTp0eXBlb2YgYj09Im51bWJlciI/aXNOYU4oYik/YzplKGIpOm5ldyBEYXRlKGIuZ2V0VGltZSgpKSkmJmIudG9TdHJpbmcoKT09IkludmFsaWQgRGF0ZSI/YzpiKXtiLnNldEhvdXJzKDApO2Iuc2V0TWludXRlcygwKTtiLnNldFNlY29uZHMoMCk7Yi5zZXRNaWxsaXNlY29uZHMoMCl9cmV0dXJuIHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KGIpfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7YS5zZXRIb3VycyhhLmdldEhvdXJzKCk+MTI/YS5nZXRIb3VycygpKzI6MCk7cmV0dXJuIGF9LF9zZXREYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT0hYixmPWEuc2VsZWN0ZWRNb250aCxoPWEuc2VsZWN0ZWRZZWFyO2I9dGhpcy5fcmVzdHJpY3RNaW5NYXgoYSx0aGlzLl9kZXRlcm1pbmVEYXRlKGEsYixuZXcgRGF0ZSkpO2Euc2VsZWN0ZWREYXk9CmEuY3VycmVudERheT1iLmdldERhdGUoKTthLmRyYXdNb250aD1hLnNlbGVjdGVkTW9udGg9YS5jdXJyZW50TW9udGg9Yi5nZXRNb250aCgpO2EuZHJhd1llYXI9YS5zZWxlY3RlZFllYXI9YS5jdXJyZW50WWVhcj1iLmdldEZ1bGxZZWFyKCk7aWYoKGYhPWEuc2VsZWN0ZWRNb250aHx8aCE9YS5zZWxlY3RlZFllYXIpJiYhYyl0aGlzLl9ub3RpZnlDaGFuZ2UoYSk7dGhpcy5fYWRqdXN0SW5zdERhdGUoYSk7aWYoYS5pbnB1dClhLmlucHV0LnZhbChlPyIiOnRoaXMuX2Zvcm1hdERhdGUoYSkpfSxfZ2V0RGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4hYS5jdXJyZW50WWVhcnx8YS5pbnB1dCYmYS5pbnB1dC52YWwoKT09IiI/bnVsbDp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShhLmN1cnJlbnRZZWFyLGEuY3VycmVudE1vbnRoLGEuY3VycmVudERheSkpfSxfZ2VuZXJhdGVIVE1MOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBEYXRlO2I9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoYi5nZXRGdWxsWWVhcigpLApiLmdldE1vbnRoKCksYi5nZXREYXRlKCkpKTt2YXIgYz10aGlzLl9nZXQoYSwiaXNSVEwiKSxlPXRoaXMuX2dldChhLCJzaG93QnV0dG9uUGFuZWwiKSxmPXRoaXMuX2dldChhLCJoaWRlSWZOb1ByZXZOZXh0IiksaD10aGlzLl9nZXQoYSwibmF2aWdhdGlvbkFzRGF0ZUZvcm1hdCIpLGk9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMoYSksZz10aGlzLl9nZXQoYSwic2hvd0N1cnJlbnRBdFBvcyIpLGo9dGhpcy5fZ2V0KGEsInN0ZXBNb250aHMiKSxsPWlbMF0hPTF8fGlbMV0hPTEsdT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCghYS5jdXJyZW50RGF5P25ldyBEYXRlKDk5OTksOSw5KTpuZXcgRGF0ZShhLmN1cnJlbnRZZWFyLGEuY3VycmVudE1vbnRoLGEuY3VycmVudERheSkpLGs9dGhpcy5fZ2V0TWluTWF4RGF0ZShhLCJtaW4iKSxvPXRoaXMuX2dldE1pbk1heERhdGUoYSwibWF4Iik7Zz1hLmRyYXdNb250aC1nO3ZhciBtPWEuZHJhd1llYXI7aWYoZzwwKXtnKz0xMjttLS19aWYobyl7dmFyIG49CnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG8uZ2V0RnVsbFllYXIoKSxvLmdldE1vbnRoKCktaVswXSppWzFdKzEsby5nZXREYXRlKCkpKTtmb3Iobj1rJiZuPGs/azpuO3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG0sZywxKSk+bjspe2ctLTtpZihnPDApe2c9MTE7bS0tfX19YS5kcmF3TW9udGg9ZzthLmRyYXdZZWFyPW07bj10aGlzLl9nZXQoYSwicHJldlRleHQiKTtuPSFoP246dGhpcy5mb3JtYXREYXRlKG4sdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobSxnLWosMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyhhKSk7bj10aGlzLl9jYW5BZGp1c3RNb250aChhLC0xLG0sZyk/JzxhIGNsYXNzPSJ1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCIgb25jbGljaz0iRFBfalF1ZXJ5XycreSsiLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoJyMiK2EuaWQrIicsIC0iK2orIiwgJ00nKTtcIiB0aXRsZT1cIiIrbisnIj48c3BhbiBjbGFzcz0idWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0nKwooYz8iZSI6InciKSsnIj4nK24rIjwvc3Bhbj48L2E+IjpmPyIiOic8YSBjbGFzcz0idWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQiIHRpdGxlPSInK24rJyI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysoYz8iZSI6InciKSsnIj4nK24rIjwvc3Bhbj48L2E+Ijt2YXIgcj10aGlzLl9nZXQoYSwibmV4dFRleHQiKTtyPSFoP3I6dGhpcy5mb3JtYXREYXRlKHIsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobSxnK2osMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyhhKSk7Zj10aGlzLl9jYW5BZGp1c3RNb250aChhLCsxLG0sZyk/JzxhIGNsYXNzPSJ1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCIgb25jbGljaz0iRFBfalF1ZXJ5XycreSsiLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoJyMiK2EuaWQrIicsICsiK2orIiwgJ00nKTtcIiB0aXRsZT1cIiIrcisnIj48c3BhbiBjbGFzcz0idWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0nKwooYz8idyI6ImUiKSsnIj4nK3IrIjwvc3Bhbj48L2E+IjpmPyIiOic8YSBjbGFzcz0idWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQiIHRpdGxlPSInK3IrJyI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysoYz8idyI6ImUiKSsnIj4nK3IrIjwvc3Bhbj48L2E+IjtqPXRoaXMuX2dldChhLCJjdXJyZW50VGV4dCIpO3I9dGhpcy5fZ2V0KGEsImdvdG9DdXJyZW50IikmJmEuY3VycmVudERheT91OmI7aj0haD9qOnRoaXMuZm9ybWF0RGF0ZShqLHIsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGEpKTtoPSFhLmlubGluZT8nPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJ1aS1kYXRlcGlja2VyLWNsb3NlIHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktcHJpbWFyeSB1aS1jb3JuZXItYWxsIiBvbmNsaWNrPSJEUF9qUXVlcnlfJyt5KycuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTsiPicrdGhpcy5fZ2V0KGEsCiJjbG9zZVRleHQiKSsiPC9idXR0b24+IjoiIjtlPWU/JzxkaXYgY2xhc3M9InVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSB1aS13aWRnZXQtY29udGVudCI+JysoYz9oOiIiKSsodGhpcy5faXNJblJhbmdlKGEscik/JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0idWktZGF0ZXBpY2tlci1jdXJyZW50IHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktc2Vjb25kYXJ5IHVpLWNvcm5lci1hbGwiIG9uY2xpY2s9IkRQX2pRdWVyeV8nK3krIi5kYXRlcGlja2VyLl9nb3RvVG9kYXkoJyMiK2EuaWQrIicpO1wiPiIraisiPC9idXR0b24+IjoiIikrKGM/IiI6aCkrIjwvZGl2PiI6IiI7aD1wYXJzZUludCh0aGlzLl9nZXQoYSwiZmlyc3REYXkiKSwxMCk7aD1pc05hTihoKT8wOmg7aj10aGlzLl9nZXQoYSwic2hvd1dlZWsiKTtyPXRoaXMuX2dldChhLCJkYXlOYW1lcyIpO3RoaXMuX2dldChhLCJkYXlOYW1lc1Nob3J0Iik7dmFyIHM9dGhpcy5fZ2V0KGEsImRheU5hbWVzTWluIiksej0KdGhpcy5fZ2V0KGEsIm1vbnRoTmFtZXMiKSx3PXRoaXMuX2dldChhLCJtb250aE5hbWVzU2hvcnQiKSxwPXRoaXMuX2dldChhLCJiZWZvcmVTaG93RGF5Iiksdj10aGlzLl9nZXQoYSwic2hvd090aGVyTW9udGhzIiksSD10aGlzLl9nZXQoYSwic2VsZWN0T3RoZXJNb250aHMiKTt0aGlzLl9nZXQoYSwiY2FsY3VsYXRlV2VlayIpO2Zvcih2YXIgTD10aGlzLl9nZXREZWZhdWx0RGF0ZShhKSxJPSIiLEM9MDtDPGlbMF07QysrKXtmb3IodmFyIE09IiIsRD0wO0Q8aVsxXTtEKyspe3ZhciBOPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG0sZyxhLnNlbGVjdGVkRGF5KSksdD0iIHVpLWNvcm5lci1hbGwiLHg9IiI7aWYobCl7eCs9JzxkaXYgY2xhc3M9InVpLWRhdGVwaWNrZXItZ3JvdXAnO2lmKGlbMV0+MSlzd2l0Y2goRCl7Y2FzZSAwOngrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1maXJzdCI7dD0iIHVpLWNvcm5lci0iKyhjPyJyaWdodCI6ImxlZnQiKTticmVhaztjYXNlIGlbMV0tCjE6eCs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QiO3Q9IiB1aS1jb3JuZXItIisoYz8ibGVmdCI6InJpZ2h0Iik7YnJlYWs7ZGVmYXVsdDp4Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtbWlkZGxlIjt0PSIiO2JyZWFrfXgrPSciPid9eCs9JzxkaXYgY2xhc3M9InVpLWRhdGVwaWNrZXItaGVhZGVyIHVpLXdpZGdldC1oZWFkZXIgdWktaGVscGVyLWNsZWFyZml4Jyt0KyciPicrKC9hbGx8bGVmdC8udGVzdCh0KSYmQz09MD9jP2Y6bjoiIikrKC9hbGx8cmlnaHQvLnRlc3QodCkmJkM9PTA/Yz9uOmY6IiIpK3RoaXMuX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyKGEsZyxtLGssbyxDPjB8fEQ+MCx6LHcpKyc8L2Rpdj48dGFibGUgY2xhc3M9InVpLWRhdGVwaWNrZXItY2FsZW5kYXIiPjx0aGVhZD48dHI+Jzt2YXIgQT1qPyc8dGggY2xhc3M9InVpLWRhdGVwaWNrZXItd2Vlay1jb2wiPicrdGhpcy5fZ2V0KGEsIndlZWtIZWFkZXIiKSsiPC90aD4iOiIiO2Zvcih0PTA7dDw3O3QrKyl7dmFyIHE9Cih0K2gpJTc7QSs9Ijx0aCIrKCh0K2grNiklNz49NT8nIGNsYXNzPSJ1aS1kYXRlcGlja2VyLXdlZWstZW5kIic6IiIpKyc+PHNwYW4gdGl0bGU9IicrcltxXSsnIj4nK3NbcV0rIjwvc3Bhbj48L3RoPiJ9eCs9QSsiPC90cj48L3RoZWFkPjx0Ym9keT4iO0E9dGhpcy5fZ2V0RGF5c0luTW9udGgobSxnKTtpZihtPT1hLnNlbGVjdGVkWWVhciYmZz09YS5zZWxlY3RlZE1vbnRoKWEuc2VsZWN0ZWREYXk9TWF0aC5taW4oYS5zZWxlY3RlZERheSxBKTt0PSh0aGlzLl9nZXRGaXJzdERheU9mTW9udGgobSxnKS1oKzcpJTc7QT1sPzY6TWF0aC5jZWlsKCh0K0EpLzcpO3E9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobSxnLDEtdCkpO2Zvcih2YXIgTz0wO088QTtPKyspe3grPSI8dHI+Ijt2YXIgUD0haj8iIjonPHRkIGNsYXNzPSJ1aS1kYXRlcGlja2VyLXdlZWstY29sIj4nK3RoaXMuX2dldChhLCJjYWxjdWxhdGVXZWVrIikocSkrIjwvdGQ+Ijtmb3IodD0wO3Q8Nzt0Kyspe3ZhciBGPQpwP3AuYXBwbHkoYS5pbnB1dD9hLmlucHV0WzBdOm51bGwsW3FdKTpbdHJ1ZSwiIl0sQj1xLmdldE1vbnRoKCkhPWcsSj1CJiYhSHx8IUZbMF18fGsmJnE8a3x8byYmcT5vO1ArPSc8dGQgY2xhc3M9IicrKCh0K2grNiklNz49NT8iIHVpLWRhdGVwaWNrZXItd2Vlay1lbmQiOiIiKSsoQj8iIHVpLWRhdGVwaWNrZXItb3RoZXItbW9udGgiOiIiKSsocS5nZXRUaW1lKCk9PU4uZ2V0VGltZSgpJiZnPT1hLnNlbGVjdGVkTW9udGgmJmEuX2tleUV2ZW50fHxMLmdldFRpbWUoKT09cS5nZXRUaW1lKCkmJkwuZ2V0VGltZSgpPT1OLmdldFRpbWUoKT8iICIrdGhpcy5fZGF5T3ZlckNsYXNzOiIiKSsoSj8iICIrdGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MrIiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhCJiYhdj8iIjoiICIrRlsxXSsocS5nZXRUaW1lKCk9PXUuZ2V0VGltZSgpPyIgIit0aGlzLl9jdXJyZW50Q2xhc3M6IiIpKyhxLmdldFRpbWUoKT09Yi5nZXRUaW1lKCk/IiB1aS1kYXRlcGlja2VyLXRvZGF5IjoKIiIpKSsnIicrKCghQnx8dikmJkZbMl0/JyB0aXRsZT0iJytGWzJdKyciJzoiIikrKEo/IiI6JyBvbmNsaWNrPSJEUF9qUXVlcnlfJyt5KyIuZGF0ZXBpY2tlci5fc2VsZWN0RGF5KCcjIithLmlkKyInLCIrcS5nZXRNb250aCgpKyIsIitxLmdldEZ1bGxZZWFyKCkrJywgdGhpcyk7cmV0dXJuIGZhbHNlOyInKSsiPiIrKEImJiF2PyImI3hhMDsiOko/JzxzcGFuIGNsYXNzPSJ1aS1zdGF0ZS1kZWZhdWx0Ij4nK3EuZ2V0RGF0ZSgpKyI8L3NwYW4+IjonPGEgY2xhc3M9InVpLXN0YXRlLWRlZmF1bHQnKyhxLmdldFRpbWUoKT09Yi5nZXRUaW1lKCk/IiB1aS1zdGF0ZS1oaWdobGlnaHQiOiIiKSsocS5nZXRUaW1lKCk9PXUuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKEI/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsnIiBocmVmPSIjIj4nK3EuZ2V0RGF0ZSgpKyI8L2E+IikrIjwvdGQ+IjtxLnNldERhdGUocS5nZXREYXRlKCkrMSk7cT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChxKX14Kz0KUCsiPC90cj4ifWcrKztpZihnPjExKXtnPTA7bSsrfXgrPSI8L3Rib2R5PjwvdGFibGU+IisobD8iPC9kaXY+IisoaVswXT4wJiZEPT1pWzFdLTE/JzxkaXYgY2xhc3M9InVpLWRhdGVwaWNrZXItcm93LWJyZWFrIj48L2Rpdj4nOiIiKToiIik7TSs9eH1JKz1NfUkrPWUrKGQuYnJvd3Nlci5tc2llJiZwYXJzZUludChkLmJyb3dzZXIudmVyc2lvbiwxMCk8NyYmIWEuaW5saW5lPyc8aWZyYW1lIHNyYz0iamF2YXNjcmlwdDpmYWxzZTsiIGNsYXNzPSJ1aS1kYXRlcGlja2VyLWNvdmVyIiBmcmFtZWJvcmRlcj0iMCI+PC9pZnJhbWU+JzoiIik7YS5fa2V5RXZlbnQ9ZmFsc2U7cmV0dXJuIEl9LF9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcjpmdW5jdGlvbihhLGIsYyxlLGYsaCxpLGcpe3ZhciBqPXRoaXMuX2dldChhLCJjaGFuZ2VNb250aCIpLGw9dGhpcy5fZ2V0KGEsImNoYW5nZVllYXIiKSx1PXRoaXMuX2dldChhLCJzaG93TW9udGhBZnRlclllYXIiKSxrPSc8ZGl2IGNsYXNzPSJ1aS1kYXRlcGlja2VyLXRpdGxlIj4nLApvPSIiO2lmKGh8fCFqKW8rPSc8c3BhbiBjbGFzcz0idWktZGF0ZXBpY2tlci1tb250aCI+JytpW2JdKyI8L3NwYW4+IjtlbHNle2k9ZSYmZS5nZXRGdWxsWWVhcigpPT1jO3ZhciBtPWYmJmYuZ2V0RnVsbFllYXIoKT09YztvKz0nPHNlbGVjdCBjbGFzcz0idWktZGF0ZXBpY2tlci1tb250aCIgb25jaGFuZ2U9IkRQX2pRdWVyeV8nK3krIi5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoJyMiK2EuaWQrIicsIHRoaXMsICdNJyk7XCIgb25jbGljaz1cIkRQX2pRdWVyeV8iK3krIi5kYXRlcGlja2VyLl9jbGlja01vbnRoWWVhcignIyIrYS5pZCsiJyk7XCI+Ijtmb3IodmFyIG49MDtuPDEyO24rKylpZigoIWl8fG4+PWUuZ2V0TW9udGgoKSkmJighbXx8bjw9Zi5nZXRNb250aCgpKSlvKz0nPG9wdGlvbiB2YWx1ZT0iJytuKyciJysobj09Yj8nIHNlbGVjdGVkPSJzZWxlY3RlZCInOiIiKSsiPiIrZ1tuXSsiPC9vcHRpb24+IjtvKz0iPC9zZWxlY3Q+In11fHwoays9bysoaHx8IShqJiYKbCk/IiYjeGEwOyI6IiIpKTthLnllYXJzaHRtbD0iIjtpZihofHwhbClrKz0nPHNwYW4gY2xhc3M9InVpLWRhdGVwaWNrZXIteWVhciI+JytjKyI8L3NwYW4+IjtlbHNle2c9dGhpcy5fZ2V0KGEsInllYXJSYW5nZSIpLnNwbGl0KCI6Iik7dmFyIHI9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpO2k9ZnVuY3Rpb24ocyl7cz1zLm1hdGNoKC9jWystXS4qLyk/YytwYXJzZUludChzLnN1YnN0cmluZygxKSwxMCk6cy5tYXRjaCgvWystXS4qLyk/citwYXJzZUludChzLDEwKTpwYXJzZUludChzLDEwKTtyZXR1cm4gaXNOYU4ocyk/cjpzfTtiPWkoZ1swXSk7Zz1NYXRoLm1heChiLGkoZ1sxXXx8IiIpKTtiPWU/TWF0aC5tYXgoYixlLmdldEZ1bGxZZWFyKCkpOmI7Zz1mP01hdGgubWluKGcsZi5nZXRGdWxsWWVhcigpKTpnO2ZvcihhLnllYXJzaHRtbCs9JzxzZWxlY3QgY2xhc3M9InVpLWRhdGVwaWNrZXIteWVhciIgb25jaGFuZ2U9IkRQX2pRdWVyeV8nK3krIi5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoJyMiKwphLmlkKyInLCB0aGlzLCAnWScpO1wiIG9uY2xpY2s9XCJEUF9qUXVlcnlfIit5KyIuZGF0ZXBpY2tlci5fY2xpY2tNb250aFllYXIoJyMiK2EuaWQrIicpO1wiPiI7Yjw9ZztiKyspYS55ZWFyc2h0bWwrPSc8b3B0aW9uIHZhbHVlPSInK2IrJyInKyhiPT1jPycgc2VsZWN0ZWQ9InNlbGVjdGVkIic6IiIpKyI+IitiKyI8L29wdGlvbj4iO2EueWVhcnNodG1sKz0iPC9zZWxlY3Q+IjtpZihkLmJyb3dzZXIubW96aWxsYSlrKz0nPHNlbGVjdCBjbGFzcz0idWktZGF0ZXBpY2tlci15ZWFyIj48b3B0aW9uIHZhbHVlPSInK2MrJyIgc2VsZWN0ZWQ9InNlbGVjdGVkIj4nK2MrIjwvb3B0aW9uPjwvc2VsZWN0PiI7ZWxzZXtrKz1hLnllYXJzaHRtbDthLnllYXJzaHRtbD1udWxsfX1rKz10aGlzLl9nZXQoYSwieWVhclN1ZmZpeCIpO2lmKHUpays9KGh8fCEoaiYmbCk/IiYjeGEwOyI6IiIpK287ays9IjwvZGl2PiI7cmV0dXJuIGt9LF9hZGp1c3RJbnN0RGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGU9CmEuZHJhd1llYXIrKGM9PSJZIj9iOjApLGY9YS5kcmF3TW9udGgrKGM9PSJNIj9iOjApO2I9TWF0aC5taW4oYS5zZWxlY3RlZERheSx0aGlzLl9nZXREYXlzSW5Nb250aChlLGYpKSsoYz09IkQiP2I6MCk7ZT10aGlzLl9yZXN0cmljdE1pbk1heChhLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUsZixiKSkpO2Euc2VsZWN0ZWREYXk9ZS5nZXREYXRlKCk7YS5kcmF3TW9udGg9YS5zZWxlY3RlZE1vbnRoPWUuZ2V0TW9udGgoKTthLmRyYXdZZWFyPWEuc2VsZWN0ZWRZZWFyPWUuZ2V0RnVsbFllYXIoKTtpZihjPT0iTSJ8fGM9PSJZIil0aGlzLl9ub3RpZnlDaGFuZ2UoYSl9LF9yZXN0cmljdE1pbk1heDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2dldE1pbk1heERhdGUoYSwibWluIik7YT10aGlzLl9nZXRNaW5NYXhEYXRlKGEsIm1heCIpO2I9YyYmYjxjP2M6YjtyZXR1cm4gYj1hJiZiPmE/YTpifSxfbm90aWZ5Q2hhbmdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldChhLAoib25DaGFuZ2VNb250aFllYXIiKTtpZihiKWIuYXBwbHkoYS5pbnB1dD9hLmlucHV0WzBdOm51bGwsW2Euc2VsZWN0ZWRZZWFyLGEuc2VsZWN0ZWRNb250aCsxLGFdKX0sX2dldE51bWJlck9mTW9udGhzOmZ1bmN0aW9uKGEpe2E9dGhpcy5fZ2V0KGEsIm51bWJlck9mTW9udGhzIik7cmV0dXJuIGE9PW51bGw/WzEsMV06dHlwZW9mIGE9PSJudW1iZXIiP1sxLGFdOmF9LF9nZXRNaW5NYXhEYXRlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUoYSx0aGlzLl9nZXQoYSxiKyJEYXRlIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbihhLGIpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShhLGIsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4obmV3IERhdGUoYSxiLDEpKS5nZXREYXkoKX0sX2NhbkFkanVzdE1vbnRoOmZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmPXRoaXMuX2dldE51bWJlck9mTW9udGhzKGEpOwpjPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGMsZSsoYjwwP2I6ZlswXSpmWzFdKSwxKSk7YjwwJiZjLnNldERhdGUodGhpcy5fZ2V0RGF5c0luTW9udGgoYy5nZXRGdWxsWWVhcigpLGMuZ2V0TW9udGgoKSkpO3JldHVybiB0aGlzLl9pc0luUmFuZ2UoYSxjKX0sX2lzSW5SYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2dldE1pbk1heERhdGUoYSwibWluIik7YT10aGlzLl9nZXRNaW5NYXhEYXRlKGEsIm1heCIpO3JldHVybighY3x8Yi5nZXRUaW1lKCk+PWMuZ2V0VGltZSgpKSYmKCFhfHxiLmdldFRpbWUoKTw9YS5nZXRUaW1lKCkpfSxfZ2V0Rm9ybWF0Q29uZmlnOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldChhLCJzaG9ydFllYXJDdXRvZmYiKTtiPXR5cGVvZiBiIT0ic3RyaW5nIj9iOihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQoYiwxMCk7cmV0dXJue3Nob3J0WWVhckN1dG9mZjpiLGRheU5hbWVzU2hvcnQ6dGhpcy5fZ2V0KGEsCiJkYXlOYW1lc1Nob3J0IiksZGF5TmFtZXM6dGhpcy5fZ2V0KGEsImRheU5hbWVzIiksbW9udGhOYW1lc1Nob3J0OnRoaXMuX2dldChhLCJtb250aE5hbWVzU2hvcnQiKSxtb250aE5hbWVzOnRoaXMuX2dldChhLCJtb250aE5hbWVzIil9fSxfZm9ybWF0RGF0ZTpmdW5jdGlvbihhLGIsYyxlKXtpZighYil7YS5jdXJyZW50RGF5PWEuc2VsZWN0ZWREYXk7YS5jdXJyZW50TW9udGg9YS5zZWxlY3RlZE1vbnRoO2EuY3VycmVudFllYXI9YS5zZWxlY3RlZFllYXJ9Yj1iP3R5cGVvZiBiPT0ib2JqZWN0Ij9iOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUsYyxiKSk6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoYS5jdXJyZW50WWVhcixhLmN1cnJlbnRNb250aCxhLmN1cnJlbnREYXkpKTtyZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuX2dldChhLCJkYXRlRm9ybWF0IiksYix0aGlzLl9nZXRGb3JtYXRDb25maWcoYSkpfX0pO2QuZm4uZGF0ZXBpY2tlcj0KZnVuY3Rpb24oYSl7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO2lmKCFkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQpe2QoZG9jdW1lbnQpLm1vdXNlZG93bihkLmRhdGVwaWNrZXIuX2NoZWNrRXh0ZXJuYWxDbGljaykuZmluZCgiYm9keSIpLmFwcGVuZChkLmRhdGVwaWNrZXIuZHBEaXYpO2QuZGF0ZXBpY2tlci5pbml0aWFsaXplZD10cnVlfXZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZih0eXBlb2YgYT09InN0cmluZyImJihhPT0iaXNEaXNhYmxlZCJ8fGE9PSJnZXREYXRlInx8YT09IndpZGdldCIpKXJldHVybiBkLmRhdGVwaWNrZXJbIl8iK2ErIkRhdGVwaWNrZXIiXS5hcHBseShkLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChiKSk7aWYoYT09Im9wdGlvbiImJmFyZ3VtZW50cy5sZW5ndGg9PTImJnR5cGVvZiBhcmd1bWVudHNbMV09PSJzdHJpbmciKXJldHVybiBkLmRhdGVwaWNrZXJbIl8iK2ErIkRhdGVwaWNrZXIiXS5hcHBseShkLmRhdGVwaWNrZXIsClt0aGlzWzBdXS5jb25jYXQoYikpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0eXBlb2YgYT09InN0cmluZyI/ZC5kYXRlcGlja2VyWyJfIithKyJEYXRlcGlja2VyIl0uYXBwbHkoZC5kYXRlcGlja2VyLFt0aGlzXS5jb25jYXQoYikpOmQuZGF0ZXBpY2tlci5fYXR0YWNoRGF0ZXBpY2tlcih0aGlzLGEpfSl9O2QuZGF0ZXBpY2tlcj1uZXcgSztkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ZmFsc2U7ZC5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZC5kYXRlcGlja2VyLnZlcnNpb249IjEuOC4xMCI7d2luZG93WyJEUF9qUXVlcnlfIit5XT1kfSkoalF1ZXJ5KTsKOy8qIFVJIEVmZmVjdHMgKi8KalF1ZXJ5LmVmZmVjdHN8fGZ1bmN0aW9uKGYsail7ZnVuY3Rpb24gbihjKXt2YXIgYTtpZihjJiZjLmNvbnN0cnVjdG9yPT1BcnJheSYmYy5sZW5ndGg9PTMpcmV0dXJuIGM7aWYoYT0vcmdiXChccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XXsxLDN9KVxzKlwpLy5leGVjKGMpKXJldHVybltwYXJzZUludChhWzFdLDEwKSxwYXJzZUludChhWzJdLDEwKSxwYXJzZUludChhWzNdLDEwKV07aWYoYT0vcmdiXChccyooWzAtOV0rKD86XC5bMC05XSspPylcJVxzKixccyooWzAtOV0rKD86XC5bMC05XSspPylcJVxzKixccyooWzAtOV0rKD86XC5bMC05XSspPylcJVxzKlwpLy5leGVjKGMpKXJldHVybltwYXJzZUZsb2F0KGFbMV0pKjIuNTUscGFyc2VGbG9hdChhWzJdKSoyLjU1LHBhcnNlRmxvYXQoYVszXSkqMi41NV07aWYoYT0vIyhbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KS8uZXhlYyhjKSlyZXR1cm5bcGFyc2VJbnQoYVsxXSwKMTYpLHBhcnNlSW50KGFbMl0sMTYpLHBhcnNlSW50KGFbM10sMTYpXTtpZihhPS8jKFthLWZBLUYwLTldKShbYS1mQS1GMC05XSkoW2EtZkEtRjAtOV0pLy5leGVjKGMpKXJldHVybltwYXJzZUludChhWzFdK2FbMV0sMTYpLHBhcnNlSW50KGFbMl0rYVsyXSwxNikscGFyc2VJbnQoYVszXSthWzNdLDE2KV07aWYoL3JnYmFcKDAsIDAsIDAsIDBcKS8uZXhlYyhjKSlyZXR1cm4gby50cmFuc3BhcmVudDtyZXR1cm4gb1tmLnRyaW0oYykudG9Mb3dlckNhc2UoKV19ZnVuY3Rpb24gcyhjLGEpe3ZhciBiO2Rve2I9Zi5jdXJDU1MoYyxhKTtpZihiIT0iIiYmYiE9InRyYW5zcGFyZW50Inx8Zi5ub2RlTmFtZShjLCJib2R5IikpYnJlYWs7YT0iYmFja2dyb3VuZENvbG9yIn13aGlsZShjPWMucGFyZW50Tm9kZSk7cmV0dXJuIG4oYil9ZnVuY3Rpb24gcCgpe3ZhciBjPWRvY3VtZW50LmRlZmF1bHRWaWV3P2RvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKTp0aGlzLmN1cnJlbnRTdHlsZSwKYT17fSxiLGQ7aWYoYyYmYy5sZW5ndGgmJmNbMF0mJmNbY1swXV0pZm9yKHZhciBlPWMubGVuZ3RoO2UtLTspe2I9Y1tlXTtpZih0eXBlb2YgY1tiXT09InN0cmluZyIpe2Q9Yi5yZXBsYWNlKC9cLShcdykvZyxmdW5jdGlvbihnLGgpe3JldHVybiBoLnRvVXBwZXJDYXNlKCl9KTthW2RdPWNbYl19fWVsc2UgZm9yKGIgaW4gYylpZih0eXBlb2YgY1tiXT09PSJzdHJpbmciKWFbYl09Y1tiXTtyZXR1cm4gYX1mdW5jdGlvbiBxKGMpe3ZhciBhLGI7Zm9yKGEgaW4gYyl7Yj1jW2FdO2lmKGI9PW51bGx8fGYuaXNGdW5jdGlvbihiKXx8YSBpbiB0fHwvc2Nyb2xsYmFyLy50ZXN0KGEpfHwhL2NvbG9yL2kudGVzdChhKSYmaXNOYU4ocGFyc2VGbG9hdChiKSkpZGVsZXRlIGNbYV19cmV0dXJuIGN9ZnVuY3Rpb24gdShjLGEpe3ZhciBiPXtfOjB9LGQ7Zm9yKGQgaW4gYSlpZihjW2RdIT1hW2RdKWJbZF09YVtkXTtyZXR1cm4gYn1mdW5jdGlvbiBrKGMsYSxiLGQpe2lmKHR5cGVvZiBjPT0ib2JqZWN0Iil7ZD0KYTtiPW51bGw7YT1jO2M9YS5lZmZlY3R9aWYoZi5pc0Z1bmN0aW9uKGEpKXtkPWE7Yj1udWxsO2E9e319aWYodHlwZW9mIGE9PSJudW1iZXIifHxmLmZ4LnNwZWVkc1thXSl7ZD1iO2I9YTthPXt9fWlmKGYuaXNGdW5jdGlvbihiKSl7ZD1iO2I9bnVsbH1hPWF8fHt9O2I9Ynx8YS5kdXJhdGlvbjtiPWYuZngub2ZmPzA6dHlwZW9mIGI9PSJudW1iZXIiP2I6YiBpbiBmLmZ4LnNwZWVkcz9mLmZ4LnNwZWVkc1tiXTpmLmZ4LnNwZWVkcy5fZGVmYXVsdDtkPWR8fGEuY29tcGxldGU7cmV0dXJuW2MsYSxiLGRdfWZ1bmN0aW9uIG0oYyl7aWYoIWN8fHR5cGVvZiBjPT09Im51bWJlciJ8fGYuZnguc3BlZWRzW2NdKXJldHVybiB0cnVlO2lmKHR5cGVvZiBjPT09InN0cmluZyImJiFmLmVmZmVjdHNbY10pcmV0dXJuIHRydWU7cmV0dXJuIGZhbHNlfWYuZWZmZWN0cz17fTtmLmVhY2goWyJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJCb3R0b21Db2xvciIsImJvcmRlckxlZnRDb2xvciIsImJvcmRlclJpZ2h0Q29sb3IiLAoiYm9yZGVyVG9wQ29sb3IiLCJib3JkZXJDb2xvciIsImNvbG9yIiwib3V0bGluZUNvbG9yIl0sZnVuY3Rpb24oYyxhKXtmLmZ4LnN0ZXBbYV09ZnVuY3Rpb24oYil7aWYoIWIuY29sb3JJbml0KXtiLnN0YXJ0PXMoYi5lbGVtLGEpO2IuZW5kPW4oYi5lbmQpO2IuY29sb3JJbml0PXRydWV9Yi5lbGVtLnN0eWxlW2FdPSJyZ2IoIitNYXRoLm1heChNYXRoLm1pbihwYXJzZUludChiLnBvcyooYi5lbmRbMF0tYi5zdGFydFswXSkrYi5zdGFydFswXSwxMCksMjU1KSwwKSsiLCIrTWF0aC5tYXgoTWF0aC5taW4ocGFyc2VJbnQoYi5wb3MqKGIuZW5kWzFdLWIuc3RhcnRbMV0pK2Iuc3RhcnRbMV0sMTApLDI1NSksMCkrIiwiK01hdGgubWF4KE1hdGgubWluKHBhcnNlSW50KGIucG9zKihiLmVuZFsyXS1iLnN0YXJ0WzJdKStiLnN0YXJ0WzJdLDEwKSwyNTUpLDApKyIpIn19KTt2YXIgbz17YXF1YTpbMCwyNTUsMjU1XSxhenVyZTpbMjQwLDI1NSwyNTVdLGJlaWdlOlsyNDUsMjQ1LDIyMF0sYmxhY2s6WzAsCjAsMF0sYmx1ZTpbMCwwLDI1NV0sYnJvd246WzE2NSw0Miw0Ml0sY3lhbjpbMCwyNTUsMjU1XSxkYXJrYmx1ZTpbMCwwLDEzOV0sZGFya2N5YW46WzAsMTM5LDEzOV0sZGFya2dyZXk6WzE2OSwxNjksMTY5XSxkYXJrZ3JlZW46WzAsMTAwLDBdLGRhcmtraGFraTpbMTg5LDE4MywxMDddLGRhcmttYWdlbnRhOlsxMzksMCwxMzldLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDddLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMF0sZGFya29yY2hpZDpbMTUzLDUwLDIwNF0sZGFya3JlZDpbMTM5LDAsMF0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjJdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMV0sZnVjaHNpYTpbMjU1LDAsMjU1XSxnb2xkOlsyNTUsMjE1LDBdLGdyZWVuOlswLDEyOCwwXSxpbmRpZ286Wzc1LDAsMTMwXSxraGFraTpbMjQwLDIzMCwxNDBdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzBdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTVdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0XSxsaWdodGdyZXk6WzIxMSwKMjExLDIxMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5M10sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0XSxsaW1lOlswLDI1NSwwXSxtYWdlbnRhOlsyNTUsMCwyNTVdLG1hcm9vbjpbMTI4LDAsMF0sbmF2eTpbMCwwLDEyOF0sb2xpdmU6WzEyOCwxMjgsMF0sb3JhbmdlOlsyNTUsMTY1LDBdLHBpbms6WzI1NSwxOTIsMjAzXSxwdXJwbGU6WzEyOCwwLDEyOF0sdmlvbGV0OlsxMjgsMCwxMjhdLHJlZDpbMjU1LDAsMF0sc2lsdmVyOlsxOTIsMTkyLDE5Ml0sd2hpdGU6WzI1NSwyNTUsMjU1XSx5ZWxsb3c6WzI1NSwyNTUsMF0sdHJhbnNwYXJlbnQ6WzI1NSwyNTUsMjU1XX0scj1bImFkZCIsInJlbW92ZSIsInRvZ2dsZSJdLHQ9e2JvcmRlcjoxLGJvcmRlckJvdHRvbToxLGJvcmRlckNvbG9yOjEsYm9yZGVyTGVmdDoxLGJvcmRlclJpZ2h0OjEsYm9yZGVyVG9wOjEsYm9yZGVyV2lkdGg6MSxtYXJnaW46MSxwYWRkaW5nOjF9O2YuZWZmZWN0cy5hbmltYXRlQ2xhc3M9ZnVuY3Rpb24oYyxhLGIsCmQpe2lmKGYuaXNGdW5jdGlvbihiKSl7ZD1iO2I9bnVsbH1yZXR1cm4gdGhpcy5xdWV1ZSgiZngiLGZ1bmN0aW9uKCl7dmFyIGU9Zih0aGlzKSxnPWUuYXR0cigic3R5bGUiKXx8IiAiLGg9cShwLmNhbGwodGhpcykpLGwsdj1lLmF0dHIoImNsYXNzTmFtZSIpO2YuZWFjaChyLGZ1bmN0aW9uKHcsaSl7Y1tpXSYmZVtpKyJDbGFzcyJdKGNbaV0pfSk7bD1xKHAuY2FsbCh0aGlzKSk7ZS5hdHRyKCJjbGFzc05hbWUiLHYpO2UuYW5pbWF0ZSh1KGgsbCksYSxiLGZ1bmN0aW9uKCl7Zi5lYWNoKHIsZnVuY3Rpb24odyxpKXtjW2ldJiZlW2krIkNsYXNzIl0oY1tpXSl9KTtpZih0eXBlb2YgZS5hdHRyKCJzdHlsZSIpPT0ib2JqZWN0Iil7ZS5hdHRyKCJzdHlsZSIpLmNzc1RleHQ9IiI7ZS5hdHRyKCJzdHlsZSIpLmNzc1RleHQ9Z31lbHNlIGUuYXR0cigic3R5bGUiLGcpO2QmJmQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7aD1mLnF1ZXVlKHRoaXMpO2w9aC5zcGxpY2UoaC5sZW5ndGgtMSwxKVswXTsKaC5zcGxpY2UoMSwwLGwpO2YuZGVxdWV1ZSh0aGlzKX0pfTtmLmZuLmV4dGVuZCh7X2FkZENsYXNzOmYuZm4uYWRkQ2xhc3MsYWRkQ2xhc3M6ZnVuY3Rpb24oYyxhLGIsZCl7cmV0dXJuIGE/Zi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5hcHBseSh0aGlzLFt7YWRkOmN9LGEsYixkXSk6dGhpcy5fYWRkQ2xhc3MoYyl9LF9yZW1vdmVDbGFzczpmLmZuLnJlbW92ZUNsYXNzLHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGMsYSxiLGQpe3JldHVybiBhP2YuZWZmZWN0cy5hbmltYXRlQ2xhc3MuYXBwbHkodGhpcyxbe3JlbW92ZTpjfSxhLGIsZF0pOnRoaXMuX3JlbW92ZUNsYXNzKGMpfSxfdG9nZ2xlQ2xhc3M6Zi5mbi50b2dnbGVDbGFzcyx0b2dnbGVDbGFzczpmdW5jdGlvbihjLGEsYixkLGUpe3JldHVybiB0eXBlb2YgYT09ImJvb2xlYW4ifHxhPT09aj9iP2YuZWZmZWN0cy5hbmltYXRlQ2xhc3MuYXBwbHkodGhpcyxbYT97YWRkOmN9OntyZW1vdmU6Y30sYixkLGVdKTp0aGlzLl90b2dnbGVDbGFzcyhjLAphKTpmLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmFwcGx5KHRoaXMsW3t0b2dnbGU6Y30sYSxiLGRdKX0sc3dpdGNoQ2xhc3M6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4gZi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5hcHBseSh0aGlzLFt7YWRkOmEscmVtb3ZlOmN9LGIsZCxlXSl9fSk7Zi5leHRlbmQoZi5lZmZlY3RzLHt2ZXJzaW9uOiIxLjguMTAiLHNhdmU6ZnVuY3Rpb24oYyxhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdIT09bnVsbCYmYy5kYXRhKCJlYy5zdG9yYWdlLiIrYVtiXSxjWzBdLnN0eWxlW2FbYl1dKX0scmVzdG9yZTpmdW5jdGlvbihjLGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0hPT1udWxsJiZjLmNzcyhhW2JdLGMuZGF0YSgiZWMuc3RvcmFnZS4iK2FbYl0pKX0sc2V0TW9kZTpmdW5jdGlvbihjLGEpe2lmKGE9PSJ0b2dnbGUiKWE9Yy5pcygiOmhpZGRlbiIpPyJzaG93IjoiaGlkZSI7cmV0dXJuIGF9LGdldEJhc2VsaW5lOmZ1bmN0aW9uKGMsCmEpe3ZhciBiO3N3aXRjaChjWzBdKXtjYXNlICJ0b3AiOmI9MDticmVhaztjYXNlICJtaWRkbGUiOmI9MC41O2JyZWFrO2Nhc2UgImJvdHRvbSI6Yj0xO2JyZWFrO2RlZmF1bHQ6Yj1jWzBdL2EuaGVpZ2h0fXN3aXRjaChjWzFdKXtjYXNlICJsZWZ0IjpjPTA7YnJlYWs7Y2FzZSAiY2VudGVyIjpjPTAuNTticmVhaztjYXNlICJyaWdodCI6Yz0xO2JyZWFrO2RlZmF1bHQ6Yz1jWzFdL2Eud2lkdGh9cmV0dXJue3g6Yyx5OmJ9fSxjcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKGMpe2lmKGMucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gYy5wYXJlbnQoKTt2YXIgYT17d2lkdGg6Yy5vdXRlcldpZHRoKHRydWUpLGhlaWdodDpjLm91dGVySGVpZ2h0KHRydWUpLCJmbG9hdCI6Yy5jc3MoImZsb2F0Iil9LGI9ZigiPGRpdj48L2Rpdj4iKS5hZGRDbGFzcygidWktZWZmZWN0cy13cmFwcGVyIikuY3NzKHtmb250U2l6ZToiMTAwJSIsYmFja2dyb3VuZDoidHJhbnNwYXJlbnQiLApib3JkZXI6Im5vbmUiLG1hcmdpbjowLHBhZGRpbmc6MH0pO2Mud3JhcChiKTtiPWMucGFyZW50KCk7aWYoYy5jc3MoInBvc2l0aW9uIik9PSJzdGF0aWMiKXtiLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pO2MuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSl9ZWxzZXtmLmV4dGVuZChhLHtwb3NpdGlvbjpjLmNzcygicG9zaXRpb24iKSx6SW5kZXg6Yy5jc3MoInotaW5kZXgiKX0pO2YuZWFjaChbInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCJdLGZ1bmN0aW9uKGQsZSl7YVtlXT1jLmNzcyhlKTtpZihpc05hTihwYXJzZUludChhW2VdLDEwKSkpYVtlXT0iYXV0byJ9KTtjLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6MCxsZWZ0OjAscmlnaHQ6ImF1dG8iLGJvdHRvbToiYXV0byJ9KX1yZXR1cm4gYi5jc3MoYSkuc2hvdygpfSxyZW1vdmVXcmFwcGVyOmZ1bmN0aW9uKGMpe2lmKGMucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gYy5wYXJlbnQoKS5yZXBsYWNlV2l0aChjKTsKcmV0dXJuIGN9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24oYyxhLGIsZCl7ZD1kfHx7fTtmLmVhY2goYSxmdW5jdGlvbihlLGcpe3VuaXQ9Yy5jc3NVbml0KGcpO2lmKHVuaXRbMF0+MClkW2ddPXVuaXRbMF0qYit1bml0WzFdfSk7cmV0dXJuIGR9fSk7Zi5mbi5leHRlbmQoe2VmZmVjdDpmdW5jdGlvbihjKXt2YXIgYT1rLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxiPXtvcHRpb25zOmFbMV0sZHVyYXRpb246YVsyXSxjYWxsYmFjazphWzNdfTthPWIub3B0aW9ucy5tb2RlO3ZhciBkPWYuZWZmZWN0c1tjXTtpZihmLmZ4Lm9mZnx8IWQpcmV0dXJuIGE/dGhpc1thXShiLmR1cmF0aW9uLGIuY2FsbGJhY2spOnRoaXMuZWFjaChmdW5jdGlvbigpe2IuY2FsbGJhY2smJmIuY2FsbGJhY2suY2FsbCh0aGlzKX0pO3JldHVybiBkLmNhbGwodGhpcyxiKX0sX3Nob3c6Zi5mbi5zaG93LHNob3c6ZnVuY3Rpb24oYyl7aWYobShjKSlyZXR1cm4gdGhpcy5fc2hvdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7CmVsc2V7dmFyIGE9ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YVsxXS5tb2RlPSJzaG93IjtyZXR1cm4gdGhpcy5lZmZlY3QuYXBwbHkodGhpcyxhKX19LF9oaWRlOmYuZm4uaGlkZSxoaWRlOmZ1bmN0aW9uKGMpe2lmKG0oYykpcmV0dXJuIHRoaXMuX2hpZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIGE9ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YVsxXS5tb2RlPSJoaWRlIjtyZXR1cm4gdGhpcy5lZmZlY3QuYXBwbHkodGhpcyxhKX19LF9fdG9nZ2xlOmYuZm4udG9nZ2xlLHRvZ2dsZTpmdW5jdGlvbihjKXtpZihtKGMpfHx0eXBlb2YgYz09PSJib29sZWFuInx8Zi5pc0Z1bmN0aW9uKGMpKXJldHVybiB0aGlzLl9fdG9nZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNle3ZhciBhPWsuYXBwbHkodGhpcyxhcmd1bWVudHMpO2FbMV0ubW9kZT0idG9nZ2xlIjtyZXR1cm4gdGhpcy5lZmZlY3QuYXBwbHkodGhpcyxhKX19LGNzc1VuaXQ6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcy5jc3MoYyksCmI9W107Zi5lYWNoKFsiZW0iLCJweCIsIiUiLCJwdCJdLGZ1bmN0aW9uKGQsZSl7aWYoYS5pbmRleE9mKGUpPjApYj1bcGFyc2VGbG9hdChhKSxlXX0pO3JldHVybiBifX0pO2YuZWFzaW5nLmpzd2luZz1mLmVhc2luZy5zd2luZztmLmV4dGVuZChmLmVhc2luZyx7ZGVmOiJlYXNlT3V0UXVhZCIsc3dpbmc6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4gZi5lYXNpbmdbZi5lYXNpbmcuZGVmXShjLGEsYixkLGUpfSxlYXNlSW5RdWFkOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIGQqKGEvPWUpKmErYn0sZWFzZU91dFF1YWQ6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4tZCooYS89ZSkqKGEtMikrYn0sZWFzZUluT3V0UXVhZDpmdW5jdGlvbihjLGEsYixkLGUpe2lmKChhLz1lLzIpPDEpcmV0dXJuIGQvMiphKmErYjtyZXR1cm4tZC8yKigtLWEqKGEtMiktMSkrYn0sZWFzZUluQ3ViaWM6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4gZCooYS89ZSkqYSphK2J9LGVhc2VPdXRDdWJpYzpmdW5jdGlvbihjLAphLGIsZCxlKXtyZXR1cm4gZCooKGE9YS9lLTEpKmEqYSsxKStifSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbihjLGEsYixkLGUpe2lmKChhLz1lLzIpPDEpcmV0dXJuIGQvMiphKmEqYStiO3JldHVybiBkLzIqKChhLT0yKSphKmErMikrYn0sZWFzZUluUXVhcnQ6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4gZCooYS89ZSkqYSphKmErYn0sZWFzZU91dFF1YXJ0OmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuLWQqKChhPWEvZS0xKSphKmEqYS0xKStifSxlYXNlSW5PdXRRdWFydDpmdW5jdGlvbihjLGEsYixkLGUpe2lmKChhLz1lLzIpPDEpcmV0dXJuIGQvMiphKmEqYSphK2I7cmV0dXJuLWQvMiooKGEtPTIpKmEqYSphLTIpK2J9LGVhc2VJblF1aW50OmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIGQqKGEvPWUpKmEqYSphKmErYn0sZWFzZU91dFF1aW50OmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIGQqKChhPWEvZS0xKSphKmEqYSphKzEpK2J9LGVhc2VJbk91dFF1aW50OmZ1bmN0aW9uKGMsCmEsYixkLGUpe2lmKChhLz1lLzIpPDEpcmV0dXJuIGQvMiphKmEqYSphKmErYjtyZXR1cm4gZC8yKigoYS09MikqYSphKmEqYSsyKStifSxlYXNlSW5TaW5lOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuLWQqTWF0aC5jb3MoYS9lKihNYXRoLlBJLzIpKStkK2J9LGVhc2VPdXRTaW5lOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIGQqTWF0aC5zaW4oYS9lKihNYXRoLlBJLzIpKStifSxlYXNlSW5PdXRTaW5lOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuLWQvMiooTWF0aC5jb3MoTWF0aC5QSSphL2UpLTEpK2J9LGVhc2VJbkV4cG86ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4gYT09MD9iOmQqTWF0aC5wb3coMiwxMCooYS9lLTEpKStifSxlYXNlT3V0RXhwbzpmdW5jdGlvbihjLGEsYixkLGUpe3JldHVybiBhPT1lP2IrZDpkKigtTWF0aC5wb3coMiwtMTAqYS9lKSsxKStifSxlYXNlSW5PdXRFeHBvOmZ1bmN0aW9uKGMsYSxiLGQsZSl7aWYoYT09MClyZXR1cm4gYjtpZihhPT0KZSlyZXR1cm4gYitkO2lmKChhLz1lLzIpPDEpcmV0dXJuIGQvMipNYXRoLnBvdygyLDEwKihhLTEpKStiO3JldHVybiBkLzIqKC1NYXRoLnBvdygyLC0xMCotLWEpKzIpK2J9LGVhc2VJbkNpcmM6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4tZCooTWF0aC5zcXJ0KDEtKGEvPWUpKmEpLTEpK2J9LGVhc2VPdXRDaXJjOmZ1bmN0aW9uKGMsYSxiLGQsZSl7cmV0dXJuIGQqTWF0aC5zcXJ0KDEtKGE9YS9lLTEpKmEpK2J9LGVhc2VJbk91dENpcmM6ZnVuY3Rpb24oYyxhLGIsZCxlKXtpZigoYS89ZS8yKTwxKXJldHVybi1kLzIqKE1hdGguc3FydCgxLWEqYSktMSkrYjtyZXR1cm4gZC8yKihNYXRoLnNxcnQoMS0oYS09MikqYSkrMSkrYn0sZWFzZUluRWxhc3RpYzpmdW5jdGlvbihjLGEsYixkLGUpe2M9MS43MDE1ODt2YXIgZz0wLGg9ZDtpZihhPT0wKXJldHVybiBiO2lmKChhLz1lKT09MSlyZXR1cm4gYitkO2d8fChnPWUqMC4zKTtpZihoPE1hdGguYWJzKGQpKXtoPWQ7Yz1nLzR9ZWxzZSBjPQpnLygyKk1hdGguUEkpKk1hdGguYXNpbihkL2gpO3JldHVybi0oaCpNYXRoLnBvdygyLDEwKihhLT0xKSkqTWF0aC5zaW4oKGEqZS1jKSoyKk1hdGguUEkvZykpK2J9LGVhc2VPdXRFbGFzdGljOmZ1bmN0aW9uKGMsYSxiLGQsZSl7Yz0xLjcwMTU4O3ZhciBnPTAsaD1kO2lmKGE9PTApcmV0dXJuIGI7aWYoKGEvPWUpPT0xKXJldHVybiBiK2Q7Z3x8KGc9ZSowLjMpO2lmKGg8TWF0aC5hYnMoZCkpe2g9ZDtjPWcvNH1lbHNlIGM9Zy8oMipNYXRoLlBJKSpNYXRoLmFzaW4oZC9oKTtyZXR1cm4gaCpNYXRoLnBvdygyLC0xMCphKSpNYXRoLnNpbigoYSplLWMpKjIqTWF0aC5QSS9nKStkK2J9LGVhc2VJbk91dEVsYXN0aWM6ZnVuY3Rpb24oYyxhLGIsZCxlKXtjPTEuNzAxNTg7dmFyIGc9MCxoPWQ7aWYoYT09MClyZXR1cm4gYjtpZigoYS89ZS8yKT09MilyZXR1cm4gYitkO2d8fChnPWUqMC4zKjEuNSk7aWYoaDxNYXRoLmFicyhkKSl7aD1kO2M9Zy80fWVsc2UgYz1nLygyKk1hdGguUEkpKk1hdGguYXNpbihkLwpoKTtpZihhPDEpcmV0dXJuLTAuNSpoKk1hdGgucG93KDIsMTAqKGEtPTEpKSpNYXRoLnNpbigoYSplLWMpKjIqTWF0aC5QSS9nKStiO3JldHVybiBoKk1hdGgucG93KDIsLTEwKihhLT0xKSkqTWF0aC5zaW4oKGEqZS1jKSoyKk1hdGguUEkvZykqMC41K2QrYn0sZWFzZUluQmFjazpmdW5jdGlvbihjLGEsYixkLGUsZyl7aWYoZz09ailnPTEuNzAxNTg7cmV0dXJuIGQqKGEvPWUpKmEqKChnKzEpKmEtZykrYn0sZWFzZU91dEJhY2s6ZnVuY3Rpb24oYyxhLGIsZCxlLGcpe2lmKGc9PWopZz0xLjcwMTU4O3JldHVybiBkKigoYT1hL2UtMSkqYSooKGcrMSkqYStnKSsxKStifSxlYXNlSW5PdXRCYWNrOmZ1bmN0aW9uKGMsYSxiLGQsZSxnKXtpZihnPT1qKWc9MS43MDE1ODtpZigoYS89ZS8yKTwxKXJldHVybiBkLzIqYSphKigoKGcqPTEuNTI1KSsxKSphLWcpK2I7cmV0dXJuIGQvMiooKGEtPTIpKmEqKCgoZyo9MS41MjUpKzEpKmErZykrMikrYn0sZWFzZUluQm91bmNlOmZ1bmN0aW9uKGMsCmEsYixkLGUpe3JldHVybiBkLWYuZWFzaW5nLmVhc2VPdXRCb3VuY2UoYyxlLWEsMCxkLGUpK2J9LGVhc2VPdXRCb3VuY2U6ZnVuY3Rpb24oYyxhLGIsZCxlKXtyZXR1cm4oYS89ZSk8MS8yLjc1P2QqNy41NjI1KmEqYStiOmE8Mi8yLjc1P2QqKDcuNTYyNSooYS09MS41LzIuNzUpKmErMC43NSkrYjphPDIuNS8yLjc1P2QqKDcuNTYyNSooYS09Mi4yNS8yLjc1KSphKzAuOTM3NSkrYjpkKig3LjU2MjUqKGEtPTIuNjI1LzIuNzUpKmErMC45ODQzNzUpK2J9LGVhc2VJbk91dEJvdW5jZTpmdW5jdGlvbihjLGEsYixkLGUpe2lmKGE8ZS8yKXJldHVybiBmLmVhc2luZy5lYXNlSW5Cb3VuY2UoYyxhKjIsMCxkLGUpKjAuNStiO3JldHVybiBmLmVhc2luZy5lYXNlT3V0Qm91bmNlKGMsYSoyLWUsMCxkLGUpKjAuNStkKjAuNStifX0pfShqUXVlcnkpOwo7Cg==]]></Resource>
    <Resource ID="3ef16f3c-9863-9597-f341-8f9913c99c11" Name="vdom_functions" Type="js"><![CDATA[Ci8qIDNlZjE2ZjNjLTk4NjMtOTU5Ny1mMzQxLThmOTkxM2M5OWMxMS5yZXMgKi8KCmlmKCF3aW5kb3cuY29uc29sZXx8IWNvbnNvbGUuZmlyZWJ1Zyl7dmFyIG5hbWVzPVsibG9nIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwiYXNzZXJ0IiwiZGlyIiwiZGlyeG1sIiwiZ3JvdXAiLCJncm91cEVuZCIsInRpbWUiLCJ0aW1lRW5kIiwiY291bnQiLCJ0cmFjZSIsInByb2ZpbGUiLCJwcm9maWxlRW5kIl07d2luZG93LmNvbnNvbGU9e307Zm9yKHZhciBpPTA7aTxuYW1lcy5sZW5ndGg7KytpKXdpbmRvdy5jb25zb2xlW25hbWVzW2ldXT1mdW5jdGlvbigpe319CgpmdW5jdGlvbiBmdW5jdGlvbl9leGlzdHMoZnVuY3Rpb25fbmFtZSkgewoJaWYgKHR5cGVvZiBmdW5jdGlvbl9uYW1lID09ICdzdHJpbmcnKXsKCQlyZXR1cm4gKHR5cGVvZiB3aW5kb3dbZnVuY3Rpb25fbmFtZV0gPT0gJ2Z1bmN0aW9uJyk7Cgl9IGVsc2V7CgkJcmV0dXJuIChmdW5jdGlvbl9uYW1lIGluc3RhbmNlb2YgRnVuY3Rpb24pOwoJfQp9CgovKioKICogaGVscGVycyBmb3IgSFRNTENvbnRhaW5lcgogKiBsbWQ6IDIwMTEtMDMtMjIKICovCgp2YXIgJHEgPSBqUXVlcnk7CgpmdW5jdGlvbiB3aW5kb3dIZWlnaHQoKQp7Cgl2YXIgZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CglyZXR1cm4gc2VsZi5pbm5lckhlaWdodCB8fCAoZGUgJiYgZGUuY2xpZW50SGVpZ2h0KSB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKfQoKZnVuY3Rpb24gd2luZG93V2lkdGgoKQp7Cgl2YXIgZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CglyZXR1cm4gc2VsZi5pbm5lcldpZHRoIHx8IChkZSAmJiBkZS5jbGllbnRXaWR0aCkgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKfQoKdmFyIGhjaHcgPSBoY2htbCA9IGhjaGNlbnRlcmVkID0gMDsKCmZ1bmN0aW9uIGhjaFNob3dQYWdlKHBjKQp7CgloY2hjZW50ZXJlZCA9IHBhcnNlSW50KHBjKSA+IDAgPyAxIDogMDsKCXZhciBoID0gdyA9IGRpdncgPSBkaXZoID0gMTsKCXZhciBhYSA9IG5ldyBBcnJheSgpOwoJJHEoIiNjb250YWluZXI+ZGl2IikuZWFjaChmdW5jdGlvbihpKXsKCQl2YXIgdCA9ICRxKHRoaXMpOwoJCWRpdmggPSB0LmhlaWdodCgpICArIChwYXJzZUludCh0Lm9mZnNldCgpLnRvcCkgfHwgMCk7CgkJaCA9IGRpdmggPiBoID8gZGl2aCA6IGg7CgkJZGl2dyA9IHQud2lkdGgoKSArIChwYXJzZUludCh0LmNzcygnbGVmdCcpKSB8fCAwKTsKCQl3ID0gZGl2dyA+IHcgPyBkaXZ3IDogdzsKCQlhYVtpXSA9IHc7LypmYW50YXN0aWMgdHJpY2sqLwoJfSk7CgkkcSgiI2NvbnRhaW5lciIpLmhlaWdodChoKS53aWR0aCh3KS5jc3MoeyB3aWR0aDogdyB9KTsKCXcgPSBhYVtpXTsKCWhjaHcgPSB3OwoJaGNobWwgPSAodyAvIDIpICogKC0xKTsKCWhjaEZpeENlbnRlcmVkKCk7Ci8vCSRxKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7Ci8vCQloY2hGaXhDZW50ZXJlZCgpOwovLwl9KTsKCSRxKCJkaXZbcmVsJD1mb290ZXJdIikuY3NzKCJ0b3AiLCBoKTsKfQoKZnVuY3Rpb24gaGNoRml4Q2VudGVyZWQoKQp7CglpZiAoaGNoY2VudGVyZWQgPiAwKSB7CgkJalF1ZXJ5KCIjY29udGFpbmVyIikuY3NzKHsgcG9zaXRpb246ICdyZWxhdGl2ZScsIG1hcmdpbjogJzAgYXV0bycgfSk7Cgl9IGVsc2UgewoJCWpRdWVyeSgiI2NvbnRhaW5lciIpLmNzcyh7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiAwLCBtYXJnaW5MZWZ0OiAwIH0pOwoJfQp9CgpmdW5jdGlvbiBoY2hJbml0KGNlbixjb2wpCnsKCWhjaGNlbnRlcmVkID0gcGFyc2VJbnQoY2VuKSA+IDAgPyB0cnVlIDogZmFsc2U7CglpZiAoaGNoY2VudGVyZWQpIHsKCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOwoJCWRvY3VtZW50LndyaXRlKCc8ZGl2IGlkPSJoY2hfbG9hIiBzdHlsZT0iei1pbmRleDo5OTk5OTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDonK3dpbmRvd1dpZHRoKCkrJ3B4O2hlaWdodDonK3dpbmRvd0hlaWdodCgpKydweDt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjonK2NvbCsnIj48L2Rpdj4nKTsKCX0KCSRxKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpewoJCWhjaFNob3dQYWdlKGNlbik7CgkJaWYgKGhjaGNlbnRlcmVkKSB7CgkJCSRxKCcjaGNoX2xvYScpLmhpZGUoKTsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7CgkJCSRxKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7CgkJCQloY2hGaXhDZW50ZXJlZCgpOwoJCQl9KTsKCQl9CgkJaWYgKHR5cGVvZiB2ZG9tX3VpX2FmdGVySW5pdCA9PT0gJ2Z1bmN0aW9uJykgdmRvbV91aV9hZnRlckluaXQoKTsKCX0pOwp9CgpmdW5jdGlvbiBvbmxvYWRJbml0KCkKewovKgoJJHEoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7Ci8vCQlleGVjRXZlbnRCaW5kZWQoQVBQTElDQVRJT05fSUQucmVwbGFjZSgvXC0vZywgIl8iKSwgJ29ubG9hZCcpOwoKCQlmb3IgKHZhciBpPTA7IGk8by5ldmVudEVuZ2luZS5ldmVudERpc3BhdGNoZXIuZXZlbnRBcnJheS5sZW5ndGg7IGkrKykgewoJCQlpZiAoby5ldmVudEVuZ2luZS5ldmVudERpc3BhdGNoZXIuZXZlbnRBcnJheVtpXS5ldmVudFNyYyA9PSAib18iK3NyY0lEKyI6IitldnROYW1lKSB7CgkJCQl2YXIgbmV2ID0gbmV3IFZET01fRXZlbnQoKTsKCQkJCW5ldi5zcmNPYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib18iK3NyY0lEKTsKCQkJCW5ldi5uYW1lID0gZXZ0TmFtZTsKCQkJCWlmIChwYXJhbXMgIT0gdW5kZWZpbmVkKSB7CgkJCQkJZm9yIChrZXkgaW4gcGFyYW1zKSB7CgkJCQkJCW5ldi5hZGRQYXJhbWV0ZXIoa2V5LCBwYXJhbXNba2V5XSk7CgkJCQkJfQovLwkJCQlmb3IgKHZhciBpPTA7aTxwYXJhbXMubGVuZ3RoO2krKykgewovLwkJCQkJbmV2LmFkZFBhcmFtZXRlcihwYXJhbXNbaV0uTmFtZSwgcGFyYW1zW2ldLlZhbHVlKTsKLy8JCQkJfTsKCQkJCX0KCQkJCW8uZXZlbnRFbmdpbmUucHJvY2Vzc0V2ZW50KG5ldik7CgkJCX0KCQl9CgoJfSk7CiovCn0KCgovKioKICogRTJWRE9NOiBVSSBoZWxwZXJzIGZvciBjbGllbnQgYWN0aW9ucwogKiBsbWQ6IDIwMDktMDItMTAKICovCgpmdW5jdGlvbiB2ZG9tX2V2dF9zZXR2YWx1ZShvLCB2YWx1ZSkKewoJJHEoby5kb21Db250KS52YWwodmFsdWUpOwoJdmFyIHZlID0gbmV3IFZET01fRXZlbnQoKTsKCXZlLnNyY09iaiA9IG8uZG9tQ29udDsKCXZlLm5hbWUgPSAndmFsdWVjaGFuZ2UnOwoJdmUuYWRkUGFyYW1ldGVyKCdpdGVtVmFsdWUnLCB2YWx1ZSk7CglvLmV4ZWNFdmVudCh2ZSk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfaGlkZShvYmosIGZhZGUsIHppLCB0b3BhcmVudCkKewoJaWYgKCRxKG9iaikuY3NzKCdkaXNwbGF5JykhPSdub25lJykgewoJCWlmIChwYXJzZUludChmYWRlKSA+IDApIHsKCQkJdmFyIG4gPSAkcShvYmopLnF1ZXVlKCdmeCcpOwoJCQlpZiAobi5sZW5ndGggPD0gMCkgewoJCQkJdmFyIG5uID0gcGFyc2VJbnQoZmFkZSk7CgkJCQkkcShvYmopLmZhZGVPdXQobm4pOwoJCQl9CgkJfSBlbHNlIHsKCQkJb2JqLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgkJfQoJCWlmICh6aSAhPSB1bmRlZmluZWQgJiYgcGFyc2VJbnQoemkpID4gMCkgewoJCQlpZiAodG9wYXJlbnQgIT0gdW5kZWZpbmVkICYmIHBhcnNlSW50KHRvcGFyZW50KSA+IDApIHsKCQkJCXZhciBvID0gb2JqLnBhcmVudE5vZGUuc3R5bGUuekluZGV4OwoJCQl9IGVsc2UgewoJCQkJdmFyIG8gPSBvYmouc3R5bGUuekluZGV4OwoJCQl9CgkJCW8gPSB6aTsKCQl9Cgl9Cn0KCmZ1bmN0aW9uIHZkb21fdWlfc2hvdyhvYmosIGZhZGUsIHppLCB0b3BhcmVudCkKewoJaWYgKCRxKG9iaikuY3NzKCdkaXNwbGF5Jyk9PSdub25lJykgewoJCWlmIChwYXJzZUludChmYWRlKSA+IDApIHsKCQkJdmFyIG4gPSAkcShvYmopLnF1ZXVlKCdmeCcpOwoJCQlpZiAobi5sZW5ndGggPD0gMCkgewoJCQkJdmFyIG5uID0gcGFyc2VJbnQoZmFkZSk7CgkJCQkkcShvYmopLnN0b3AoKS5mYWRlSW4obm4pOwoJCQl9CgkJfSBlbHNlIHsKCQkJb2JqLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoJCX0KLy8JCSRxKG9iaikucGFyZW50KCkuY3NzKCd6LWluZGV4JywgJzk5OTk5Jyk7CgkJaWYgKHppICE9IHVuZGVmaW5lZCAmJiBwYXJzZUludCh6aSkgPiAwKSB7CgkJCWlmICh0b3BhcmVudCAhPSB1bmRlZmluZWQgJiYgcGFyc2VJbnQodG9wYXJlbnQpID4gMCkgewoJCQkJdmFyIG8gPSAkcShvYmopLnBhcmVudCgpOwoJCQl9IGVsc2UgewoJCQkJdmFyIG8gPSAkcShvYmopOwoJCQl9CgkJCW8uY3NzKCd6LWluZGV4JywgemkpOwoJCX0KCX0KfQoKZnVuY3Rpb24gdmRvbV91aV9tb3ZlWmluZGV4VG8ob2JqLCBuZXd6KQp7CglvYmouc3R5bGUuemluZGV4ID0gcGFyc2VJbnQobmV3eik7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfbW92ZVRvKG9iaiwgbmV3WCwgbmV3WSwgRWZmZWN0KQp7Cgl2YXIgeHggPSBwYXJzZUludChuZXdYKSArICJweCI7Cgl2YXIgeXkgPSBwYXJzZUludChuZXdZKSArICJweCI7CglpZiAocGFyc2VJbnQoRWZmZWN0KSA+IDApIHsKCQl2YXIgbiA9ICRxKG9iaikucXVldWUoJ2Z4Jyk7CgkJaWYgKG4ubGVuZ3RoIDw9IDApIHsKCQkJdmFyIG51bSA9IHBhcnNlSW50KEVmZmVjdCk7CgkJCSRxKG9iaikuYW5pbWF0ZSggeyBsZWZ0Onh4LCB0b3A6eXkgfSwgbnVtICkKCQl9Cgl9IGVsc2UgewoJCW9iai5zdHlsZS5sZWZ0ID0geHg7CgkJb2JqLnN0eWxlLnRvcCA9IHl5OwoJfQp9CgpmdW5jdGlvbiB2ZG9tX3VpX2FkZEl0ZW0ob2JqLCBpdGVtLCBpdGVtVmFsdWUsIHNlbGVjdGVkKQp7Cgl2YXIgeCA9IG9iai5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7Cgl4LnZhbHVlID0gJHEudHJpbShpdGVtVmFsdWUpOwoJeC5pbm5lckhUTUwgPSBpdGVtOwoJaWYgKHBhcnNlSW50KHNlbGVjdGVkKSA+IDApIHsKCQl4LnNlbGVjdGVkID0gdHJ1ZTsKCX0KfQoKZnVuY3Rpb24gdmRvbV91aV9yZW1vdmVJdGVtKG9iaiwgaXRlbSwgaXRlbVZhbHVlKQp7CglpZiAob2JqLmxlbmd0aCA+IDAgJiYgKGl0ZW0gIT09ICcnIHx8IGl0ZW1WYWx1ZSAhPT0gJycpKSB7CgkJZm9yIChpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykgewoJCQl2YXIgbm9kZSA9IG9ialtpXTsKCQkJaWYgKG5vZGUpIHsKCQkJCWlmICgvb3B0aW9uL2kudGVzdChub2RlLm5vZGVOYW1lKSkgewoJCQkJCXZhciB4MSA9IGl0ZW0gIT09ICcnID8gKGl0ZW0gPT0gbm9kZS5pbm5lckhUTUwgPyB0cnVlIDogZmFsc2UpIDogdHJ1ZTsKCQkJCQl2YXIgeDIgPSBpdGVtVmFsdWUgIT09ICcnID8gKGl0ZW1WYWx1ZSA9PSBub2RlLnZhbHVlID8gdHJ1ZSA6IGZhbHNlKSA6IHRydWU7CgkJCQkJaWYgKHgxICYmIHgyKSB7CgkJCQkJCW9iai5yZW1vdmVDaGlsZChub2RlKTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfQp9CgpmdW5jdGlvbiB2ZG9tX3VpX3NvcnRJdGVtKG9iaiwgc29ydCkKewoJdmFyIGxiID0gb2JqOwoJdmFyIG9sZFZhbHVlID0gbGJbb2JqLnNlbGVjdGVkSW5kZXhdLnZhbHVlOwoJYXJyVGV4dHMgPSBuZXcgQXJyYXkoKTsKCWZvcihpPTA7IGkgPCBsYi5sZW5ndGg7IGkrKykgewoJCWFyclRleHRzW2ldID0gbGIub3B0aW9uc1tpXS50ZXh0Kyc6JytsYi5vcHRpb25zW2ldLnZhbHVlOwoJfQoJYXJyVGV4dHMuc29ydCgpOwoJdmFyIHh4ID0gc29ydCA+IDAgPyBsYi5sZW5ndGggLSAxIDogMDsKCWZvciAoaT0wOyBpIDwgbGIubGVuZ3RoOyBpKyspIHsKCQlvcCA9IGxiLm9wdGlvbnNbeHggLSAoeHgtaSA8IDAgPyAwIDogeHgtaSldOwoJCWVsID0gYXJyVGV4dHNbaV0uc3BsaXQoJzonKTsKCQlvcC50ZXh0ID0gZWxbMF07CgkJb3AudmFsdWUgPSBlbFsxXTsKCQlpZiAob2xkVmFsdWUgPT0gb3AudmFsdWUpIHsKCQkJb3Auc2VsZWN0ZWQgPSB0cnVlOwoJCX0gZWxzZSB7CgkJCW9wLnNlbGVjdGVkID0gZmFsc2U7CgkJfQoJfQp9CgpmdW5jdGlvbiB2ZG9tX3VpX3NldEJ1dHRvbkltYWdlKG9iaiwgcmVzb3VyY2VVcmwpCnsKCXZhciBvYiA9ICRxKG9iaikuZmluZCgnaW1nOmZpcnN0Jyk7Cgl2YXIgaXcgPSAkcShvYikuYXR0cignd2lkdGgnKTsKCXZhciBpaCA9ICRxKG9iKS5hdHRyKCdoZWlnaHQnKTsKCXZhciBpc3JjID0gcmVzb3VyY2VVcmw7Cgl2YXIgc3Jjb3ZlciA9ICRxKG9iKS5hdHRyKCJzcmNvdmVyIik7Cgl2YXIgaW92ZXIgPSAidGhpcy5zcmM9JyIgKyBzcmNvdmVyICsgIiciOwoJdmFyIGlvdXQgPSAidGhpcy5zcmM9JyIgKyByZXNvdXJjZVVybCArICInIjsKCSRxKG9iKS5yZXBsYWNlV2l0aCgnPGltZyB3aWR0aD0iJytpdysnIiBoZWlnaHQ9IicraWgrJyIgYm9yZGVyPSIwIiBhbHQ9IiIgc3JjPSInK2lzcmMrJyIgc3Jjb3Zlcj0iJytzcmNvdmVyKyciIG9ubW91c2VvdmVyPSInK2lvdmVyKyciIG9ubW91c2VvdXQ9IicraW91dCsnIiAvPicpOwp9CgpmdW5jdGlvbiB2ZG9tX3VpX3NldEJ1dHRvblJvbGxvdmVyKG9iaiwgcmVzb3VyY2VVcmwpCnsKCXZhciBvYiA9ICRxKG9iaikuZmluZCgnaW1nOmZpcnN0Jyk7Cgl2YXIgaXcgPSAkcShvYikuYXR0cignd2lkdGgnKTsKCXZhciBpaCA9ICRxKG9iKS5hdHRyKCdoZWlnaHQnKTsKCXZhciBpc3JjID0gJHEob2IpLmF0dHIoInNyYyIpOwoJdmFyIHNyY292ZXIgPSByZXNvdXJjZVVybDsKCXZhciBpb3ZlciA9ICJ0aGlzLnNyYz0nIiArIHJlc291cmNlVXJsICsgIiciOwoJdmFyIGlvdXQgPSAidGhpcy5zcmM9JyIgKyBpc3JjICsgIiciOwoJJHEob2IpLnJlcGxhY2VXaXRoKCc8aW1nIHdpZHRoPSInK2l3KyciIGhlaWdodD0iJytpaCsnIiBib3JkZXI9IjAiIGFsdD0iIiBzcmM9IicraXNyYysnIiBzcmNvdmVyPSInK3NyY292ZXIrJyIgb25tb3VzZW92ZXI9IicraW92ZXIrJyIgb25tb3VzZW91dD0iJytpb3V0KyciIC8+Jyk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfc2V0TGluayhvYmosIGNvbnRhaW5lclVybCkKewoJdmFyIG9iID0gJHEob2JqKS5maW5kKCdhOmZpcnN0Jyk7CgkkcShvYikuYXR0cignaHJlZicsIGNvbnRhaW5lclVybCk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfdW5zZWxlY3Qob2JqKQp7Cgl2YXIgYSA9IG9iai5jaGlsZE5vZGVzOwoJaWYgKGEubGVuZ3RoKSB7CgkJZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHsKCQkJaWYgKGFbaV0udHlwZSA9PSAnY2hlY2tib3gnKSB7CgkJCQlhW2ldLmNoZWNrZWQgPSBmYWxzZTsKCQkJfQoJCX0KCX0KfQoKZnVuY3Rpb24gdmRvbV91aV9zZWxlY3Qob2JqKQp7Cgl2YXIgYSA9IG9iai5jaGlsZE5vZGVzOwoJaWYgKGEubGVuZ3RoKSB7CgkJZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHsKCQkJaWYgKGFbaV0udHlwZSA9PSAnY2hlY2tib3gnKSB7CgkJCQlhW2ldLmNoZWNrZWQgPSB0cnVlOwoJCQl9CgkJfQoJfQp9CgpmdW5jdGlvbiB2ZG9tX3VpX2FkZEhUTUwob2JqLCB2YWx1ZSkKewoJdHQgPSAkcShvYmopLmh0bWwodmFsdWUpICsgdmFsdWU7CgkkcShvYmopLmh0bWwodHQpOwp9CgpmdW5jdGlvbiB2ZG9tX3VpX3Jlc2l6ZVRvKG9iaiwgd2lkdGgsIGhlaWdodCkKewoJb2JqLnN0eWxlLndpZHRoID0gcGFyc2VJbnQobmV3WmluZGV4KTsKCW9iai5zdHlsZS5oZWlnaHQgPSBwYXJzZUludChuZXdaaW5kZXgpOwp9CgovKiBkcmFnICovCgpmdW5jdGlvbiB2ZG9tX3VpX2RyYWdTdGFydChvYmopCnsKCWlmIChkcmFnX2N1cnJlbnRfb2JqICE9PSBudWxsKSB7CgkJZHJhZ1N0b3BfKCk7Cgl9CglkcmFnX2N1cnJlbnRfb2JqID0gb2JqOwoJZHJhZ0luaXRfKG9iaik7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfZHJhZ1N0b3AoKQp7CglkcmFnU3RvcF8oKTsKfQoKLyoqLwoKZnVuY3Rpb24gdmRvbV91aV9zZXRNZW51SGlkZShvYmosIG1zZWMsIHppLCB0b3BhcmVudCkKewoJJHEoJyMnK29iai5pZCkuc3RvcFRpbWUob2JqLmlkKTsKCSRxKCcjJytvYmouaWQpLm1vdXNlb3ZlcihmdW5jdGlvbihlKXsKCQkkcSgnIycrb2JqLmlkKS5zdG9wVGltZShvYmouaWQpOwoJfSkubW91c2VvdXQoZnVuY3Rpb24oKXsKCQkkcSgnIycrb2JqLmlkKS5vbmVUaW1lKG1zZWMsIG9iai5pZCwgZnVuY3Rpb24oKSB7CgkJCSRxKCcjJytvYmouaWQpLmhpZGUoKQoJCQlpZiAoemkgIT0gdW5kZWZpbmVkICYmIHBhcnNlSW50KHppKSA+IDApIHsKCQkJCWlmICh0b3BhcmVudCAhPSB1bmRlZmluZWQgJiYgcGFyc2VJbnQodG9wYXJlbnQpID4gMCkgewoJCQkJCXZhciBvID0gJHEob2JqKS5wYXJlbnQoKTsKCQkJCX0gZWxzZSB7CgkJCQkJdmFyIG8gPSAkcShvYmopOwoJCQkJfQoJCQkJby5jc3MoJ3otaW5kZXgnLCB6aSk7CgkJCX0KCQl9KTsKCX0pOwoJJHEoJyMnK29iai5pZCkub25lVGltZShtc2VjLCBvYmouaWQsIGZ1bmN0aW9uKCkgewoJCSRxKCcjJytvYmouaWQpLmhpZGUoKTsKCQlpZiAoemkgIT0gdW5kZWZpbmVkICYmIHBhcnNlSW50KHppKSA+IDApIHsKCQkJaWYgKHRvcGFyZW50ICE9IHVuZGVmaW5lZCAmJiBwYXJzZUludCh0b3BhcmVudCkgPiAwKSB7CgkJCQl2YXIgbyA9ICRxKG9iaikucGFyZW50KCk7CgkJCX0gZWxzZSB7CgkJCQl2YXIgbyA9ICRxKG9iaik7CgkJCX0KCQkJby5jc3MoJ3otaW5kZXgnLCB6aSk7CgkJfQoJfSk7Cn0KCi8qIHJlc2l6ZSAqLwoKZnVuY3Rpb24gdmRvbV91aV9zdGFydFJlc2l6ZVhZKG9iaikKewovL1RPRE86IHJlc2V0IHJlc2l6YWJsZSBpZiBhbHJlYWR5IGJpbmRlZAoJJHEob2JqKS5yZXNpemFibGUoewoJCXRyYW5zcGFyZW50OiB0cnVlCgl9KTsKfQoKZnVuY3Rpb24gdmRvbV91aV9zdGFydFJlc2l6ZVgob2JqKQp7Cgl2YXIgdGggPSAkcShvYmopLmhlaWdodCgpOwoJJHEob2JqKS5yZXNpemFibGUoewoJCXRyYW5zcGFyZW50OiB0cnVlLAoJCW1pbkhlaWdodDogdGgsCgkJbWF4SGVpZ2h0OiB0aAoJfSk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfc3RhcnRSZXNpemVZKG9iaikKewoJdmFyIHR3ID0gJHEob2JqKS53aWR0aCgpOwoJJHEob2JqKS5yZXNpemFibGUoewoJCXRyYW5zcGFyZW50OiB0cnVlLAoJCW1pbldpZHRoOiB0dywKCQltYXhXaWR0aDogdHcKCX0pOwp9CgovKiB0aW1lciAqLwoKZnVuY3Rpb24gdmRvbV91aV90aW1lclN0YXJ0KG9iaiwgaW50ZXJ2YWwpCnsKCWlmIChpbnRlcnZhbCA9PSB1bmRlZmluZWQpIGludGVydmFsID0gNTAwOwoJJHEob2JqKS5zdG9wVGltZSgpOwoJb2JqLnRpbWVyZnJlZXplID0gMDsKCSRxKG9iaikuZXZlcnlUaW1lKGludGVydmFsLCBmdW5jdGlvbihpKXsKCQlpZiAocGFyc2VJbnQob2JqLnRpbWVyZnJlZXplKSA9PSAwKSB7CgkJCXZhciB2ZG9tRXZlbnQgPSBuZXcgVkRPTV9FdmVudCgpOwoJCQl2ZG9tRXZlbnQuc3JjT2JqID0gb2JqLmRvbUNvbnQ7CgkJCXZkb21FdmVudC5uYW1lID0gJ3RpbWVjaGFuZ2UnOwoJCQl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCdjb3VudCcsIGkpOwoJCQl2ZG9tRXZlbnQuYWRkUGFyYW1ldGVyKCd0aW1lJywgbmV3IERhdGUpOwoJCQlvYmouZXhlY0V2ZW50KHZkb21FdmVudCk7CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIHZkb21fdWlfdGltZXJTdG9wKG9iaikKewoJJHEob2JqKS5zdG9wVGltZSgpOwp9CgpmdW5jdGlvbiB2ZG9tX3VpX3RpbWVyRnJlZXplKG9iaiwgZnJlZXplKQp7CglvYmoudGltZXJmcmVlemUgPSBwYXJzZUludChmcmVlemUpOwp9CgpmdW5jdGlvbiB2ZG9tX3VpX3RpbWVyU2V0SW50ZXJ2YWwob2JqLCBpbnRlcnZhbCkKewoJdmRvbV91aV90aW1lclN0YXJ0KG9iaiwgaW50ZXJ2YWwpOwp9CgovKiBjYWxlbmRhciAqLwoKZnVuY3Rpb24gdmRvbV91aV9jYWxlbmRhckRhdGVDaGFuZ2UobyxkLG0seSkKewoJZXhlY0V2ZW50QmluZGVkKG8sICdkYXRlY2hhbmdlJywgeyBkYXk6IGQsIG1vbnRoOiBtLCB5ZWFyOiB5IH0pOwp9CgovKgoqIEBhdXRob3IgaU5pbHMKKiBAdmVyc2lvbiAxLjIgKDIwLjA3LjA3KQoqIEBhZGRzIExlbzogY29vcmRzIGluIHN0eWxlcyBhZGRlZAoqLwpmdW5jdGlvbiBzaG93Rmxhc2gobyl7Cgl2YXIgYmcscSxzLHY7CglpZihvLmJnY29sb3Ipe2JnPW8uYmdjb2xvcjt9ZWxzZXtiZz0iI0ZGRkZGRiI7fQoJaWYoby5xdWFsaXR5KXtxPW8ucXVhbGl0eTt9ZWxzZXtxPSJoaWdoIjt9CglpZihvLnNjYWxlKXtzPW8uc2NhbGU7fWVsc2V7cz0ibm9zY2FsZSI7fQoJeD0oby54KT9vLng6MDsKCXk9KG8ueSk/by55OjA7CglzdHk9KG8ueHx8by55KT8nc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6Jyt4KydweDt0b3A6Jyt5KydweDt3aWR0aDonK28ud2lkdGgrJ3B4O2hlaWdodDonK28uaGVpZ2h0KydweCInOicnOwoJaWYoby5ub2NhY2hlPT0idHJ1ZSIpe28ubmFtZSs9Ij8iK25ldyBEYXRlKCkuZ2V0VGltZSgpO30KCWlmKG8udmVyKXt2PW8udmVyO31lbHNle3Y9JzksMCwwLDAnO30KCXZhciBzdHI9JzxvYmplY3QgJytzdHkrJyBjbGFzc2lkPSJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAiIGNvZGViYXNlPSJodHRwOi8vZG93bmxvYWQubWFjcm9tZWRpYS5jb20vcHViL3Nob2Nrd2F2ZS9jYWJzL2ZsYXNoL3N3Zmxhc2guY2FiI3ZlcnNpb249Jyt2KyciICc7CglzdHIrPSdpZD0iJytvLmlkKyciICc7CglpZihvLmFsaWduKXtzdHIrPSdhbGlnbj0iJytvLmFsaWduKyciICc7fQoJc3RyKz0nd2lkdGg9Iicrby53aWR0aCsnIiBoZWlnaHQ9Iicrby5oZWlnaHQrJyI+PHBhcmFtIG5hbWU9Im1vdmllIiB2YWx1ZT0iJytvLm5hbWUrJyIvPjxwYXJhbSBuYW1lPSJiZ2NvbG9yIiB2YWx1ZT0iJytiZysnIi8+PHBhcmFtIG5hbWU9InF1YWxpdHkiIHZhbHVlPSInK3ErJyIvPic7CglpZihvLmJhc2Upe3N0cis9JzxwYXJhbSBuYW1lPSJiYXNlIiB2YWx1ZT0iJytvLmJhc2UrJyIvPic7fQoJaWYoby5mbGFzaHZhcnMpe3N0cis9JzxwYXJhbSBuYW1lPSJmbGFzaHZhcnMiIHZhbHVlPSInK28uZmxhc2h2YXJzKyciLz4nO30KCWlmKG8uYWxsb3dTY3JpcHRBY2Nlc3Mpe3N0cis9JzxwYXJhbSBuYW1lPSJhbGxvd1NjcmlwdEFjY2VzcyIgdmFsdWU9Iicrby5hbGxvd1NjcmlwdEFjY2VzcysnIi8+Jzt9CglpZihvLnNhbGlnbil7c3RyKz0nPHBhcmFtIG5hbWU9InNhbGlnbiIgdmFsdWU9Iicrby5zYWxpZ24rJyIvPic7fQoJaWYoby53bW9kZSl7c3RyKz0nPHBhcmFtIG5hbWU9Indtb2RlIiB2YWx1ZT0iJytvLndtb2RlKyciLz4nO30KCXN0cis9JzxwYXJhbSBuYW1lPSJzY2FsZSIgdmFsdWU9IicrcysnIi8+PGVtYmVkICcrc3R5KycgdHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giIHBsdWdpbnNwYWdlPSJodHRwOi8vd3d3Lm1hY3JvbWVkaWEuY29tL2dvL2dldGZsYXNocGxheWVyIiBuYW1lPSInK28uaWQrJyIgc3JjPSInK28ubmFtZSsnIiBiZ2NvbG9yPSInK2JnKyciICc7CglpZihvLmZsYXNodmFycyl7c3RyKz0nZmxhc2h2YXJzPSInK28uZmxhc2h2YXJzKyciICc7fQoJaWYoby5zd0xpdmVDb25uZWN0KXtzdHIrPSdzd0xpdmVDb25uZWN0PSInK28uc3dMaXZlQ29ubmVjdCsnIiAnO30KCWlmKG8uYWxsb3dTY3JpcHRBY2Nlc3Mpe3N0cis9J2FsbG93U2NyaXB0QWNjZXNzPSInK28uYWxsb3dTY3JpcHRBY2Nlc3MrJyIgJzt9CglzdHIrPSdxdWFsaXR5PSInK3ErJyIgJzsKCWlmKG8uYmFzZSl7c3RyKz0nYmFzZT0iJytvLmJhc2UrJyIgJzt9CglpZihvLndtb2RlKXtzdHIrPSd3bW9kZT0iJytvLndtb2RlKyciICc7fQoJaWYoby5zYWxpZ24pe3N0cis9J3NhbGlnbj0iJytvLnNhbGlnbisnIiAnO30KCXN0cis9J3NjYWxlPSInK3MrJyIgd2lkdGg9Iicrby53aWR0aCsnIiBoZWlnaHQ9Iicrby5oZWlnaHQrJyI+PC9lbWJlZD48L29iamVjdD4nOwovLwlkb2N1bWVudC53cml0ZWxuKHN0cik7CgkkcSgnYm9keScpLmFwcGVuZChzdHIpOwp9Cgpkb2N1bWVudC5hdHRhY2hDUCA9IFtdOwpkb2N1bWVudC5hdHRhY2hDUC5sZW5ndGggPSAwOwoKZnVuY3Rpb24gYXR0YWNoUGlja0NvbG9yKGlkKQp7CgkkcShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsKCQlhdHRhY2hQaWNrQ29sb3JEbyhpZCk7Cgl9KTsKfQoKZnVuY3Rpb24gYXR0YWNoUGlja0NvbG9yRG8oaWQpCnsKCWlmKCRxLmluQXJyYXkoaWQsZG9jdW1lbnQuYXR0YWNoQ1ApPDApewoJCWRvY3VtZW50LmF0dGFjaENQLmxlbmd0aCsrO2RvY3VtZW50LmF0dGFjaENQW2RvY3VtZW50LmF0dGFjaENQLmxlbmd0aC0xXT1pZDsKCQl2YXIgY3A9JHEoJyMnK2lkKTsKCQljcC5jb2xvcnBpY2tlcmVkID0gdHJ1ZTsKCQljcC5Db2xvclBpY2tlcih7CgkJCW9uU2hvdzpmdW5jdGlvbihjcCl7JHEoY3ApLmNzcygnei1pbmRleCcsOTk5OSkuZmFkZUluKDEwMCk7cmV0dXJuIGZhbHNlO30sCgkJCW9uU3VibWl0OmZ1bmN0aW9uKGhzYixoZXgscmdiKXsKCQkJCSRxKCcjJytpZCkuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCcjJytoZXgpOwoJCQkJZXhlY0V2ZW50QmluZGVkKGlkLnN1YnN0cmluZygyLCBpZC5sZW5ndGgpLCdjaGFuZ2Vjb2xvcicse2NvbG9yOicjJytoZXh9KTsKCQkJCSRxKCcjJytpZCsnPnNwYW4nKS50ZXh0KCcjJytoZXgpOwoJCQkJJHEoJyMnK2lkKS5Db2xvclBpY2tlckhpZGVQaWNrZXIoKTsKCQkJfQoJCX0pOwoJCWNwLkNvbG9yUGlja2VyU2V0Q29sb3IoJyMnK2NwLmZpbmQoJ3NwYW4nKS50ZXh0KCkpOwoJfQp9CgpmdW5jdGlvbiB2ZG9tX3VpX2Zvcm1TdWJtaXQobykKewoJaWYgKG8uYWxyZWFkeVN1Ym1pdHRlZCA9PSB1bmRlZmluZWQpIHsKCQlvLmFscmVhZHlTdWJtaXR0ZWQgPSB0cnVlOwoJCXJldHVybiB0cnVlOwoJfQoJcmV0dXJuIGZhbHNlOwp9Cg==]]></Resource>
    <Resource ID="3e932470-0e08-446c-a866-30c00e6d812a" Name="fn_printArea" Type="js"><![CDATA[KGZ1bmN0aW9uKEIpe3ZhciBBPTA7Qi5mbi5wcmludEFyZWE9ZnVuY3Rpb24oKXt2YXIgSD1CKHRoaXMpO3ZhciBHPSJwcmludEFyZWFfIjtDKEcrQSk7QSsrO3ZhciBKPUcrQTt2YXIgRj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJJRlJBTUUiKTtCKEYpLmF0dHIoInN0eWxlIiwicG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MHB4O2hlaWdodDowcHg7bGVmdDotNTAwcHg7dG9wOi01MDBweDsiKTtCKEYpLmF0dHIoImlkIixKKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEYpO3ZhciBJPUYuY29udGVudFdpbmRvdy5kb2N1bWVudDt2YXIgRD13aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKTtmb3IodmFyIEU9MDtFPEQubGVuZ3RoO0UrKyl7aWYoRFtFXS5yZWwudG9Mb3dlckNhc2UoKT09InN0eWxlc2hlZXQiKXtJLndyaXRlKCc8bGluayB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInK0RbRV0uaHJlZisnIj48L2xpbms+Jyl9fUkud3JpdGUoJzxkaXYgY2xhc3M9IicrQihIKS5hdHRyKCJjbGFzcyIpKyciPicrQihIKS5odG1sKCkrIjwvZGl2PiIpO0kuY2xvc2UoKTtGLmNvbnRlbnRXaW5kb3cuZm9jdXMoKTtGLmNvbnRlbnRXaW5kb3cucHJpbnQoKX07dmFyIEM9ZnVuY3Rpb24oRCl7QigiaWZyYW1lIyIrRCkucmVtb3ZlKCl9fSkoalF1ZXJ5KTs=]]></Resource>
    <Resource ID="1c378464-5553-3eb4-8e12-ebcec2bbee33" Name="emptygif" Type="gif"><![CDATA[R0lGODlhAQABAKEAAPT29AAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==]]></Resource>
    <Resource ID="0b3e0dc0-6429-eb14-26d6-2d30c535b707" Name="ie_fixpng_pngfix" Type="js"><![CDATA[LyogaWZpeHBuZyBpbXByb3ZlZCAzLjEuMiAoMjAwOC8wOS8wMSkgQ29weXJpZ2h0IChjKSBLdXNoIE0uLCBZZXJldGggSmFuc2VuICovCjsoZnVuY3Rpb24oJCl7JC5pZml4cG5nPWZ1bmN0aW9uKGN1c3RvbVBpeGVsKXskLmlmaXhwbmcucGl4ZWw9Y3VzdG9tUGl4ZWw7fTsKJC5pZml4cG5nLnJlZ2V4cD17Ymc6L151cmxcKFsiJ10/KC4qXC5wbmcoWz9dLiopPylbIiddP1wpJC9pLAppbWc6Ly4qXC5wbmcoWz9dLiopPyQvaX0sCiQuaWZpeHBuZy5nZXRQaXhlbD1mdW5jdGlvbigpe3JldHVybiAkLmlmaXhwbmcucGl4ZWx8fCcvMWMzNzg0NjQtNTU1My0zZWI0LThlMTItZWJjZWMyYmJlZTMzLnJlcyc7fTsKdmFyIGhhY2s9e2Jhc2U6JCgnYmFzZScpLmF0dHIoJ2hyZWYnKSxsdGllNzokLmJyb3dzZXIubXNpZSYmJC5icm93c2VyLnZlcnNpb248NyxmaWx0ZXI6ZnVuY3Rpb24oc3JjKXtyZXR1cm4gInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKGVuYWJsZWQ9dHJ1ZSxzaXppbmdNZXRob2Q9Y3JvcCxzcmM9JyIrc3JjKyInKSI7fX07CiQuZm4uaWZpeHBuZz1oYWNrLmx0aWU3P2Z1bmN0aW9uKCl7ZnVuY3Rpb24gZml4SW1hZ2UoaW1hZ2Usc291cmNlLHdpZHRoLGhlaWdodCxoaWRkZW4pe2ltYWdlLmNzcyh7ZmlsdGVyOmhhY2suZmlsdGVyKHNvdXJjZSksd2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodH0pLmF0dHIoe3NyYzokLmlmaXhwbmcuZ2V0UGl4ZWwoKX0pLnBvc2l0aW9uRml4KCk7fQpyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICQkPSQodGhpcyk7aWYgKCQkLmlzKCdpbWcnKXx8JCQuaXMoJ2lucHV0Jykpe3ZhciBzb3VyY2UsaW1nO2lmKHRoaXMuc3JjJiZ0aGlzLnNyYy5tYXRjaCgkLmlmaXhwbmcucmVnZXhwLmltZykpe3NvdXJjZT0oaGFjay5iYXNlJiZ0aGlzLnNyYy5zdWJzdHJpbmcoMCwxKSE9Jy8nJiZ0aGlzLnNyYy5pbmRleE9mKGhhY2suYmFzZSk9PT0tMSk/aGFjay5iYXNlK3RoaXMuc3JjOnRoaXMuc3JjO2lmKCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHQpewokKG5ldyBJbWFnZSgpKS5vbmUoJ2xvYWQnLGZ1bmN0aW9uKCl7Zml4SW1hZ2UoJCQsc291cmNlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpOwokKHRoaXMpLnJlbW92ZSgpO30pLmF0dHIoJ3NyYycsc291cmNlKTt9ZWxzZSBmaXhJbWFnZSgkJCxzb3VyY2UsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7fX1lbHNlIGlmICh0aGlzLnN0eWxlKXt2YXIgaW1hZ2VTcmM9JCQuY3NzKCdiYWNrZ3JvdW5kSW1hZ2UnKTtpZihpbWFnZVNyYyYmaW1hZ2VTcmMubWF0Y2goJC5pZml4cG5nLnJlZ2V4cC5iZykmJnRoaXMuY3VycmVudFN0eWxlLmJhY2tncm91bmRSZXBlYXQ9PSduby1yZXBlYXQnKXtpbWFnZVNyYz1SZWdFeHAuJDE7dmFyIHg9dGhpcy5jdXJyZW50U3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uWHx8MCx5PXRoaXMuY3VycmVudFN0eWxlLmJhY2tncm91bmRQb3NpdGlvbll8fDA7CmlmKHh8fHkpe3ZhciBjc3M9e30saW1nO2lmKHR5cGVvZiB4IT0ndW5kZWZpbmVkJyl7aWYoeD09J2xlZnQnKWNzcy5sZWZ0PTA7IAplbHNlIGlmKHg9PSdyaWdodCcpIGNzcy5yaWdodD0kJC53aWR0aCgpJTI9PT0xPy0xOjA7ZWxzZSBjc3MubGVmdD14O30KaWYodHlwZW9mIHkhPSd1bmRlZmluZWQnKXtpZih5PT0nYm90dG9tJykgY3NzLmJvdHRvbT0kJC5oZWlnaHQoKSUyPT09MT8tMTowOyAKZWxzZSBpZih5PT0ndG9wJyljc3MudG9wPTA7ZWxzZSBjc3MudG9wPXk7fQppbWc9bmV3IEltYWdlKCk7JChpbWcpLm9uZSgnbG9hZCcsZnVuY3Rpb24oKXt2YXIgeCx5LGV4cHI9e30scHJvcDtpZigvY2VudGVyfCUvLnRlc3QoY3NzLnRvcCkpewpleHByLnRvcD0iKHRoaXMucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQtdGhpcy5vZmZzZXRIZWlnaHQpKiIrKGNzcy50b3A9PSdjZW50ZXInPzAuNToocGFyc2VJbnQoY3NzLnRvcCkvMTAwKSk7CmRlbGV0ZSBjc3MudG9wO31pZigvY2VudGVyfCUvLnRlc3QoY3NzLmxlZnQpKXtleHByLmxlZnQ9Iih0aGlzLnBhcmVudE5vZGUub2Zmc2V0V2lkdGgtdGhpcy5vZmZzZXRXaWR0aCkqIisoY3NzLmxlZnQ9PSdjZW50ZXInPzAuNToocGFyc2VJbnQoY3NzLmxlZnQpLzEwMCkpO2RlbGV0ZSBjc3MubGVmdDt9CiQkLnBvc2l0aW9uRml4KCkuY3NzKHtiYWNrZ3JvdW5kSW1hZ2U6J25vbmUnfSkucHJlcGVuZCgkKCc8ZGl2PjwvZGl2PicpLmNzcyhjc3MpLmNzcyh7d2lkdGg6dGhpcy53aWR0aCwKaGVpZ2h0OnRoaXMuaGVpZ2h0LHBvc2l0aW9uOidhYnNvbHV0ZScsZmlsdGVyOmhhY2suZmlsdGVyKGltYWdlU3JjKX0pKTsKaWYoZXhwci50b3B8fGV4cHIubGVmdCl7dmFyIGVsZW09JCQuY2hpbGRyZW4oJzpmaXJzdCcpWzBdO2Zvcihwcm9wIGluIGV4cHIpIGVsZW0uc3R5bGUuc2V0RXhwcmVzc2lvbihwcm9wLCBleHByW3Byb3BdLCdKYXZhU2NyaXB0Jyk7fSQodGhpcykucmVtb3ZlKCk7fSk7aW1nLnNyYz1pbWFnZVNyYzt9ZWxzZXskJC5jc3Moe2JhY2tncm91bmRJbWFnZTonbm9uZScsZmlsdGVyOmhhY2suZmlsdGVyKGltYWdlU3JjKX0pO319fX0pO306ZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9OyQuZm4ucG9zaXRpb25GaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICQkPSQodGhpcyk7aWYgKCQkLmNzcygncG9zaXRpb24nKSE9J2Fic29sdXRlJykgJCQuY3NzKHtwb3NpdGlvbjoncmVsYXRpdmUnfSk7fSk7fTsKfSkoalF1ZXJ5KTsKCi8qIFBORyBGaXggdjEuMiAoYykgMjAwNyBQYXVsIENhbXBiZWxsIChwYXVsamFtZXNjYW1wYmVsbC5jby51aykgKi8KKGZ1bmN0aW9uKCQpeyQuZm4ucG5nZml4PWZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBlbGVtZW50cz10aGlzO3ZhciBzZXR0aW5ncz0kLmV4dGVuZCh7aW1hZ2VGaXhTcmM6ZmFsc2Usc2l6aW5nTWV0aG9kOmZhbHNlfSxvcHRpb25zKTsKaWYoISQuYnJvd3Nlci5tc2llLyp8fCgkLmJyb3dzZXIubXNpZSYmJC5icm93c2VyLnZlcnNpb24+NykqLyl7cmV0dXJuKGVsZW1lbnRzKTt9CmZ1bmN0aW9uIHNldEZpbHRlcihlbCxwYXRoLG1vZGUpe3ZhciBmcz1lbC5hdHRyKCJmaWx0ZXJzIik7dmFyIGFscGhhPSJEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyIjtpZihmc1thbHBoYV0pe2ZzW2FscGhhXS5lbmFibGVkPXRydWU7ZnNbYWxwaGFdLnNyYz1wYXRoO2ZzW2FscGhhXS5zaXppbmdNZXRob2Q9bW9kZTt9ZWxzZXtlbC5jc3MoImZpbHRlciIsJ3Byb2dpZDonK2FscGhhKycoZW5hYmxlZD0idHJ1ZSIsc2l6aW5nTWV0aG9kPSInK21vZGUrJyIsc3JjPSInK3BhdGgrJyIpJyk7fX1mdW5jdGlvbiBzZXRET01FbGVtZW50V2lkdGgoZWwpe2lmKGVsLmNzcygid2lkdGgiKT09ImF1dG8iJmVsLmNzcygiaGVpZ2h0Iik9PSJhdXRvIil7ZWwuY3NzKCJ3aWR0aCIsZWwuYXR0cigib2Zmc2V0V2lkdGgiKSsicHgiKTt9fXJldHVybihlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGVsPSQodGhpcyk7aWYoZWwuYXR0cigidGFnTmFtZSIpLnRvVXBwZXJDYXNlKCk9PSJJTUciJiYoL1wucG5nL2kpLnRlc3QoZWwuYXR0cigic3JjIikpKXtpZighc2V0dGluZ3MuaW1hZ2VGaXhTcmMpe2VsLndyYXAoIjxzcGFuPjwvc3Bhbj4iKTt2YXIgcGFyPWVsLnBhcmVudCgpO3Bhci5jc3Moe2hlaWdodDplbC5oZWlnaHQoKSx3aWR0aDplbC53aWR0aCgpLGRpc3BsYXk6ImlubGluZS1ibG9jayJ9KTtzZXRGaWx0ZXIocGFyLGVsLmF0dHIoInNyYyIpLCJzY2FsZSIpO2VsLnJlbW92ZSgpO31lbHNlIGlmKCgvXC5naWYvaSkudGVzdChzZXR0aW5ncy5pbWFnZUZpeFNyYykpe3NldERPTUVsZW1lbnRXaWR0aChlbCk7c2V0RmlsdGVyKGVsLGVsLmF0dHIoInNyYyIpLCJpbWFnZSIpO2VsLmF0dHIoInNyYyIsc2V0dGluZ3MuaW1hZ2VGaXhTcmMpO319ZWxzZXt2YXIgYmc9bmV3IFN0cmluZyhlbC5jc3MoImJhY2tncm91bmRJbWFnZSIpKTt2YXIgbWF0Y2hlcz1iZy5tYXRjaCgvXnVybFwoIiguKikiXCkkLyk7aWYobWF0Y2hlcyYmbWF0Y2hlcy5sZW5ndGgpe3NldERPTUVsZW1lbnRXaWR0aChlbCk7ZWwuY3NzKCJiYWNrZ3JvdW5kSW1hZ2UiLCJub25lIik7dmFyIHNjPSJjcm9wIjtpZihzZXR0aW5ncy5zaXppbmdNZXRob2Qpe3NjPXNldHRpbmdzLnNpemluZ01ldGhvZDt9c2V0RmlsdGVyKGVsLG1hdGNoZXNbMV0sc2MpO2VsLmZpbmQoImEiKS5lYWNoKGZ1bmN0aW9uKCl7JCh0aGlzKS5jc3MoInBvc2l0aW9uIiwicmVsYXRpdmUiKTt9KTt9fX0pKTt9fSkoalF1ZXJ5KQo=]]></Resource>
  </Resources>
  <SourceCode><![CDATA[

import e2vdom

def on_compile(application, object, action_name, context, objects):
	result=objects
	for xobject in object.get_objects_list():
		result.append({"object": xobject})
	return result

class VDOM_htmlcontainer(VDOM_object):

	def render(self, parent, contents=""):
		if self.visible == "1":

			if "" != self.securitycode:
				code = str(session["SecurityCode"])
				redir = False
				if not code or code not in self.securitycode.split(";"):
					redir = True
				if redir and "" == self.deniedlink:
					result = "<html></html>"
					return VDOM_object.render(self, parent, contents=result)
				elif redir:
					ref_obj = application.search_object(self.deniedlink)
					ref_page = '/%s.vdom' % ref_obj.name if ref_obj else ''
					response.redirect(ref_page)

			e2vdom.process(self, parent)
			libraries, declarations, registrations=e2vdom.generate(self)
			#javascript="%s\n%s\n"%(declarations, registrations)
			javascript = """%s
			function initE2VDOM(){
			%s
			};initE2VDOM();
			"""%(declarations, registrations)

			clean_id = (application.id).replace('-', '_')

			style=self.style
			style += " margin: 0 auto;"

			if self.bgcolor:
				style += " background-color: #%s;"%(self.bgcolor)
			style += " color: #%s; font-family: Tahoma; font-size: 12px;"%(self.textcolor)
			if self.image:
				style += " background-image: url('/%s.res'); background-repeat: %s;"%(self.image, self.bgrepeat)

			style2 = ""
			if self.linkcolor:
				style2 += " link=\"#" + self.linkcolor + "\""
			if self.activelinkcolor:
				style2 += " alink=\"#" + self.activelinkcolor + "\""
			if self.visitedlinkcolor:
				style2 += " vlink=\"#" + self.visitedlinkcolor + "\""
			metas = ""
			if self.metadescription:
				metas += '<meta name="description" content="%s" />\n' % self.metadescription
			if self.metakeywords:
				metas += '<meta name="keywords" content="%s" />\n' % self.metakeywords

			jqui = ""
			if self.jqui == "1":
				jqui = "<script type=\"text/javascript\" src=\"/b67cfe82-a508-63ba-37ca-6c27d82c5112.res?v=1810\"></script>"

			if self.testClasses == "":
				testClasses = "<script type='text/javascript' src='/1b055baa-6376-4582-b527-1ee364c19e88.res?v20110802'></script>"
			else:
				testClasses = self.testClasses

			if self.testFunc == "":
				testFunc = "<script type='text/javascript' src='/3ef16f3c-9863-9597-f341-8f9913c99c11.res?v20110322'></script>"
			else:
				testFunc = self.testFunc

			if self.cssclass == "":
				cssclass = ""
			else:
				cssclass = ' class="%s" ' % self.cssclass

			if self.position == "center":
				centr = "1"
			else:
				centr = "0"

			if self.noscript != "":
				noscript="<noscript>"+self.noscript+"</noscript>"
			else:
				noscript=""

			css='<style type="text/css">\n%s\n</style>'%self.css
			doctype="""<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">"""

			result="%(doctype)s\n"\
				"<html xmlns=\"http://www.w3.org/1999/xhtml\">\n"\
				"<head>\n"\
				"<title>%(title)s</title>\n"\
				"<meta http-equiv=\"Content-Type\" content=\"text/html;charset=UTF-8\" />\n"\
				"%(metas)s"\
				"<script type=\"text/javascript\">\n"\
				"var APPLICATION_ID=\"%(application)s\";\n"\
				"var SESSION_ID=\"%(session)s\";\n"\
				"var SERVER_URL=\"/e2vdom.py\";\n"\
				"</script>\n"\
				"<script type=\"text/javascript\" src=\"/113513d0-ebae-42c4-9bdf-44ebf7828910.res?v=152\"></script>\n"\
				"%(jqui)s"\
				"%(testFunc)s\n"\
				"<script type=\"text/javascript\" src=\"/3e932470-0e08-446c-a866-30c00e6d812a.res\"></script>\n"\
				"%(testClasses)s\n"\
				"%(pagestyle)s"\
				"%(libraries)s"\
				"</head>\n"\
				"<body style=\"%(style)s;\" %(style2)s %(cssclass)s >\n"\
				"%(noscript)s"\
				"<div id='container'>\n"\
				"%(contents)s\n"\
				"<script type=\"text/javascript\">\n%(javascript)s</script>\n"\
				"</div>\n"\
				"<!--[if lt IE 7]>\n<script type=\"text/javascript\" src=\"/0b3e0dc0-6429-eb14-26d6-2d30c535b707.res\"></script>\n"\
				"<script type=\"text/javascript\">jQuery(document).ready(function($){$(\'img,input\').ifixpng();});</script>\n<![endif]-->\n"\
				"<script type=\"text/javascript\">hchInit(%(centr)s,'#%(bgcolor)s');</script>\n"\
				"</body>\n"\
				"</html>"%\
				{"doctype": doctype, "testClasses": testClasses, "testFunc": testFunc, "jqui": jqui, "clean_id": clean_id,
				"application": application.id, "title": self.title, "session": session.id, "metas": metas,
				"noscript": noscript, "style": style,
				"javascript": javascript, "style2": style2, "cssclass": cssclass,
				"libraries": libraries, "contents": contents, "bgcolor": self.bgcolor, "centr": centr, "pagestyle": css}
		else:
			result="<html></html>"

		return VDOM_object.render(self, parent, contents=result)


	def wysiwyg(self, parent, contents=""):
		result="<container id=\"%s\" visible=\"%s\" zindex=\"%s\" hierarchy=\"%s\" order=\"%s\" backgroundcolor=\"#%s\" backgroundimage=\"%s\" backgroundrepeat=\"%s\" >%s</container>"%(
			self.id, self.visible, self.zindex, self.hierarchy, self.order, self.bgcolor, self.image, self.bgrepeat, contents)
		return VDOM_object.wysiwyg(self, parent, contents=result)

		]]></SourceCode>
  <Libraries/>
  <E2vdom>
    <Events>
      <Userinterfaceevents>
        <Event Name="mousemove">
          <Parameters>
            <Parameter Name="X" Order="" VbType="" Help="#Lang(901)"/>
            <Parameter Name="Y" Order="" VbType="" Help="#Lang(902)"/>
          </Parameters>
        </Event>
        <Event Name="mousedown">
          <Parameters>
            <Parameter Name="X" Order="" VbType="" Help="#Lang(903)"/>
            <Parameter Name="Y" Order="" VbType="" Help="#Lang(904)"/>
          </Parameters>
        </Event>
        <Event Name="mouseup">
          <Parameters>
            <Parameter Name="X" Order="" VbType="" Help="#Lang(905)"/>
            <Parameter Name="Y" Order="" VbType="" Help="#Lang(906)"/>
          </Parameters>
        </Event>
        <Event Name="mouseover">
          <Parameters>
            <Parameter Name="X" Order="" VbType="" Help="#Lang(907)"/>
            <Parameter Name="Y" Order="" VbType="" Help="#Lang(908)"/>
          </Parameters>
        </Event>
        <Event Name="mouseout">
          <Parameters>
            <Parameter Name="X" Order="" VbType="" Help="#Lang(909)"/>
            <Parameter Name="Y" Order="" VbType="" Help="#Lang(911)"/>
          </Parameters>
        </Event>
        <Event Name="click">
          <Parameters>
            <Parameter Name="X" Order="" VbType="" Help="#Lang(912)"/>
            <Parameter Name="Y" Order="" VbType="" Help="#Lang(913)"/>
          </Parameters>
        </Event>
        <Event Name="dblclick">
          <Parameters>
            <Parameter Name="X" Order="" VbType="" Help="#Lang(914)"/>
            <Parameter Name="Y" Order="" VbType="" Help="#Lang(915)"/>
          </Parameters>
        </Event>
        <Event Name="ctrlclick">
          <Parameters>
            <Parameter Name="X" Order="" VbType="" Help="#Lang(916)"/>
            <Parameter Name="Y" Order="" VbType="" Help="#Lang(917)"/>
          </Parameters>
        </Event>
        <Event Name="erroreventengine">
          <Parameters>
            <Parameter Name="msg" Order="" VbType="" Help="#Lang(918)"/>
          </Parameters>
        </Event>
      </Userinterfaceevents>
    </Events>
    <Actions>
      <Container ID="2330fe83-8cd6-4ed5-907d-11874e7ebcf4">
        <Action Description="#Lang(501)" InterfaceName="#Lang(601)" MethodName="hide">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(701)" ScriptName="fade" Help="#Lang(801)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
vdom_ui_hide(this.domCont, fade);
					]]></SourceCode>
        </Action>
        <Action Description="#Lang(502)" InterfaceName="#Lang(602)" MethodName="show">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(702)" ScriptName="fade" Help="#Lang(802)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
vdom_ui_show(this.domCont, fade);
					]]></SourceCode>
        </Action>
        <Action Description="#Lang(503)" InterfaceName="#Lang(603)" MethodName="moveZindexTo">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(703)" ScriptName="newZindex" Help="#Lang(803)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
this.domCont.style.zindex = parseInt(newZindex);
					]]></SourceCode>
        </Action>
        <Action Description="#Lang(504)" InterfaceName="#Lang(604)" MethodName="moveTo">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(704)" ScriptName="newX" Help="#Lang(804)" RegularExpressionValidation=".*"/>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(705)" ScriptName="newY" Help="#Lang(805)" RegularExpressionValidation=".*"/>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(706)" ScriptName="Effect" Help="#Lang(806)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
vdom_ui_moveTo(this.domCont, newX, newY, Effect);
					]]></SourceCode>
        </Action>
        <Action Description="#Lang(505)" InterfaceName="#Lang(605)" MethodName="loadHTML">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(707)" ScriptName="value" Help="#Lang(807)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
jQuery(this.domCont).html(value);
					]]></SourceCode>
        </Action>
        <Action Description="#Lang(506)" InterfaceName="#Lang(606)" MethodName="addHTML">
          <Parameters>
            <Parameter DefaultValue="0" Interface="" InterfaceName="#Lang(708)" ScriptName="value" Help="#Lang(808)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
vdom_ui_addHTML(this.domCont, value);
					]]></SourceCode>
        </Action>
        <Action Description="#Lang(507)" InterfaceName="#Lang(607)" MethodName="changeCursor">
          <Parameters>
            <Parameter DefaultValue="" Interface="" InterfaceName="#Lang(709)" ScriptName="cursorType" Help="#Lang(809)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
this.domCont.style.cursor = cursorType;
					]]></SourceCode>
        </Action>
        <Action Description="#Lang(508)" InterfaceName="#Lang(608)" MethodName="goTo">
          <Parameters>
            <Parameter DefaultValue="" Interface="" InterfaceName="#Lang(711)" ScriptName="url" Help="#Lang(811)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
document.location.href=url; return false;
					]]></SourceCode>
        </Action>
        <Action Description="#Lang(509)" InterfaceName="#Lang(609)" MethodName="consoleMessage">
          <Parameters>
            <Parameter DefaultValue="" Interface="" InterfaceName="#Lang(712)" ScriptName="msg" Help="#Lang(812)" RegularExpressionValidation=".*"/>
          </Parameters>
          <SourceCode><![CDATA[
console.info(msg);
					]]></SourceCode>
        </Action>
      </Container>
    </Actions>
  </E2vdom>
</Type>